{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./lib/utils/each.js","webpack:///./lib/utils/copy-to-clipboard.js","webpack:///external \"d3\"","webpack:///./lib/utils/pretty-number.js","webpack:///./lib/utils/escape-html.js","webpack:///./lib/utils/extend.js","webpack:///./lib/utils/svg-text-wrap.js","webpack:///(webpack)/buildin/global.js","webpack:///./lib/dataset/modifiers/append.js","webpack:///./lib/dataset/utils/create-null-list.js","webpack:///external \"c3\"","webpack:///./lib/utils/assert-date-string.js","webpack:///./lib/dataset/index.js","webpack:///./lib/dataset/utils/analyses.js","webpack:///./lib/dataset/utils/flatten.js","webpack:///./lib/utils/strip-html-tags.js","webpack:///./lib/utils/extend-deep.js","webpack:///./lib/utils/render-download-btn.js","webpack:///./lib/utils/export-svg.js","webpack:///./lib/utils/export-data.js","webpack:///./node_modules/rangeable/dist/rangeable.min.js","webpack:///./lib/browser.js","webpack:///./lib/index.js","webpack:///./lib/dataset/modifiers/delete.js","webpack:///./lib/dataset/modifiers/filter.js","webpack:///./lib/dataset/modifiers/insert.js","webpack:///./lib/dataset/modifiers/select.js","webpack:///./lib/dataset/modifiers/sort.js","webpack:///./lib/dataset/modifiers/update.js","webpack:///./lib/dataset/utils/parsers.js","webpack:///./lib/dataset/utils/object.js","webpack:///./lib/dataset/utils/create-extraction-keys.js","webpack:///./lib/data.js","webpack:///./lib/libraries/index.js","webpack:///./lib/libraries/c3/extensions/default-date-format.js","webpack:///./lib/libraries/c3/extensions/paginating-legend.js","webpack:///./lib/dataset/utils/calculate-range.js","webpack:///./lib/dataset/utils/calculate-percents.js","webpack:///./lib/libraries/default/message.js","webpack:///./lib/utils/download-results.js","webpack:///./node_modules/dom-to-image/src/dom-to-image.js","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./lib/libraries/default/metric.js","webpack:///./lib/libraries/default/table.js","webpack:///./lib/libraries/default/spinner.js","webpack:///./lib/libraries/default/funnel.js","webpack:///./lib/libraries/default/funnel-3d.js","webpack:///./lib/libraries/default/horizontal-funnel.js","webpack:///./lib/libraries/default/horizontal-funnel-3d.js","webpack:///./lib/libraries/default/metric-combo.js","webpack:///./lib/libraries/default/heatmap.js","webpack:///./lib/libraries/default/choropleth.js","webpack:///./lib/utils/render-execution-metadata.js","webpack:///./lib/palettes/index.js","webpack:///./lib/palettes/autocollector.js","webpack:///./lib/palettes/modern.js","webpack:///./lib/palettes/dracula.js","webpack:///./lib/libraries/c3/extensions/tooltip-contents.js"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__10__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","each","cb","Array","length","event","placeholder","document","createElement","body","appendChild","select","execCommand","removeChild","notification","style","padding","backgroundColor","fontSize","position","top","pageY","left","pageX","zIndex","opacity","transition","innerText","addEventListener","e","tooltip","stickTooltip","setTimeout","prettyNumber","input","sciNo","Number","toPrecision","prefix","suffixes","String","Math","abs","recurse","iteration","split","rhs","charAt","numNumerals","escapeHtml","string","escape","str","match","matchHtmlRegExp","exec","html","index","lastIndex","charCodeAt","substring","extend","target","arguments","prop","textWrap","text","width","d3","this","words","reverse","word","line","lineNumber","x","attr","y","tspan","append","dy","pop","push","join","node","getComputedTextLength","g","Function","appendColumn","appendRow","self","label","slice","undefined","matrix","row","cell","concat","newRow","col","selectColumn","len","list","testObject","getTime","isNaN","testString","test","del","filter","insert","sort","update","Dataset","config","meta","type","data","arr","set","coords","Error","colIndex","indexOf","rowIndex","colResult","rowResult","selectRow","analyses","parser","average","start","end","sum","val","parseFloat","maximum","nums","max","apply","minimum","min","getColumnAverage","getRowAverage","getColumnSum","getRowSum","getColumnMaximum","getRowMaximum","getColumnMinimum","getRowMinimum","getColumnLabel","getRowIndex","flatten","ob","toReturn","flatObject","stripHtmlTags","inputString","replace","extendDeep","element","btnClass","isBtnRendered","parentNode","children","find","child","className","button","insertBefore","nextSibling","obj","quality","bgcolor","domtoimage","toBlob","then","blob","saveAs","supportedFormats","format","toLowerCase","includes","fileFormat","content","encodeURIComponent","JSON","stringify","csvContent","forEach","j","generateCsvContent","htmlElement","setAttribute","fileName","click","q","global","u","classList","add","v","plugins","querySelector","assign","tooltips","updateThrottle","formatTooltip","classes","container","vertical","progress","handle","track","multiple","disabled","visible","mouseAxis","trackSize","trackPos","lastPos","double","isArray","touch","DocumentTouch","version","init","onInit","rangeable","step","axis","values","defaultValues","defaultValue","render","initialised","w","z","tabIndex","A","C","D","controls","locked","size","nodes","buffer","B","E","limits","setLimits","reset","setValue","onEnd","setValueFromPosition","getLimits","touches","rects","contains","ceil","startValue","activeHandle","limit","preventDefault","getValue","onStart","recalculate","getHandle","events","move","stop","stopValue","remove","removeEventListener","dispatchEvent","Event","keydown","stepUp","stepDown","activeElement","toFixed","accuracy","getBoundingClientRect","nativeEvent","textContent","right","bottom","toggle","setPosition","onChange","native","getPosition","closest","enable","disable","removeAttribute","scroll","resize","form","unbind","destroy","replaceChild","Dataviz","extendKeenGlobalObject","env","KeenDataviz","KeenDataset","Keen","keenGlobals","webpackKeenGlobals","options","c3","defaultOptions","showDeprecationWarnings","showLoadingSpinner","containerElement","title","showTitle","subtitle","notes","theme","colors","colorMapping","ui","executionMetadata","utils","clickToCopyToClipboard","indexBy","labels","labelMapping","labelMappingRegExp","errorMapping","showErrorMessages","library","sortGroups","sortIntervals","results","stacked","dateFormat","legend","show","alignment","textMaxLength","pagination","offset","pointer","color","point","focus","expand","enabled","sensitivity","horizontal","contents","c3TooltipContents","order","selection","draggable","onselected","view","_artifacts","selected","reduce","prev","curr","grid","partialIntervalIndicator","timezone","table","schema","renderOnVisible","funnel","lines","resultValues","percents","countingMethod","decimals","marginBetweenElements","hover","effect3d","minimalSize","react","range","sparkline","choropleth","map","borders","showSlider","heatmap","palette","palettes","console","log","convertChartTypes","stacking","el","pattern","dataset","_prepared","_rendered","visuals","prepare","firstVisibilityState","visibilityState","callback","setLabels","datavizInstance","updateRow","updateColumn","mapLabelsExec","valueAfterMatching","regExpAndLabel","mapLabels","labelMappingDimension","sortColumns","sortRows","buildDomWrapper","chart100percentWide","rangeChart","align","legendItemsAlign","innerHTML","areachart","barchart","columnchart","linechart","piechart","domReady","fn","readyState","DOMContentLoaded","testDom","libraries","default","register","actions","method","nodeName","visual","attributes","chartOptions","height","num","message","loader","spinner","firstResult","query","interval","timeframe","timeframes","resultItem","resultTimeframe","timeframeItem","msg","error","deleteColumn","result","event_collection","analysis_type","ds2","keys","returnValue","renderAsPromise","Promise","resolve","reject","customCallback","onrendered","shouldRenderExecutionMetadata","execution_metadata","shouldRenderDownloadBtn","buttons","download","mappedMsg","IntersectionObserver","chartVisibleCallback","observer","isIntersecting","observe","hidden","visibilityChange","msHidden","webkitHidden","handleVisibilityChange","load","once","bool","exportImage","exportData","chartType","parseRawData","parseRequest","initialize","pkg","splice","deleteRow","filterColumns","clone","selectedColumn","ri","filterRows","insertColumn","insertRow","comp","head","cols","analysesUtilMethods","b","op","lib","parsers","metric","res","record","group","rowLabel","steps","extraction","datasetExtraction","datasetKeys","createExtractionKeys","names","from","tableConfig","resultKeys","keyName","columns","iNames","valueAtDeepKey","heatmapDataset","objKeys","is","Set","parseResponse","response","parserArgs","metadata","filters","group_by","display_name","analysis","toUpperCase","getDefaultTitle","visualization","chart_type","getDefaultType","selectedParser","Date","timer","onresize","attachEvent","bindResizeListener","clearTimeout","delay","chart","c3Chart","parentWidth","offsetWidth","nextSiblingWidth","previousSibling","types","Funnel","Funnel3d","HorizontalFunnel","HorizontalFunnel3d","MetricCombo","Heatmap","Choropleth","getPaddings","paddingName","parseInt","getComputedStyle","getDefaultOptions","ENFORCED_OPTIONS","bindto","renderingElement","offsetHeight","titleElement","subtitleElement","notesElement","DEFAULT_OPTIONS","sumArray","calculateSumForPercents","calculatePercents","tick","clearOnRender","spliceFrom","removeLegend","rotated","culling","groups","categories","legendElement","partialResultsRegion","class","regions","ratio","id","valueFormatted","c3CustomTooltipFiltering","c3options","c3CustomDataMapping","hide","generate","c3PaginatingLegend","onLegendRendered","onPaginated","flush","defineC3","scope","startDate","endDate","timeDiff","months","ms","date","getMonth","getFullYear","getDate","domNode","legendConfig","round","total","dataColumnsSorted","column","columnData","item","paginateHorizontalLeftElement","legendItemsElement","paginateVerticalElement","paginateHorizontalRightElement","paginateData","renderLegendComponent","renderPaginationComponent","labelShortened","legendItem","chartPartId","legendItemColorSample","prepend","tooltipElement","revert","isHidden","arrowUp","arrowDown","paginate","direction","diff","floor","clearSelectedText","empty","getSelection","removeAllRanges","outer","inner","titleContainer","subtitleContainer","notesContainer","currentTarget","previousElementSibling","util","parseExtension","mimeType","url","extension","WOFF","dataAsUrl","isDataUrl","search","canvasToBlob","canvas","binaryString","atob","toDataURL","binaryArray","Uint8Array","Blob","resolveUrl","baseUrl","doc","implementation","createHTMLDocument","base","href","getAndEncode","impl","cacheBust","request","XMLHttpRequest","onreadystatechange","status","fail","encoder","FileReader","onloadend","readAsDataURL","ontimeout","responseType","timeout","open","send","imagePlaceholder","uid","random","pow","toString","arg","asArray","arrayLike","array","escapeXhtml","makeImage","uri","image","Image","onload","onerror","src","leftBorder","px","rightBorder","scrollWidth","topBorder","bottomBorder","scrollHeight","styleProperty","getPropertyValue","newUtil","inliner","URL_REGEX","inlineAll","shouldProcess","nothingToInline","readUrls","urls","done","inline","dataUrl","RegExp","urlAsRegex","newInliner","fontFaces","resolveAll","readAll","webFonts","all","webFont","cssStrings","styleSheets","cssRules","sheet","rule","CSSRule","FONT_FACE_RULE","rules","newWebFont","webFontRule","parentStyleSheet","cssText","newFontFaces","images","Element","background","inlined","setProperty","getPropertyPriority","inlineBackground","HTMLImageElement","newImage","childNodes","newImages","toSvg","toPng","draw","toJpeg","toPixelData","getContext","getImageData","copyOptions","cloneNode","HTMLCanvasElement","cloneChildren","original","cloneStyle","clonePseudoElements","copyUserInput","fixSvg","source","copyProperties","styleElement","selector","formatCssText","formatCssProperties","createTextNode","formatPseudoElementStyle","clonePseudoElement","HTMLTextAreaElement","HTMLInputElement","SVGElement","SVGRectElement","attribute","getAttribute","processClone","cloneChildrenInOrder","parent","childClone","embedFonts","inlineImages","XMLSerializer","serializeToString","xhtml","foreignObject","svg","makeSvgDataUri","ctx","fillStyle","fillRect","newCanvas","drawImage","styleNode","MouseEvent","createEvent","initMouseEvent","f","navigator","userAgent","HTMLAnchorElement","h","URL","webkitURL","rel","origin","location","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","HTMLElement","safari","k","opts","prevValue","suffix","formattedNum","flexDifferenceStyle","resultDifference","differenceStyle","smallerValue","previousResults","isExtraction","comparedProp","formattedResult","itemProp","acc","formatExtractionData","resultClassName","previousResultsClassName","currentPage","_generateTableRows","customConfig","page","arrows","datasetPaginated","pages","columnsArray","colNamesToMap","mapValues","mapDates","entries","rowColValue","rowColValueEscaped","pageNumber","prevPage","nextPage","fieldNumber","columnNames","colName","colNameEscaped","_generateTableHeader","querySelectorAll","sortOrder","first","shift","sortOrderNumber","nameA","nameB","unshift","attachBtnEventListeners","btn","tableClass","clearInterval","radius","marginBetweenSteps","margin","yMarginElement","funnelContainer","svgWidth","svgHeight","elemHeight","prevElemWidth","percent","minimalSizeStep","polygons","newPoints","points","selectAll","enter","handleMouseOver","polygonsHover","labelHover","thisLabel","handleMouseOut","on","shadowCut","polygonsShadows","polygons3d","rgb","darker","xMarginElement","elemWidth","prevElemHeight","metricResults","prevResult","previous","count","current","percentDifference","labelClass","iconClass","containerTitle","containerSubtitle","chartRoot","currentCount","timeFormat","simpleTooltip","heatmapContainer","containerWidth","containerHeight","chartContainer","xLabel","yLabel","formattedData","timestamp","parse","refValue","minRange","maxRange","getColor","baseColor","getColorAlpha","scaleLinear","domain","getTileColor","alpha","solidColor","bg","convertRGBAtoRGB","Rangeable","handleSliderChange","containerToString","customStyle","scriptRef","getAxisLabelRatio","labelSize","xAxis","scaleBand","axisBottom","tickSize","yAxis","axisLeft","chartTooltip","bandwidth","raise","tooltipContent","clientX","clientY","choroplethContainer","heightChanges","onlyValues","minVal","maxVal","lightColor","hsl","brighter","darkColor","ramp","json","zoom","scaleExtent","translateExtent","elementName","transform","projection","geoMercator","fitSize","geoAlbersUsa","scale","path","geoPath","usData","features","theOne","properties","dataList","dt","handleCopyToClipboard","dd","removeClassWithTimeOut","autocollector","modern","dracula","defaultTitleFormat","defaultValueFormat","nameFormat","tooltip_format_name","titleFormat","tooltip_format_title","valueFormat","tooltip_format_value","CLASS","levelColor","tooltipName"],"mappings":"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","file":"keen-dataviz.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"), require(\"c3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\", \"c3\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"d3\"), require(\"c3\")) : factory(root[\"d3\"], root[\"c3\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__10__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","export function each(o, cb, s) {\n  var n;\n  if (!o) {\n    return 0;\n  }\n  s = !s ? o : s;\n  if (o instanceof Array) {\n    // Indexed arrays, needed for Safari\n    for (n = 0; n < o.length; n++) {\n      if (cb.call(s, o[n], n, o) === false) {\n        return 0;\n      }\n    }\n  } else {\n    // Hashtables\n    for (n in o) {\n      if (o.hasOwnProperty(n)) {\n        if (cb.call(s, o[n], n, o) === false){\n          return 0;\n        }\n      }\n    }\n  }\n  return 1;\n}\n","function stickTooltip(event, tooltip) {\n  tooltip.style.opacity = 0;\n  tooltip.style.top = `${event.pageY}px`;\n  tooltip.style.left = `${event.pageX + 10}px`;\n}\n\nexport default function copyToClipboard(value, event) {\n  const placeholder = document.createElement('input');\n  placeholder.value = value;\n  document.body.appendChild(placeholder);\n  placeholder.select();\n  document.execCommand('copy');\n  document.body.removeChild(placeholder);\n\n  if (event) {\n    const notification = document.createElement('div');\n    notification.style.padding = '5px 10px';\n    notification.style.backgroundColor = '#ffffff';\n    notification.style.fontSize = '12px';\n    notification.style.position = 'absolute';\n    notification.style.top = `${event.pageY}px`;\n    notification.style.left = `${event.pageX + 10}px`;\n    notification.style.zIndex = '999';\n    notification.style.opacity = 1;\n    notification.style.transition = 'opacity 1s ease';\n    notification.innerText = 'copied!';\n\n    document.body.appendChild(notification);\n    document.addEventListener('mousemove', e => stickTooltip(e, notification));\n\n    setTimeout(() => {\n      notification.style.opacity = 1;\n      document.body.removeChild(notification);\n    }, 1000);\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","export function prettyNumber(input) {\n  // If it has 3 or fewer sig figs already, just return the number.\n  var input = Number(input),\n      sciNo = input.toPrecision(3),\n      prefix = '',\n      suffixes = ['', 'k', 'M', 'B', 'T'];\n\n  if (Number(sciNo) == input && String(input).length <= 4) {\n    return String(input);\n  }\n\n  if (Math.abs(input) >= 1000000000000000) {\n    return sciNo;\n  }\n\n  if (input >= 1 || input <= -1) {\n    if (input < 0){\n      //Pull off the negative side and stash that.\n      input = -input;\n      prefix = '-';\n    }\n    return prefix + recurse(input, 0);\n  }\n  else {\n    return input.toPrecision(3);\n  }\n\n  function recurse(input, iteration) {\n    var input = String(input);\n    var split = input.split('.');\n    // If there's a dot\n    if (split.length > 1) {\n      // Keep the left hand side only\n      input = split[0];\n      var rhs = split[1];\n      // If the left-hand side is too short, pad until it has 3 digits\n      if (input.length == 2 && rhs.length > 0) {\n        // Pad with right-hand side if possible\n        if (rhs.length > 0) {\n          input = input + '.' + rhs.charAt(0);\n        }\n        // Pad with zeroes if you must\n        else {\n          input += '0';\n        }\n      }\n      else if (input.length == 1 && rhs.length > 0) {\n        input = input + '.' + rhs.charAt(0);\n        // Pad with right-hand side if possible\n        if (rhs.length > 1) {\n          input += rhs.charAt(1);\n        }\n        // Pad with zeroes if you must\n        else {\n          input += '0';\n        }\n      }\n    }\n    var numNumerals = input.length;\n    // if it has a period, then numNumerals is 1 smaller than the string length:\n    if (input.split('.').length > 1) {\n      numNumerals--;\n    }\n    if (numNumerals <= 3) {\n      return String(input) + suffixes[iteration];\n    }\n    else {\n      return recurse(Number(input) / 1000, iteration + 1);\n    }\n  }\n}\n","const matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nexport function escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","export function extend(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var prop in arguments[i]){\n      target[prop] = arguments[i][prop];\n    }\n  }\n  return target;\n}\n","import * as d3 from 'd3';\n\nexport function textWrap(text, width) {\n  text.each(function () {\n    let text = d3.select(this),\n        words = text.text().split(/\\s+/).reverse(),\n        word,\n        line = [],\n        lineNumber = 0,\n        lineHeight = 1.1, // ems\n        x = text.attr(\"x\"),\n        y = text.attr(\"y\"),\n        dy = 0, //parseFloat(text.attr(\"dy\")),\n        tspan = text.text(null)\n                    .append(\"tspan\")\n                    .attr(\"x\", x)\n                    .attr(\"y\", y)\n                    .attr(\"dy\", dy + \"em\");\n    while (word = words.pop()) {\n        line.push(word);\n        tspan.text(line.join(\" \"));\n        if (tspan.node().getComputedTextLength() > width) {\n            line.pop();\n            tspan.text(line.join(\" \"));\n            line = [word];\n            tspan = text.append(\"tspan\")\n                        .attr(\"x\", x)\n                        .attr(\"y\", y)\n                        .attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\")\n                        .text(word);\n        }\n    }\n  });\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import createNullList from '../utils/create-null-list';\nimport { each } from '../../utils/each';\n\nexport function appendColumn(str, input) {\n  const self = this;\n  const args = Array.prototype.slice.call(arguments, 2);\n  const label = (str !== undefined) ? str : null;\n\n  if (typeof input === 'function') {\n    self.matrix[0].push(label);\n    each(self.matrix, function(row, i) {\n      let cell;\n      if (i > 0) {\n        cell = input.call(self, row, i);\n        if (typeof cell === 'undefined') {\n          cell = null;\n        }\n        self.matrix[i].push(cell);\n      }\n    });\n  }\n\n  else if (!input || input instanceof Array) {\n    input = input || [];\n\n    if (input.length <= self.matrix.length - 1) {\n      input = input.concat(createNullList(self.matrix.length - 1 - input.length));\n    }\n    else {\n      // If this new column is longer than existing columns,\n      // we need to update the rest to match ...\n      each(input, function(value, i){\n        if (self.matrix.length -1 < input.length) {\n          appendRow.call(self, String(self.matrix.length));\n        }\n      });\n    }\n\n    self.matrix[0].push(label);\n    each(input, function(value, i){\n      self.matrix[i+1][self.matrix[0].length-1] = value;\n    });\n\n  }\n\n  return self;\n}\n\nexport function appendRow(str, input) {\n  const self = this;\n  const args = Array.prototype.slice.call(arguments, 2);\n  const label = (str !== undefined) ? str : null;\n  const newRow = [];\n\n  newRow.push(label);\n\n  if (typeof input === 'function') {\n    each(self.matrix[0], function(label, i){\n      let col;\n      let cell;\n      if (i > 0) {\n        col = self.selectColumn(i);\n        cell = input.call(self, col, i);\n        if (typeof cell === 'undefined') {\n          cell = null;\n        }\n        newRow.push(cell);\n      }\n    });\n    self.matrix.push(newRow);\n  }\n\n  else if (!input || input instanceof Array) {\n    input = input || [];\n\n    if (input.length <= self.matrix[0].length - 1) {\n      input = input.concat( createNullList( self.matrix[0].length - 1 - input.length ) );\n    }\n    else {\n      each(input, function(value, i){\n        if (self.matrix[0].length -1 < input.length) {\n          appendColumn.call(self, String( self.matrix[0].length));\n        }\n      });\n    }\n\n    self.matrix.push(newRow.concat(input));\n  }\n\n  return self;\n}\n","export default function (len) {\n  const list = [];\n  for (let i = 0; i < len; i++) {\n    list.push(null);\n  }\n  return list;\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","export function testObject(input) {\n  if (input !== null && typeof input.getTime === 'function' && !isNaN(input.getTime())) {\n    return true;\n  }\n  return false;\n}\n\nexport function testString(input) {\n  const ISO_8601 = /^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(\\.\\d+)?(([+-]\\d\\d:\\d\\d)|Z)?$/i;\n  return ISO_8601.test(input);\n}\n\nexport default function (input) {\n  if (typeof input === 'object') {\n    return testObject(input);\n  } else if (typeof input === 'string') {\n    return testString(input);\n  }\n  return false;\n}\n","// Modifiers\nimport * as append from './modifiers/append';\nimport * as del from './modifiers/delete';\nimport * as filter from './modifiers/filter';\nimport * as insert from './modifiers/insert';\nimport * as select from './modifiers/select';\nimport * as sort from './modifiers/sort';\nimport * as update from './modifiers/update';\n\n// Utils\nimport analyses from './utils/analyses';\nimport { extend } from '../utils/extend';\nimport parsers from './utils/parsers';\n\nexport const Dataset = function (config = {}) {\n  if (this instanceof Dataset === false) {\n    return new Dataset(config);\n  }\n\n  this.matrix = [\n    ['Index']\n  ];\n  this.meta = {\n    type: undefined\n  };\n  this.config = config;\n}\n\nDataset.prototype.data = function (arr) {\n  if (!arguments.length) return this.matrix;\n  this.matrix = (arr instanceof Array ? arr : null);\n  return this;\n};\n\nDataset.prototype.set = function (coords, value) {\n  if (arguments.length < 2 || coords.length < 2) {\n    throw Error('Incorrect arguments provided for #set method');\n  }\n\n  var colIndex = 'number' === typeof coords[0] ? coords[0] : this.matrix[0].indexOf(coords[0]),\n      rowIndex = 'number' === typeof coords[1] ? coords[1] : select.selectColumn.call(this, 0).indexOf(coords[1]);\n\n  var colResult = select.selectColumn.call(this, coords[0]),\n      rowResult = select.selectRow.call(this, coords[1]);\n\n  // Column doesn't exist, create and reset colIndex\n  if (colResult.length < 1) {\n    append.appendColumn.call(this, String(coords[0]));\n    colIndex = this.matrix[0].length - 1;\n  }\n\n  // Row doesn't exist, create and reset rowIndex\n  if (rowResult.length < 1) {\n    append.appendRow.call(this, String(coords[1]));\n    rowIndex = this.matrix.length - 1;\n  }\n\n  // Set provided value\n  this.matrix[ rowIndex ][ colIndex ] = value;\n  return this;\n};\n\nDataset.prototype.type = function(str){\n  if (!arguments.length) return this.meta['type'];\n  this.meta['type'] = (str ? String(str) : undefined);\n  return this;\n};\n\nextend(Dataset.prototype, append);\nextend(Dataset.prototype, del);\nextend(Dataset.prototype, filter);\nextend(Dataset.prototype, insert);\nextend(Dataset.prototype, select);\nextend(Dataset.prototype, sort);\nextend(Dataset.prototype, update);\nextend(Dataset.prototype, analyses);\nDataset.parser = parsers(Dataset);\n\nexport default Dataset;\n","import { each } from '../../utils/each';\nimport { extend } from '../../utils/extend';\n\nfunction average(arr, start, end){\n  var set = arr.slice(start||0, (end ? end+1 : arr.length)),\n      sum = 0,\n      avg = null;\n\n  // Add numeric values\n  each(set, function(val, i){\n    if (typeof val === 'number' && !isNaN(parseFloat(val))) {\n      sum += parseFloat(val);\n    }\n  });\n  return sum / set.length;\n}\n\nfunction maximum(arr, start, end){\n  var set = arr.slice(start||0, (end ? end+1 : arr.length)),\n      nums = [];\n\n  // Pull numeric values\n  each(set, function(val, i){\n    if (typeof val === 'number' && !isNaN(parseFloat(val))) {\n      nums.push(parseFloat(val));\n    }\n  });\n  return Math.max.apply(Math, nums);\n}\n\nfunction minimum(arr, start, end){\n  var set = arr.slice(start||0, (end ? end+1 : arr.length)),\n      nums = [];\n\n  // Pull numeric values\n  each(set, function(val, i){\n    if (typeof val === 'number' && !isNaN(parseFloat(val))) {\n      nums.push(parseFloat(val));\n    }\n  });\n  return Math.min.apply(Math, nums);\n}\n\nfunction sum(arr, start, end){\n  // Copy set with given range\n  var set = arr.slice(start||0, (end ? end+1 : arr.length)),\n      sum = 0;\n\n  // Add numeric values\n  each(set, function(val, i){\n    if (typeof val === 'number' && !isNaN(parseFloat(val))) {\n      sum += parseFloat(val);\n    }\n  });\n  return sum;\n}\n\nconst getColumnAverage = function (arr) {\n  return average(arr, 1);\n};\nconst getRowAverage = getColumnAverage;\n\nconst getColumnSum = function (arr) {\n  return sum(arr, 1);\n};\nconst getRowSum = getColumnSum;\n\nconst getColumnMaximum = function (arr) {\n  return maximum(arr, 1);\n};\nconst getRowMaximum = getColumnMaximum;\n\nconst getColumnMinimum = function (arr) {\n  return minimum(arr, 1);\n};\nconst getRowMinimum = getColumnMinimum;\n\nconst getColumnLabel = function (arr) {\n  return arr[0];\n};\nconst getRowIndex = getColumnLabel;\n\nexport default {\n  average,\n  maximum,\n  minimum,\n  sum,\n  getColumnAverage,\n  getRowAverage,\n  getColumnSum,\n  getRowSum,\n  getColumnMaximum,\n  getRowMaximum,\n  getColumnMinimum,\n  getRowMinimum,\n  getColumnLabel,\n  getRowIndex,\n};\n","// Pure awesomeness by Will Rayner (penguinboy)\n// https://gist.github.com/penguinboy/762197\n\nexport function flatten(ob){\n  var toReturn = {};\n  for (var i in ob) {\n    if (!ob.hasOwnProperty(i)) continue;\n    if ((typeof ob[i]) == 'object' && ob[i] !== null) {\n      var flatObject = flatten(ob[i]);\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        toReturn[i + '.' + x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = ob[i];\n    }\n  }\n  return toReturn;\n};\n","/**\n * Strip html tags from string\n *\n * @param  {string} string The string to strip\n * @return {string}\n * @public\n */\n\nexport function stripHtmlTags(inputString) {\n  if (typeof inputString !== 'string') {\n    return inputString;\n  }\n  return inputString.replace(/(<([^>]+)>)/ig, '');\n}\n","import { each } from './each';\n\nexport function extendDeep(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    each(arguments[i], function(prop, key){\n      if (( typeof target[key] !== 'undefined' && typeof prop !== 'undefined' ) &&\n          ( typeof target[key] === 'object'    && typeof prop === 'object' ) &&\n          ( target[key] !== null               && prop !== null )) {\n            extendDeep(target[key], prop);\n      }\n      else {\n        target[key] = prop;\n      }\n    });\n  }\n  return target;\n}\n","import downloadResults from './download-results';\n\nexport default function renderDownloadButton({\n  element,\n  label = 'Download',\n  type = 'json',\n  data,\n} = {}) {\n  const btnClass = 'keen-dataviz-button';\n  const isBtnRendered = [...element.parentNode.children]\n    .find(child => child.className === btnClass);\n  if (isBtnRendered) return;\n\n  const button = document.createElement('button');\n  button.innerText = label;\n  button.className = btnClass;\n  button.addEventListener('click', event => downloadResults({ event, type, data}));\n  element.parentNode.insertBefore(button, element.nextSibling);\n};","import domtoimage from 'dom-to-image';\nimport { saveAs } from 'file-saver';\n\nexport default function exportImage(obj) {\n  const { node, quality, bgcolor } = obj;\n  if (quality) {\n    if (quality < 0 || quality > 1) throw Error('Please provide image quality between 0 and 1');\n    domtoimage.toBlob(node, { quality, bgcolor })\n      .then((blob) => {\n        saveAs(blob, 'chart.jpeg');\n      });\n  }\n\n  if (!quality) {\n    domtoimage.toBlob(node)\n      .then((blob) => {\n        saveAs(blob, 'chart.png');\n      });\n  }\n}\n","function generateCsvContent(data) {\n  let csvContent = '';\n\n  data.forEach((row, i) => {\n    row.forEach((cell, j) => {\n      csvContent += String(cell).replace(/,/g, '');\n      if (row.length > j + 1) {\n        csvContent += ',';\n      }\n    });\n    if (data.length > i + 1) {\n      csvContent += '\\n';\n    }\n  });\n  return `data:text/csv;charset=utf-8,${encodeURIComponent(csvContent)}`;\n}\n\nexport default function exportData(obj) {\n  const { type, data } = obj;\n  const supportedFormats = ['json', 'csv'];\n  const format = type.toLowerCase();\n  if (!supportedFormats.includes(type)) {\n    throw new Error('This type is not supported');\n  }\n\n  const fileName = 'chart';\n  let fileFormat = supportedFormats[0];\n  let content = '';\n\n  if (format === 'json') {\n    content = `data:text/json;charset=utf-8, ${encodeURIComponent(JSON.stringify(data))}`;\n  }\n\n  if (format === 'csv') {\n    content = generateCsvContent(data);\n    fileFormat = format;\n  }\n\n  const htmlElement = document.createElement('a');\n  htmlElement.setAttribute('href', content);\n  htmlElement.setAttribute('download', `${fileName}.${fileFormat}`);\n  document.body.appendChild(htmlElement);\n  htmlElement.click();\n  document.body.removeChild(htmlElement);\n}\n","/*!\n *\n * Rangeable\n * Copyright (c) 2018 Karl Saunders (mobius1(at)gmx(dot)com)\n * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)\n * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.\n *\n * Version: 0.1.6\n *\n */\n(function(i,j){\"object\"==typeof exports?module.exports=j(\"Rangeable\"):\"function\"==typeof define&&define.amd?define([],j):i.Rangeable=j(\"Rangeable\")})(\"undefined\"==typeof global?this.window||this.global:global,function(){var i=function(s,t){var u=document.createElement(s);return t&&u.classList.add(t),u},j=function(s){return s&&\"function\"==typeof s},o=function(s,t,u){var v;return function(){if(u=u||this,!v)return s.apply(u,arguments),v=!0,setTimeout(function(){v=!1},t)}},q=function(s,t){this.plugins=[\"ruler\"],\"string\"==typeof s&&(s=document.querySelector(s)),this.input=s,this.config=Object.assign({},{type:\"single\",tooltips:\"always\",updateThrottle:30,formatTooltip:function(u){return u},classes:{input:\"rangeable-input\",container:\"rangeable-container\",vertical:\"rangeable-vertical\",progress:\"rangeable-progress\",handle:\"rangeable-handle\",track:\"rangeable-track\",multiple:\"rangeable-multiple\",disabled:\"rangeable-disabled\",tooltips:\"rangeable-tooltips\",tooltip:\"rangeable-tooltip\",visible:\"rangeable-tooltips--visible\"}},t),this.mouseAxis={x:\"clientX\",y:\"clientY\"},this.trackSize={x:\"width\",y:\"height\"},this.trackPos={x:\"left\",y:\"top\"},this.lastPos=0,this.double=\"double\"===this.config.type||Array.isArray(this.config.value),this.touch=\"ontouchstart\"in window||window.DocumentTouch&&document instanceof DocumentTouch,this.version=\"0.1.6\",this.init(),this.onInit()},r=q.prototype;return r.init=function(){if(!this.input.rangeable){var t,s={min:0,max:100,step:1,value:this.input.value};for(t in s)this.input[t]||(this.input[t]=s[t]),void 0!==this.config[t]&&(this.input[t]=this.config[t]);this.axis=this.config.vertical?\"y\":\"x\",this.input.rangeable=this,this.double?(this.input.values=this.config.value?this.config.value:[this.input.min,this.input.max],this.input.defaultValues=this.input.values.slice()):this.input.defaultValue||(this.input.defaultValue=this.input.value),this.render(),this.initialised=!0}},r.render=function(){var s=this,t=this.config,u=t.classes,v=i(\"div\",u.container),w=i(\"div\",u.track),x=i(\"div\",u.progress),y=i(\"div\",u.handle),z=i(\"div\",u.tooltip);if(this.input.tabIndex=-1,this.double){y=[i(\"div\",u.handle),i(\"div\",u.handle)],z=[];for(var A=0;3>A;A++)z[A]=i(\"div\",u.tooltip);y.forEach(function(C,D){C.index=D,x.appendChild(C),C.appendChild(z[D]),C.tabIndex=1,t.controls&&t.controls[D]&&t.controls[D].locked&&!0===t.controls[D].locked&&(C.locked=!0)}),t.vertical&&x.appendChild(y[0]),x.appendChild(z[2]),v.classList.add(u.multiple)}else x.appendChild(y),y.appendChild(z),y.tabIndex=1,t.controls&&t.controls.locked&&!0===t.controls.locked&&(y.locked=!0);if(v.appendChild(w),t.vertical&&v.classList.add(u.vertical),t.size&&(v.style[this.trackSize[this.axis]]=isNaN(t.size)?t.size:t.size+\"px\"),t.tooltips&&(v.classList.add(u.tooltips),\"string\"==typeof t.tooltips&&\"always\"===t.tooltips&&v.classList.add(u.visible)),this.nodes={container:v,track:w,progress:x,handle:y,tooltip:z},this.double){this.nodes.buffer=[];var B=i(\"div\",\"rangeable-buffers\");this.input.values.forEach(function(C,D){var E=i(\"div\",\"rangeable-buffer\");B.appendChild(E),s.nodes.buffer.push(E),w.appendChild(B),t.controls&&(s.limits=[{},{}],void 0!==t.controls[D].min&&(s.limits[D].min=t.controls[D].min),void 0!==t.controls[D].max&&(s.limits[D].max=t.controls[D].max))})}else y=i(\"div\",\"rangeable-buffer\"),w.appendChild(y),this.nodes.buffer=y,w.appendChild(y),t.controls&&(this.limits={},void 0!==t.controls.min&&(this.limits.min=t.controls.min),void 0!==t.controls.max&&(this.limits.max=t.controls.max));this.setLimits(t.controls),w.appendChild(x),this.input.parentNode.insertBefore(v,this.input),v.insertBefore(this.input,w),this.input.classList.add(u.input),this.bind(),this.update()},r.reset=function(){this.double?this.input.defaultValues.forEach(this.setValue,this):this.setValue(this.input.defaultValue),this.onEnd()},r.setValueFromPosition=function(s){var t=this.getLimits(),u=parseFloat(this.input.step),v=this.touch?s.touches[0][this.mouseAxis[this.axis]]:s[this.mouseAxis[this.axis]],w=v-this.rects.container[this.trackPos[this.axis]],x=this.rects.container[this.trackSize[this.axis]];return\"mousedown\"===s.type&&(!this.double&&this.nodes.handle.contains(s.target)||this.double&&(this.nodes.handle[0].contains(s.target)||this.nodes.handle[1].contains(s.target)))?!1:(s=(this.config.vertical?100*((x-w)/x):100*(w/x))*(t.max-t.min)/100+t.min,s=Math.ceil(s/u)*u,v>=this.lastPos&&(s-=u),parseFloat(s)!==parseFloat(this.startValue)&&void(u=!1,this.double&&(u=this.activeHandle.index),s=this.limit(s,u),this.setValue(s,u)))},r.start=function(s){return s.preventDefault(),this.startValue=this.getValue(),this.onStart(),this.nodes.container.classList.add(\"dragging\"),this.recalculate(),this.activeHandle=this.getHandle(s),!!this.activeHandle&&void(this.activeHandle.classList.add(\"active\"),this.setValueFromPosition(s),this.touch?(document.addEventListener(\"touchmove\",this.events.move,!1),document.addEventListener(\"touchend\",this.events.stop,!1),document.addEventListener(\"touchcancel\",this.events.stop,!1)):(document.addEventListener(\"mousemove\",this.events.move,!1),document.addEventListener(\"mouseup\",this.events.stop,!1)))},r.move=function(s){this.setValueFromPosition(s),this.lastPos=this.touch?s.touches[0][this.mouseAxis[this.axis]]:s[this.mouseAxis[this.axis]]},r.stop=function(){this.stopValue=this.getValue(),this.nodes.container.classList.remove(\"dragging\"),this.onEnd(),this.activeHandle.classList.remove(\"active\"),this.activeHandle=!1,this.touch?(document.removeEventListener(\"touchmove\",this.events.move),document.removeEventListener(\"touchend\",this.events.stop),document.removeEventListener(\"touchcancel\",this.events.stop)):(document.removeEventListener(\"mousemove\",this.events.move),document.removeEventListener(\"mouseup\",this.events.stop)),this.startValue!==this.stopValue&&this.input.dispatchEvent(new Event(\"change\")),this.startValue=null},r.keydown=function(s){var t=this,u=function(v){switch(s.key){case\"ArrowRight\":case\"ArrowUp\":t.stepUp(v);break;case\"ArrowLeft\":case\"ArrowDown\":t.stepDown(v);}};this.double?this.nodes.handle.forEach(function(v){v===document.activeElement&&u(v.index)}):this.nodes.handle===document.activeElement&&u()},r.stepUp=function(s){var t=parseFloat(this.input.step),u=this.getValue();this.double&&void 0!==s&&(u=u[s]),t=this.limit(parseFloat(u)+t,s),this.setValue(t,s)},r.stepDown=function(s){var t=parseFloat(this.input.step),u=this.getValue();this.double&&void 0!==s&&(u=u[s]),t=this.limit(parseFloat(u)-t,s),this.setValue(t,s)},r.limit=function(s,t){var u=this.input,v=this.getLimits();return s=parseFloat(s),this.double&&void 0!==t?(!t&&s>u.values[1]?s=u.values[1]:0<t&&s<u.values[0]&&(s=u.values[0]),this.limits)&&(t?s>this.limits[1].max?s=this.limits[1].max:s<this.limits[1].min&&(s=this.limits[1].min):s>this.limits[0].max?s=this.limits[0].max:s<this.limits[0].min&&(s=this.limits[0].min)):this.limits&&(s>this.limits.max?s=this.limits.max:s<this.limits.min&&(s=this.limits.min)),s>v.max?s=v.max:s<v.min&&(s=v.min),s=parseFloat(s),s=s.toFixed(this.accuracy)},r.recalculate=function(){var s=[];this.double?this.nodes.handle.forEach(function(t,u){s[u]=t.getBoundingClientRect()}):s=this.nodes.handle.getBoundingClientRect(),this.rects={handle:s,container:this.nodes.container.getBoundingClientRect()}},r.update=function(){var s=this;this.recalculate(),this.accuracy=0,this.input.step.includes(\".\")&&(this.accuracy=(this.input.step.split(\".\")[1]||[]).length);var t=this.getValue(),u=this.getLimits(),v=this.rects.container[this.trackSize[this.axis]],w=function(x,y,z){x.style[s.config.vertical?\"bottom\":\"left\"]=y+\"px\",x.style[s.trackSize[s.axis]]=z/u.max*v-y+\"px\"};this.double?(this.limits&&this.limits.forEach(function(x,y){w(s.nodes.buffer[y],x.min/u.max*v,x.max)}),this.input.values.forEach(function(x,y){s.setValue(s.limit(x,y),y)})):(this.limits&&w(this.nodes.buffer,this.limits.min/u.max*v,this.limits.max),this.setValue(this.limit(t)))},r.getValue=function(){return this.double?this.input.values:this.input.value},r.setValue=function(s,t){var u=this.nodes;if(this.double&&void 0===t)return!1;void 0===s&&(s=this.input.value),s=this.limit(s,t);var v=this.initialised&&(s!==this.input.value||this.nativeEvent),w=this.config.formatTooltip;if(this.double){var x=this.input.values;if(x[t]=s,this.config.tooltips){u.tooltip[t].textContent=w.call(this,s);var y=u.tooltip[0].getBoundingClientRect(),z=u.tooltip[1].getBoundingClientRect();y=!(y.right<z.left||y.left>z.right||y.bottom<z.top||y.top>z.bottom),u.container.classList.toggle(\"combined-tooltip\",y),y&&(u.tooltip[2].textContent=x[0]===x[1]?w.call(this,x[0]):w.call(this,x[0])+\" - \"+w.call(this,x[1]))}}else this.input.value=s,u.tooltip.textContent=w.call(this,s);this.setPosition(s,t),v&&(this.onChange(),this.nativeEvent||this.input.dispatchEvent(new Event(\"input\")),this.nativeEvent=!1)},r.native=function(){this.nativeEvent=!0,this.setValue()},r.getLimits=function(){return{min:parseFloat(this.input.min),max:parseFloat(this.input.max)}},r.setLimits=function(s){var t=this;if(void 0===s)return!1;this.limits||(this.limits=s);var u=function(v,w){void 0!==w.min&&(v.min=w.min),void 0!==w.max&&(v.max=w.max)};this.double?s.forEach(function(v,w){u(t.limits[w],v)}):u(this.limits,s),this.update()},r.setPosition=function(s){if(this.double){s=this.getPosition(this.input.values[0]);var t=this.getPosition(this.input.values[1]);this.nodes.progress.style[this.config.vertical?\"bottom\":\"left\"]=s+\"px\",s=t-s}else s=this.getPosition();this.nodes.progress.style[this.trackSize[this.axis]]=s+\"px\"},r.getPosition=function(s){void 0===s&&(s=this.input.value);var t=this.getLimits();return(s-t.min)/(t.max-t.min)*this.rects.container[this.trackSize[this.axis]]},r.getHandle=function(s){if(!this.double)return!this.nodes.handle.locked&&this.nodes.handle;var t=this.rects,u=Math.abs(s[this.mouseAxis[this.axis]]-t.handle[0][this.trackPos[this.axis]]);return t=Math.abs(s[this.mouseAxis[this.axis]]-t.handle[1][this.trackPos[this.axis]]),(s=s.target.closest(\".\"+this.config.classes.handle))||(s=u>t?this.nodes.handle[1]:this.nodes.handle[0]),!s.locked&&s},r.enable=function(){this.input.disabled&&(this.nodes.container.addEventListener(this.touch?\"touchstart\":\"mousedown\",this.events.start,!1),this.double?this.nodes.handle.forEach(function(s){return s.tabIndex=1}):this.nodes.handle.tabIndex=1,this.nodes.container.classList.remove(this.config.classes.disabled),this.input.disabled=!1)},r.disable=function(){this.input.disabled||(this.nodes.container.removeEventListener(this.touch?\"touchstart\":\"mousedown\",this.events.start),this.double?this.nodes.handle.forEach(function(s){return s.removeAttribute(\"tabindex\")}):this.nodes.handle.removeAttribute(\"tabindex\"),this.nodes.container.classList.add(this.config.classes.disabled),this.input.disabled=!0)},r.bind=function(){var s=this;this.events={},\"start move stop update reset native keydown\".split(\" \").forEach(function(t){s.events[t]=s[t].bind(s)}),this.events.scroll=o(this.events.update,this.config.updateThrottle),this.events.resize=o(this.events.update,this.config.updateThrottle),document.addEventListener(\"scroll\",this.events.scroll,!1),window.addEventListener(\"resize\",this.events.resize,!1),document.addEventListener(\"keydown\",this.events.keydown,!1),this.nodes.container.addEventListener(this.touch?\"touchstart\":\"mousedown\",this.events.start,!1),this.input.addEventListener(\"input\",this.events.native,!1),this.input.form&&this.input.form.addEventListener(\"reset\",this.events.reset,!1)},r.unbind=function(){document.removeEventListener(\"scroll\",this.events.scroll),window.removeEventListener(\"resize\",this.events.resize),document.removeEventListener(\"keydown\",this.events.keydown),this.nodes.container.removeEventListener(this.touch?\"touchstart\":\"mousedown\",this.events.start),this.input.removeEventListener(\"input\",this.events.native),this.input.form&&this.input.form.removeEventListener(\"reset\",this.events.reset),this.events=null},r.destroy=function(){this.input.rangeable&&(this.unbind(),this.input.classList.remove(this.config.classes.input),this.nodes.container.parentNode.replaceChild(this.input,this.nodes.container),delete this.input.rangeable,this.initialised=!1)},r.onInit=function(){j(this.config.onInit)&&this.config.onInit.call(this,this.getValue())},r.onStart=function(){j(this.config.onStart)&&this.config.onStart.call(this,this.getValue())},r.onChange=function(){j(this.config.onChange)&&this.config.onChange.call(this,this.getValue())},r.onEnd=function(){j(this.config.onEnd)&&this.config.onEnd.call(this,this.getValue())},q});","import { Dataviz, Dataset } from './index';\n\nconst env = typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : {};\n\nexport const extendKeenGlobalObject = function(env) {\n  env.KeenDataviz = Dataviz;\n  env.KeenDataset = Dataset;\n\n  // just for backward compatibility\n  env.Keen = env.Keen || {};\n  env.Keen.Dataset = Dataset;\n  env.Keen.Dataviz = Dataviz;\n};\n\nif (typeof KEEN_GLOBAL_OBJECT !== 'undefined'\n  && KEEN_GLOBAL_OBJECT) {\n  extendKeenGlobalObject(env);\n}\n\nexport let keenGlobals = undefined;\nif (typeof webpackKeenGlobals !== 'undefined') {\n  keenGlobals = webpackKeenGlobals;\n}\n\nexport { Dataviz, Dataset } from './index';\nexport default Dataviz;\n","/* eslint-env browser */\nimport * as d3 from 'd3';\nimport c3 from 'c3';\n\nimport pkg from '../package.json';\nimport data from './data';\nimport { Dataset } from './dataset';\n\n// Utils\nimport { each } from './utils/each';\nimport isDateString from './utils/assert-date-string';\nimport { stripHtmlTags } from './utils/strip-html-tags';\nimport { escapeHtml } from './utils/escape-html';\nimport libraries from './libraries';\nimport { extendDeep } from './utils/extend-deep';\nimport exportImage from './utils/export-svg';\nimport exportData from './utils/export-data';\nimport renderDownloadButton from './utils/render-download-btn';\nimport renderExecutionMetadata from './utils/render-execution-metadata';\nimport copyToClipboard from './utils/copy-to-clipboard';\n\nimport palettes from './palettes/index';\nimport c3TooltipContents from \"./libraries/c3/extensions/tooltip-contents\";\n\n// Constructor\nexport const Dataviz = function (options = {}) {\n  if (this instanceof Dataviz === false) {\n    return new Dataviz(options);\n  }\n\n  this.c3 = c3; // expose for use outside\n  this.d3 = d3;\n\n  const datavizInstance = this;\n  const defaultOptions = {\n    showDeprecationWarnings: true,\n    showLoadingSpinner: false,\n\n    container: undefined, // querySelector of container, for example '#someDiv'\n    containerElement: undefined, // HTML parent element for the chart\n\n    // width: undefined, *deprecated* - use CSS\n    // height: undefined, *deprecated* - use CSS\n\n    title: undefined,\n    showTitle: true,\n\n    subtitle: undefined,\n\n    notes: undefined,\n    theme: 'keen-dataviz',\n\n    colors: [\n      '#00bbde', '#fe6672', '#eeb058', '#8a8ad6', '#ff855c', '#00cfbb',\n      '#5a9eed', '#73d483', '#c879bb', '#0099b6', '#d74d58', '#cb9141',\n      '#6b6bb6', '#d86945', '#00aa99', '#4281c9', '#57b566', '#ac5c9e',\n      '#27cceb', '#ff818b', '#f6bf71', '#9b9be1', '#ff9b79', '#26dfcd',\n      '#73aff4', '#87e096', '#d88bcb',\n    ],\n\n    colorMapping: {},\n    ui: {\n      executionMetadata: true,\n    },\n    utils: {\n      clickToCopyToClipboard: true,\n    },\n\n    indexBy: 'timeframe.start',\n    labels: [],\n    labelMapping: {},\n    labelMappingRegExp: undefined,\n    errorMapping: {},\n    showErrorMessages: true,\n    library: 'default',\n    sortGroups: undefined,\n    sortIntervals: undefined,\n\n    results: undefined, // raw data\n\n    // C3 chartOptions\n    type: undefined,\n    stacked: false,\n    dateFormat: undefined,\n    legend: {\n      show: true,\n      position: 'right',\n      alignment: 'top',\n      label: {\n        textMaxLength: 12\n      },\n      pagination: {\n        offset: 0, // start from\n        limit: 5 // items per page\n      },\n      tooltip: {\n        show: true,\n        pointer: true\n      },\n      sort: undefined\n    },\n\n    axis: {},\n    color: {},\n    size: {\n      // control it with CSS of .c3-chart\n    },\n    padding: {\n      top: 15\n    },\n    point: {\n      focus: {\n        expand: {\n          enabled: false\n        }\n      },\n      r: 2,\n      show: true,\n      sensitivity: 300\n    },\n    tooltip: {\n      horizontal: true,\n      contents: c3TooltipContents,\n      format: {\n        // https://c3js.org/samples/tooltip_format.html\n      }\n    },\n    transition: {\n      // duration: 0\n    },\n    data: {\n      order: null,\n      selection: {\n       enabled: true,\n       draggable: true,\n       multiple: true\n     },\n     onselected: (d, element) => {\n      const selectedItems = this.view._artifacts.c3.selected();\n      const sum = selectedItems.reduce((prev, curr) => prev + curr.value, 0);\n      copyToClipboard(sum);\n     },\n   },\n   grid: {\n     y: {\n       show: true\n     }\n   },\n   partialIntervalIndicator: {\n     show: undefined,\n     className: 'partial-interval-indicator'\n   },\n   timezone: 'UTC',\n   table: {\n     schema: 'static',\n   },\n   renderOnVisible: false,\n   funnel: {\n     lines: true,\n     resultValues: true,\n     percents: {\n       show: false,\n       countingMethod: 'absolute',\n       decimals: 0\n     },\n     marginBetweenElements: false,\n     hover: true,\n     effect3d: 'both-sides',\n     minimalSize: false,\n   },\n   react: false,\n   range: false,\n   sparkline: false,\n    choropleth: {\n      map: 'world',\n      borders: {\n        show: true,\n        size: 0.5,\n        color: '#000'\n      },\n      showSlider: false\n    },\n    heatmap: {},\n  };\n\n  this.config = { ...extendDeep(defaultOptions, options) };\n\n  if (options.palette) {\n    if (!palettes[options.palette]){\n      console.log('Colors pallete not found', options.palette);\n    }\n    this.config.colors = palettes[options.palette].colors;\n  }\n\n  if (this.config.type) {\n    // backward compatibility with v2016... areachart -> area\n    this.config.type = convertChartTypes(this.config.type);\n  }\n\n  // overwriting options for range chart\n  if(this.config.type && this.config.type.includes('-range')) {\n    this.config.range = true;\n    this.config.type = this.config.type.replace('-range', '');\n    this.config.legend.show = false;\n    this.config.stacking = 'normal';\n    this.config.labels = ['Max', 'Min'];\n    this.config.colors = [\n      this.config.colors[0],\n      this.config.colors[0],\n    ];\n  }\n\n  // overwriting stacked when stacking added\n  if (this.config.stacking) {\n    this.config.stacked = true;\n  }\n\n  // overwriting options for sparkline chart\n  if (this.config.sparkline) {\n    this.config.legend.show = false;\n    this.config.axis = {\n      x: {\n        show: false,\n      },\n      y: {\n        show: false,\n      },\n    };\n    this.config.grid = {\n      x: {\n        show: false,\n      },\n      y: {\n        show: false,\n      },\n    };\n  }\n\n  // get DOM node by query\n  if (this.config.container) {\n    this.el(this.config.container);\n  }\n\n  if (options.legend !== undefined && !options.legend) {\n    this.config.legend = {\n      ...options,\n      show: false\n    };\n  }\n\n  if (options.color && options.color.pattern) {\n    // to match c3 options\n    this.config.colors = options.color.pattern;\n  }\n\n  if (this.config.legend\n      && this.config.legend.tooltip\n      && this.config.legend.tooltip.show === false\n      && this.config.tooltip.show === undefined) {\n    this.config.tooltip = { show: false };\n  }\n\n  this.dataset = new Dataset(this.config);\n  this.view = {\n    _prepared: false,\n    _rendered: false,\n    _artifacts: { /* state bin */ }\n  };\n\n  Dataviz.visuals.push(this);\n\n  if (this.config.showLoadingSpinner) {\n    this.prepare();\n  }\n\n  if (!!this.config.results) {\n    this.render(this.config.results);\n  }\n  this.config.firstVisibilityState = document.visibilityState;\n\n  if (!this.config.utils.clickToCopyToClipboard) {\n    this.config.data.onselected = () => {};\n  }\n\n  if (options.data && options.data.onselected) {\n    this.config.data.onselected = (d, element) => {\n      const callback = options.data.onselected.bind(null, d, element);\n      callback();\n\n      if (this.config.utils.clickToCopyToClipboard) {\n        const selectedItems = this.view._artifacts.c3.selected();\n        const sum = selectedItems.reduce((prev, curr) => prev + curr.value, 0);\n        copyToClipboard(sum);\n      }\n    };\n  }\n\n};\n\n\nDataviz.libraries = { default: {} };\nif (typeof window !== 'undefined') {\n  Dataviz.libraries.default = libraries(Dataviz);\n}\nDataviz.visuals = [];\n\nDataviz.register = function (name, actions) {\n  Dataviz.libraries[name] = Dataviz.libraries[name] || {};\n  each(actions, function(method, key){\n    Dataviz.libraries[name][key] = method;\n  });\n};\n\nDataviz.find = function(target){\n  if (!arguments.length) return Dataviz.visuals;\n  const el = target.nodeName ? target : document.querySelector(target);\n  let match = null;\n  each(Dataviz.visuals, function(visual){\n    if (el == visual.config.container){\n      match = visual;\n      return false;\n    }\n  });\n  return match;\n};\n\n\n  // Prototype\n  // ------------\n\nDataviz.prototype.attributes = function(obj){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.attributes() is deprecated. Use: new KeenDataviz({ _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config;\n  const view = this.config;\n  each(obj, function(prop, key){\n    // Handle deprecated property names\n    if (key === 'chartType') {\n      key = 'type';\n    }\n    view[key] = prop;\n  });\n  return this;\n};\n\nDataviz.prototype.call = function(fn){\n    fn.call(this);\n    return this;\n};\n\nDataviz.prototype.chartOptions = function(obj){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.chartOptions() is deprecated. Use: new KeenDataviz({ _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config;\n  this.config = extendDeep(this.config, obj);\n  return this;\n};\n\nDataviz.prototype.colors = function(arr){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.colors() is deprecated. Use: new KeenDataviz({ colors: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.colors;\n  this.config.colors = (arr instanceof Array ? arr : []);\n  return this;\n};\n\nDataviz.prototype.colorMapping = function(obj){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.colorMapping() is deprecated. Use: new KeenDataviz({ colorMapping: _your_value_here_ })');\n  }\n  const datavizInstance = this;\n  if (!arguments.length) return this.config.colorMapping;\n  if (obj === null) {\n    this.config.colorMapping = {};\n  }\n  else if (typeof obj === 'object') {\n    each(obj, function(value, key){\n      datavizInstance.config.colorMapping[key] = (value ? value : null);\n    });\n  }\n  return this;\n};\n\nDataviz.prototype.data = data;\n\nDataviz.prototype.dateFormat = function(val){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.dateFormat() is deprecated. Use: new KeenDataviz({ dateFormat: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.dateFormat;\n  if (typeof val === 'string' || typeof val === 'function') {\n    this.config.dateFormat = val;\n  }\n  else {\n    this.config.dateFormat = undefined;\n  }\n  return this;\n};\n\nDataviz.prototype.destroy = function(){\n  const library = this.library();\n  const type = this.config.type;\n  const element = this.el();\n\n    // Call destroy method if present\n  if (Dataviz.libraries[library]\n      && Dataviz.libraries[library][type]){\n        Dataviz.libraries[library][type].destroy.call(this);\n  }\n\n    // Clear rendered artifacts, state bin\n  if (element) {\n    element.innerHTML = '';\n  }\n  this.view._prepared = false;\n  this.view._rendered = false;\n  this.view._artifacts = {};\n  return this;\n};\n\nDataviz.prototype.el = function(target){\n  const datavizInstance = this;\n  if (!arguments.length) return this.config.containerElement;\n  domReady(function(){\n    if (target && target !== null) {\n      if (target.nodeName) {\n        datavizInstance.config.containerElement = target;\n      }\n      else if (document.querySelector) {\n        datavizInstance.config.containerElement = document.querySelector(target);\n      }\n    }\n    else {\n      datavizInstance.config.containerElement = undefined;\n    }\n  });\n  return this;\n};\n\nDataviz.prototype.height = function(num){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.height() is deprecated - use CSS classes');\n  }\n  return this;\n};\n\n// IMPORTANT: Must be run before data parsing\nDataviz.prototype.indexBy = function(str){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.indexBy() is deprecated. Use: new KeenDataviz({ indexBy: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.indexBy;\n  this.config.indexBy = (str ? String(str) : 'timeframe.start');\n  return this;\n};\n\nDataviz.prototype.labels = function(arr){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.labels() is deprecated. Use: new KeenDataviz({ labels: _your_value_here_ })');\n  }\n\n  if (!arguments.length) return this.config.labels;\n  this.config.labels = (arr instanceof Array ? arr : []);\n\n  setLabels(this);\n\n  return this;\n};\n\nfunction setLabels(datavizInstance){\n  // Write labels\n  if (datavizInstance.data()[0].length === 2 && !isDateString(datavizInstance.data()[1][0])) {\n    datavizInstance.dataset.updateColumn(0, function(value, index){\n      if (datavizInstance.config.labels[index-1]) {\n        return stripHtmlTags(String(datavizInstance.config.labels[index-1]));\n      }\n      return stripHtmlTags(value);\n    }.bind(datavizInstance));\n  }\n  else {\n    datavizInstance.dataset.updateRow(0, function(value, index){\n      if (index > 0 && datavizInstance.config.labels[index-1]) {\n        return stripHtmlTags(String(datavizInstance.config.labels[index-1]));\n      }\n      return stripHtmlTags(value);\n    }.bind(datavizInstance));\n  }\n}\n\nDataviz.prototype.labelMapping = function(obj){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.labelMapping() is deprecated. Use: new KeenDataviz({ labelMapping: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.labelMapping;\n  if (obj === null) {\n    this.config.labelMapping = {};\n  }\n  else if (typeof obj === 'object') {\n    each(obj, function(value, key){\n      this.config.labelMapping[key] = (value ? value : null);\n    }.bind(this));\n  }\n\n  mapLabels(this);\n\n  return this;\n};\n\nfunction mapLabelsExec({ datavizInstance, value }){\n  if (datavizInstance.config.labelMappingRegExp){\n    let valueAfterMatching = value;\n    datavizInstance.config.labelMappingRegExp.forEach(regExpAndLabel => {\n      if (regExpAndLabel.length > 1) {\n        let regExpObj = regExpAndLabel[0];\n        if (regExpObj.test(value)){\n          valueAfterMatching = regExpAndLabel[1];\n        }\n      }\n    });\n    return stripHtmlTags(valueAfterMatching);\n  }\n  if (datavizInstance.config.labelMapping[value]) {\n    return stripHtmlTags(String(datavizInstance.config.labelMapping[value]));\n  }\n  return stripHtmlTags(value);\n}\n\nfunction mapLabels(datavizInstance){\n  // Write labels\n  if (!datavizInstance.config.labelMappingDimension) {\n    // if not defined use deprecated auto-detecting\n    if (datavizInstance.data()[0].length === 2 && !isDateString(datavizInstance.data()[1][0])) {\n      datavizInstance.config.labelMappingDimension = 'row';\n    } else {\n      datavizInstance.config.labelMappingDimension = 'column';\n    }\n  }\n\n  if (datavizInstance.config.labelMappingDimension === 'row'\n    || datavizInstance.config.labelMappingDimension === 'both') {\n    datavizInstance.dataset.updateColumn(0, function(value){\n      return mapLabelsExec({ datavizInstance, value });\n    }.bind(datavizInstance));\n  }\n\n  if (datavizInstance.config.labelMappingDimension === 'column'\n    || datavizInstance.config.labelMappingDimension === 'both') {\n    datavizInstance.dataset.updateRow(0, function(value){\n      return mapLabelsExec({ datavizInstance, value });\n    }.bind(datavizInstance));\n  }\n}\n\nDataviz.prototype.library = function(str){\n    if (!arguments.length) return this.config['library'];\n    this.config['library'] = (str ? String(str) : null);\n    return this;\n};\n\nDataviz.prototype.message = function(){\n    if (this.view._rendered) {\n      this.destroy();\n    }\n    if (this.el()) {\n      this.el().innerHTML = '';\n      const message = Dataviz.libraries.default.message;\n      if (message.render) {\n        message.render.apply(this, arguments);\n      }\n    }\n    return this;\n};\n\nDataviz.prototype.notes = function(str){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.notes() is deprecated. Use: new KeenDataviz({ notes: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.notes;\n  this.config.notes = (str ? String(str) : null);\n  return this;\n};\n\nDataviz.prototype.prepare = function(){\n    const datavizInstance = this;\n\n    if (!this.el()) {\n      throw `${this.config.container} not found. A DOM parent element is required to mount the chart.`;\n      return;\n    }\n\n    domReady(function(){\n      if (datavizInstance.view._rendered) {\n        datavizInstance.destroy();\n      }\n      if (datavizInstance.el()) {\n        datavizInstance.el().innerHTML = '';\n        const loader = Dataviz.libraries.default.spinner;\n        if (loader.render) {\n          loader.render.call(datavizInstance);\n        }\n        datavizInstance.view._prepared = true;\n      }\n    });\n\n    return this;\n};\n\nDataviz.prototype.render = function(results = undefined){\n  const datavizInstance = this;\n\n  if (!!results) {\n    const firstResult = results[0] || results;\n    if (\n      firstResult.query\n      && firstResult.query.interval\n      && firstResult.query.timeframe\n      && typeof firstResult.query.timeframe === 'string'\n      && firstResult.query.timeframe.includes('this_')\n      && this.config.partialIntervalIndicator\n      && this.config.partialIntervalIndicator.show === undefined\n    )\n    {\n      this.config.partialIntervalIndicator.show = true;\n    }\n\n    if (Array.isArray(results)) {\n      const timeframes = results.map(resultItem => resultItem.query.timeframe);\n      timeframes.forEach(resultTimeframe => {\n        let foundDifferent = timeframes.find(timeframeItem =>\n          JSON.stringify(timeframeItem) !== JSON.stringify(resultTimeframe)\n        );\n        if (foundDifferent){\n          const msg = 'Timeframes of the queries should be the same';\n          console.error(msg);\n          throw msg;\n        }\n      });\n      // first result is important to prepare X on the chart\n      return datavizInstance\n        .data(results[0])\n        .call(() => {\n          this.dataset.deleteColumn(1);\n          for (let result of results) {\n            let label = `${result.query.event_collection} ${result.query.analysis_type}`;\n            let ds2 = Dataset.parser('interval')(result);\n            datavizInstance.dataset.appendColumn(label, ds2.selectColumn(1).slice(1));\n          }\n        })\n        .render();\n    }\n\n    return datavizInstance.data(results).render();\n  }\n  if (\n    (!!this.config.labelMapping && Object.keys(this.config.labelMapping).length > 0)\n    ||\n    (!!this.config.labelMappingRegExp && this.config.labelMappingRegExp.length > 0)\n  ){\n    mapLabels(datavizInstance);\n  }\n  if (!!this.config.labels && Object.keys(this.config.labels).length > 0){\n    setLabels(datavizInstance);\n  }\n  if (!!this.config.sortGroups) {\n    sortGroups(datavizInstance);\n  }\n  if (!!this.config.sortIntervals) {\n    sortIntervals(datavizInstance);\n  }\n\n  const loader = Dataviz.libraries.default.spinner;\n  const library = this.config.library;\n  const type = this.config.type;\n  const containerElement = this.el();\n\n  if (!containerElement || containerElement === undefined) {\n    const msg = `${this.config.container} not found. A DOM parent element is required to mount the chart.`;\n    console.error(msg);\n    throw msg;\n    return;\n  }\n\n  let returnValue = datavizInstance;\n\n  if (datavizInstance.config.renderAsPromise) {\n    returnValue = new Promise((resolve, reject) => {\n      const customCallback = this.config.onrendered;\n      datavizInstance.config.onrendered = () => {\n        if (customCallback) {\n          customCallback();\n        }\n        resolve(datavizInstance);\n      }\n    });\n  }\n\n  domReady(function(){\n    const shouldRenderExecutionMetadata = datavizInstance.execution_metadata\n      && datavizInstance.config.ui\n      && datavizInstance.config.ui.executionMetadata;\n    const shouldRenderDownloadBtn = datavizInstance.config.ui\n      && datavizInstance.config.ui.buttons\n      && datavizInstance.config.ui.buttons.download\n      && datavizInstance.config.ui.buttons.download.type;\n    if (datavizInstance.view._prepared && loader.destroy) {\n      loader.destroy.apply(datavizInstance, arguments);\n    }\n    containerElement.innerHTML = '';\n\n    if (Dataviz.libraries[library] === 'undefined'){\n      // Error: Unregistered library\n      const msg = `Incorrect library`;\n      datavizInstance.message(msg);\n      throw msg;\n      return;\n    }\n    else {\n      if (typeof Dataviz.libraries[library][type] === 'undefined') {\n        const msg = `Incorrect chart type`;\n        const mappedMsg = this.config.errorMapping[msg] || msg;\n        datavizInstance.message(mappedMsg);\n        throw msg;\n        return;\n      }\n      else {\n        buildDomWrapper(containerElement,\n          datavizInstance.config\n        );\n        if (shouldRenderDownloadBtn) {\n          renderDownloadButton({\n            element: containerElement,\n            data: datavizInstance.dataset.matrix,\n            type: datavizInstance.config.ui.buttons.download.type,\n            label: datavizInstance.config.ui.buttons.download.label,\n           })\n        }\n        if (shouldRenderExecutionMetadata) {\n          renderExecutionMetadata({\n            element: containerElement,\n            data: datavizInstance.execution_metadata,\n          })\n        }\n        const { renderOnVisible } = datavizInstance.config;\n        if(renderOnVisible){\n          if(typeof IntersectionObserver !== 'undefined'){\n            const chartVisibleCallback = (events, observer) => {\n              events.forEach(el => {\n                if(el.isIntersecting){\n                  if(!datavizInstance.view._rendered){\n                    Dataviz.libraries[library][type].render.call(datavizInstance);\n                    datavizInstance.view._rendered = true;\n                  }\n                }\n              })\n            }\n            const observer = new IntersectionObserver(chartVisibleCallback);\n            observer.observe(containerElement);\n            return;\n          }\n        }\n        if(datavizInstance.config.firstVisibilityState === 'hidden'){\n          if(typeof document !== 'undefined') {\n            let hidden, visibilityChange;\n            if (typeof document.hidden !== \"undefined\") {\n              hidden = \"hidden\";\n              visibilityChange = \"visibilitychange\";\n            } else if (typeof document.msHidden !== \"undefined\") {\n              hidden = \"msHidden\";\n              visibilityChange = \"msvisibilitychange\";\n            } else if (typeof document.webkitHidden !== \"undefined\") {\n              hidden = \"webkitHidden\";\n              visibilityChange = \"webkitvisibilitychange\";\n            }\n            const handleVisibilityChange = () => {\n              if(!document[hidden] && datavizInstance.view._artifacts.c3) {\n                datavizInstance.view._artifacts.c3.load(datavizInstance.dataset.matrix);\n              }\n            }\n            if(typeof document.addEventListener !== \"undefined\" ||\n               hidden !== undefined){\n              document.addEventListener(visibilityChange, handleVisibilityChange, {\n                once: true\n              });\n            }\n          }\n        }\n        Dataviz.libraries[library][type].render.call(datavizInstance);\n        datavizInstance.view._rendered = true;\n      }\n    }\n  });\n\n  return returnValue;\n};\n\nDataviz.prototype.sortGroups = function(str){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.sortGroups() is deprecated. Use: new KeenDataviz({ sortGroups: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.sortGroups;\n  this.config.sortGroups = (str ? String(str) : null);\n\n  sortGroups(this, str);\n\n  return this;\n};\n\nfunction sortGroups(datavizInstance){\n  // Sort groups\n  if (datavizInstance.config.sortGroups && datavizInstance.data().length > 1) {\n    if (isDateString(datavizInstance.data()[1][0])) {\n      datavizInstance.dataset.sortColumns(datavizInstance.config.sortGroups, datavizInstance.dataset.getColumnSum);\n    }\n    else {\n      datavizInstance.dataset.sortRows(datavizInstance.config.sortGroups, datavizInstance.dataset.getRowSum);\n    }\n  }\n}\n\nDataviz.prototype.sortIntervals = function(str){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.sortIntervals() is deprecated. Use: new KeenDataviz({ sortIntervals: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.sortIntervals;\n  this.config.sortIntervals = (str ? String(str) : null);\n\n  sortIntervals(this);\n\n  return this;\n};\n\nfunction sortIntervals(datavizInstance){\n  if (datavizInstance.config.sortIntervals) {\n    datavizInstance.dataset.sortRows(datavizInstance.config.sortIntervals);\n  }\n}\n\nDataviz.prototype.stacked = function(bool){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.stacked() is deprecated. Use: new KeenDataviz({ stacked: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.stacked;\n  this.config.stacked = bool ? true : false;\n  return this;\n};\n\nDataviz.prototype.theme = function(str){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.theme() is deprecated. Use: new KeenDataviz({ theme: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.theme;\n  this.config.theme = (str ? String(str) : null);\n  return this;\n};\n\nDataviz.prototype.title = function(str){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.title() is deprecated. Use: new KeenDataviz({ title: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.title;\n  this.config.title = (str ? String(str) : null);\n  return this;\n};\n\nDataviz.prototype.type = function(str){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.type() is deprecated. Use: new KeenDataviz({ type: _your_value_here_ })');\n  }\n  if (!arguments.length) return this.config.type;\n  this.config.type = (str ? convertChartTypes(str) : null);\n  return this;\n};\n\nDataviz.prototype.update = function(){\n  const library = this.config.library;\n  const type = this.config.type;\n  const element = this.el();\n  if (library && type && element && Dataviz.libraries[library][type].update) {\n    Dataviz.libraries[library][type].update.apply(this, arguments);\n  }\n  return this;\n};\n\nDataviz.prototype.width = function(num){\n  if (this.config.showDeprecationWarnings) {\n    console.log('.width() is deprecated - use CSS classes');\n  }\n  return this;\n};\n\nDataviz.prototype.exportImage = function({ quality = 0, bgcolor = '#fff' } = {}) {\n  exportImage({\n    node: this.config.containerElement,\n    quality,\n    bgcolor,\n  });\n};\n\nDataviz.prototype.exportData = function(type='json') {\n  exportData({\n    data: this.dataset.matrix,\n    type,\n  });\n};\n\n// Deprecations\nDataviz.prototype.chartType = Dataviz.prototype.type;\nDataviz.prototype.error = Dataviz.prototype.message;\nDataviz.prototype.parseRawData = Dataviz.prototype.data;\nDataviz.prototype.parseRequest = function(){\n  // this.emit('error', 'This method is no longer supported. Use .data() instead: https://github.com/keen/keen-dataviz.js#data');\n  return this;\n};\nDataviz.prototype.initialize = function(){\n  // this.emit('error', 'This method is no longer supported, and can be omitted as it has no impact');\n  return this;\n};\n\nDataviz.version = pkg.version;\n\n// Private\n\nfunction buildDomWrapper(el, options) {\n  let html = '';\n  let chart100percentWide = '';\n  let rangeChart = '';\n  if (options.legend.position === 'top' || options.legend.position === 'bottom') {\n    chart100percentWide = 'c3-chart-100-percent';\n  }\n  if (options.range) {\n    rangeChart = 'keen-dataviz-range';\n  }\n  let container = `<div class=\"c3-chart ${chart100percentWide} ${rangeChart}\"></div>`;\n  const verticalAlignment = ['top', 'middle', 'bottom'];\n  const horizontalAlignment = ['left', 'center', 'right'];\n  let align = 'horizontal';\n  let legendItemsAlign = 'center';\n  if (horizontalAlignment.includes(options.legend.alignment)) {\n    legendItemsAlign = options.legend.alignment;\n  }\n  if (options.legend.position === 'left' || options.legend.position === 'right') {\n    align = 'vertical';\n    if (verticalAlignment.includes(options.legend.alignment)) {\n      legendItemsAlign = options.legend.alignment;\n    }\n  }\n  if (options.legend && options.legend.show) {\n    if (options.legend.position === 'top' || options.legend.position === 'left') {\n      container = `<div class=\"keen-c3-legend keen-c3-legend-${align} keen-c3-legend-${options.legend.position} keen-c3-legend-align-${legendItemsAlign}\"></div>${container}`;\n    } else {\n      container = `${container}<div class=\"keen-c3-legend keen-c3-legend-${align} keen-c3-legend-${options.legend.position} keen-c3-legend-align-${legendItemsAlign}\"></div>`;\n    }\n  }\n  if(!options.react){\n    html += `<div class=\"${options.theme}\">`;\n  }\n  if (options.title && options.showTitle) {\n    html += `<div class=\"keen-dataviz-title ${options.theme}-title\">${options.title}</div>`;\n  }\n  if (options.subtitle) {\n    html += `<div class=\"keen-dataviz-subtitle ${options.theme}-subtitle\">${options.subtitle}</div>`;\n  }\n  html += `<div class=\"keen-dataviz-rendering keen-dataviz-rendering-${align} ${options.theme}-rendering ${options.theme}-rendering-${align}\">${container}</div>`;\n  if (options.notes) {\n    html += `<div class=\"keen-dataviz-notes ${options.theme}-notes\">${options.notes}</div>`;\n  }\n  if(!options.react){\n    html += '</div>';\n  }\n\n  el.innerHTML = html;\n}\n\nfunction convertChartTypes(str) {\n  const map = {\n    areachart: 'area',\n    barchart: 'horizontal-bar',\n    columnchart: 'bar',\n    linechart: 'line',\n    piechart: 'pie',\n  };\n  return map[str] || str;\n}\n\nfunction testDom(fn) {\n  if (/in/.test(document.readyState)) {\n    setTimeout(() => {\n      testDom(fn);\n    }, 9);\n  } else {\n    fn();\n  }\n}\n\nfunction domReady(fn) {\n  if (typeof document !== 'undefined' || typeof window === 'undefined') {\n    fn();\n    return;\n  }\n  // Firefox 3.5 shim\n  if (document.readyState == null && document.addEventListener) {\n    document.addEventListener('DOMContentLoaded', function DOMContentLoaded() {\n      document.removeEventListener('DOMContentLoaded', DOMContentLoaded, false);\n      document.readyState = 'complete';\n    }, false);\n    document.readyState = 'loading';\n  }\n  testDom(fn);\n}\n\nexport { Dataset } from './dataset';\n\nexport default Dataviz;\n","import { each } from '../../utils/each';\n\nexport function deleteColumn(q) {\n  const self = this;\n  const index = (typeof q === 'number') ? q : this.matrix[0].indexOf(q);\n\n  if (index > -1) {\n    each(self.matrix, function(row, i){\n      self.matrix[i].splice(index, 1);\n    });\n  }\n  return self;\n}\n\nexport function deleteRow(q) {\n  var index = (typeof q === 'number') ? q : this.selectColumn(0).indexOf(q);\n\n  if (index > -1) {\n    this.matrix.splice(index, 1);\n  }\n  return this;\n}\n","import { each } from '../../utils/each';\n\nexport function filterColumns(fn) {\n  const self = this;\n  const clone = [];\n\n  each(self.matrix, function(row, i) {\n    clone.push([]);\n  });\n\n  each(self.matrix[0], function(col, i){\n    var selectedColumn = self.selectColumn(i);\n    if (i == 0 || fn.call(self, selectedColumn, i)) {\n      each(selectedColumn, function(cell, ri){\n        clone[ri].push(cell);\n      });\n    }\n  });\n\n  self.data(clone);\n  return self;\n}\n\nexport function filterRows(fn) {\n  const self = this;\n  const clone = [];\n\n  each(self.matrix, function(row, i){\n    if (i == 0 || fn.call(self, row, i)) {\n      clone.push(row);\n    }\n  });\n\n  self.data(clone);\n  return self;\n}\n","import { each } from '../../utils/each';\nimport createNullList from '../utils/create-null-list';\nimport { appendRow, appendColumn } from './append';\n\nexport function insertColumn(index, str, input) {\n  const self = this;\n  const label = (str !== undefined) ? str : null;\n\n  if (typeof input === 'function') {\n\n    self.matrix[0].splice(index, 0, label);\n    each(self.matrix, function(row, i) {\n      var cell;\n      if (i > 0) {\n        cell = input.call(self, row, i);\n        if (typeof cell === 'undefined') {\n          cell = null;\n        }\n        self.matrix[i].splice(index, 0, cell);\n      }\n    });\n\n  }\n\n  else if (!input || input instanceof Array) {\n    input = input || [];\n\n    if (input.length <= self.matrix.length - 1) {\n      input = input.concat( createNullList(self.matrix.length - 1 - input.length) );\n    }\n    else {\n      // If this new column is longer than existing columns,\n      // we need to update the rest to match ...\n      each(input, function(value, i){\n        if (self.matrix.length -1 < input.length) {\n          appendRow.call(self, String( self.matrix.length ));\n        }\n      });\n    }\n\n    self.matrix[0].splice(index, 0, label);\n    each(input, function(value, i){\n      self.matrix[i+1].splice(index, 0, value);\n    });\n\n  }\n  return self;\n}\n\nexport function insertRow(index, str, input) {\n  const self = this;\n  const newRow = [];\n  const label = (str !== undefined) ? str : null;\n  newRow.push(label);\n\n  if (typeof input === 'function') {\n    each(self.matrix[0], function(label, i) {\n      let col;\n      let cell;\n      if (i > 0) {\n        col = self.selectColumn(i);\n        cell = input.call(self, col, i);\n        if (typeof cell === 'undefined') {\n          cell = null;\n        }\n        newRow.push(cell);\n      }\n    });\n    self.matrix.splice(index, 0, newRow);\n  }\n\n  else if (!input || input instanceof Array) {\n    input = input || [];\n\n    if (input.length <= self.matrix[0].length - 1) {\n      input = input.concat( createNullList( self.matrix[0].length - 1 - input.length ) );\n    }\n    else {\n      each(input, function(value, i){\n        if (self.matrix[0].length -1 < input.length) {\n          appendColumn.call(self, String( self.matrix[0].length ));\n        }\n      });\n    }\n\n    self.matrix.splice(index, 0, newRow.concat(input) );\n  }\n\n  return self;\n}\n","import { each } from '../../utils/each';\n\nexport function selectColumn(q) {\n  const result = [];\n  const index = (typeof q === 'number') ? q : this.matrix[0].indexOf(q);\n\n  if (index > -1 && typeof this.matrix[0][index] !== 'undefined') {\n    each(this.matrix, function(row, i) {\n      result.push(row[index]);\n    });\n  }\n  return result;\n}\n\nexport function selectRow(q) {\n  let result = [];\n  const index = (typeof q === 'number') ? q : this.selectColumn(0).indexOf(q);\n\n  if (index > -1 && typeof this.matrix[index] !== 'undefined') {\n    result = this.matrix[index];\n  }\n  return result;\n}\n","import { each } from '../../utils/each';\nimport analysesUtilMethods from '../utils/analyses';\n\nexport function sortColumns(str, comp) {\n  var self = this,\n      head = this.matrix[0].slice(1), // minus index\n      cols = [],\n      clone = [],\n      fn = comp || analysesUtilMethods.getColumnLabel;\n\n  // Isolate each column (except the index)\n  each(head, function(cell, i) {\n    cols.push(self.selectColumn(i+1).slice(0));\n  });\n  cols.sort(function(a,b){\n    // If fn(a) > fn(b)\n    var op = fn.call(self, a) > fn.call(self, b);\n    if (op) {\n      return (str === 'asc' ? 1 : -1);\n    } else if (!op) {\n      return (str === 'asc' ? -1 : 1);\n    } else {\n      return 0;\n    }\n  });\n  each(cols, function(col, i) {\n    self\n      .deleteColumn(i+1)\n      .insertColumn(i+1, col[0], col.slice(1));\n  });\n  return self;\n}\n\nexport function sortRows(str, comp) {\n  var self = this,\n      head = this.matrix.slice(0,1),\n      body = this.matrix.slice(1),\n      fn = comp || analysesUtilMethods.getRowIndex;\n  body.sort(function(a, b){\n    // If fn(a) > fn(b)\n    var op = fn.call(self, a) > fn.call(self, b);\n    if (op) {\n      return (str === 'asc' ? 1 : -1);\n    } else if (!op) {\n      return (str === 'asc' ? -1 : 1);\n    } else {\n      return 0;\n    }\n  });\n  self.data(head.concat(body));\n  return self;\n}\n","import { each } from '../../utils/each';\nimport createNullList from '../utils/create-null-list';\nimport { appendRow, appendColumn } from './append';\n\nexport function updateColumn(q, input) {\n  var self = this,\n      index = (typeof q === 'number') ? q : this.matrix[0].indexOf(q);\n\n  if (index > -1) {\n\n    if (typeof input === 'function') {\n\n      each(self.data(), function(row, i){\n        var cell;\n        if (i > 0) {\n          cell = input.call(self, row[index], i, row);\n          if (typeof cell !== 'undefined') {\n            self.matrix[i][index] = cell;\n          }\n        }\n      });\n\n    } else if (!input || input instanceof Array) {\n      input = input || [];\n\n      if (input.length <= self.data().length - 1) {\n        input = input.concat( createNullList(self.data().length - 1 - input.length) );\n      }\n      else {\n        // If this new column is longer than existing columns,\n        // we need to update the rest to match ...\n        each(input, function(value, i){\n          if (self.matrix.length -1 < input.length) {\n            appendRow.call(self, String( self.matrix.length ));\n          }\n        });\n      }\n\n      each(input, function(value, i){\n        self.matrix[i+1][index] = value;\n      });\n\n    }\n\n  }\n  return self;\n}\n\nexport function updateRow(q, input){\n  var self = this,\n      index = (typeof q === 'number') ? q : this.selectColumn(0).indexOf(q);\n\n  if (index > -1) {\n\n    if (typeof input === 'function') {\n\n      each(self.data()[index], function(value, i){\n        var col = self.selectColumn(i),\n        cell = input.call(self, value, i, col);\n        if (typeof cell !== 'undefined') {\n          self.matrix[index][i] = cell;\n        }\n      });\n\n    } else if (!input || input instanceof Array) {\n      input = input || [];\n\n      if (input.length <= self.matrix[0].length - 1) {\n        input = input.concat( createNullList( self.matrix[0].length - 1 - input.length ) );\n      }\n      else {\n        each(input, function(value, i){\n          if (self.matrix[0].length -1 < input.length) {\n            appendColumn.call(self, String( self.matrix[0].length ));\n          }\n        });\n      }\n\n      each(input, function(value, i){\n        self.matrix[index][i+1] = value;\n      });\n    }\n\n  }\n  return self;\n}\n","let Dataset; /* injected */\n\nimport { each } from '../../utils/each';\nimport { flatten } from '../utils/flatten';\nimport { valueAtDeepKey } from '../utils/object';\nimport { createExtractionKeys } from '../utils/create-extraction-keys';\n\nexport default function initialize(lib){\n  Dataset = lib;\n  return function(name){\n    var options = Array.prototype.slice.call(arguments, 1);\n\n    if (!parsers[name]) {\n      throw 'Requested parser does not exist';\n    }\n    else {\n      return parsers[name].apply(this, options);\n    }\n  };\n}\n\nfunction parseMetric(){\n  return function(res){\n    return new Dataset()\n      .set(['Value', 'Result'], res.result)\n      .type('metric');\n  }\n}\n\n//var myParser = Dataset.parser('interval', 'timeframe.end');\nfunction parseInterval(){\n  var options = Array.prototype.slice.call(arguments);\n  return function(res){\n    var dataset = new Dataset()\n      .type('interval');\n    each(res.result, function(record, i){\n      var index = options[0] && options[0] === 'timeframe.end' ? record.timeframe.end : record.timeframe.start;\n      dataset.set(['Result', index], record.value);\n    });\n    return dataset;\n  }\n}\n\nfunction parseGroupedMetric(){\n  return function(res){\n    var dataset = new Dataset()\n      .type('grouped-metric');\n    each(res.result, function(record, i){\n      var label;\n      each(record, function(value, key){\n        if (key !== 'result') {\n          label = key;\n        }\n      });\n      dataset.set(['Result', String(record[label])], record.result);\n    });\n    return dataset;\n  }\n}\n\n//var myParser = Dataset.parser('grouped-interval', 'timeframe.end');\nfunction parseGroupedInterval(){\n  var options = Array.prototype.slice.call(arguments);\n  return function(res){\n    var dataset = new Dataset()\n      .type('grouped-interval');\n    each(res.result, function(record, i){\n      var index = options[0] && options[0] === 'timeframe.end' ? record.timeframe.end : record.timeframe.start;\n      if (record.value.length) {\n        each(record.value, function(group, j){\n          var label;\n          each(group, function(value, key){\n            if (key !== 'result') {\n              label = key;\n            }\n          });\n          dataset.set([ String(group[label]), index ], group.result);\n        });\n      }\n      else {\n        dataset.appendRow(index);\n      }\n    });\n    return dataset;\n  }\n}\n\n//var myParser = Dataset.parser('double-grouped-metric', ['first', 'second']);\nfunction parseDoubleGroupedMetric(){\n  var options = Array.prototype.slice.call(arguments);\n  if (!options[0]) throw 'Requested parser requires a sequential list (array) of properties to target as a second argument';\n  return function(res){\n    var dataset = new Dataset()\n      .type('double-grouped-metric');\n    each(res.result, function(record, i){\n      var rowLabel = record[options[0][0]] + ' ' + record[options[0][1]];\n      dataset.set([ 'Result', rowLabel ], record.result);\n    });\n    return dataset;\n  }\n}\n\n//var myParser = Dataset.parser('double-grouped-interval', ['first', 'second'], 'timeframe.end');\nfunction parseDoubleGroupedInterval(){\n  var options = Array.prototype.slice.call(arguments);\n  if (!options[0]) throw 'Requested parser requires a sequential list (array) of properties to target as a second argument';\n  return function(res){\n    var dataset = new Dataset()\n      .type('double-grouped-interval');\n    each(res.result, function(record, i){\n      var index = options[1] && options[1] === 'timeframe.end' ? record.timeframe.end : record.timeframe.start;\n      each(record['value'], function(value, j){\n        var label = value[options[0][0]] + ' ' + value[options[0][1]];\n        dataset.set([ label, index ], value.result);\n      });\n    });\n    return dataset;\n  }\n}\n\nfunction parseFunnel(){\n  return function(res){\n    var result, steps, dataset;\n    if (typeof res.steps !== 'undefined'\n        && typeof res.result !== 'undefined'\n          && res.result instanceof Array) {\n            // Ad-hoc funnel response\n            result = res.result;\n            steps = res.steps;\n    }\n    else if (typeof res.result.steps !== 'undefined'\n        && typeof res.result.result !== 'undefined'\n          && res.result.result instanceof Array) {\n            // Saved funnel response\n            result = res.result.result;\n            steps = res.result.steps;\n    }\n    dataset = new Dataset().type('funnel');\n    dataset.appendColumn('Step Value');\n    each(result, function(value, i){\n      if (typeof steps !== 'undefined' && steps[i]) {\n        dataset.appendRow(String(steps[i].event_collection), [value]);\n      }\n    });\n    return dataset;\n  }\n}\n\nfunction parseList(){\n  return function(res){\n    var dataset = new Dataset()\n      .type('list');\n    each(res.result, function(value, i){\n      dataset.set( [ 'Result', String(i+1) ], value );\n    });\n    return dataset;\n  }\n}\n\nfunction parseExtraction(){\n  let config = this.config;\n  return function(res){\n    const datasetExtraction = new Dataset()\n      .type('extraction');\n\n    const datasetKeys = createExtractionKeys(res.result);\n    let names = Array.from(datasetKeys);\n\n    const tableConfig = config && config.table;\n    if (tableConfig && tableConfig.schema === 'dynamic') {\n      const results = res.result;\n      const keys = {};\n      results.forEach(resultItem => {\n        const resultKeys = Object.keys(flatten(resultItem));\n        if (resultKeys && resultKeys.length) {\n          resultKeys.forEach(keyName => {\n            if (!keys[keyName]) {\n              keys[keyName] = true;\n            }\n          });\n        }\n      });\n      names = Object.keys(keys);\n    }\n\n    let nameI = 0;\n    names.forEach(value => {\n      datasetExtraction.set([ value, '0' ], value);\n      nameI++;\n    });\n\n    if (Dataset) {\n      if (config\n        && config.table\n        && config.table.columns) {\n        names = config.table.columns;\n      }\n    }\n\n    for (let i=0; i<res.result.length; i++){\n      let record = [i+1];\n      for (let iNames=0; iNames<names.length; iNames++){\n        record.push(valueAtDeepKey(res.result[i], names[iNames]));\n      }\n      datasetExtraction.matrix[String(i+1)] = record;\n    }\n\n    datasetExtraction.deleteColumn(0);\n\n    return datasetExtraction;\n  }\n}\n\nfunction parseHeatmapAxis() {\n  return function(res) {\n    const heatmapDataset = new Dataset()\n      .type('heatmap');\n\n    each(res.result, function(value, i){\n      const objKeys = Object.keys(value);\n      const x = value[objKeys[0]];\n      const y = value[objKeys[1]];\n      heatmapDataset.appendRow([ String(x), String(y), value.result]);\n    });\n    return heatmapDataset;\n  }\n}\n\n// Parser definitions\nconst parsers = {\n  metric: parseMetric,\n  interval: parseInterval,\n  'grouped-metric': parseGroupedMetric,\n  'grouped-interval': parseGroupedInterval,\n  'double-grouped-metric': parseDoubleGroupedMetric,\n  'double-grouped-interval': parseDoubleGroupedInterval,\n  funnel: parseFunnel,\n  list: parseList,\n  extraction: parseExtraction,\n  'heatmap-axis': parseHeatmapAxis,\n};\n","export function valueAtDeepKey(obj, is, value) {\n  if (typeof is == 'string')\n    return valueAtDeepKey(obj, is.split('.'), value);\n  else if (is.length==1 && value!==undefined && obj !== null &&\n    typeof obj[is[0]] !== 'undefined')\n    return obj[is[0]] = value;\n  else if (is.length==0)\n    return obj;\n  else if (typeof is === 'undefined' || typeof obj === 'undefined'\n    || is === null || obj === null\n    || typeof obj[is[0]] === 'undefined')\n    return null;\n  else\n    return valueAtDeepKey(obj[is[0]], is.slice(1), value);\n}\n","import { flatten } from '../utils/flatten';\n\nexport function createExtractionKeys(results) {\n  const keys = new Set();\n  results.forEach((result) => {\n    Object.keys(flatten(result)).map((key) => {\n      keys.add(key);\n    });\n  });\n\n  return keys;\n}\n","import Dataset from './dataset';\nimport { extend } from './utils/extend';\nimport { stripHtmlTags } from './utils/strip-html-tags';\n\nexport default function (data) {\n  if (!arguments.length) return this.dataset.data();\n  if (data instanceof Dataset) {\n    this.dataset = data;\n    return this;\n  }\n    return parseResponse.call(this, data);\n};\n\nfunction parseResponse(response) {\n  var dataset,\n      indexBy,\n      meta,\n      parser,\n      parserArgs = [],\n      query,\n      selectedParser,\n      title,\n      type;\n\n  indexBy = this.config.indexBy;\n  meta = response.metadata || {};\n  query = (typeof response.query !== 'undefined') ? response.query : {};\n\n  // Ensure all required params are present\n  query = extend({\n    analysis_type: null,\n    event_collection: null,\n    filters: [],\n    group_by: null,\n    interval: null,\n    timeframe: null,\n    timezone: null\n  }, query);\n\n  if (query.analysis_type === 'funnel') {\n    parser = 'funnel';\n  }\n  else if (query.analysis_type === 'extraction'){\n    parser = 'extraction';\n  }\n  else if (query.analysis_type === 'select_unique') {\n    if (!query.group_by && !query.interval) {\n      parser = 'list';\n    }\n    // else { Not supported }\n  }\n  else if (query.analysis_type) {\n    if (!query.group_by && !query.interval) {\n      parser = 'metric';\n    }\n    else if (query.group_by && !query.interval) {\n      if (query.group_by instanceof Array && query.group_by.length > 1) {\n        parser = 'double-grouped-metric';\n        parserArgs.push(query.group_by);\n      }\n      else {\n        parser = 'grouped-metric';\n      }\n    }\n    else if (query.interval && !query.group_by) {\n      parser = 'interval';\n      parserArgs.push(indexBy);\n    }\n    else if (query.group_by && query.interval) {\n      if (query.group_by instanceof Array && query.group_by.length > 1) {\n        parser = 'double-grouped-interval';\n        parserArgs.push(query.group_by);\n        parserArgs.push(indexBy);\n      }\n      else {\n        parser = 'grouped-interval';\n        parserArgs.push(indexBy);\n      }\n    }\n  }\n\n  if (!parser) {\n\n    // Metric\n    // -------------------------------\n    if (typeof response.result === 'number'){\n      parser = 'metric';\n    }\n\n    // Everything else\n    // -------------------------------\n    if (response.result instanceof Array && response.result.length > 0){\n\n      // Interval w/ single value\n      // -------------------------------\n      if (response.result[0].timeframe && (typeof response.result[0].value == 'number' || response.result[0].value == null)) {\n        parser = 'interval';\n        parserArgs.push(indexBy)\n      }\n\n      // Static GroupBy\n      // -------------------------------\n      if (typeof response.result[0].result == 'number'){\n        parser = 'grouped-metric';\n      }\n\n      // x, y, value for heatmap\n      if (this.config.type === 'heatmap' && Object.keys(response.result[0] === 3 && typeof response.result[0].result === 'number')) {\n        parser = 'heatmap-axis';\n      }\n\n      // Grouped Interval\n      // -------------------------------\n      if (response.result[0].value instanceof Array){\n        parser = 'grouped-interval';\n        parserArgs.push(indexBy)\n      }\n\n      // Funnel\n      // -------------------------------\n      if (typeof response.result[0] === 'number'\n        && typeof response.steps !== 'undefined'){\n          parser = 'funnel';\n          // Move steps into query object\n          query.steps = response.steps;\n      }\n\n      // Select Unique\n      // -------------------------------\n      if ((typeof response.result[0] === 'string' || typeof response.result[0] == 'number') && typeof response.steps === 'undefined'){\n        parser = 'list';\n      }\n\n      // Extraction\n      // -------------------------------\n      if (!parser) {\n        parser = 'extraction';\n      }\n    }\n\n    if (!parser) {\n      parser = 'extraction';\n    }\n  }\n\n  // Set title from saved query body, or create a default title\n  if (this.config.title === undefined) {\n    if (meta.display_name) {\n      title = meta.display_name;\n    }\n    else {\n      title = getDefaultTitle(query);\n    }\n    this.config.title = title;\n  }\n\n  // Set type from saved query body, or use a default type\n  if (!this.config.type) {\n    if (meta.visualization && meta.visualization.chart_type) {\n      type = meta.visualization.chart_type;\n    }\n    else {\n      type = getDefaultType(parser);\n    }\n    this.config.type = type;\n  }\n\n  // Define the appropriate parser\n  selectedParser = Dataset.parser.apply(this, [parser].concat(parserArgs));\n\n  // Parse the response with augmented query body\n  dataset = selectedParser(extend(response, { 'query': query }));\n\n  // Set true dates for 'interval' data\n  if (parser.indexOf('interval') > -1) {\n    dataset.updateColumn(0, function(value, i){\n      return new Date(value);\n    });\n  }\n\n  dataset.updateRow(0, function(value, i){\n    return stripHtmlTags(value);\n  });\n\n  this.dataset = dataset;\n\n  if (response.execution_metadata) {\n    this.execution_metadata = response.execution_metadata;\n  }\n\n  return this;\n}\n\nfunction getDefaultTitle(query) {\n  var analysis = query.analysis_type ? query.analysis_type.replace('_', ' ') : '',\n      title;\n\n  title = analysis.replace( /\\b./g, function(a){\n    return a.toUpperCase();\n  });\n\n  if (query.event_collection) {\n    title += ' - ' + query.event_collection;\n  }\n  return title;\n}\n\nfunction getDefaultType(parser) {\n  let type;\n  switch (parser) {\n    case 'metric':\n      type = 'metric';\n      break;\n    case 'interval':\n      type = 'area';\n      break;\n    case 'grouped-metric':\n    case 'double-grouped-metric':\n      type = 'bar';\n      break;\n    case 'grouped-interval':\n    case 'double-grouped-interval':\n      type = 'line';\n      break;\n    case 'funnel':\n      type = 'horizontal-bar';\n      break;\n    case 'list':\n    case 'extraction':\n    default:\n      type = 'table';\n  }\n  return type;\n}\n","import c3 from 'c3';\n\nimport { each } from '../utils/each';\nimport { extend } from '../utils/extend';\nimport { extendDeep } from '../utils/extend-deep';\nimport isDateString from '../utils/assert-date-string';\nimport c3DefaultDateFormat from './c3/extensions/default-date-format';\nimport c3PaginatingLegend from './c3/extensions/paginating-legend';\n\nimport calculateRange from '../dataset/utils/calculate-range';\nimport { calculateSumForPercents, calculatePercents } from '../dataset/utils/calculate-percents';\n\nimport message from './default/message';\nimport metric from './default/metric';\nimport table from './default/table';\nimport spinner from './default/spinner';\nimport Funnel from './default/funnel';\nimport Funnel3d from './default/funnel-3d';\nimport HorizontalFunnel from './default/horizontal-funnel';\nimport HorizontalFunnel3d from './default/horizontal-funnel-3d';\nimport MetricCombo from './default/metric-combo';\nimport Heatmap from './default/heatmap';\nimport Choropleth from './default/choropleth';\n\nexport default function(lib) {\n  let timer;\n  bindResizeListener(function(){\n    if (timer) {\n      clearTimeout(timer);\n    }\n    const delay = (lib.visuals.length > 12) ? 1000 : 250;\n    timer = setTimeout(function(){\n      each(lib.visuals, function(chart){\n        const c3Chart = chart.view._artifacts.c3;\n        if (c3Chart) {\n          const parentWidth = c3Chart.element.parentNode.parentNode.offsetWidth;\n          let width = parentWidth;\n          if (chart.config.legend && chart.config.legend.show && (chart.config.legend.position === 'left' || chart.config.legend.position === 'right')) {\n            const nextSiblingWidth = c3Chart.element.nextSibling ? c3Chart.element.nextSibling.offsetWidth : 0;\n            const prevSiblingWidth = c3Chart.element.previousSibling ? c3Chart.element.previousSibling.offsetWidth : 0;\n            width = parentWidth - prevSiblingWidth - nextSiblingWidth;\n          }\n\n          c3Chart.resize({\n            width,\n          });\n\n        }\n      });\n    }, delay);\n  });\n\n  return defineC3();\n};\n\nfunction defineC3(){\n  const types = {\n    message,\n    metric,\n    table,\n    spinner,\n    'funnel': new Funnel,\n    'funnel-3d': new Funnel3d,\n    'horizontal-funnel': new HorizontalFunnel,\n    'horizontal-funnel-3d': new HorizontalFunnel3d,\n    'metric-combo': new MetricCombo,\n    'heatmap': new Heatmap,\n    'choropleth': new Choropleth\n  };\n\n  const c3Types = [\n    // Standard types\n    'area',\n    'area-spline',\n    'area-step',\n    'bar',\n    'donut',\n    'gauge',\n    'line',\n    'pie',\n    'step',\n    'spline',\n\n    // Horizontal variant types\n    'horizontal-area',\n    'horizontal-area-spline',\n    'horizontal-area-step',\n    'horizontal-bar',\n    'horizontal-line',\n    'horizontal-step',\n    'horizontal-spline',\n  ];\n\n  const getPaddings = (element, paddingName) => {\n    return parseInt(window.getComputedStyle(element)[`padding${paddingName}`].replace('px', ''));\n  }\n\n  function getDefaultOptions(){\n    const ENFORCED_OPTIONS = {\n      bindto: this.el().querySelector('.' + this.config.theme + '-rendering .c3-chart'),\n      color: {\n        pattern: this.config.colors\n      },\n      data: {\n        colors: { ...this.config.colorMapping },\n        columns: [],\n        type: this.config.type.replace('horizontal-', '')\n      },\n    };\n\n    const renderingElement = this.el();\n\n    let height = renderingElement.offsetHeight;\n\n    height -= (getPaddings(renderingElement, 'Top') + getPaddings(renderingElement, 'Bottom'));\n\n    if (this.config.showTitle) {\n      const titleElement = this.el().querySelector('.keen-dataviz-title');\n      if (titleElement) {\n        height -= titleElement.offsetHeight;\n      } else {\n        height -= parseInt(\n          window\n            .getComputedStyle(this.el(), null)\n            ['font-size'].replace('px','')\n          );\n      }\n    }\n\n    if (this.config.subtitle) {\n      const subtitleElement = this.el().querySelector('.keen-dataviz-subtitle');\n      if (subtitleElement) {\n        height -= subtitleElement.offsetHeight;\n      } else {\n        height -= parseInt(\n          window\n            .getComputedStyle(this.el(), null)\n            ['font-size'].replace('px','')\n          );\n      }\n    }\n\n    if (this.config.notes) {\n      const notesElement = this.el().querySelector('.keen-dataviz-notes');\n      if (notesElement) {\n        height -= notesElement.offsetHeight;\n      } else {\n        height -= parseInt(\n          window\n            .getComputedStyle(this.el(), null)\n            ['font-size'].replace('px','')\n          );\n      }\n    }\n\n    let width = this.el().querySelector('.c3-chart').offsetWidth\n      - (getPaddings(renderingElement, 'Left') + getPaddings(renderingElement, 'Right'));\n    if (width < 0) {\n      width = 0;\n    }\n\n    const DEFAULT_OPTIONS = {\n      size: {\n        width,\n        height:\n          height > 0 ?\n            height\n            : undefined,\n      }\n    };\n\n    const extendedConfig = extendDeep({}, DEFAULT_OPTIONS, this.config, ENFORCED_OPTIONS);\n\n    return extendedConfig;\n  }\n\n  each(c3Types, function(type, index) {\n    types[type] = {\n      render: function(){\n        const options = getDefaultOptions.call(this);\n\n        // 100% for charts\n        const sumArray = calculateSumForPercents(this.dataset.matrix);\n        let oldMatrix = [];\n        if (options.stacking === 'percent' && (type === 'bar' || type === 'horizontal-bar' || type === 'area' || type === 'area-step' || type === 'area-spline')) {\n          oldMatrix = this.dataset.matrix;\n          this.dataset.matrix = [this.dataset.matrix[0], ...calculatePercents(this.dataset.matrix, sumArray)];\n          if(!options.sparkline){\n            options.axis = {\n              y: {\n                padding: {\n                  top: 0,\n                },\n                tick: {\n                  format: d => `${d}%`,\n                },\n              },\n            };\n          }\n        }\n\n        // range charts\n        if (options.range) {\n          this.dataset.matrix = [this.dataset.matrix[0], ...calculateRange(this.dataset.matrix)];\n        }\n\n        if (!!this.config.clearOnRender && options.data.columns.length && this.dataset && this.dataset.meta) {\n          const datasetMeta = this.dataset.meta || {};\n          const { type = '' } = datasetMeta;\n          let spliceFrom = 0;\n          const intervalTypes = ['interval'];\n          if (intervalTypes.includes(type)) {\n            spliceFrom = 1;\n          }\n          options.data.columns.splice(spliceFrom);\n        }\n\n        if (this.data()[0].length === 1 || this.data().length === 1) {\n          const msg = 'No data to display';\n          const mappedMsg = this.config.errorMapping[msg] || msg;\n          if (this.config.showErrorMessages) {\n            this.message(mappedMsg);\n          }\n          return;\n        }\n\n        let removeLegend = false;\n\n        if (type === 'gauge') {\n          // Accommodate a neat bug:\n          options.legend.show = false;\n          options.data.columns = [[\n            this.config.title || this.data()[1][0],\n            this.data()[1][1]\n          ]];\n          removeLegend = true;\n        }\n        else if (type === 'pie' || type === 'donut') {\n          options.data.columns = this.data().slice(1);\n        }\n        else {\n\n          // Apply formatting for horizontal variant types\n          if (type.indexOf('horizontal-') > -1) {\n            options.axis.rotated = type.indexOf('horizontal-') > -1;\n          }\n\n          if (isDateString(this.data()[1][0])) {\n            // TIMESERIES\n            options.axis.x = options.axis.x || {};\n            options.axis.x.type = 'timeseries';\n            options.axis.x.tick = options.axis.x.tick || {\n              format: this.config.dateFormat || c3DefaultDateFormat(this.data()[1][0], this.data()[2] ? this.data()[2][0] : this.data()[1][0]),\n              culling: { max: 5 }\n            };\n\n            options.data.columns[0] = [];\n            each(this.dataset.selectColumn(0), function(cell, i){\n              if (i > 0) {\n                cell = new Date(cell);\n              }\n              options.data.columns[0][i] = cell;\n            });\n            options.data.columns[0][0] = 'x';\n            options.data.x = 'x';\n            if (this.config.stacked && this.data()[0].length > 2) {\n              options.data.groups = [ this.dataset.selectRow(0).slice(1) ];\n            }\n          }\n          else {\n            // CATEGORIES\n            options.axis.x = options.axis.x || {};\n            options.axis.x.type = 'category';\n            options.axis.x.categories = this.dataset.selectColumn(0).slice(1);\n            if (this.config.stacked && this.data()[0].length > 2) {\n              options.data.groups = [ this.dataset.selectRow(0).slice(1) ];\n            }\n          }\n\n          if (this.data()[0].length === 2) {\n            options.legend.show = false;\n            removeLegend = true;\n          }\n\n          each(this.data()[0], function(cell, i){\n            if (i > 0) {\n              options.data.columns.push(this.dataset.selectColumn(i));\n            }\n          }.bind(this));\n        }\n\n        if (removeLegend){\n          const legendElement = this.el().querySelector('.keen-c3-legend');\n          if (legendElement) {\n            legendElement.remove();\n            options.size.width = this.el().querySelector('.c3-chart').offsetWidth;\n          }\n          options.legend.show = false;\n        }\n\n        const chartTypesWithPartialIntervalIndicator = ['area', 'area-spline', 'area-step', 'line', 'spline', 'step'];\n\n        if (options.partialIntervalIndicator\n          && options.partialIntervalIndicator.show\n          && chartTypesWithPartialIntervalIndicator.indexOf(options.type) > -1\n        ) {\n          const results = options.data.columns && options.data.columns[0];\n          if (results && results.length > 1) {\n            const partialResultsRegion = {\n              axis: 'x',\n              start: new Date(results[results.length - 2]),\n              class: options.partialIntervalIndicator.className\n            };\n            options.regions = [...(options.regions || []), partialResultsRegion];\n          }\n        }\n        \n        if (\n          !(options.tooltip && options.tooltip.show === false)\n          &&\n          (options.legend.show === true ||\n          (options.legend\n            && options.legend.tooltip\n            && options.legend.tooltip.show)\n          )) {\n            \n          // Apply custom tooltip\n          options.tooltip = {\n            contents: options.tooltip.contents,\n            format: {\n              title: this.config.tooltip.format.title,\n              value: (value, ratio, id, index) => {\n                let valueFormatted = c3CustomTooltipFiltering.call(this, value, ratio, id, index);\n                if (this.config.tooltip && this.config.tooltip.format && this.config.tooltip.format.value)\n                {\n                  valueFormatted = this.config.tooltip.format.value.call(this, valueFormatted, ratio, id, index);\n                  // Restore value from percents calculation for stacking 100% charts\n                  if (options.stacking === 'percent' && (type === 'bar' || type === 'horizontal-bar' || type === 'area' \n                  || type === 'area-step' || type === 'area-spline')) {\n                    valueFormatted = parseFloat(((valueFormatted / 100) * sumArray[index]).toFixed(2));\n                  }\n                  // Restore value from range calculation for range charts\n                  if (options.range) {\n                    if(id === 'Max'){\n                      valueFormatted += this.dataset.matrix[index+1][2];\n                    }\n                  }\n                  return valueFormatted;\n                }\n                // Restore value from percents calculation for stacking 100% charts\n                if (options.stacking === 'percent' && (type === 'bar' || type === 'horizontal-bar' || type === 'area' \n                || type === 'area-step' || type === 'area-spline')) {\n                  valueFormatted = ((valueFormatted / 100) * sumArray[index]).toFixed(2);\n                  return parseFloat(valueFormatted);\n                }\n                // Restore value from range calculation for range charts\n                if (options.range) {\n                  if(id === 'Max'){\n                    valueFormatted += this.dataset.matrix[index+1][2];\n                  }\n                }\n                return valueFormatted;\n              }\n            }\n          };\n        }\n\n        if (options.legend.show === true) {\n            const c3options = { ...options };\n                // Apply custom color handling\n            c3options.data.color = c3CustomDataMapping.bind(this);\n\n            c3options.legend.hide = true; // hide default c3 legend\n\n            // Render artifacts\n            this.view._artifacts['c3'] = c3.generate(c3options);\n\n            c3PaginatingLegend.call(this, {...options, onLegendRendered: () => {\n              const legendElement = this.el().querySelector('.keen-c3-legend');\n              if (legendElement) {\n                if (\n                    options.legend.position === 'top' ||\n                    options.legend.position === 'bottom'\n                ) {\n                  c3options.size.height -= legendElement.offsetHeight;\n                  this.view._artifacts['c3'].resize({ height: c3options.size.height });\n                } else {\n                  if (c3options.size.width === 0) {\n                    c3options.size.width = this.el().offsetWidth\n                      - getPaddings(this.el(), 'Left')\n                      - getPaddings(this.el(), 'Right');\n                  }\n                  c3options.size.width -= legendElement.offsetWidth;\n                  this.view._artifacts['c3'].resize({ width: c3options.size.width });\n                }\n              }\n            },\n            onPaginated: () => {\n              this.view._artifacts['c3'].flush();\n            }\n          });\n        }\n        else {\n          this.view._artifacts['c3'] = c3.generate(options);\n        }\n\n      },\n      update: function(){\n        // no special update handling\n        this.render();\n      },\n      destroy: function(){\n        if (this.view._artifacts['c3']) {\n          this.view._artifacts['c3'].destroy();\n          this.view._artifacts['c3'] = null;\n        }\n      }\n    };\n  });\n\n  return types;\n}\n\nfunction c3CustomDataMapping(color, d) {\n  const type = this.config.type;\n  if (this.view._artifacts.pagination\n    && type !== 'gauge'\n      /*&& this.type() !== 'pie'\n        && this.type() !== 'donut'*/) {\n          const scope = this.view._artifacts.pagination.labels;\n          if ((d.id && scope.indexOf(d.id) > -1)\n            || (d && !d.id && scope.indexOf(d) > -1)) {\n              return color;\n          }\n          else {\n            if (type === 'donut' || type === 'pie') {\n              return 'rgba(0,0,0,.1)';\n            }\n            else {\n              return 'rgba(0,0,0,.07)';\n            }\n          }\n  }\n  else {\n    return color;\n  }\n}\n\nfunction c3CustomTooltipFiltering(value, ratio, id, index) {\n  const type = this.config.type;\n\n  if (this.view._artifacts.pagination\n    && type !== 'gauge'\n      /*&& this.type() !== 'pie'\n        && this.type() !== 'donut'*/) {\n          const scope = this.view._artifacts.pagination.labels;\n          if (scope.indexOf(id) > -1) {\n            return value;\n          }\n  }\n  else {\n    return value;\n  }\n}\n\nfunction bindResizeListener(fn){\n  if (typeof window === 'undefined') return;\n  window.onresize = window.resize = function(){};\n  if (window.addEventListener) {\n    window.addEventListener('resize', fn, true);\n  }\n  else if (window.attachEvent) {\n    window.attachEvent('onresize', fn);\n  }\n}\n","export default function (startDate, endDate) {\n  const timeDiff = Math.abs(new Date(startDate).getTime() - new Date(endDate).getTime());\n  const months = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'June',\n    'July',\n    'Aug',\n    'Sept',\n    'Oct',\n    'Nov',\n    'Dec'\n  ];\n\n  // Yearly (31536000000) + Monthly\n  if (timeDiff >= 2419200000) {\n    return function(ms){\n      const date = new Date(ms);\n      return months[date.getMonth()] + ' ' + date.getFullYear();\n    };\n  }\n  // Daily\n  else if (timeDiff >= 86400000) {\n    return function(ms){\n      const date = new Date(ms);\n      return months[date.getMonth()] + ' ' + date.getDate();\n    };\n  }\n  // Hourly\n  else if (timeDiff >= 3600000) {\n    return '%I:%M %p';\n  }\n  // Minutely\n  else {\n    return '%I:%M:%S %p';\n  }\n}\n","import * as d3 from 'd3';\n\nimport isDateString from '../../../utils/assert-date-string';\n\nexport default function (options) {\n  const cols = options.data.columns;\n  const datavizInstance = this;\n  const chart = this.view._artifacts.c3;\n  let columns = [];\n  const domNode = this.el().querySelector('.' + datavizInstance.config.theme + '-rendering');\n  const legendConfig = datavizInstance.config.legend;\n\n  const pagination = this.view._artifacts.pagination = {\n    ...{\n      hidden: [],\n      labels: [],\n      offset: 0,\n      limit: Math.round((domNode.offsetHeight - 78) / 20),\n      total: 0\n    },\n    ...legendConfig.pagination\n  };\n\n  if (options.legend.sort) {\n    columns = options.legend.sort(cols);\n\n    // update column order in the data, so tooltip will be the same order\n    const columnsSorted = [];\n    const dataColumnsSorted = [];\n    if (cols[0][0] === 'x') {\n      dataColumnsSorted.push(cols[0]);\n    }\n    columns.forEach(column => {\n      let columnData = options.data.columns.find(item => item[0] === column);\n      dataColumnsSorted.push(columnData);\n    });\n    options.data.columns = dataColumnsSorted;\n  } else {\n    for (let i = 0; i < cols.length; i++) {\n      if (cols[i][0] !== 'x' && !isDateString(cols[i][1])) {\n        columns.push(cols[i][0]);\n      }\n    }\n  }\n\n  const legendElement = this.el().querySelector('.keen-c3-legend');\n\n  let align = 'vertical';\n  if (legendConfig.position === 'top' || legendConfig.position === 'bottom') {\n    align = 'horizontal';\n  }\n\n  const paginateHorizontalLeftElement = document.createElement('div');\n  paginateHorizontalLeftElement.setAttribute('class', 'keen-c3-legend-pagination-icons keen-c3-legend-horizontal-pagination-left');\n  if (align === 'horizontal') {\n    legendElement.append(paginateHorizontalLeftElement);\n  }\n\n  const legendItemsElement = document.createElement('div');\n  legendItemsElement.setAttribute('class', `keen-c3-legend-items keen-c3-legend-${align}-items`);\n  legendElement.append(legendItemsElement);\n\n  const paginateVerticalElement = document.createElement('div');\n  paginateVerticalElement.setAttribute('class', 'keen-c3-legend-pagination keen-c3-legend-pagination-icons');\n  if (align === 'vertical') {\n    legendElement.append(paginateVerticalElement);\n  }\n\n  const paginateHorizontalRightElement = document.createElement('div');\n  paginateHorizontalRightElement.setAttribute('class', 'keen-c3-legend-pagination-icons keen-c3-legend-horizontal-pagination-right');\n  if (align === 'horizontal') {\n    legendElement.append(paginateHorizontalRightElement);\n  }\n\n  paginateData();\n\n  function paginateData(){\n    pagination.labels = columns.slice(pagination.offset, pagination.offset + pagination.limit);\n    pagination.total = columns.length;\n    renderLegendComponent.call(datavizInstance, pagination.labels);\n    if (pagination.total > pagination.limit) {\n      renderPaginationComponent.call(datavizInstance);\n    }\n    if (options.onPaginated){\n      options.onPaginated();\n    }\n  }\n\n  function renderLegendComponent(){\n    legendItemsElement.innerHTML = '';\n\n    pagination.labels.forEach(label => {\n      const labelShortened = legendConfig.label.textMaxLength ? label.slice(0, legendConfig.label.textMaxLength - 1) : label;\n      const legendItem = document.createElement(\"div\");\n      legendItem.innerHTML = `<span class='legend-item-text'>${labelShortened}</span>`;\n      legendItem.chartPartId = label;\n      legendItem.setAttribute('class', 'legend-item');\n      legendItemsElement.append(legendItem);\n\n      const legendItemColorSample = document.createElement(\"span\");\n      legendItemColorSample.setAttribute('class', 'legend-item-color-sample');\n      legendItemColorSample.style.backgroundColor = chart.color(legendItem.chartPartId);\n      legendItem.prepend(legendItemColorSample);\n\n      const tooltipElement = document.createElement(\"div\");\n      legendItem.addEventListener('mouseover', (event) => {\n        chart.focus(legendItem.chartPartId);\n        if (legendConfig.tooltip.show && legendItem.chartPartId.length > legendConfig.label.textMaxLength) {\n          tooltipElement.setAttribute('class', `keen-c3-legend-label-overlay keen-c3-legend-position-${legendConfig.position}`);\n          tooltipElement.innerHTML =\n            `${\n              options.legend.tooltip.pointer ? `<div class='overlay-pointer'></div>` : ``\n            }${legendItem.chartPartId}`;\n          legendItem.append(tooltipElement);\n        }\n      });\n      legendItem.addEventListener('mouseout', (event) => {\n        chart.revert();\n        tooltipElement.remove();\n      });\n      legendItem.addEventListener('click', (event) => {\n        let opacity = 1;\n        const isHidden = pagination.hidden.indexOf(legendItem.chartPartId);\n        if (isHidden < 0) {\n          pagination.hidden.push(legendItem.chartPartId);\n          opacity = .35;\n        }\n        else {\n          pagination.hidden.splice(isHidden, 1);\n          opacity = 1;\n        }\n        legendItem.style.opacity = opacity;\n        chart.toggle(legendItem.chartPartId);\n      });\n  });\n\n    if (options.onLegendRendered){\n      options.onLegendRendered();\n      options.onLegendRendered = null;\n    }\n\n  }\n\n  function renderPaginationComponent(){\n    paginateVerticalElement.innerHTML = '';\n    paginateHorizontalLeftElement.innerHTML = '';\n    paginateHorizontalRightElement.innerHTML = '';\n\n    const arrowUp = document.createElement('i');\n    const arrowDown = document.createElement('i');\n\n    const paginate = (direction) => {\n      if (direction === 'forward') {\n        const diff = pagination.offset + pagination.limit;\n        if (diff < pagination.total) {\n          pagination.offset = diff;\n          return;\n        }\n        pagination.offset = 0;\n        return;\n      }\n\n      const diff = pagination.offset - pagination.limit;\n      if (diff >= 0) {\n        pagination.offset = diff;\n        return;\n      }\n\n      pagination.offset = Math.floor(pagination.total/pagination.limit) * pagination.limit;\n    };\n\n    arrowDown.addEventListener('click', () => {\n      paginate('forward');\n      paginateData();\n      clearSelectedText();\n    });\n\n    arrowUp.addEventListener('click', () => {\n      paginate('backward');\n      paginateData();\n      clearSelectedText();\n    });\n\n    if (legendConfig.position === 'left' || legendConfig.position === 'right') {\n      arrowUp.setAttribute('class', 'up');\n      arrowDown.setAttribute('class', 'down');\n      paginateVerticalElement.append(arrowDown);\n      paginateVerticalElement.append(arrowUp);\n    } else {\n      // bottom top\n      arrowUp.setAttribute('class', 'left');\n      arrowDown.setAttribute('class', 'right');\n      paginateHorizontalLeftElement.append(arrowUp);\n      paginateHorizontalRightElement.append(arrowDown);\n    }\n\n  }\n\n  function clearSelectedText() {\n    let selection;\n    if (document.selection && document.selection.empty) {\n      selection = document.selection;\n      selection.empty();\n    }\n    else if (window.getSelection) {\n      selection = window.getSelection();\n      selection.removeAllRanges();\n    }\n  }\n}\n","export default function calculateRange(matrix) {\n  const newValues = matrix.slice(1).map(d => d.map((e, i) => {\n    if (typeof e === 'number') {\n      if (i === 1) {\n        return e - d[i + 1];\n      }\n    }\n    return e;\n  }));\n  return newValues;\n}","export function calculateSumForPercents(matrix) {\n  const sumArray = [];\n  matrix.slice(1).forEach((d, i) => {\n    d.forEach((e) => {\n      if (typeof e === 'number') {\n        if (!sumArray[i]) {\n          sumArray[i] = e;\n          return sumArray[i];\n        }\n        sumArray[i] += e;\n      }\n      return sumArray[i];\n    });\n  });\n  return sumArray;\n}\n\nexport function calculatePercents(matrix, sumArray) {\n  const newValues = matrix.slice(1).map((d, i) => d.map((e) => {\n    if (typeof e === 'number') {\n      return (e / sumArray[i]) * 100;\n    }\n    return e;\n  }));\n  return newValues;\n}\n","import { escapeHtml } from '../../utils/escape-html';\nimport renderDownloadButton from '../../utils/render-download-btn';\nimport copyToClipboard from '../../utils/copy-to-clipboard';\n\nexport default {\n  render: function(text){\n    const outer = document.createElement('div');\n    const inner = document.createElement('div');\n    const msg = document.createElement('span');\n\n    const titleContainer = document.createElement('div');\n    const subtitleContainer = document.createElement('div');\n    const notesContainer = document.createElement('div');\n\n    outer.className = this.config.theme + ' keen-dataviz-box';\n    inner.className = this.config.theme + '-message';\n\n    // Create title and notes for message\n    titleContainer.className = this.config.theme + '-title';\n    titleContainer.innerHTML = escapeHtml(this.config.title || '');\n    subtitleContainer.className = this.config.theme + '-subtitle';\n    subtitleContainer.innerHTML = escapeHtml(this.config.subtitle || '');\n    notesContainer.className = this.config.theme + '-notes';\n    notesContainer.innerHTML = escapeHtml(this.config.notes || '');\n\n    msg.innerHTML = escapeHtml(text) || '';\n    inner.appendChild(msg);\n\n    if (this.config.title && this.config.showTitle) {\n      outer.appendChild(titleContainer);\n    }\n\n    if (this.config.subtitle) {\n      outer.appendChild(subtitleContainer);\n    }\n\n    outer.appendChild(inner);\n\n    if (this.config.notes) {\n      outer.appendChild(notesContainer);\n    }\n\n    if (this.config.ui\n      && this.config.ui.buttons\n      && this.config.ui.buttons.download\n      && this.config.ui.buttons.download.type) {\n        renderDownloadButton({\n          element: this.el(),\n          data: escapeHtml(text) || '',\n          type: this.config.ui.buttons.download.type,\n          label: this.config.ui.buttons.download.label,\n         })\n      }\n\n      if (this.config.utils\n        && this.config.utils.clickToCopyToClipboard) {\n          titleContainer.addEventListener('click', e => copyToClipboard(e.target.innerText, e));\n          notesContainer.addEventListener('click', e => copyToClipboard(e.target.innerText, e));\n          msg.addEventListener('click', e => copyToClipboard(e.target.innerText, e));\n        }\n\n    this.el().innerHTML = '';\n    this.el().appendChild(outer);\n\n  },\n  update: function(){\n    // no special update handling\n    this.render();\n  },\n  destroy: function(){\n    // no special clean-up\n  }\n};\n","import exportImage from './export-svg';\nimport exportData from './export-data';\n\nexport default function downloadResults(obj) {\n  const { event, type, data } = obj;\n  event.preventDefault();\n  const supportedFormats = ['json', 'csv', 'jpg', 'jpeg', 'png'];\n  const format = type.toLowerCase();\n  if (!supportedFormats.includes(type)) {\n    throw new Error('This type is not supported');\n  }\n\n  const fileName = 'chart';\n  let fileFormat = '';\n  let content = '';\n\n  if (format === 'png') {\n    exportImage({\n      node: event.currentTarget.previousElementSibling,\n    });\n    return;\n  }\n\n  if (format === 'jpg' || format === 'jpeg') {\n    exportImage({\n      node: event.currentTarget.previousElementSibling,\n      quality: 1,\n      bgcolor: '#fff',\n    });\n    return;\n  }\n\n  if (format === 'json') {\n    exportData({ type: format, data });\n  }\n\n  if (format === 'csv') {\n    exportData({ type: format, data });\n  }\n}\n","(function (global) {\n    'use strict';\n\n    var util = newUtil();\n    var inliner = newInliner();\n    var fontFaces = newFontFaces();\n    var images = newImages();\n\n    // Default impl options\n    var defaultOptions = {\n        // Default is to fail on error, no placeholder\n        imagePlaceholder: undefined,\n        // Default cache bust is false, it will use the cache\n        cacheBust: false\n    };\n\n    var domtoimage = {\n        toSvg: toSvg,\n        toPng: toPng,\n        toJpeg: toJpeg,\n        toBlob: toBlob,\n        toPixelData: toPixelData,\n        impl: {\n            fontFaces: fontFaces,\n            images: images,\n            util: util,\n            inliner: inliner,\n            options: {}\n        }\n    };\n\n    if (typeof module !== 'undefined')\n        module.exports = domtoimage;\n    else\n        global.domtoimage = domtoimage;\n\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options\n     * @param {Function} options.filter - Should return true if passed node should be included in the output\n     *          (excluding node means excluding it's children as well). Not called on the root node.\n     * @param {String} options.bgcolor - color for the background, any valid CSS color value.\n     * @param {Number} options.width - width to be applied to node before rendering.\n     * @param {Number} options.height - height to be applied to node before rendering.\n     * @param {Object} options.style - an object whose properties to be copied to node's style before rendering.\n     * @param {Number} options.quality - a Number between 0 and 1 indicating image quality (applicable to JPEG only),\n                defaults to 1.0.\n     * @param {String} options.imagePlaceholder - dataURL to use as a placeholder for failed images, default behaviour is to fail fast on images we can't fetch\n     * @param {Boolean} options.cacheBust - set to true to cache bust by appending the time to the request url\n     * @return {Promise} - A promise that is fulfilled with a SVG image data URL\n     * */\n    function toSvg(node, options) {\n        options = options || {};\n        copyOptions(options);\n        return Promise.resolve(node)\n            .then(function (node) {\n                return cloneNode(node, options.filter, true);\n            })\n            .then(embedFonts)\n            .then(inlineImages)\n            .then(applyOptions)\n            .then(function (clone) {\n                return makeSvgDataUri(clone,\n                    options.width || util.width(node),\n                    options.height || util.height(node)\n                );\n            });\n\n        function applyOptions(clone) {\n            if (options.bgcolor) clone.style.backgroundColor = options.bgcolor;\n\n            if (options.width) clone.style.width = options.width + 'px';\n            if (options.height) clone.style.height = options.height + 'px';\n\n            if (options.style)\n                Object.keys(options.style).forEach(function (property) {\n                    clone.style[property] = options.style[property];\n                });\n\n            return clone;\n        }\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a Uint8Array containing RGBA pixel data.\n     * */\n    function toPixelData(node, options) {\n        return draw(node, options || {})\n            .then(function (canvas) {\n                return canvas.getContext('2d').getImageData(\n                    0,\n                    0,\n                    util.width(node),\n                    util.height(node)\n                ).data;\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a PNG image data URL\n     * */\n    function toPng(node, options) {\n        return draw(node, options || {})\n            .then(function (canvas) {\n                return canvas.toDataURL();\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a JPEG image data URL\n     * */\n    function toJpeg(node, options) {\n        options = options || {};\n        return draw(node, options)\n            .then(function (canvas) {\n                return canvas.toDataURL('image/jpeg', options.quality || 1.0);\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a PNG image blob\n     * */\n    function toBlob(node, options) {\n        return draw(node, options || {})\n            .then(util.canvasToBlob);\n    }\n\n    function copyOptions(options) {\n        // Copy options to impl options for use in impl\n        if(typeof(options.imagePlaceholder) === 'undefined') {\n            domtoimage.impl.options.imagePlaceholder = defaultOptions.imagePlaceholder;\n        } else {\n            domtoimage.impl.options.imagePlaceholder = options.imagePlaceholder;\n        }\n\n        if(typeof(options.cacheBust) === 'undefined') {\n            domtoimage.impl.options.cacheBust = defaultOptions.cacheBust;\n        } else {\n            domtoimage.impl.options.cacheBust = options.cacheBust;\n        }\n    }\n\n    function draw(domNode, options) {\n        return toSvg(domNode, options)\n            .then(util.makeImage)\n            .then(util.delay(100))\n            .then(function (image) {\n                var canvas = newCanvas(domNode);\n                canvas.getContext('2d').drawImage(image, 0, 0);\n                return canvas;\n            });\n\n        function newCanvas(domNode) {\n            var canvas = document.createElement('canvas');\n            canvas.width = options.width || util.width(domNode);\n            canvas.height = options.height || util.height(domNode);\n\n            if (options.bgcolor) {\n                var ctx = canvas.getContext('2d');\n                ctx.fillStyle = options.bgcolor;\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n            }\n\n            return canvas;\n        }\n    }\n\n    function cloneNode(node, filter, root) {\n        if (!root && filter && !filter(node)) return Promise.resolve();\n\n        return Promise.resolve(node)\n            .then(makeNodeCopy)\n            .then(function (clone) {\n                return cloneChildren(node, clone, filter);\n            })\n            .then(function (clone) {\n                return processClone(node, clone);\n            });\n\n        function makeNodeCopy(node) {\n            if (node instanceof HTMLCanvasElement) return util.makeImage(node.toDataURL());\n            return node.cloneNode(false);\n        }\n\n        function cloneChildren(original, clone, filter) {\n            var children = original.childNodes;\n            if (children.length === 0) return Promise.resolve(clone);\n\n            return cloneChildrenInOrder(clone, util.asArray(children), filter)\n                .then(function () {\n                    return clone;\n                });\n\n            function cloneChildrenInOrder(parent, children, filter) {\n                var done = Promise.resolve();\n                children.forEach(function (child) {\n                    done = done\n                        .then(function () {\n                            return cloneNode(child, filter);\n                        })\n                        .then(function (childClone) {\n                            if (childClone) parent.appendChild(childClone);\n                        });\n                });\n                return done;\n            }\n        }\n\n        function processClone(original, clone) {\n            if (!(clone instanceof Element)) return clone;\n\n            return Promise.resolve()\n                .then(cloneStyle)\n                .then(clonePseudoElements)\n                .then(copyUserInput)\n                .then(fixSvg)\n                .then(function () {\n                    return clone;\n                });\n\n            function cloneStyle() {\n                copyStyle(window.getComputedStyle(original), clone.style);\n\n                function copyStyle(source, target) {\n                    if (source.cssText) target.cssText = source.cssText;\n                    else copyProperties(source, target);\n\n                    function copyProperties(source, target) {\n                        util.asArray(source).forEach(function (name) {\n                            target.setProperty(\n                                name,\n                                source.getPropertyValue(name),\n                                source.getPropertyPriority(name)\n                            );\n                        });\n                    }\n                }\n            }\n\n            function clonePseudoElements() {\n                [':before', ':after'].forEach(function (element) {\n                    clonePseudoElement(element);\n                });\n\n                function clonePseudoElement(element) {\n                    var style = window.getComputedStyle(original, element);\n                    var content = style.getPropertyValue('content');\n\n                    if (content === '' || content === 'none') return;\n\n                    var className = util.uid();\n                    clone.className = clone.className + ' ' + className;\n                    var styleElement = document.createElement('style');\n                    styleElement.appendChild(formatPseudoElementStyle(className, element, style));\n                    clone.appendChild(styleElement);\n\n                    function formatPseudoElementStyle(className, element, style) {\n                        var selector = '.' + className + ':' + element;\n                        var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n                        return document.createTextNode(selector + '{' + cssText + '}');\n\n                        function formatCssText(style) {\n                            var content = style.getPropertyValue('content');\n                            return style.cssText + ' content: ' + content + ';';\n                        }\n\n                        function formatCssProperties(style) {\n\n                            return util.asArray(style)\n                                .map(formatProperty)\n                                .join('; ') + ';';\n\n                            function formatProperty(name) {\n                                return name + ': ' +\n                                    style.getPropertyValue(name) +\n                                    (style.getPropertyPriority(name) ? ' !important' : '');\n                            }\n                        }\n                    }\n                }\n            }\n\n            function copyUserInput() {\n                if (original instanceof HTMLTextAreaElement) clone.innerHTML = original.value;\n                if (original instanceof HTMLInputElement) clone.setAttribute(\"value\", original.value);\n            }\n\n            function fixSvg() {\n                if (!(clone instanceof SVGElement)) return;\n                clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n                if (!(clone instanceof SVGRectElement)) return;\n                ['width', 'height'].forEach(function (attribute) {\n                    var value = clone.getAttribute(attribute);\n                    if (!value) return;\n\n                    clone.style.setProperty(attribute, value);\n                });\n            }\n        }\n    }\n\n    function embedFonts(node) {\n        return fontFaces.resolveAll()\n            .then(function (cssText) {\n                var styleNode = document.createElement('style');\n                node.appendChild(styleNode);\n                styleNode.appendChild(document.createTextNode(cssText));\n                return node;\n            });\n    }\n\n    function inlineImages(node) {\n        return images.inlineAll(node)\n            .then(function () {\n                return node;\n            });\n    }\n\n    function makeSvgDataUri(node, width, height) {\n        return Promise.resolve(node)\n            .then(function (node) {\n                node.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');\n                return new XMLSerializer().serializeToString(node);\n            })\n            .then(util.escapeXhtml)\n            .then(function (xhtml) {\n                return '<foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">' + xhtml + '</foreignObject>';\n            })\n            .then(function (foreignObject) {\n                return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' + width + '\" height=\"' + height + '\">' +\n                    foreignObject + '</svg>';\n            })\n            .then(function (svg) {\n                return 'data:image/svg+xml;charset=utf-8,' + svg;\n            });\n    }\n\n    function newUtil() {\n        return {\n            escape: escape,\n            parseExtension: parseExtension,\n            mimeType: mimeType,\n            dataAsUrl: dataAsUrl,\n            isDataUrl: isDataUrl,\n            canvasToBlob: canvasToBlob,\n            resolveUrl: resolveUrl,\n            getAndEncode: getAndEncode,\n            uid: uid(),\n            delay: delay,\n            asArray: asArray,\n            escapeXhtml: escapeXhtml,\n            makeImage: makeImage,\n            width: width,\n            height: height\n        };\n\n        function mimes() {\n            /*\n             * Only WOFF and EOT mime types for fonts are 'real'\n             * see http://www.iana.org/assignments/media-types/media-types.xhtml\n             */\n            var WOFF = 'application/font-woff';\n            var JPEG = 'image/jpeg';\n\n            return {\n                'woff': WOFF,\n                'woff2': WOFF,\n                'ttf': 'application/font-truetype',\n                'eot': 'application/vnd.ms-fontobject',\n                'png': 'image/png',\n                'jpg': JPEG,\n                'jpeg': JPEG,\n                'gif': 'image/gif',\n                'tiff': 'image/tiff',\n                'svg': 'image/svg+xml'\n            };\n        }\n\n        function parseExtension(url) {\n            var match = /\\.([^\\.\\/]*?)$/g.exec(url);\n            if (match) return match[1];\n            else return '';\n        }\n\n        function mimeType(url) {\n            var extension = parseExtension(url).toLowerCase();\n            return mimes()[extension] || '';\n        }\n\n        function isDataUrl(url) {\n            return url.search(/^(data:)/) !== -1;\n        }\n\n        function toBlob(canvas) {\n            return new Promise(function (resolve) {\n                var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n                var length = binaryString.length;\n                var binaryArray = new Uint8Array(length);\n\n                for (var i = 0; i < length; i++)\n                    binaryArray[i] = binaryString.charCodeAt(i);\n\n                resolve(new Blob([binaryArray], {\n                    type: 'image/png'\n                }));\n            });\n        }\n\n        function canvasToBlob(canvas) {\n            if (canvas.toBlob)\n                return new Promise(function (resolve) {\n                    canvas.toBlob(resolve);\n                });\n\n            return toBlob(canvas);\n        }\n\n        function resolveUrl(url, baseUrl) {\n            var doc = document.implementation.createHTMLDocument();\n            var base = doc.createElement('base');\n            doc.head.appendChild(base);\n            var a = doc.createElement('a');\n            doc.body.appendChild(a);\n            base.href = baseUrl;\n            a.href = url;\n            return a.href;\n        }\n\n        function uid() {\n            var index = 0;\n\n            return function () {\n                return 'u' + fourRandomChars() + index++;\n\n                function fourRandomChars() {\n                    /* see http://stackoverflow.com/a/6248722/2519373 */\n                    return ('0000' + (Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n                }\n            };\n        }\n\n        function makeImage(uri) {\n            return new Promise(function (resolve, reject) {\n                var image = new Image();\n                image.onload = function () {\n                    resolve(image);\n                };\n                image.onerror = reject;\n                image.src = uri;\n            });\n        }\n\n        function getAndEncode(url) {\n            var TIMEOUT = 30000;\n            if(domtoimage.impl.options.cacheBust) {\n                // Cache bypass so we dont have CORS issues with cached images\n                // Source: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n                url += ((/\\?/).test(url) ? \"&\" : \"?\") + (new Date()).getTime();\n            }\n\n            return new Promise(function (resolve) {\n                var request = new XMLHttpRequest();\n\n                request.onreadystatechange = done;\n                request.ontimeout = timeout;\n                request.responseType = 'blob';\n                request.timeout = TIMEOUT;\n                request.open('GET', url, true);\n                request.send();\n\n                var placeholder;\n                if(domtoimage.impl.options.imagePlaceholder) {\n                    var split = domtoimage.impl.options.imagePlaceholder.split(/,/);\n                    if(split && split[1]) {\n                        placeholder = split[1];\n                    }\n                }\n\n                function done() {\n                    if (request.readyState !== 4) return;\n\n                    if (request.status !== 200) {\n                        if(placeholder) {\n                            resolve(placeholder);\n                        } else {\n                            fail('cannot fetch resource: ' + url + ', status: ' + request.status);\n                        }\n\n                        return;\n                    }\n\n                    var encoder = new FileReader();\n                    encoder.onloadend = function () {\n                        var content = encoder.result.split(/,/)[1];\n                        resolve(content);\n                    };\n                    encoder.readAsDataURL(request.response);\n                }\n\n                function timeout() {\n                    if(placeholder) {\n                        resolve(placeholder);\n                    } else {\n                        fail('timeout of ' + TIMEOUT + 'ms occured while fetching resource: ' + url);\n                    }\n                }\n\n                function fail(message) {\n                    console.error(message);\n                    resolve('');\n                }\n            });\n        }\n\n        function dataAsUrl(content, type) {\n            return 'data:' + type + ';base64,' + content;\n        }\n\n        function escape(string) {\n            return string.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }\n\n        function delay(ms) {\n            return function (arg) {\n                return new Promise(function (resolve) {\n                    setTimeout(function () {\n                        resolve(arg);\n                    }, ms);\n                });\n            };\n        }\n\n        function asArray(arrayLike) {\n            var array = [];\n            var length = arrayLike.length;\n            for (var i = 0; i < length; i++) array.push(arrayLike[i]);\n            return array;\n        }\n\n        function escapeXhtml(string) {\n            return string.replace(/#/g, '%23').replace(/\\n/g, '%0A');\n        }\n\n        function width(node) {\n            var leftBorder = px(node, 'border-left-width');\n            var rightBorder = px(node, 'border-right-width');\n            return node.scrollWidth + leftBorder + rightBorder;\n        }\n\n        function height(node) {\n            var topBorder = px(node, 'border-top-width');\n            var bottomBorder = px(node, 'border-bottom-width');\n            return node.scrollHeight + topBorder + bottomBorder;\n        }\n\n        function px(node, styleProperty) {\n            var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\n            return parseFloat(value.replace('px', ''));\n        }\n    }\n\n    function newInliner() {\n        var URL_REGEX = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g;\n\n        return {\n            inlineAll: inlineAll,\n            shouldProcess: shouldProcess,\n            impl: {\n                readUrls: readUrls,\n                inline: inline\n            }\n        };\n\n        function shouldProcess(string) {\n            return string.search(URL_REGEX) !== -1;\n        }\n\n        function readUrls(string) {\n            var result = [];\n            var match;\n            while ((match = URL_REGEX.exec(string)) !== null) {\n                result.push(match[1]);\n            }\n            return result.filter(function (url) {\n                return !util.isDataUrl(url);\n            });\n        }\n\n        function inline(string, url, baseUrl, get) {\n            return Promise.resolve(url)\n                .then(function (url) {\n                    return baseUrl ? util.resolveUrl(url, baseUrl) : url;\n                })\n                .then(get || util.getAndEncode)\n                .then(function (data) {\n                    return util.dataAsUrl(data, util.mimeType(url));\n                })\n                .then(function (dataUrl) {\n                    return string.replace(urlAsRegex(url), '$1' + dataUrl + '$3');\n                });\n\n            function urlAsRegex(url) {\n                return new RegExp('(url\\\\([\\'\"]?)(' + util.escape(url) + ')([\\'\"]?\\\\))', 'g');\n            }\n        }\n\n        function inlineAll(string, baseUrl, get) {\n            if (nothingToInline()) return Promise.resolve(string);\n\n            return Promise.resolve(string)\n                .then(readUrls)\n                .then(function (urls) {\n                    var done = Promise.resolve(string);\n                    urls.forEach(function (url) {\n                        done = done.then(function (string) {\n                            return inline(string, url, baseUrl, get);\n                        });\n                    });\n                    return done;\n                });\n\n            function nothingToInline() {\n                return !shouldProcess(string);\n            }\n        }\n    }\n\n    function newFontFaces() {\n        return {\n            resolveAll: resolveAll,\n            impl: {\n                readAll: readAll\n            }\n        };\n\n        function resolveAll() {\n            return readAll(document)\n                .then(function (webFonts) {\n                    return Promise.all(\n                        webFonts.map(function (webFont) {\n                            return webFont.resolve();\n                        })\n                    );\n                })\n                .then(function (cssStrings) {\n                    return cssStrings.join('\\n');\n                });\n        }\n\n        function readAll() {\n            return Promise.resolve(util.asArray(document.styleSheets))\n                .then(getCssRules)\n                .then(selectWebFontRules)\n                .then(function (rules) {\n                    return rules.map(newWebFont);\n                });\n\n            function selectWebFontRules(cssRules) {\n                return cssRules\n                    .filter(function (rule) {\n                        return rule.type === CSSRule.FONT_FACE_RULE;\n                    })\n                    .filter(function (rule) {\n                        return inliner.shouldProcess(rule.style.getPropertyValue('src'));\n                    });\n            }\n\n            function getCssRules(styleSheets) {\n                var cssRules = [];\n                styleSheets.forEach(function (sheet) {\n                    try {\n                        util.asArray(sheet.cssRules || []).forEach(cssRules.push.bind(cssRules));\n                    } catch (e) {\n                        console.log('Error while reading CSS rules from ' + sheet.href, e.toString());\n                    }\n                });\n                return cssRules;\n            }\n\n            function newWebFont(webFontRule) {\n                return {\n                    resolve: function resolve() {\n                        var baseUrl = (webFontRule.parentStyleSheet || {}).href;\n                        return inliner.inlineAll(webFontRule.cssText, baseUrl);\n                    },\n                    src: function () {\n                        return webFontRule.style.getPropertyValue('src');\n                    }\n                };\n            }\n        }\n    }\n\n    function newImages() {\n        return {\n            inlineAll: inlineAll,\n            impl: {\n                newImage: newImage\n            }\n        };\n\n        function newImage(element) {\n            return {\n                inline: inline\n            };\n\n            function inline(get) {\n                if (util.isDataUrl(element.src)) return Promise.resolve();\n\n                return Promise.resolve(element.src)\n                    .then(get || util.getAndEncode)\n                    .then(function (data) {\n                        return util.dataAsUrl(data, util.mimeType(element.src));\n                    })\n                    .then(function (dataUrl) {\n                        return new Promise(function (resolve, reject) {\n                            element.onload = resolve;\n                            element.onerror = reject;\n                            element.src = dataUrl;\n                        });\n                    });\n            }\n        }\n\n        function inlineAll(node) {\n            if (!(node instanceof Element)) return Promise.resolve(node);\n\n            return inlineBackground(node)\n                .then(function () {\n                    if (node instanceof HTMLImageElement)\n                        return newImage(node).inline();\n                    else\n                        return Promise.all(\n                            util.asArray(node.childNodes).map(function (child) {\n                                return inlineAll(child);\n                            })\n                        );\n                });\n\n            function inlineBackground(node) {\n                var background = node.style.getPropertyValue('background');\n\n                if (!background) return Promise.resolve(node);\n\n                return inliner.inlineAll(background)\n                    .then(function (inlined) {\n                        node.style.setProperty(\n                            'background',\n                            inlined,\n                            node.style.getPropertyPriority('background')\n                        );\n                    })\n                    .then(function () {\n                        return node;\n                    });\n            }\n        }\n    }\n})(this);\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { prettyNumber } from '../../utils/pretty-number';\nimport { escapeHtml } from '../../utils/escape-html';\nimport copyToClipboard from '../../utils/copy-to-clipboard';\n\nfunction formatExtractionData(res, prop) {\n  const { query, result } = res;\n  const formattedResult = [];\n  if (query.analysis_type !== 'extraction') throw new Error('Analysis type is not an extraction!');\n  if (Array.isArray(result)) {\n    result.forEach((item) => {\n      const itemProp = prop.split('.').reduce((acc, val) => (acc && acc[val]) || null, item);\n      const obj = {\n        query,\n        result: itemProp,\n      };\n      formattedResult.push(obj);\n    });\n  }\n  return formattedResult;\n}\n\nexport default {\n  render: function(){\n    let color = this.config.colors[0];\n    const theme = this.config.theme;\n    const title = this.config.title;\n    const subtitle = this.config.subtitle;\n    const opts = this.config;\n    let value = '-';\n    let prevValue= '';\n    let html = '';\n    let prefix = '';\n    let suffix = '';\n    let formattedNum;\n    let flexDifferenceStyle = '';\n    let resultDifference = '';\n    let differenceStyle = '';\n    let smallerValue = '';\n    const { results, previousResults, isExtraction, comparedProp } = this.config;\n    if(results && previousResults){\n      flexDifferenceStyle = previousResults ? ' metric-comparison' : '';\n      smallerValue = previousResults && title ? '-smaller' : '';\n      resultDifference = results.result - previousResults.result;\n      differenceStyle = (resultDifference > 0) ? '-green' : '-red';\n      resultDifference = Math.abs(resultDifference);\n      color = '';\n    }\n\n    if (this.data() && this.data()[1] && this.data()[1][1] && typeof this.data()[1][1] === 'number') {\n      value = this.data()[1][1];\n    }\n\n    if (isExtraction && comparedProp) {\n      const formattedResult = formatExtractionData(results, comparedProp);\n      \n      value = formattedResult[0].result;\n      prevValue = formattedResult[1].result;\n\n      flexDifferenceStyle = prevValue ? ' metric-comparison' : '';\n      smallerValue = prevValue && title ? '-smaller' : '';\n      resultDifference = value - prevValue;\n      differenceStyle = (resultDifference > 0) ? '-green' : '-red';\n      resultDifference = Math.abs(resultDifference);\n      color = '';\n    }\n\n    formattedNum = value;\n    if ( (typeof opts['prettyNumber'] === 'undefined' || opts['prettyNumber'] === true)\n      && !isNaN(parseInt(value)) ) {\n        formattedNum = prettyNumber(value);\n        if(results && previousResults){\n          resultDifference = prettyNumber(resultDifference);\n        }\n    }\n\n    if (opts['prefix']) {\n      prefix = '<span class=\"' + theme + '-metric-prefix\">' + opts['prefix'] + '</span>';\n    }\n    if (opts['suffix']) {\n      suffix = '<span class=\"' + theme + '-metric-suffix\">' + opts['suffix'] + '</span>';\n    }\n    html += '<div class=\"' + theme + '\">';\n    html +=   '<div class=\"' + theme + '-metric keen-dataviz-box' + flexDifferenceStyle + '\" title=\"' + escapeHtml(value) + '\" style=\"background-color:' + color + '\">';\n    if (results && previousResults) {\n      html +=   '<div class=\"' + theme + '-metric' + differenceStyle + '\"><div class=\"arrow' + differenceStyle + '\"> </div>' + escapeHtml(resultDifference) + '</div>';\n    }\n    if (isExtraction && comparedProp) {\n      if (value && prevValue) {\n        html +=   '<div class=\"' + theme + '-metric' + differenceStyle + '\"><div class=\"arrow' + differenceStyle + '\"> </div>' + escapeHtml(resultDifference) + '</div>';\n        html += '<small>' + prevValue + '</small>';\n      } else {\n        html += '<p>No data to display</p>';\n      }\n    }\n    html +=     '<div class=\"' + theme + '-metric-value' + smallerValue + '\">' + prefix + escapeHtml(formattedNum) + suffix + '</div>';\n    if (title) {\n      html +=   '<div class=\"' + theme + '-metric-title\">' + escapeHtml(title) + '</div>';\n    }\n    if (subtitle) {\n      html +=   '<div class=\"' + theme + '-metric-subtitle\">' + escapeHtml(subtitle) + '</div>';\n    }\n    html +=   '</div>';\n    html += '</div>';\n\n    this.el().innerHTML = html;\n\n    if (this.config.onrendered) {\n      this.config.onrendered();\n    }\n\n    if (this.config.utils && this.config.utils.clickToCopyToClipboard) {\n      const resultClassName = `.${theme}-metric-value${smallerValue}`;\n      document.querySelector(resultClassName).addEventListener('click', e => copyToClipboard(e.target.innerText, e));\n\n      if (results && previousResults) {\n        const previousResultsClassName = `.${theme}-metric${differenceStyle}`;\n        document.querySelector(previousResultsClassName).addEventListener('click', e => copyToClipboard(e.target.innerText, e));\n      }\n    }\n  },\n  update: function(){\n    // no special update handling\n    this.render();\n  },\n  destroy: function(){\n    // no special clean-up\n  }\n};\n","import { escapeHtml } from '../../utils/escape-html';\nimport copyToClipboard from '../../utils/copy-to-clipboard';\n\nlet currentPage;\nfunction _generateTableRows(datavizInstance, dataset) {\n  let html = '';\n  const defaultConfig = {\n    page: 1,\n    limit: 0,\n    arrows: true\n  };\n  let customConfig = {};\n  if (datavizInstance.config.table && datavizInstance.config.table.pagination) {\n    customConfig = datavizInstance.config.table.pagination;\n  }\n  const config = {\n    ...defaultConfig,\n    ...customConfig\n  };\n\n  if (!currentPage){\n    currentPage = config.page;\n  }\n\n  let datasetPaginated;\n  let pages = 0;\n  if (config.limit === 0) {\n    datasetPaginated = dataset.slice(1); // remove header\n  } else {\n    const start = config.limit * (currentPage - 1) + 1;\n    const end = start + config.limit;\n    datasetPaginated = dataset.slice(start, end);\n    pages = Math.ceil((dataset.length - 1) / config.limit);\n  }\n\n  let columnsArray = datavizInstance.config.table.columns ?\n                   datavizInstance.config.table.columns :\n                   datavizInstance.dataset.matrix[0];\n\n  const colNamesToMap = {};\n  const {\n    mapValues,\n    mapDates,\n  } = datavizInstance.config.table;\n  for (let key in mapValues){\n    colNamesToMap[columnsArray.indexOf(key)] = key;\n  }\n\n  for (let row of datasetPaginated) {\n    html +=   '<tr class=\"table-data-row\">';\n    for (let [index, rowColValue] of row.entries()) {\n      if (mapDates && rowColValue instanceof Date) {\n        rowColValue = mapDates(rowColValue);\n      }\n\n      let rowColValueEscaped = escapeHtml(rowColValue);\n      if(colNamesToMap[index]){\n        html += `<td>${mapValues[colNamesToMap[index]](rowColValueEscaped)}</td>`;\n        continue;\n      }\n      html += `<td>${rowColValueEscaped}</td>`\n    }\n    html +=   '</tr>';\n  }\n\n  if (pages > 1){\n    html += `<tr class=\"table-pagination\"><td colspan=\"999\">`;\n    let pageNumber = 1;\n    const prevPage = (currentPage === 1) ? 1 : (currentPage - 1);\n    const nextPage = (currentPage === pages) ? pages : (currentPage + 1);\n    if (config.arrows){\n      html += `<a class=\"arrow btn\" data-page=\"${prevPage}\">&laquo;</a>`;\n    }\n    while (pageNumber <= pages){\n      html += `<a class=\"btn ${\n        pageNumber === currentPage ? 'active' : ''\n      }\" data-page=\"${pageNumber}\">${pageNumber}</a>`;\n      pageNumber++;\n    }\n    if (config.arrows){\n      html += `<a class=\"arrow btn\" data-page=\"${nextPage}\">&raquo;</a>`;\n    }\n    html += '</td></tr>';\n  }\n\n  return html;\n}\n\nfunction _generateTableHeader(datavizInstance, dataset) {\n  let html = '';\n  let fieldNumber = -1;\n  const tableConfig = datavizInstance.config.table;\n  const columnNames =\n    (tableConfig && tableConfig.columns)\n    || dataset[0];\n  for (let colName of columnNames) {\n    let colNameEscaped = escapeHtml(colName);\n    fieldNumber +=1;\n    html +=  `<th fieldNumber=\"${fieldNumber}\">${colNameEscaped}</th>`;\n  }\n  return html;\n}\n\n\n  const render = function() {\n    const dataset = this.dataset.matrix;\n\n    const el = this.el();\n    const theme = this.config.theme;\n    const datavizInstance = this;\n\n    let html = '';\n\n    const isEmpty = dataset.length === 1 && dataset[0].length === 0;\n    if (isEmpty) {\n      const msg = 'No data to display';\n      const mappedMsg = this.config.errorMapping[msg] || msg;\n      if (this.config.showErrorMessages) {\n        this.message(mappedMsg);\n      }\n      return;\n    }\n\n    // Open wrapper\n    html += `<div class=\"${theme}-table\">`;\n\n    // Static, scrollable table\n    html +=   `<table class=\"${theme}-table-dataset\">`;\n    html +=     '<thead>';\n    html +=       '<tr>';\n    html +=       _generateTableHeader(datavizInstance, dataset);\n    html +=       '</tr>';\n    html +=     '</thead>';\n    // Table data\n    html +=     '<tbody>';\n    html +=     _generateTableRows(datavizInstance, dataset);\n    html +=     '</tbody>';\n    html +=   '</table>';\n/* */\n    // Close wrapper\n    html += '</div>';\n\n    // Inject HTML string\n    el.querySelector(`.${theme}-rendering`).innerHTML = html;\n\n    el\n      .querySelectorAll(`.${theme}-rendering th`)\n      .forEach((item) => {\n        item.addEventListener('click', (event) => {\n          let sortOrder = event.target.getAttribute('order') || 'asc';\n          let fieldNumber =  event.target.getAttribute('fieldNumber');\n          let checker = function (a, b) {\n            let sortOrderNumber = (sortOrder === 'asc') ? 1 : -1;\n\n            if (typeof a[fieldNumber] === 'string') {\n              let nameA = a[fieldNumber].toUpperCase(); // ignore upper and lowercase\n              let nameB = b[fieldNumber].toUpperCase(); // ignore upper and lowercase\n              if (nameA < nameB) {\n                return -1 * sortOrderNumber;\n              }\n              if (nameA > nameB) {\n                return 1* sortOrderNumber;\n              }\n\n              // names must be equal\n              return 0;\n            }\n            return (a[fieldNumber] - b[fieldNumber]) * sortOrderNumber;\n          };\n\n          if (sortOrder === 'asc') {\n            sortOrder = 'desc';\n          } else {\n            sortOrder = 'asc'\n          }\n          event.target.setAttribute('order', sortOrder);\n\n          const first = this.dataset.matrix.shift();\n          this.dataset.matrix.sort(checker);\n          this.dataset.matrix.unshift(first);\n\n          el.querySelector(`.${theme}-rendering tbody`).innerHTML =\n             _generateTableRows(datavizInstance, dataset);\n          attachBtnEventListeners();\n        });\n      });\n\n\n    const attachBtnEventListeners = () => {\n      el.querySelectorAll('.btn').forEach(btn => {\n        btn.addEventListener('click', (event) => {\n          currentPage = parseInt(event.target.getAttribute('data-page'));\n          el.querySelector(`.${theme}-rendering tbody`).innerHTML =\n             _generateTableRows(datavizInstance, dataset);\n             attachBtnEventListeners();\n          }, true);\n      });\n    };\n\n    attachBtnEventListeners(datavizInstance, el, theme);\n\n    if (this.config.onrendered) {\n      this.config.onrendered();\n    }\n\n    if (this.config.utils && this.config.utils.clickToCopyToClipboard) {\n      const tableClass = `.${theme}-table-dataset`;\n      document.querySelector(tableClass)\n        .addEventListener('click', (e) => {\n          const { nodeName, innerText } = e.target;\n          if (nodeName === 'TD') {\n            copyToClipboard(innerText, e);\n          }\n        });\n    }\n  };\n\n\n\nconst update = function(){\n    // no special update handling\n    this.render();\n  };\n\nconst destroy=  function(){};\n\nexport default { render, update, destroy };\n","export default {\n  render: function(){\n    let html = '';\n    const artifacts = this.view._artifacts.spinner = {};\n\n    // Build DOM element\n    html += '<div class=\"' + this.config.theme + '\">';\n    html +=   '<div class=\"keen-spinner-container keen-dataviz-box\">';\n    html +=     '<div class=\"keen-spinner-indicator\"></div>';\n    html +=   '</div>';\n    html += '</div>';\n    this.el().innerHTML = html;\n  },\n  update: function(){\n    // no special update handling\n    this.render();\n  },\n  destroy: function(){\n    if (this.view._artifacts.spinner) {\n      if (this.view._artifacts.spinner.interval) {\n        clearInterval(this.view._artifacts.spinner.interval);\n      }\n      this.view._artifacts.spinner.radius = 0;\n      try {\n        delete this.view._artifacts.spinner;\n      }\n      catch (e) {\n        this.view._artifacts.spinner = undefined;\n      }\n    }\n    this.el().innerHTML = '';\n  }\n};\n","import * as d3 from 'd3';\nimport { textWrap } from '../../utils/svg-text-wrap';\nimport { prettyNumber } from '../../utils/pretty-number';\nimport copyToClipboard from '../../utils/copy-to-clipboard';\n\nexport default class Funnel {\n  render() {\n    const { matrix } = this.dataset;\n    const {\n      colors,\n      container,\n      labelMapping,\n      colorMapping,\n      utils,\n    } = this.config;\n    const opts = this.config;\n    const {\n      percents: {\n        show,\n        countingMethod,\n        decimals,\n      },\n      lines,\n      marginBetweenSteps,\n      resultValues,\n      hover,\n      minimalSize,\n    } = this.config.funnel;\n    const margin = { top: 20, right: 30, bottom: 30, left: 200 };\n    let yMarginElement = 0;\n    if(marginBetweenSteps){\n      yMarginElement = 5;\n    }\n    const funnelContainer = d3.select(container);\n    const chartContainer = d3.select(this.el().querySelector('.' + this.config.theme + '-rendering .c3-chart'));\n    const chart = chartContainer.append('svg');\n    const svgWidth = funnelContainer.style('width').slice(0, -2)\n          - margin.right - margin.left;\n    const svgHeight = funnelContainer.style('height').slice(0, -2)\n          - margin.top - margin.bottom - 30;\n    const elemHeight = svgHeight/(matrix.length - 1);\n    let prevElemWidth = svgWidth;\n    let percent = (100).toFixed(decimals);\n\n    // prepare normal funnel polygons\n    let minimalSizeStep = 0;\n    if(minimalSize){\n      minimalSizeStep = (svgWidth - minimalSize) / (matrix.length-2);\n    }\n    const polygons = matrix.slice(1).map((d, i) => {\n        const newPoints = [\n          {\n            x: ((svgWidth - prevElemWidth)/2),\n            y: elemHeight * i + yMarginElement\n          },\n          {\n            x: ((svgWidth - prevElemWidth)/2 + prevElemWidth),\n            y: elemHeight * i + yMarginElement\n          },\n        ]\n        if(i !== 0){\n          if (countingMethod === \"relative\") {\n            minimalSize\n              ? (prevElemWidth = prevElemWidth - minimalSizeStep)\n              : (prevElemWidth =\n                  (prevElemWidth * d[1]) / matrix[i][1]);\n            percent = ((d[1] / matrix[i][1]) * 100).toFixed(decimals);\n          }\n          if (countingMethod === \"absolute\") {\n            minimalSize\n              ? (prevElemWidth = prevElemWidth - minimalSizeStep)\n              : (prevElemWidth = (svgWidth * d[1]) / matrix[1][1]);\n            percent = ((d[1] / matrix[1][1]) * 100).toFixed(decimals);\n          }\n        }\n        let label = d[0];\n        if(Object.keys(labelMapping).length){\n          for (let key in labelMapping) {\n            if(labelMapping[key] === d[0]) {\n              label = key;\n            }\n          }\n        }\n        let result = d[1];\n        if ( (typeof opts['prettyNumber'] === 'undefined' || opts['prettyNumber'] === true)\n          && !isNaN(parseInt(d[1])) ) {\n            result = prettyNumber(d[1]);\n        }\n        return {\n          name: d[0],\n          label,\n          percent: percent + '%',\n          result,\n          points: [\n            ...newPoints,\n            {\n              x: ((svgWidth - prevElemWidth)/2 + prevElemWidth),\n              y: elemHeight * (i + 1)\n            },\n            {\n              x: ((svgWidth - prevElemWidth)/2),\n              y: elemHeight * (i + 1)\n            }\n          ]\n        }\n    });\n\n  \n    //chart rendering with polygons\n    chart\n      .attr('preserveAspectRatio', 'xMidYMid slice')\n      .attr('viewBox', `0 0 ${svgWidth + margin.left + margin.right} ${svgHeight + margin.top + margin.bottom - 30}`)\n      .attr('height', '100%')\n      .attr('width', '100%')\n      .append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n      .selectAll('polygon')\n      .data(polygons)\n      .enter()\n      .append('polygon')\n        .attr('points', (d) => {\n            return d.points.map((p) => {\n              return [p.x,p.y].join(',');\n            })\n            .join(' ');\n        })\n        .style('fill', (d, i) => {\n          if(colorMapping[d.label]){\n            return colorMapping[d.label];\n          }\n          return colors[i];\n        })\n        .attr('class', (d) => { return d.label; })\n        .attr('cursor', 'pointer');\n\n    if(lines){\n      //rendering lines\n      chart\n        .selectAll('line')\n        .data(polygons)\n        .enter()\n        .append('line')\n        .attr('x1', 10)\n        .attr('y1', (d) => {\n          return d.points[0].y + margin.top - (yMarginElement/2);\n        })\n        .attr('x2', (d) => { return d.points[1].x + margin.left; })\n        .attr('y2', (d) => {\n          return d.points[0].y + margin.top - (yMarginElement/2);\n        })\n        .attr('class', 'chart-lines');\n\n      //rendering last line\n      chart\n        .append('line')\n        .attr('x1', 10)\n        .attr('y1', polygons[polygons.length-1].points[2].y\n                    + margin.top + (yMarginElement/2))\n        .attr('x2', polygons[polygons.length-1].points[2].x + margin.left)\n        .attr('y2', polygons[polygons.length-1].points[2].y\n                    + margin.top + (yMarginElement/2))\n        .attr('class', 'chart-lines');\n    }\n\n    //rendering labels when lines are visible\n    if(lines){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'start')\n        .attr('x', 20)\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + yMarginElement + 5\n        })\n        .attr('class', (d) => { return 'text-label ' + d.label; })\n        .text((d) => { return d.name; })\n        .call(textWrap, margin.left)\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering labels when lines are not visible\n    if(!lines) {\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'end')\n        .attr('x', (d) => {\n          return d.points[0].x + ((d.points[3].x - d.points[0].x)/2)\n                  + (margin.left * 0.9);\n        })\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + yMarginElement + 5\n        })\n        .attr('class', (d) => { return 'text-label ' + d.label; })\n        .text((d) => { return d.name; })\n        .call(textWrap, margin.left)\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering percents for each step\n    if(show && !resultValues){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', svgWidth/2 + margin.left)\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + yMarginElement + 8\n        })\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.percent; })\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering results for each step\n    if(resultValues && !show){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', svgWidth/2 + margin.left)\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + yMarginElement + 8\n        })\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.result; })\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering results and percenage together\n    if(show && resultValues){\n      //rendering percents\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', svgWidth/2 + margin.left)\n        .attr('y', (d) => {\n          if(yMarginElement === 0){\n            return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                    + margin.top + 16\n          }\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + yMarginElement + 12\n        })\n        .attr('class', (d) => { return 'text-second ' + d.label; })\n        .text((d) => { return d.percent; })\n        .attr('cursor', 'pointer');\n\n      //rendering results\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', svgWidth/2 + margin.left)\n        .attr('y', (d) => {\n          if(yMarginElement === 0){\n            return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                    + margin.top;\n          }\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + yMarginElement - 5;\n        })\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.result; })\n        .attr('cursor', 'pointer');\n    }\n    //hover handling\n    if(hover){\n      const polygonsHover = chart.selectAll('polygon');\n      polygonsHover\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut);\n\n      const labelHover = chart.selectAll('text');\n      labelHover\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut);\n\n      function handleMouseOver(d) {\n        polygonsHover\n          .style('opacity', 0.5);\n        labelHover\n          .style('opacity', 0.5);\n        const thisLabel = /[^ ]*$/.exec(d3.select(this).attr('class'))[0];\n        chart\n          .selectAll(`.${thisLabel}`)\n          .style('opacity', 1);\n      }\n      function handleMouseOut(d) {\n        polygonsHover\n          .style('opacity', 1);\n        labelHover\n          .style('opacity', 1);\n      }\n    }\n\n    // click to copy\n    if (utils && utils.clickToCopyToClipboard) {\n      const label = chart.selectAll('text');\n\n      label.on('click', handleClickToCopy);\n\n      function handleClickToCopy(data) {\n        const { percent, result } = data;\n        if (resultValues) {\n          copyToClipboard(result, d3.event);\n        } else if (show) {\n          copyToClipboard(percent, d3.event);\n        }\n      }\n    }\n  }\n  update() {\n    this.destroy();\n    this.render();\n  }\n  destroy() {\n    const chartContainer = d3.select(this.el().querySelector('.' + this.config.theme + '-rendering .c3-chart'));\n    chartContainer.remove();\n  }\n}\n","import * as d3 from 'd3';\nimport { textWrap } from '../../utils/svg-text-wrap';\nimport { prettyNumber } from '../../utils/pretty-number';\nimport copyToClipboard from '../../utils/copy-to-clipboard';\n\nexport default class Funnel3d {\n  render() {\n    const { matrix } = this.dataset;\n    const {\n      colors,\n      container,\n      labelMapping,\n      colorMapping,\n      utils,\n    } = this.config;\n    const opts = this.config;\n    const {\n      percents: {\n        show,\n        countingMethod,\n        decimals,\n      },\n      lines,\n      resultValues,\n      effect3d,\n      hover,\n      minimalSize,\n    } = this.config.funnel;\n    const margin = { top: 20, right: 30, bottom: 60, left: 200 };\n    const funnelContainer = d3.select(container);\n    const chartContainer = d3.select(this.el().querySelector('.' + this.config.theme + '-rendering .c3-chart'));\n    const chart = chartContainer.append('svg');\n    const svgWidth = funnelContainer.style('width').slice(0, -2)\n          - margin.right - margin.left;\n    const svgHeight = funnelContainer.style('height').slice(0, -2)\n          - margin.top - margin.bottom - 30;\n    const elemHeight = svgHeight/(matrix.length - 1);\n    const yMarginElement = elemHeight * 0.3;\n    const shadowCut = (yMarginElement * 2.5);\n    let prevElemWidth = svgWidth;\n    let percent = (100).toFixed(decimals);\n\n    // prepare normal funnel polygons\n    let minimalSizeStep = 0;\n    if(minimalSize){\n      minimalSizeStep = (svgWidth - minimalSize) / (matrix.length-2);\n    }\n    const polygons = matrix.slice(1).map((d, i) => {\n        const newPoints = [\n          {\n            x: ((svgWidth - prevElemWidth)/2),\n            y: elemHeight * i + yMarginElement\n          },\n          {\n            x: ((svgWidth - prevElemWidth)/2 + prevElemWidth),\n            y: elemHeight * i + yMarginElement\n          },\n        ]\n        if(i !== 0){\n          if(countingMethod === 'relative'){\n            minimalSize\n              ? (prevElemWidth = prevElemWidth - minimalSizeStep)\n              : prevElemWidth = prevElemWidth * d[1]/matrix[i][1];\n            percent = ((d[1]/matrix[i][1])*100).toFixed(decimals);\n          }\n          if(countingMethod === 'absolute'){\n            minimalSize\n              ? (prevElemWidth = prevElemWidth - minimalSizeStep)\n              : prevElemWidth = svgWidth * d[1]/matrix[1][1];\n            percent = ((d[1]/matrix[1][1])*100).toFixed(decimals);\n          }\n        }\n        let label = d[0];\n        if(Object.keys(labelMapping).length){\n          for (let key in labelMapping) {\n            if(labelMapping[key] === d[0]) {\n              label = key;\n            }\n          }\n        }\n        let result = d[1];\n        if ( (typeof opts['prettyNumber'] === 'undefined' || opts['prettyNumber'] === true)\n          && !isNaN(parseInt(d[1])) ) {\n            result = prettyNumber(d[1]);\n        }\n        return {\n          name: d[0],\n          label,\n          percent: percent + '%',\n          result,\n          points: [\n            ...newPoints,\n            {\n              x: ((svgWidth - prevElemWidth)/2 + prevElemWidth),\n              y: elemHeight * (i + 1)\n            },\n            {\n              x: ((svgWidth - prevElemWidth)/2),\n              y: elemHeight * (i + 1)\n            }\n          ]\n        }\n    });\n\n    //funnel shadows preparing\n    const polygonsShadows = polygons.map((d, i) => {\n        return {\n          label: d.label,\n          points: [\n            {\n              x: d.points[3].x,\n              y: d.points[3].y\n            },\n            {\n              x: d.points[2].x,\n              y: d.points[2].y\n            },\n            {\n              x: effect3d === 'left'\n              ? d.points[2].x\n              : d.points[2].x - shadowCut < svgWidth/2\n                ? svgWidth/2 + 5\n                : d.points[2].x - shadowCut,\n              y: effect3d === 'left'\n              ? d.points[2].y\n              : d.points[2].y + (yMarginElement/1.5)\n            },\n            {\n              x: effect3d === 'right'\n              ? d.points[3].x\n              : d.points[3].x + shadowCut > svgWidth/2\n                ? svgWidth/2 - 5\n                : d.points[3].x + shadowCut,\n              y: effect3d === 'right'\n              ? d.points[3].y\n              : d.points[3].y + (yMarginElement/1.5)\n            },\n          ]\n        }\n    })\n\n    //connecting funnels with shadows for rendering\n    const polygons3d = polygons.concat(polygonsShadows);\n\n    //chart rendering with polygons\n    chart\n      .attr('preserveAspectRatio', 'xMidYMid meet')\n      .attr('viewBox', `0 0 ${svgWidth + margin.left + margin.right} ${svgHeight + margin.top + margin.bottom - 30}`)\n      .attr('height', '100%')\n      .attr('width', '100%')\n      .append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n      .selectAll('polygon')\n      .data(polygons3d)\n      .enter()\n      .append('polygon')\n        .attr('points', (d) => {\n            return d.points.map((p) => {\n              return [p.x,p.y].join(',');\n            })\n            .join(' ');\n        })\n        .style('fill', (d, i) => {\n          if(i > (polygons.length - 1)){\n            if(colorMapping[d.label]){\n              return d3.rgb(colorMapping[d.label]).darker(1.5);\n            }\n            return d3.rgb(colors[i - (polygons.length)]).darker(1.5);\n          }\n          if(colorMapping[d.label]){\n            return colorMapping[d.label];\n          }\n          return colors[i];\n        })\n        .attr('class', (d) => { return d.label; })\n        .attr('cursor', 'pointer');\n\n    if(lines){\n      //rendering lines\n      chart\n        .selectAll('line')\n        .data(polygons)\n        .enter()\n        .append('line')\n        .attr('x1', 10)\n        .attr('y1', (d) => {\n           return d.points[0].y + margin.top - (yMarginElement/5);\n         })\n        .attr('x2', (d, i) => {\n          if(i === 0){\n            return d.points[1].x + margin.left;\n          }\n          return d.points[1].x + margin.left - shadowCut;\n        })\n        .attr('y2', (d) => {\n          return d.points[0].y + margin.top - (yMarginElement/5);\n        })\n        .attr('class', 'chart-lines');\n\n      //rendering last line\n      chart\n        .append('line')\n        .attr('x1', 10)\n        .attr('y1', polygons[polygons.length-1].points[2].y + margin.top\n                    + yMarginElement - (yMarginElement/5))\n        .attr('x2', polygons[polygons.length-1].points[2].x\n                    + margin.left - shadowCut )\n        .attr('y2', polygons[polygons.length-1].points[2].y + margin.top\n                    + yMarginElement - (yMarginElement/5))\n        .attr('class', 'chart-lines');\n    }\n\n    //rendering labels when lines are visible\n    if(lines){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'start')\n        .attr('x', 20)\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + 5 + (yMarginElement/4)\n        })\n        .attr('class', (d) => { return 'text-label ' + d.label; })\n        .text((d) => { return d.name; })\n        .call(textWrap, margin.left)\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering labels when lines are not visible\n    if(!lines){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'end')\n        .attr('x', (d) => {\n          return d.points[0].x + ((d.points[3].x - d.points[0].x)/2) + 130;\n        })\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + 5;\n        })\n        .attr('class', (d) => { return 'text-label ' + d.label; })\n        .text((d) => { return d.name; })\n        .call(textWrap, margin.left)\n        .attr('cursor', 'pointer');\n    }\n\n      //rendering percents for each step\n    if(show && !resultValues){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', svgWidth/2 + margin.left)\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + 8\n        })\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.percent; })\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering results for each step\n    if(resultValues && !show){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', svgWidth/2 + margin.left)\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + 8\n        })\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.result; })\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering results and percenage together\n    if(show && resultValues){\n      //rendering percents\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', svgWidth/2 + margin.left)\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + 18\n        })\n        .attr('class', (d) => { return 'text-second ' + d.label; })\n        .text((d) => { return d.percent; })\n        .attr('cursor', 'pointer');\n\n      //rendering results\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', svgWidth/2 + margin.left)\n        .attr('y', (d) => {\n          return ((d.points[2].y - d.points[1].y)/2) + d.points[1].y\n                  + margin.top + 3\n        })\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.result; })\n        .attr('cursor', 'pointer');\n    }\n    //hover handling\n    if(hover){\n      const polygonsHover = chart.selectAll('polygon');\n      polygonsHover\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut);\n\n      const labelHover = chart.selectAll('text');\n      labelHover\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut);\n\n      function handleMouseOver(d) {\n        polygonsHover\n          .style('opacity', 0.5);\n        labelHover\n          .style('opacity', 0.5);\n        const thisLabel = /[^ ]*$/.exec(d3.select(this).attr('class'))[0];\n        chart\n          .selectAll(`.${thisLabel}`)\n          .style('opacity', 1);\n      }\n      function handleMouseOut(d) {\n        polygonsHover\n          .style('opacity', 1);\n        labelHover\n          .style('opacity', 1);\n      }\n    }\n\n        // click to copy\n    if (utils && utils.clickToCopyToClipboard) {\n      const label = chart.selectAll('text');\n\n      label.on('click', handleClickToCopy);\n\n      function handleClickToCopy(data) {\n        const { percent, result } = data;\n        if (resultValues) {\n          copyToClipboard(result, d3.event);\n        } else if (show) {\n          copyToClipboard(percent, d3.event);\n        }\n      }\n    }\n  }\n  update() {\n    this.destroy();\n    this.render();\n  }\n  destroy() {\n    const chartContainer = d3.select(this.el().querySelector('.' + this.config.theme + '-rendering .c3-chart'));\n    chartContainer.remove();\n  }\n}\n","import * as d3 from 'd3';\nimport { textWrap } from '../../utils/svg-text-wrap';\nimport { prettyNumber } from '../../utils/pretty-number';\nimport copyToClipboard from '../../utils/copy-to-clipboard';\n\nexport default class HorizontalFunnel {\n  render() {\n    const { matrix } = this.dataset;\n    const {\n      colors,\n      container,\n      labelMapping,\n      colorMapping,\n      utils,\n    } = this.config;\n    const opts = this.config;\n    const {\n      percents: {\n        show,\n        countingMethod,\n        decimals,\n      },\n      lines,\n      marginBetweenSteps,\n      resultValues,\n      hover,\n      minimalSize,\n    } = this.config.funnel;\n    const margin = { top: 20, right: 30, bottom: 100, left: 10 };\n    let xMarginElement = 0;\n    if(marginBetweenSteps){\n      xMarginElement = 5;\n    }\n    const funnelContainer = d3.select(container);\n    const chartContainer = d3.select(this.el().querySelector('.' + this.config.theme + '-rendering .c3-chart'));\n    const chart = chartContainer.append('svg');\n    const svgWidth = funnelContainer.style('width').slice(0, -2)\n          - margin.right - margin.left;\n    const svgHeight = funnelContainer.style('height').slice(0, -2)\n          - margin.top - margin.bottom - 30;\n    const elemWidth= svgWidth/(matrix.length - 1);\n    let prevElemHeight = svgHeight;\n    let percent = (100).toFixed(decimals);\n\n    // prepare normal funnel polygons\n    let minimalSizeStep = 0;\n    if(minimalSize){\n      minimalSizeStep = (svgHeight - minimalSize) / (matrix.length-2);\n    }\n    const polygons = matrix.slice(1).map((d, i) => {\n        const newPoints = [\n          {\n            x: elemWidth * i + xMarginElement,\n            y: ((svgHeight - prevElemHeight)/2)\n          },\n          {\n            x: elemWidth * i + xMarginElement,\n            y: ((svgHeight - prevElemHeight)/2 + prevElemHeight)\n          },\n        ]\n        if(i !== 0){\n          if(countingMethod === 'relative'){\n            minimalSize\n              ? (prevElemHeight = prevElemHeight - minimalSizeStep)\n              : prevElemHeight = prevElemHeight * d[1]/matrix[i][1];\n            percent = ((d[1]/matrix[i][1])*100).toFixed(decimals);\n          }\n          if(countingMethod === 'absolute'){\n            minimalSize\n              ? (prevElemHeight = prevElemHeight - minimalSizeStep)\n              : prevElemHeight = svgHeight * d[1]/matrix[1][1];\n            percent = ((d[1]/matrix[1][1])*100).toFixed(decimals);\n          }\n        }\n        let label = d[0];\n        if(Object.keys(labelMapping).length){\n          for (let key in labelMapping) {\n            if(labelMapping[key] === d[0]) {\n              label = key;\n            }\n          }\n        }\n        let result = d[1];\n        if ( (typeof opts['prettyNumber'] === 'undefined'\n          || opts['prettyNumber'] === true)\n          && !isNaN(parseInt(d[1])) ) {\n            result = prettyNumber(d[1]);\n        }\n        return {\n          name: d[0],\n          label,\n          percent: percent + '%',\n          result,\n          points: [\n            ...newPoints,\n            {\n              x: elemWidth * (i + 1),\n              y: ((svgHeight - prevElemHeight)/2 + prevElemHeight)\n            },\n            {\n              x: elemWidth * (i + 1),\n              y: ((svgHeight - prevElemHeight)/2)\n            }\n          ]\n        }\n    });\n\n    //chart rendering with polygons\n    chart\n      .attr('preserveAspectRatio', 'xMidYMid meet')\n      .attr('viewBox', `0 0 ${svgWidth + margin.left + margin.right} ${svgHeight + margin.top + margin.bottom - 30}`)\n      .attr('height', '100%')\n      .attr('width', '100%')\n      .append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n      .selectAll('polygon')\n      .data(polygons)\n      .enter()\n      .append('polygon')\n        .attr('points', (d) => {\n            return d.points.map((p) => {\n              return [p.x,p.y].join(',');\n            })\n            .join(' ');\n        })\n        .style('fill', (d, i) => {\n          if(colorMapping[d.label]){\n            return colorMapping[d.label];\n          }\n          return colors[i];\n        })\n        .attr('class', (d) => { return d.label; })\n        .attr('cursor', 'pointer');\n\n    if(lines){\n      //rendering lines\n      chart\n        .selectAll('line')\n        .data(polygons)\n        .enter()\n        .append('line')\n        .attr('x1', (d) => {\n          return d.points[0].x + margin.left - (xMarginElement/2);\n        })\n        .attr('y1', svgHeight + margin.bottom)\n        .attr('x2', (d) => {\n          return d.points[0].x + margin.left - (xMarginElement/2);\n        })\n        .attr('y2', (d) => { return d.points[0].y + margin.top; })\n        .attr('class', 'chart-lines');\n\n      //rendering last line\n      chart\n        .append('line')\n        .attr('x1', svgWidth + margin.left - (xMarginElement/2))\n        .attr('y1', svgHeight + margin.bottom)\n        .attr('x2', polygons[polygons.length-1].points[3].x\n                    + margin.left + (xMarginElement/2))\n        .attr('y2', polygons[polygons.length-1].points[3].y + margin.top)\n        .attr('class', 'chart-lines');\n    }\n\n    //rendering labels when lines are visible\n    if(lines){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2) + margin.left\n        })\n        .attr('y', svgHeight + (margin.bottom * 0.5) + margin.top)\n        .attr('class', (d) => { return 'text-label ' + d.label; })\n        .text((d) => { return d.name; })\n        .call(textWrap, elemWidth)\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering labels when lines are not visible\n    if(!lines) {\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2) + margin.left\n        })\n        .attr('y', (d) => {\n          if(d.points[2].y + ((d.points[3].y - d.points[0].y)/2)\n          + (elemWidth/4) > svgHeight + margin.bottom - 40 + margin.top){\n            return svgHeight + margin.bottom - 40 + margin.top;\n          }\n          return d.points[2].y + ((d.points[3].y - d.points[0].y)/2)\n                  + (elemWidth/4) + margin.top;\n        })\n        .attr('class', (d) => { return 'text-label ' + d.label; })\n        .text((d) => { return d.name; })\n        .call(textWrap, elemWidth)\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering percents for each step\n    if(show && !resultValues){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2) + margin.left\n        })\n        .attr('y', svgHeight/2 + margin.top + 10)\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.percent; })\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering results for each step\n    if(resultValues && !show){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2) + margin.left\n        })\n        .attr('y', svgHeight/2 + margin.top + 10)\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.result; })\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering results and percenage together\n    if(show && resultValues){\n      //rendering percents\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2) + margin.left\n        })\n        .attr('y', svgHeight/2 + margin.top + 16)\n        .attr('class', (d) => { return 'text-second ' + d.label; })\n        .text((d) => { return d.percent; })\n        .attr('cursor', 'pointer');\n\n      //rendering results\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2) + margin.left\n        })\n        .attr('y', svgHeight/2+ margin.top - 3)\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.result; })\n        .attr('cursor', 'pointer');\n    }\n    //hover handling\n    if(hover){\n      const polygonsHover = chart.selectAll('polygon');\n      polygonsHover\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut);\n\n      const labelHover = chart.selectAll('text');\n      labelHover\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut);\n\n      function handleMouseOver(d) {\n        polygonsHover\n          .style('opacity', 0.5);\n        labelHover\n          .style('opacity', 0.5);\n        const thisLabel = /[^ ]*$/.exec(d3.select(this).attr('class'))[0];\n        chart\n          .selectAll(`.${thisLabel}`)\n          .style('opacity', 1);\n      }\n      function handleMouseOut(d) {\n        polygonsHover\n          .style('opacity', 1);\n        labelHover\n          .style('opacity', 1);\n      }\n    }\n\n    // click to copy\n    if (utils && utils.clickToCopyToClipboard) {\n      const label = chart.selectAll('text');\n\n      label.on('click', handleClickToCopy);\n\n      function handleClickToCopy(data) {\n        const { percent, result } = data;\n        if (resultValues) {\n          copyToClipboard(result, d3.event);\n        } else if (show) {\n          copyToClipboard(percent, d3.event);\n        }\n      }\n    }\n  }\n  update() {\n    this.destroy();\n    this.render();\n  }\n  destroy() {\n    const chartContainer = d3.select(this.el().querySelector('.' + this.config.theme + '-rendering .c3-chart'));\n    chartContainer.remove();\n  }\n}\n","import * as d3 from 'd3';\nimport { textWrap } from '../../utils/svg-text-wrap';\nimport { prettyNumber } from '../../utils/pretty-number';\nimport copyToClipboard from '../../utils/copy-to-clipboard';\n\nexport default class HorizontalFunnel3d {\n  render() {\n    const { matrix } = this.dataset;\n    const {\n      colors,\n      container,\n      labelMapping,\n      colorMapping,\n      utils,\n    } = this.config;\n    const opts = this.config;\n    const {\n      percents: {\n        show,\n        countingMethod,\n        decimals,\n      },\n      lines,\n      resultValues,\n      effect3d,\n      hover,\n      minimalSize,\n    } = this.config.funnel;\n    const margin = { top: 20, right: 30, bottom: 100, left: 10 };\n    const funnelContainer = d3.select(container);\n    const chartContainer = d3.select(this.el().querySelector('.' + this.config.theme + '-rendering .c3-chart'));\n    const chart = chartContainer.append('svg');\n    const svgWidth = funnelContainer.style('width').slice(0, -2)\n          - margin.right - margin.left;\n    const svgHeight = funnelContainer.style('height').slice(0, -2)\n          - margin.top - margin.bottom - 30;\n    const elemWidth= svgWidth/(matrix.length - 1);\n    const xMarginElement = elemWidth * 0.3;\n    const shadowCut = (xMarginElement/1.5);\n    let prevElemHeight = svgHeight;\n    let percent = (100).toFixed(decimals);\n\n    // prepare normal funnel polygons\n    let minimalSizeStep = 0;\n    if(minimalSize){\n      minimalSizeStep = (svgHeight - minimalSize) / (matrix.length-2);\n    }\n    const polygons = matrix.slice(1).map((d, i) => {\n        const newPoints = [\n          {\n            x: elemWidth * i + xMarginElement,\n            y: ((svgHeight - prevElemHeight)/2)\n          },\n          {\n            x: elemWidth * i + xMarginElement,\n            y: ((svgHeight - prevElemHeight)/2 + prevElemHeight)\n          },\n        ]\n        if(i !== 0){\n          if(countingMethod === 'relative'){\n            minimalSize\n              ? (prevElemHeight = prevElemHeight - minimalSizeStep)\n              : prevElemHeight = prevElemHeight * d[1]/matrix[i][1];\n            percent = ((d[1]/matrix[i][1])*100).toFixed(decimals);\n          }\n          if(countingMethod === 'absolute'){\n            minimalSize\n              ? (prevElemHeight = prevElemHeight - minimalSizeStep)\n              : prevElemHeight = svgHeight * d[1]/matrix[1][1];\n            percent = ((d[1]/matrix[1][1])*100).toFixed(decimals);\n          }\n        }\n        let label = d[0];\n        if(Object.keys(labelMapping).length){\n          for (let key in labelMapping) {\n            if(labelMapping[key] === d[0]) {\n              label = key;\n            }\n          }\n        }\n        let result = d[1];\n        if ( (typeof opts['prettyNumber'] === 'undefined' || opts['prettyNumber'] === true)\n          && !isNaN(parseInt(d[1])) ) {\n            result = prettyNumber(d[1]);\n        }\n        return {\n          name: d[0],\n          label,\n          percent: percent + '%',\n          result,\n          points: [\n            ...newPoints,\n            {\n              x: elemWidth * (i + 1),\n              y: ((svgHeight - prevElemHeight)/2 + prevElemHeight)\n            },\n            {\n              x: elemWidth * (i + 1),\n              y: ((svgHeight - prevElemHeight)/2)\n            }\n          ]\n        }\n    });\n\n    //funnel shadows preparing\n    const polygonsShadows = polygons.map((d, i) => {\n        return {\n          label: d.label,\n          points: [\n            {\n              x: d.points[0].x,\n              y: d.points[0].y\n            },\n            {\n              x: d.points[1].x,\n              y: d.points[1].y\n            },\n            {\n              x: effect3d === 'top'\n              ? d.points[1].x\n              : d.points[1].x - shadowCut,\n              y: effect3d === 'top'\n              ? d.points[1].y\n              : d.points[1].y - xMarginElement < svgHeight/2\n                ? svgHeight/2 + 5\n                : d.points[1].y - xMarginElement\n            },\n            {\n              x: effect3d === 'bottom'\n              ? d.points[0].x\n              : d.points[0].x - shadowCut,\n              y: effect3d === 'bottom'\n              ? d.points[0].y\n              : d.points[0].y + xMarginElement > svgHeight/2\n                ? svgHeight/2 - 5\n                : d.points[0].y + xMarginElement\n            },\n          ]\n        }\n    })\n\n    //connecting funnels with shadows for rendering\n    const polygons3d = polygons.concat(polygonsShadows);\n\n    //chart rendering with polygons\n    chart\n      .attr('preserveAspectRatio', 'xMidYMid meet')\n      .attr('viewBox', `0 0 ${svgWidth + margin.left + margin.right} ${svgHeight + margin.top + margin.bottom - 30}`)\n      .attr('height', '100%')\n      .attr('width', '100%')\n      .append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n      .selectAll('polygon')\n      .data(polygons3d)\n      .enter()\n      .append('polygon')\n        .attr('points', (d) => {\n            return d.points.map((p) => {\n              return [p.x,p.y].join(',');\n            })\n            .join(' ');\n        })\n        .style('fill', (d, i) => {\n          if(i > (polygons.length - 1)){\n            if(colorMapping[d.label]){\n              return d3.rgb(colorMapping[d.label]).darker(1.5);\n            }\n            return d3.rgb(colors[i - (polygons.length)]).darker(1.5);\n          }\n          if(colorMapping[d.label]){\n            return colorMapping[d.label];\n          }\n          return colors[i];\n        })\n        .attr('class', (d) => { return d.label; })\n        .attr('cursor', 'pointer');\n\n    if(lines){\n      //rendering lines\n      chart\n        .selectAll('line')\n        .data(polygons)\n        .enter()\n        .append('line')\n        .attr('x1', (d) => {\n          return d.points[0].x + margin.left - (xMarginElement * 0.8);\n        })\n        .attr('y1', svgHeight + margin.bottom)\n        .attr('x2', (d) => {\n          return d.points[0].x + margin.left - (xMarginElement * 0.8);\n        })\n        .attr('y2', (d) => { return d.points[0].y + margin.top; })\n        .attr('class', 'chart-lines');\n\n      //rendering last line\n      chart\n        .append('line')\n        .attr('x1', svgWidth + margin.left + (xMarginElement/4))\n        .attr('y1', svgHeight + margin.bottom)\n        .attr('x2', polygons[polygons.length-1].points[3].x\n                    + margin.left + (xMarginElement/4))\n        .attr('y2', polygons[polygons.length-1].points[3].y + margin.top)\n        .attr('class', 'chart-lines');\n    }\n\n    //rendering labels when lines are visible\n    if(lines){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[0].x + margin.left + (elemWidth * 0.25)\n        })\n        .attr('y', svgHeight + (margin.bottom * 0.4) + margin.top)\n        .attr('class', (d) => { return 'text-label ' + d.label; })\n        .text((d) => { return d.name; })\n        .call(textWrap, elemWidth)\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering labels when lines are not visible\n    if(!lines) {\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[0].x + margin.left + (elemWidth * 0.25)\n        })\n        .attr('y', (d) => {\n          if(d.points[2].y + (elemWidth/4) >\n          svgHeight + margin.bottom - 40){\n            return svgHeight + margin.bottom - 40 + margin.top;\n          }\n          if(d.points[2].y + (elemWidth/4) < d.points[1].y){\n            return d.points[1].y + 20 + margin.top;\n          }\n          return d.points[2].y + (elemWidth/4) + 10 + margin.top;\n        })\n        .attr('class', (d) => { return 'text-label ' + d.label; })\n        .text((d) => { return d.name; })\n        .call(textWrap, elemWidth)\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering percents for each step\n    if(show && !resultValues){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2.8) + margin.left\n        })\n        .attr('y', svgHeight/2 + margin.top + 10)\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.percent; })\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering results for each step\n    if(resultValues && !show){\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2.8) + margin.left\n        })\n        .attr('y', svgHeight/2 + margin.top + 10)\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.result; })\n        .attr('cursor', 'pointer');\n    }\n\n    //rendering results and percenage together\n    if(show && resultValues){\n      //rendering percents\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2.8) + margin.left\n        })\n        .attr('y', svgHeight/2 + margin.top + 16)\n        .attr('class', (d) => { return 'text-second ' + d.label; })\n        .text((d) => { return d.percent; })\n        .attr('cursor', 'pointer');\n\n      //rendering results\n      chart\n        .selectAll('text.label')\n        .data(polygons)\n        .enter()\n        .append('text')\n        .style('text-anchor', 'middle')\n        .attr('x', (d) => {\n          return d.points[1].x + (elemWidth/2.8) + margin.left\n        })\n        .attr('y', svgHeight/2+ margin.top - 3)\n        .attr('class', (d) => { return 'text-main ' + d.label; })\n        .text((d) => { return d.result; })\n        .attr('cursor', 'pointer');\n    }\n\n    //hover handling\n    if(hover){\n      const polygonsHover = chart.selectAll('polygon');\n      polygonsHover\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut);\n\n      const labelHover = chart.selectAll('text');\n      labelHover\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut);\n\n      function handleMouseOver(d) {\n        polygonsHover\n          .style('opacity', 0.5);\n        labelHover\n          .style('opacity', 0.5);\n        const thisLabel = /[^ ]*$/.exec(d3.select(this).attr('class'))[0];\n        chart\n          .selectAll(`.${thisLabel}`)\n          .style('opacity', 1);\n      }\n      function handleMouseOut(d) {\n        polygonsHover\n          .style('opacity', 1);\n        labelHover\n          .style('opacity', 1);\n      }\n    }\n\n    // click to copy\n    if (utils && utils.clickToCopyToClipboard) {\n      const label = chart.selectAll('text');\n\n      label.on('click', handleClickToCopy);\n\n      function handleClickToCopy(data) {\n        const { percent, result } = data;\n        if (resultValues) {\n          copyToClipboard(result, d3.event);\n        } else if (show) {\n          copyToClipboard(percent, d3.event);\n        }\n      }\n    }\n  }\n  update() {\n    this.destroy();\n    this.render();\n  }\n  destroy() {\n    const chartContainer = d3.select(this.el().querySelector('.' + this.config.theme + '-rendering .c3-chart'));\n    chartContainer.remove();\n  }\n}\n","/* eslint-env browser */\nimport c3 from 'c3';\nimport { each } from '../../utils/each';\nimport { prettyNumber } from '../../utils/pretty-number';\nimport copyToClipboard from '../../utils/copy-to-clipboard';\n\nexport default class MetricCombo {\n  render() {\n    const {\n      container,\n      metricResults,\n      title,\n      showTitle,\n      subtitle,\n      tooltip,\n      utils,\n    } = this.config;\n\n    const colors = ['#c3c4cc'];\n    const columns = [];\n    columns[0] = [];\n    each(this.dataset.selectColumn(0), (c, i) => {\n      let cell;\n      if (i > 0) {\n        cell = new Date(c);\n      }\n      columns[0][i] = cell;\n    });\n    columns[0][0] = 'x';\n\n    each(this.data()[0], (c, i) => {\n      if (i > 0) {\n        columns.push(this.dataset.selectColumn(i));\n      }\n    });\n\n    const prevResult = (metricResults && metricResults.previous && metricResults.previous.result)\n      || 0;\n    const currResult = (metricResults && metricResults.current && metricResults.current.result)\n      || 0;\n    const count = currResult - prevResult;\n    const percentDifference = prevResult === 0 ? '-' : prettyNumber(Math.round((count / prevResult) * 100));\n    let labelClass = 'keen-dataviz-metric-green';\n    let iconClass = 'arrow-green';\n\n    if (percentDifference < 0) {\n      labelClass = 'keen-dataviz-metric-red';\n      iconClass = 'arrow-red';\n    }\n\n    const containerTitle = (showTitle && title) ? `<div class=\"keen-dataviz-title\">${title}</div>` : '';\n    const containerSubtitle = subtitle ? `<div class=\"keen-dataviz-subtitle\">${subtitle}</div>` : '';\n    const containerElement = document.querySelector(container);\n    containerElement.innerHTML = `\n      <div class=\"keen-dataviz\">\n        <div class=\"keen-dataviz-metric-combo\">\n          <div class=\"metric-combo-data\">\n            ${containerTitle}\n            ${containerSubtitle}\n            <div class=\"percent-difference ${labelClass}\"><div class=\"${iconClass}\"></div> ${percentDifference} %</div>\n            <div class=\"current-count ${labelClass}\"> ${prettyNumber(count)} </div>\n          </div>\n          <div class=\"keen-dataviz-rendering\">\n            <div class=\"c3-chart\"></div>\n          </div>\n        </div>\n      </div>`;\n    const chartRoot = containerElement.querySelector('.c3-chart');\n    const chart = c3.generate({\n      bindto: chartRoot,\n      color: {\n        pattern: colors,\n      },\n      title,\n      legend: {\n        show: false,\n      },\n      data: {\n        x: 'x',\n        columns,\n        type: 'area-spline',\n        selection: {\n          draggable: false,\n          enabled: true,\n          multiple: true,\n        },\n      },\n      point: {\n        r: 0,\n        focus: {\n          expand: {\n            r: 5,\n            enabled: true,\n          },\n        },\n        select: {\n          r: 5,\n          enabled: true,\n        },\n      },\n      axis: {\n        y: {\n          show: false,\n        },\n        x: {\n          show: false,\n        },\n      },\n      grid: {\n        x: {\n          show: false,\n        },\n        y: {\n          show: false,\n        },\n      },\n      padding: {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: -4,\n      },\n      tooltip,\n    });\n\n    if (utils && utils.clickToCopyToClipboard) {\n      const currentCount = document.querySelector('.current-count').innerText;\n      document.querySelector('.keen-dataviz-metric-combo')\n        .addEventListener('click', e => copyToClipboard(currentCount, e));\n    }\n  }\n\n  update() {\n    this.destroy();\n    this.render();\n  }\n\n  destroy() {\n    const { container } = this.config;\n    const containerElement = document.querySelector(container);\n    const chartContainer = containerElement.querySelector('.c3-chart');\n    chartContainer.remove();\n  }\n}\n","import * as d3 from 'd3';\nimport Rangeable from 'rangeable';\nimport copyToClipboard from '../../utils/copy-to-clipboard';\n\nexport default class Heatmap {\n  render() {\n    const {\n      colors,\n      container,\n      heatmap: { showSlider, simpleTooltip },\n    } = this.config;\n    const {\n      matrix,\n      meta,\n    } = this.dataset;\n    const margin = {\n      top: 10,\n      right: 10,\n      bottom: 50,\n      left: 50,\n    };\n    const baseWidth = 600;\n    const baseHeight = 600;\n    const heatmapContainer = d3.select(container);\n    const containerWidth = parseInt(heatmapContainer.style('width'), 10) || baseWidth;\n    const containerHeight = parseInt(heatmapContainer.style('height'), 10) || baseHeight;\n    const chartContainer = this.el().querySelector('.c3-chart');\n    const svgWidth = containerWidth - margin.right - margin.left;\n    const svgHeight = containerHeight - margin.top - margin.bottom;\n\n    const xLabel = new Set();\n    const yLabel = new Set();\n\n    const formatData = () => {\n      const dateFormat = d3.timeFormat('%B %d');\n      const timeFormat = d3.timeFormat('%H:%M');\n      const arr = [];\n      matrix.forEach((element) => {\n        if (meta.type === 'heatmap') {\n          if (typeof element[0][2] === 'number') {\n            const obj = {\n              x: element[0][0],\n              y: element[0][1],\n              value: element[0][2],\n            };\n            arr.push(obj);\n          }\n        } else {\n          const timestamp = Date.parse(element[0]);\n          // eslint-disable-next-line no-restricted-globals\n          if (!isNaN(timestamp)) {\n            const obj = {\n              x: dateFormat(new Date(element[0])),\n              y: timeFormat(new Date(element[0])),\n              value: element[1],\n            };\n            arr.push(obj);\n          }\n        }\n      });\n      return arr;\n    };\n\n    const formattedData = formatData();\n\n    formattedData.forEach((item) => {\n      xLabel.add(item.x);\n      yLabel.add(item.y);\n    });\n\n    const refValue = formattedData[0].value;\n    const minRange = formattedData\n      .reduce((min, curr) => (curr.value < min ? curr.value : min), refValue);\n    const maxRange = formattedData\n      .reduce((max, curr) => (curr.value > max ? curr.value : max), refValue);\n\n    const getColor = () => {\n      const defaultColor = '#00BBDE';\n      const baseColor = colors[0];\n      let rgb = d3.rgb(defaultColor);\n      if (d3.color(baseColor)) {\n        rgb = d3.rgb(baseColor);\n      }\n      return rgb;\n    };\n\n    const getColorAlpha = d3.scaleLinear()\n      .domain([0, d3.max(formattedData, d => d.value)])\n      .range([0, 1]);\n\n    const convertRGBAtoRGB = (color, bg = [255, 255, 255]) => {\n      const opacity = color[3];\n\n      return [Math.floor(((1 - opacity) * bg[0]) + (opacity * color[0]) + 0.5),\n        Math.floor(((1 - opacity) * bg[1]) + (opacity * color[1]) + 0.5),\n        Math.floor(((1 - opacity) * bg[2]) + (opacity * color[2]) + 0.5)];\n    };\n\n    const getTileColor = (value) => {\n      const alpha = getColorAlpha(value);\n      const rgb = getColor();\n      const solidColor = convertRGBAtoRGB([rgb.r, rgb.g, rgb.b, alpha]);\n      const color = `rgb(${solidColor[0]}, ${solidColor[1]}, ${solidColor[2]})`;\n      return color;\n    };\n\n    const svg = d3.select(chartContainer)\n      .append('svg')\n      .attr('preserveAspectRatio', 'xMidYMid slice')\n      .attr('viewBox', `0 0 ${containerWidth} ${containerHeight}`)\n      .attr('height', '100%')\n      .attr('width', '100%')\n      .append('g')\n      .attr(\n        'transform',\n        `translate(${margin.left},${margin.top})`,\n      );\n\n    if (showSlider) {\n      // eslint-disable-next-line no-unused-vars\n      const rangeableInput = d3.select(container)\n        .append('input')\n        .attr('type', 'range')\n        .attr('class', 'keen-dataviz-slider');\n\n      const handleSliderChange = (data) => {\n        const rects = svg.selectAll('rect');\n        const [min, max] = data;\n\n        rects.each((d, i, nodes) => {\n          d3.select(nodes[i])\n            .style('visibility', () => ((d.value > max || d.value < min) ? 'hidden' : 'visible'));\n        });\n      };\n\n      // eslint-disable-next-line no-unused-vars\n      const rangeable = new Rangeable('.keen-dataviz-slider', {\n        multiple: true,\n        min: minRange,\n        max: maxRange,\n        value: [minRange, maxRange],\n        onChange: data => handleSliderChange(data),\n      });\n      const containerToString = container.className ? `.${container.className.replace(/\\s/g, '.')}` : container;\n      const customStyle = `\n        ${containerToString} .rangeable-progress,\n        ${containerToString} .rangeable-tooltip,\n        ${containerToString} .active {\n          background-color: ${getColor()};\n        }\n        ${containerToString} .rangeable-tooltip::before {\n          border-color: ${getColor()} transparent transparent;\n        }\n        ${containerToString} .rangeable-handle {\n          border-color: ${getColor()};\n        }\n      `;\n\n      // eslint-disable-next-line no-undef\n      const style = document.createElement('style');\n      style.innerHTML = customStyle;\n\n      // eslint-disable-next-line no-undef\n      const scriptRef = document.querySelector('script');\n      scriptRef.parentNode.insertBefore(style, scriptRef);\n    }\n\n    const xLabelBase = 5;\n    const yLabelBase = 10;\n\n    const getAxisLabelRatio = (base, labelSize) => Math.floor(labelSize / base) + 1;\n    const xAxis = d3.scaleBand()\n      .range([0, svgWidth])\n      .domain([...xLabel])\n      .padding(0.02);\n\n    svg.append('g')\n      .style('font-size', 12)\n      .attr('transform', `translate(0, ${svgHeight})`)\n      .call(d3.axisBottom(xAxis).tickSize(0))\n      .selectAll('text')\n      .attr('dy', '1em')\n      .filter((d, i) => i % getAxisLabelRatio(xLabelBase, xLabel.size))\n      .style('display', 'none');\n\n    const yAxis = d3.scaleBand()\n      .range([svgHeight, 0])\n      .domain([...yLabel].sort())\n      .padding(0.02);\n\n    svg.append('g')\n      .style('font-size', 12)\n      .call(d3.axisLeft(yAxis).tickSize(0))\n      .selectAll('text')\n      .filter((d, i) => i % getAxisLabelRatio(yLabelBase, yLabel.size))\n      .style('display', 'none');\n\n    const chartTooltip = d3.select(container)\n      .append('div')\n      .attr('class', 'keen-dataviz-tooltip')\n      .style('opacity', 0)\n      .style('background-color', 'white')\n      .style('border', `2px solid ${getColor().toString()}`)\n      .style('font-size', '14px')\n      .style('padding', '2px 8px')\n      .style('box-shadow', '2px 2px 4px rgba(0,0,0,0.25')\n      .style('display', 'none')\n      .style('position', 'fixed');\n\n    const handleMouseOver = () => {\n      d3.select(d3.event.target)\n        .raise()\n        .style('transition', 'transform 150ms ease-out')\n        .style('outline', `1px solid ${getColor()}`)\n        .style('transform', 'translate(0px, -4px)');\n\n      chartTooltip\n        .style('opacity', 1)\n        .style('display', 'block');\n    };\n\n    const handleMouseMove = (d) => {\n      let tooltipContent = `\n      <tr>\n        <th style=\"text-align: right\">value:</th>\n        <td><b style=\"font-size:14px;\">${d.value}</b></td>\n      </tr>`;\n      if (!simpleTooltip) {\n        tooltipContent = `\n        <tr>\n            <th style=\"text-align: right\">xAxis:</th>\n            <td>${d.x}</td>\n        </tr>\n        <tr>\n            <th style=\"text-align: right\">yAxis:</th>\n            <td>${d.y}</td>\n        </tr>\n        ${tooltipContent}\n        `;\n      }\n      chartTooltip\n        .html(`\n          <table style=\"font-size:12px;\">\n            ${tooltipContent}\n          </table>\n        `)\n        .style('left', `${d3.event.clientX + 10}px`)\n        .style('top', `${d3.event.clientY + 10}px`);\n    };\n\n    const handleMouseLeave = () => {\n      d3.select(d3.event.target)\n        .style('outline', 'none')\n        .style('transform', 'none');\n\n      chartTooltip\n        .style('opacity', 0)\n        .style('display', 'none');\n    };\n\n    const handleClick = d => copyToClipboard(d.value);\n\n    svg.selectAll()\n      .data(formattedData, d => `${d.x}:${d.y}`)\n      .enter()\n      .append('rect')\n      .attr('x', d => xAxis(d.x))\n      .attr('y', d => yAxis(d.y))\n      .attr('width', xAxis.bandwidth())\n      .attr('height', yAxis.bandwidth())\n      .style('fill', d => getTileColor(d.value))\n      .style('cursor', 'pointer')\n      .on('mouseover', handleMouseOver)\n      .on('mousemove', handleMouseMove)\n      .on('mouseleave', handleMouseLeave)\n      .on('click', handleClick);\n  }\n  update() {\n    this.destroy();\n    this.render();\n  }\n  destroy() {\n    const chartContainer = this.el().querySelector('.c3-chart');\n    chartContainer.remove();\n  }\n}\n","import * as d3 from \"d3\";\nimport Rangeable from \"rangeable\";\nimport { prettyNumber } from \"../../utils/pretty-number\";\nimport copyToClipboard from \"../../utils/copy-to-clipboard\";\n\nexport default class Choropleth {\n  render() {\n    const { matrix } = this.dataset;\n    const {\n      colors,\n      container,\n      utils,\n      title,\n      choropleth: {\n        map,\n        borders: { show, size, color },\n        showSlider\n      }\n    } = this.config;\n    const opts = this.config;\n    const choroplethContainer = d3.select(container);\n    const chartContainer = d3.select(\n      this.el().querySelector(`.${this.config.theme}-rendering .c3-chart`)\n    );\n    const width = Number(choroplethContainer.style(\"width\").slice(0, -2));\n    const height = Number(choroplethContainer.style(\"height\").slice(0, -2));\n    let heightChanges = 0;\n    if (title) heightChanges += 31;\n    if (showSlider) heightChanges += 20;\n    const chart = chartContainer\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height - heightChanges);\n\n    const onlyValues = matrix.slice(1).map(el => el[1]);\n    let minVal = d3.min(onlyValues);\n    const maxVal = d3.max(onlyValues);\n    if(minVal === maxVal) minVal = 0;\n    const lightColor = d3.hsl(colors[0]).brighter(1);\n    lightColor.l = 0.95;\n    const darkColor = colors[0];\n    const ramp = d3\n      .scaleLinear()\n      .domain([minVal === undefined ? 0 : minVal, maxVal === undefined ? 0 : maxVal])\n      .range([lightColor, darkColor]);\n\n    d3.json(\n      `https://cdn.jsdelivr.net/npm/keen-dataviz-maps@1.0.0/maps/${map}.json`\n    ).then(data => {\n      const zoom = d3\n        .zoom()\n        .scaleExtent([1, 5])\n        .translateExtent([[0, 0], [width, height - 50]])\n        .on(\"zoom\", zoomed);\n\n      let projection;\n      switch (map) {\n        case \"world\":\n          projection = d3.geoMercator().fitSize([width, height - 50], data);\n          break;\n        case \"us\":\n          projection = d3\n            .geoAlbersUsa()\n            .scale(width)\n            .fitSize([width, height - 50], data);\n          break;\n\n        default:\n          projection = d3\n            .geoMercator()\n            .scale(width)\n            .fitSize([width, height - 50], data);\n          break;\n      }\n\n      const path = d3.geoPath().projection(projection);\n\n      const usData = data.features.map(el => {\n        const theOne = matrix.filter(d => d[0] === el.properties.name);\n        if (theOne[0])\n          return {\n            ...el,\n            properties: { ...el.properties, result: theOne[0][1] }\n          };\n        return {\n          ...el,\n          properties: { ...el.properties, result: 0 }\n        };\n      });\n\n      if (showSlider) {\n        const handleSliderChange = data => {\n          const el = chart.selectAll(`.${elementName}`);\n          const [min, max] = data;\n\n          el.each((d, i, nodes) => {\n            d3.select(nodes[i]).style(\"visibility\", () =>\n              d.properties.result > max || d.properties.result < min\n                ? \"hidden\"\n                : \"visible\"\n            );\n          });\n        };\n\n        chartContainer\n          .style(\"display\", \"flex\")\n          .style(\"flex-direction\", \"column\")\n          .style(\"justify-content\", \"center\");\n\n        const rangeContainer = chartContainer\n          .append(\"div\")\n          .style(\"width\", \"95%\")\n          .style(\"margin\", \"auto\");\n        rangeContainer.append(\"input\").attr(\"id\", \"rangeSlider\");\n\n        const rangeable = new Rangeable(\"#rangeSlider\", {\n          type: \"double\",\n          tooltips: true,\n          min: 0,\n          max: maxVal,\n          onChange: data => handleSliderChange(data)\n        });\n\n        const containerToString = container.className ? `.${container.className.replace(/\\s/g, '.')}` : container;\n        const customStyle = `\n        ${containerToString} .rangeable-progress,\n        ${containerToString} .rangeable-tooltip,\n        ${containerToString} .active {\n          background-color: ${colors[0]};\n        }\n        ${containerToString} .rangeable-tooltip::before {\n          border-color: ${colors[0]} transparent transparent;\n        }\n        ${containerToString} .rangeable-handle {\n          border-color: ${colors[0]};\n        }\n      `;\n\n        // eslint-disable-next-line no-undef\n        const style = document.createElement(\"style\");\n        style.innerHTML = customStyle;\n\n        // eslint-disable-next-line no-undef\n        const scriptRef = document.querySelector(\"script\");\n        scriptRef.parentNode.insertBefore(style, scriptRef);\n      }\n\n      const elementName = map === \"world\" ? \"country\" : \"state\";\n\n      chart\n        .selectAll(\"path\")\n        .data(usData)\n        .enter()\n        .append(\"path\")\n        .attr(\"d\", path)\n        .attr(\"class\", elementName)\n        .attr(\n          \"id\",\n          d =>\n            `${d.properties.name\n              .split(\" \")\n              .join(\"-\")\n              .split(\".\")\n              .join(\"\")}`\n        )\n        .style(\"fill\", d => ramp(d.properties.result))\n        .attr(\"cursor\", \"pointer\")\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mousemove\", handleMouseMove)\n        .on(\"mouseout\", handleMouseOut);\n\n      //borders\n      if (show) {\n        chart\n          .selectAll(`.${elementName}`)\n          .style(\"stroke\", color)\n          .style(\"stroke-width\", size);\n      }\n\n      //tooltip\n      const tooltip = d3\n        .select(\".c3-chart\")\n        .append(\"div\")\n        .style(\"opacity\", 0)\n        .attr(\"class\", \"c3-tooltip-container\")\n        .style(\"display\", \"none\")\n        .style(\"position\", \"fixed\");\n\n      //hover handling\n      function handleMouseOver(d) {\n        chart\n          .select(\n            `#${d.properties.name\n              .split(\" \")\n              .join(\"-\")\n              .split(\".\")\n              .join(\"\")}`\n          )\n          .style(\"fill\", d => ramp(1.2 * maxVal))\n          .style(\"stroke-width\", 1.5 * size);\n\n        tooltip.style(\"opacity\", 1).style(\"display\", \"block\");\n      }\n\n      function handleMouseMove(d) {\n        let result = d.properties.result;\n        if (\n          (typeof opts[\"prettyNumber\"] === \"undefined\" ||\n            opts[\"prettyNumber\"] === true) &&\n          !isNaN(parseInt(d.properties.result))\n        ) {\n          result = prettyNumber(d.properties.result);\n        }\n        tooltip\n          .html(\n            `\n          <table class=\"c3-tooltip\">\n            <tr>\n              <th colspan=\"2\">${d.properties.name}</th>\n            </tr>\n            <tr class=\"c3-tooltip-name-1\">\n              <td class=\"value\">${result}</td>\n            </tr>\n          </table>\n        `\n          )\n          .style(\"left\", `${d3.event.clientX + 10}px`)\n          .style(\"top\", `${d3.event.clientY + 10}px`);\n      }\n      function handleMouseOut(d) {\n        chart\n          .select(\n            `#${d.properties.name\n              .split(\" \")\n              .join(\"-\")\n              .split(\".\")\n              .join(\"\")}`\n          )\n          .style(\"fill\", d => ramp(d.properties.result))\n          .style(\"stroke-width\", size);\n\n        tooltip.style(\"opacity\", 0).style(\"display\", \"none\");\n      }\n\n      // click to copy\n      if (utils && utils.clickToCopyToClipboard) {\n        const label = chart.selectAll(`.${elementName}`);\n\n        label.on(\"click\", handleClickToCopy);\n\n        function handleClickToCopy(data) {\n          const {\n            properties: { result }\n          } = data;\n          copyToClipboard(result, d3.event);\n        }\n      }\n      function zoomed() {\n        chart\n          .selectAll(`.${elementName}`)\n          .attr(\"transform\", d3.event.transform);\n      }\n      chart.call(zoom);\n      chart.call(zoom).on(\"mousedown.zoom\", null);\n    });\n  }\n  update() {\n    this.destroy();\n    this.render();\n  }\n  destroy() {\n    const chartContainer = d3.select(\n      this.el().querySelector(`.${this.config.theme}-rendering .c3-chart`)\n    );\n    chartContainer.remove();\n  }\n}\n","import copyToClipboard from './copy-to-clipboard';\n\nfunction removeClassWithTimeOut(element, className = 'copied', ms = 1000) {\n  setTimeout(() => {\n    element.classList.remove(className);\n  }, ms);\n}\n\nfunction handleCopyToClipboard(event) {\n  const { target, target: { nodeName } } = event;\n\n  let value;\n  if (nodeName === 'DD') {\n    value = target.innerText;\n    if (!target.classList.contains('copied')) {\n      target.classList.add('copied');\n      removeClassWithTimeOut(target);\n    }\n  }\n  if (nodeName === 'DT') {\n    value = target.nextSibling.innerText;\n    if (!target.nextSibling.classList.contains('copied')) {\n      target.nextSibling.classList.add('copied');\n      removeClassWithTimeOut(target.nextSibling);\n    }\n  }\n\n  copyToClipboard(value);\n}\n\nexport default function renderExecutionMetadata({\n  element,\n  data,\n} = {}) {\n  const dataList = document.createElement('dl');\n  dataList.classList = 'keen-dataviz-execution-meta';\n\n  if (Object.keys(data).length) {\n    Object.keys(data).forEach((item) => {\n      const dt = document.createElement('dt');\n      dt.innerText = item.replace(/_/g, ' ');\n      dt.addEventListener('click', e => handleCopyToClipboard(e));\n\n      const dd = document.createElement('dd');\n      dd.innerText = data[item];\n      dd.addEventListener('click', e => handleCopyToClipboard(e));\n\n      dataList.append(dt);\n      dataList.append(dd);\n    });\n  } else {\n    dataList.innerText = 'No execution metadata available';\n  }\n\n  element.append(dataList);\n}\n","import autocollector from './autocollector';\nimport modern from './modern';\nimport dracula from './dracula';\n\nexport default {\n  autocollector,\n  modern,\n  dracula,\n};","const palette = {\n  colors: [\n    '#5E77FF',\n    '#9C60FE',\n    '#F162FE',\n    '#FD65B7',\n    '#FD6768',\n    '#FDB86A',\n    '#F2FC6C',\n    '#A5FC6E',\n    '#71FB85',\n    '#73FBD0',\n    '#76DDFA',\n    '#76f4fa',\n    '#bb76fa',\n    '#fa76bf'\n  ]\n};\n\nexport default palette;","const palette = {\n  colors: [\n    '#45B2E8',\n    '#D9540D',\n    '#2CAB72',\n    '#2C4BAB',\n    '#EDDD02',\n    '#E84545',\n    '#E845CE',\n    '#5FCEC9',\n    '#E89F45',\n    '#28E43F',\n    '#B765C0',\n    '#458AE8',\n    '#AB2C2C',\n    '#AB2C75',\n    '#27E5FF',\n    '#7168F2',\n    '#FF932B',\n    '#855D00',\n    '#ACE845',\n    '#1C91B4'\n  ]\n};\n\nexport default palette;","const palette = {\n  colors: [\n    '#8be9fd',\n    '#50fa7b',\n    '#ffb86c',\n    '#ff79c6',\n    '#bd93f9',\n    '#ff5555',\n    '#f1fa8c',\n  ]\n};\n\nexport default palette;","import { escapeHtml } from '../../../utils/escape-html';\n\nexport default function (d, defaultTitleFormat, defaultValueFormat, color) {\n  let text;\n  let title;\n  // Set config options or defaults\n  const nameFormat = this.config.tooltip_format_name || function (name) { return name; };\n  const titleFormat = this.config.tooltip_format_title || defaultTitleFormat;\n  const valueFormat = this.config.tooltip_format_value || defaultValueFormat;\n\n  // Reverse list to match legend\n  for (let i = 0; i < d.length; i++) {\n    if (! (d[i] && (d[i].value || d[i].value === 0))) { continue; }\n    if (!text) {\n      title = titleFormat ? titleFormat(d[i].x) : d[i].x;\n      text = \"<table class='\" + this.CLASS.tooltip + \"'>\" + (title || title === 0 ? \"<tr><th colspan='2'>\" + escapeHtml(title) + \"</th></tr>\" : \"\");\n    }\n    let name = nameFormat(d[i].name);\n    let value = valueFormat(d[i].value, d[i].ratio, d[i].id, d[i].index);\n    let bgcolor = this.levelColor ? this.levelColor(d[i].value) : color(d[i].id);\n    if (value && !isNaN(value)) {\n      text += \"<tr class='\" + this.CLASS.tooltipName + \"-\" + d[i].id + \"'>\";\n      if (name.indexOf('__tooltip_ignore_name_field__') === -1) {\n        text +=   \"<td class='name'><span style='background-color:\" + bgcolor + \"'></span>\" + escapeHtml(name) + \"</td>\";\n      }\n      text +=   \"<td class='value'>\" + escapeHtml(value) + \"</td>\";\n      text += \"</tr>\";\n    }\n  }\n  return text + \"</table>\";\n}\n"],"sourceRoot":""}