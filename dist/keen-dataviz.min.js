(function e(b,g,d){function c(n,k){if(!g[n]){if(!b[n]){var j=typeof require=="function"&&require;if(!k&&j){return j(n,!0)}if(a){return a(n,!0)}var m=new Error("Cannot find module '"+n+"'");throw m.code="MODULE_NOT_FOUND",m}var h=g[n]={exports:{}};b[n][0].call(h.exports,function(l){var o=b[n][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[n].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(c,d,a){var f=c("./dataset");var h=c("./utils/extend");d.exports=function(j){if(!arguments.length){return this.dataset.data()}if(j instanceof f){this.dataset=j;return this}else{return g.call(this,j)}};function g(k){var o,l,q,j=[],n,p,m;l=this.indexBy()?this.indexBy():"timestamp.start";n=(typeof k.query!=="undefined")?k.query:{};n=h({analysis_type:null,event_collection:null,filters:[],group_by:null,interval:null,timeframe:null,timezone:null},n);if(n.analysis_type==="funnel"){q="funnel"}else{if(n.analysis_type==="extraction"){q="extraction"}else{if(n.analysis_type==="select_unique"){if(!n.group_by&&!n.interval){q="list"}}else{if(n.analysis_type){if(!n.group_by&&!n.interval){q="metric"}else{if(n.group_by&&!n.interval){if(n.group_by instanceof Array&&n.group_by.length>1){q="double-grouped-metric";j.push(n.group_by)}else{q="grouped-metric"}}else{if(n.interval&&!n.group_by){q="interval";j.push(l)}else{if(n.group_by&&n.interval){if(n.group_by instanceof Array&&n.group_by.length>1){q="double-grouped-interval";j.push(n.group_by);j.push(l)}else{q="grouped-interval";j.push(l)}}}}}}}}}if(!q){if(typeof k.result==="number"){q="metric"}if(k.result instanceof Array&&k.result.length>0){if(k.result[0].timeframe&&(typeof k.result[0].value=="number"||k.result[0].value==null)){q="interval";j.push(l)}if(typeof k.result[0].result=="number"){q="grouped-metric"}if(k.result[0].value instanceof Array){q="grouped-interval";j.push(l)}if(typeof k.result[0]==="number"&&typeof k.steps!=="undefined"){q="funnel";n.steps=k.steps}if((typeof k.result[0]==="string"||typeof k.result[0]=="number")&&typeof k.steps==="undefined"){q="list"}if(!q){q="extraction"}}}if(!this.title()){this.title(b(n))}if(!this.type()){switch(q){case"metric":m="metric";break;case"interval":m="area";break;case"grouped-metric":case"double-grouped-metric":m="bar";break;case"grouped-interval":case"double-grouped-interval":m="line";break;case"funnel":m="horizontal-bar";break;case"list":case"extraction":default:m="table"}this.type(m)}p=f.parser.apply(this,[q].concat(j));o=p(h(k,{query:n}));if(q.indexOf("interval")>-1){o.updateColumn(0,function(s,r){return new Date(s)})}this.dataset=o;return this}function b(j){var l=j.analysis_type?j.analysis_type.replace("_"," "):"",k;k=l.replace(/\b./g,function(m){return m.toUpperCase()});if(j.event_collection){k+=" - "+j.event_collection}return k}},{"./dataset":2,"./utils/extend":26}],2:[function(b,c,a){(function(d){(function(m){var h=b("./modifiers/append"),r=b("./modifiers/delete"),g=b("./modifiers/filter"),q=b("./modifiers/insert"),n=b("./modifiers/select"),k=b("./modifiers/sort"),j=b("./modifiers/update");var p=b("./utils/analyses"),l=b("../utils/extend"),o=b("./utils/parsers");function f(){if(this instanceof f===false){return new f()}this.matrix=[["Index"]];this.meta={type:undefined}}f.prototype.data=function(s){if(!arguments.length){return this.matrix}this.matrix=(s instanceof Array?s:null);return this};f.prototype.set=function(w,v){if(arguments.length<2||w.length<2){throw Error("Incorrect arguments provided for #set method")}var s="number"===typeof w[0]?w[0]:this.matrix[0].indexOf(w[0]),x="number"===typeof w[1]?w[1]:n.selectColumn.call(this,0).indexOf(w[1]);var u=n.selectColumn.call(this,w[0]),t=n.selectRow.call(this,w[1]);if(u.length<1){h.appendColumn.call(this,String(w[0]));s=this.matrix[0].length-1}if(t.length<1){h.appendRow.call(this,String(w[1]));x=this.matrix.length-1}this.matrix[x][s]=v;return this};f.prototype.type=function(s){if(!arguments.length){return this.meta.type}this.meta.type=(s?String(s):undefined);return this};l(f.prototype,h);l(f.prototype,r);l(f.prototype,g);l(f.prototype,q);l(f.prototype,n);l(f.prototype,k);l(f.prototype,j);l(f.prototype,p);f.parser=o(f);if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataset",[],function(){return f})}if(m.Keen){m.Keen.Dataset=f}m.Dataset=f;if(typeof d!=="undefined"){if(d.Keen){d.Keen.Dataset=f}d.Dataset=f}}(this))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../utils/extend":26,"./modifiers/append":3,"./modifiers/delete":4,"./modifiers/filter":5,"./modifiers/insert":6,"./modifiers/select":7,"./modifiers/sort":8,"./modifiers/update":9,"./utils/analyses":10,"./utils/parsers":13}],3:[function(d,f,c){var b=d("../utils/create-null-list"),h=d("../../utils/each");f.exports={appendColumn:g,appendRow:a};function g(n,k){var j=this,m=Array.prototype.slice.call(arguments,2),l=(n!==undefined)?n:null;if(typeof k==="function"){j.matrix[0].push(l);h(j.matrix,function(q,p){var o;if(p>0){o=k.call(j,q,p);if(typeof o==="undefined"){o=null}j.matrix[p].push(o)}})}else{if(!k||k instanceof Array){k=k||[];if(k.length<=j.matrix.length-1){k=k.concat(b(j.matrix.length-1-k.length))}else{h(k,function(p,o){if(j.matrix.length-1<k.length){a.call(j,String(j.matrix.length))}})}j.matrix[0].push(l);h(k,function(p,o){j.matrix[o+1][j.matrix[0].length-1]=p})}}return j}function a(o,k){var j=this,n=Array.prototype.slice.call(arguments,2),m=(o!==undefined)?o:null,l=[];l.push(m);if(typeof k==="function"){h(j.matrix[0],function(r,s){var q,p;if(s>0){q=j.selectColumn(s);p=k.call(j,q,s);if(typeof p==="undefined"){p=null}l.push(p)}});j.matrix.push(l)}else{if(!k||k instanceof Array){k=k||[];if(k.length<=j.matrix[0].length-1){k=k.concat(b(j.matrix[0].length-1-k.length))}else{h(k,function(q,p){if(j.matrix[0].length-1<k.length){g.call(j,String(j.matrix[0].length))}})}j.matrix.push(l.concat(k))}}return j}},{"../../utils/each":24,"../utils/create-null-list":11}],4:[function(d,f,c){var g=d("../../utils/each");f.exports={deleteColumn:a,deleteRow:b};function a(k){var h=this,j=(typeof k==="number")?k:this.matrix[0].indexOf(k);if(j>-1){g(h.matrix,function(m,l){h.matrix[l].splice(j,1)})}return h}function b(j){var h=(typeof j==="number")?j:this.selectColumn(0).indexOf(j);if(h>-1){this.matrix.splice(h,1)}return this}},{"../../utils/each":24}],5:[function(c,d,b){var f=c("../../utils/each");d.exports={filterColumns:a,filterRows:g};function a(j){var h=this,k=new Array();f(h.matrix,function(m,l){k.push([])});f(h.matrix[0],function(l,m){var n=h.selectColumn(m);if(m==0||j.call(h,n,m)){f(n,function(o,p){k[p].push(o)})}});h.data(k);return h}function g(j){var h=this,k=[];f(h.matrix,function(m,l){if(l==0||j.call(h,m,l)){k.push(m)}});h.data(k);return h}},{"../../utils/each":24}],6:[function(f,b,g){var j=f("../../utils/each");var h=f("../utils/create-null-list");var c=f("./append");var l=c.appendRow,d=c.appendColumn;b.exports={insertColumn:a,insertRow:k};function a(p,q,n){var m=this,o;o=(q!==undefined)?q:null;if(typeof n==="function"){m.matrix[0].splice(p,0,o);j(m.matrix,function(t,s){var r;if(s>0){r=n.call(m,t,s);if(typeof r==="undefined"){r=null}m.matrix[s].splice(p,0,r)}})}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.matrix.length-1){n=n.concat(h(m.matrix.length-1-n.length))}else{j(n,function(s,r){if(m.matrix.length-1<n.length){l.call(m,String(m.matrix.length))}})}m.matrix[0].splice(p,0,o);j(n,function(s,r){m.matrix[r+1].splice(p,0,s)})}}return m}function k(q,r,n){var m=this,p,o=[];p=(r!==undefined)?r:null;o.push(p);if(typeof n==="function"){j(m.matrix[0],function(u,v){var t,s;if(v>0){t=m.selectColumn(v);s=n.call(m,t,v);if(typeof s==="undefined"){s=null}o.push(s)}});m.matrix.splice(q,0,o)}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.matrix[0].length-1){n=n.concat(h(m.matrix[0].length-1-n.length))}else{j(n,function(t,s){if(m.matrix[0].length-1<n.length){d.call(m,String(m.matrix[0].length))}})}m.matrix.splice(q,0,o.concat(n))}}return m}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],7:[function(d,f,c){var g=d("../../utils/each");f.exports={selectColumn:b,selectRow:a};function b(k){var h=new Array(),j=(typeof k==="number")?k:this.matrix[0].indexOf(k);if(j>-1&&"undefined"!==typeof this.matrix[0][j]){g(this.matrix,function(m,l){h.push(m[j])})}return h}function a(k){var h=new Array(),j=(typeof k==="number")?k:this.selectColumn(0).indexOf(k);if(j>-1&&"undefined"!==typeof this.matrix[j]){h=this.matrix[j]}return h}},{"../../utils/each":24}],8:[function(d,f,c){var g=d("../../utils/each");f.exports={sortColumns:b,sortRows:a};function b(n,j){var h=this,k=this.matrix[0].slice(1),m=[],o=[],l=j||this.getColumnLabel;g(k,function(p,q){m.push(h.selectColumn(q+1).slice(0))});m.sort(function(q,p){var r=l.call(h,q)>l.call(h,p);if(r){return(n==="asc"?1:-1)}else{if(!r){return(n==="asc"?-1:1)}else{return 0}}});g(m,function(p,q){h.deleteColumn(q+1).insertColumn(q+1,p[0],p.slice(1))});return h}function a(n,k){var j=this,l=this.matrix.slice(0,1),h=this.matrix.slice(1),m=k||this.getRowIndex;h.sort(function(p,o){var q=m.call(j,p)>m.call(j,o);if(q){return(n==="asc"?1:-1)}else{if(!q){return(n==="asc"?-1:1)}else{return 0}}});j.data(l.concat(h));return j}},{"../../utils/each":24}],9:[function(f,a,g){var k=f("../../utils/each");var h=f("../utils/create-null-list");var b=f("./append");var l=b.appendRow,d=b.appendColumn;a.exports={updateColumn:j,updateRow:c};function j(p,n){var m=this,o=(typeof p==="number")?p:this.matrix[0].indexOf(p);if(o>-1){if(typeof n==="function"){k(m.data(),function(s,r){var q;if(r>0){q=n.call(m,s[o],r,s);if(typeof q!=="undefined"){m.matrix[r][o]=q}}})}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.data().length-1){n=n.concat(h(m.data().length-1-n.length))}else{k(n,function(r,q){if(m.matrix.length-1<n.length){l.call(m,String(m.matrix.length))}})}k(n,function(r,q){m.matrix[q+1][o]=r})}}}return m}function c(p,n){var m=this,o=(typeof p==="number")?p:this.selectColumn(0).indexOf(p);if(o>-1){if(typeof n==="function"){k(m.data()[o],function(t,s){var r=m.selectColumn(s),q=n.call(m,t,s,r);if(typeof q!=="undefined"){m.matrix[o][s]=q}})}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.matrix[0].length-1){n=n.concat(h(m.matrix[0].length-1-n.length))}else{k(n,function(r,q){if(m.matrix[0].length-1<n.length){d.call(m,String(m.matrix[0].length))}})}k(n,function(r,q){m.matrix[o][q+1]=r})}}}return m}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],10:[function(d,c,h){var m=d("../../utils/each"),l=d("../../utils/extend");var a={};var f={average:b,maximum:g,minimum:k,sum:j};function b(n,s,o){var r=n.slice(s||0,(o?o+1:n.length)),p=0,q=null;m(r,function(u,t){if(typeof u==="number"&&!isNaN(parseFloat(u))){p+=parseFloat(u)}});return p/r.length}function g(n,r,o){var q=n.slice(r||0,(o?o+1:n.length)),p=[];m(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){p.push(parseFloat(t))}});return Math.max.apply(Math,p)}function k(n,r,o){var q=n.slice(r||0,(o?o+1:n.length)),p=[];m(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){p.push(parseFloat(t))}});return Math.min.apply(Math,p)}function j(n,r,o){var q=n.slice(r||0,(o?o+1:n.length)),p=0;m(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){p+=parseFloat(t)}});return p}m(f,function(p,n){var o=n.charAt(0).toUpperCase()+n.slice(1);a["getColumn"+o]=a["getRow"+o]=function(q){return this[n](q,1)}});a.getColumnLabel=a.getRowIndex=function(n){return n[0]};l(f,a);c.exports=f},{"../../utils/each":24,"../../utils/extend":26}],11:[function(b,c,a){c.exports=function(d){var f=new Array();for(i=0;i<d;i++){f.push(null)}return f}},{}],12:[function(b,c,a){c.exports=d;function d(g){var k={};for(var h in g){if(!g.hasOwnProperty(h)){continue}if((typeof g[h])=="object"&&g[h]!==null){var j=d(g[h]);for(var f in j){if(!j.hasOwnProperty(f)){continue}k[h+"."+f]=j[f]}}else{k[h]=g[h]}}return k}},{}],13:[function(f,c,k){var b;var q=f("../../utils/each"),a=f("../utils/flatten");var r={metric:n,interval:j,"grouped-metric":p,"grouped-interval":s,"double-grouped-metric":h,"double-grouped-interval":g,funnel:o,list:l,extraction:d};c.exports=m;function m(t){b=t;return function(v){var u=Array.prototype.slice.call(arguments,1);if(!r[v]){throw"Requested parser does not exist"}else{return r[v].apply(this,u)}}}function n(){return function(t){return new b().set(["Value","Result"],t.result).type("metric")}}function j(){var t=Array.prototype.slice.call(arguments);return function(u){var v=new b().type("interval");q(u.result,function(w,y){var x=t[0]&&t[0]==="timeframe.end"?w.timeframe.end:w.timeframe.start;v.set(["Result",x],w.value)});return v}}function p(){return function(t){var u=new b().type("grouped-metric");q(t.result,function(v,x){var w;q(v,function(z,y){if(y!=="result"){w=y}});u.set(["Result",String(v[w])],v.result)});return u}}function s(){var t=Array.prototype.slice.call(arguments);return function(u){var v=new b().type("grouped-interval");q(u.result,function(w,y){var x=t[0]&&t[0]==="timeframe.end"?w.timeframe.end:w.timeframe.start;if(w.value.length){q(w.value,function(B,A){var z;q(B,function(D,C){if(C!=="result"){z=C}});v.set([String(B[z]),x],B.result)})}else{v.appendRow(x)}});return v}}function h(){var t=Array.prototype.slice.call(arguments);if(!t[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(u){var v=new b().type("double-grouped-metric");q(u.result,function(w,x){var y=w[t[0][0]]+" "+w[t[0][1]];v.set(["Result",y],w.result)});return v}}function g(){var t=Array.prototype.slice.call(arguments);if(!t[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(u){var v=new b().type("double-grouped-interval");q(u.result,function(w,y){var x=t[1]&&t[1]==="timeframe.end"?w.timeframe.end:w.timeframe.start;q(w.value,function(B,A){var z=B[t[0][0]]+" "+B[t[0][1]];v.set([z,x],B.result)})});return v}}function o(){return function(v){var t,u,w;if(typeof v.steps!=="undefined"&&typeof v.result!=="undefined"&&v.result instanceof Array){t=v.result;u=v.steps}else{if(typeof v.result.steps!=="undefined"&&typeof v.result.result!=="undefined"&&v.result.result instanceof Array){t=v.result.result;u=v.result.steps}}w=new b().type("funnel");w.appendColumn("Step Value");q(t,function(y,x){if(typeof u!=="undefined"&&u[x]){w.appendRow(String(u[x].event_collection),[y])}});return w}}function l(){return function(t){var u=new b().type("list");q(t.result,function(w,v){u.set(["Result",String(v+1)],w)});return u}}function d(){return function(t){var u=new b().type("extraction");q(t.result,function(v,w){q(a(v),function(y,x){u.set([x,String(w+1)],y)})});u.deleteColumn(0);return u}}},{"../../utils/each":24,"../utils/flatten":12}],14:[function(b,c,a){(function(d){(function(p){var g=b("./dataset"),l=b("./data");var q=b("./utils/each"),o=b("./utils/extend"),m=b("./utils/assert-date-string");function f(){if(this instanceof f===false){return new f()}this.dataset=new g();this.view={_prepared:false,_rendered:false,_artifacts:{},chartOptions:{},colors:["#00bbde","#fe6672","#eeb058","#8a8ad6","#ff855c","#00cfbb","#5a9eed","#73d483","#c879bb","#0099b6","#d74d58","#cb9141","#6b6bb6","#d86945","#00aa99","#4281c9","#57b566","#ac5c9e","#27cceb","#ff818b","#f6bf71","#9b9be1","#ff9b79","#26dfcd","#73aff4","#87e096","#d88bcb"],colorMapping:{Other:"rgba(0, 0, 0, 0.7)"},el:undefined,height:undefined,indexBy:"timeframe.start",labels:[],labelMapping:{},library:"default",notes:undefined,sortGroups:undefined,sortIntervals:undefined,stacked:false,theme:"keen-dataviz",title:undefined,type:undefined,width:undefined};f.visuals.push(this)}f.libraries={"default":{}};if("undefined"!==typeof window){f.libraries["default"]=b("./libraries")(f)}f.visuals=[];f.register=function(r,s){f.libraries[r]=f.libraries[r]||{};q(s,function(u,t){f.libraries[r][t]=u})};f.find=function(t){if(!arguments.length){return f.visuals}var s=t.nodeName?t:document.querySelector(t),r=null;q(f.visuals,function(u){if(s==u.el()){r=u;return false}});return r};f.prototype.attributes=function(s){if(!arguments.length){return this.view}var r=this.view;q(s,function(u,t){if(t==="chartType"){t="type"}r[t]=u});return this};f.prototype.call=function(r){r.call(this);return this};f.prototype.chartOptions=function(s){var r=this;if(!arguments.length){return this.view.chartOptions}if(s===null){this.view.chartOptions={}}else{if(typeof s==="object"){q(s,function(u,t){r.view.chartOptions[t]=(u?u:null)})}}return this};f.prototype.colors=function(r){if(!arguments.length){return this.view.colors}this.view.colors=(r instanceof Array?r:[]);return this};f.prototype.colorMapping=function(s){var r=this;if(!arguments.length){return this.view.colorMapping}if(s===null){this.view.colorMapping={}}else{if(typeof s==="object"){q(s,function(u,t){r.view.colorMapping[t]=(u?u:null)})}}return this};f.prototype.data=l;f.prototype.destroy=function(){var r=this.library(),t=this.type(),s=this.el();if(f.libraries[r]&&f.libraries[r][t]){f.libraries[r][t].destroy.call(this)}if(s){s.innerHTML=""}this.view._prepared=false;this.view._rendered=false;this.view._artifacts={};return this};f.prototype.el=function(s){var r=this;if(!arguments.length){return this.view.el}k(function(){if(s&&s!==null){if(s.nodeName){r.view.el=s}else{if(document.querySelector){r.view.el=document.querySelector(s)}}}else{r.view.el=undefined}});return this};f.prototype.height=function(r){if(!arguments.length){return this.view.height}this.view.height=(!isNaN(parseInt(r))?parseInt(r):null);return this};f.prototype.indexBy=function(r){if(!arguments.length){return this.view.indexBy}this.view.indexBy=(r?String(r):"timeframe.start");return this};f.prototype.labels=function(r){if(!arguments.length){return this.view.labels}this.view.labels=(r instanceof Array?r:[]);if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(t,s){if(this.view.labels[s-1]){return String(this.view.labels[s-1])}else{return t}}.bind(this))}else{this.dataset.updateRow(0,function(t,s){if(s>0&&this.view.labels[s-1]){return String(this.view.labels[s-1])}else{return t}}.bind(this))}return this};f.prototype.labelMapping=function(r){if(!arguments.length){return this.view.labelMapping}if(r===null){this.view.labelMapping={}}else{if(typeof r==="object"){q(r,function(t,s){this.view.labelMapping[s]=(t?t:null)}.bind(this))}}if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(s){if(this.view.labelMapping[s]){return String(this.view.labelMapping[s])}else{return s}}.bind(this))}else{this.dataset.updateRow(0,function(s){if(this.view.labelMapping[s]){return String(this.view.labelMapping[s])}else{return s}}.bind(this))}return this};f.prototype.library=function(r){if(!arguments.length){return this.view.library}this.view.library=(r?String(r):null);return this};f.prototype.message=function(){var r;if(this.view._rendered){this.destroy()}if(this.el()){this.el().innerHTML="";message=f.libraries["default"].message;if(message.render){message.render.apply(this,arguments)}}return this};f.prototype.notes=function(r){if(!arguments.length){return this.view.notes}this.view.notes=(r?String(r):null);return this};f.prototype.prepare=function(){var s=this,r;if(!this.el()){throw"A DOM element is required. Check out the .el() method.";return}k(function(){if(s.view._rendered){s.destroy()}if(s.el()){s.el().innerHTML="";r=f.libraries["default"].spinner;if(r.render){r.render.call(s)}s.view._prepared=true}});return this};f.prototype.render=function(){var t=this,r=f.libraries["default"].spinner,s=this.library(),v=this.type(),u=this.el();if(!this.el()){this.message("A DOM element is required. Check out the .el() method.");throw"A DOM element is required. Check out the .el() method.";return}if(!this.type()){this.message("A chart type is required. Check out the .type() method.");throw"A chart type is required. Check out the .type() method.";return}k(function(){if(t.view._prepared&&r.destroy){r.destroy.apply(t,arguments)}t.el().innerHTML="";if(f.libraries[s]==="undefined"){t.message("Incorrect library");throw"Incorrect library";return}else{if(typeof f.libraries[s][v]==="undefined"){this.message("Incorrect chart type");throw"Incorrect chart type";return}else{n(t.el(),{notes:t.notes(),theme:t.theme(),title:t.title()});f.libraries[s][v].render.call(t);t.view._rendered=true}}});return this};f.prototype.sortGroups=function(r){if(!arguments.length){return this.view.sortGroups}this.view.sortGroups=(r?String(r):null);if(this.view.sortGroups&&this.data().length>1){if(m(this.data()[1][0])){this.dataset.sortColumns(this.view.sortGroups,this.dataset.getColumnSum)}else{this.dataset.sortRows(this.view.sortGroups,this.dataset.getRowSum)}}return this};f.prototype.sortIntervals=function(r){if(!arguments.length){return this.view.sortInterval}this.view.sortIntervals=(r?String(r):null);if(this.view.sortIntervals){this.dataset.sortRows(this.view.sortIntervals)}return this};f.prototype.stacked=function(r){if(!arguments.length){return this.view.stacked}this.view.stacked=r?true:false;return this};f.prototype.theme=function(r){if(!arguments.length){return this.view.theme}this.view.theme=(r?String(r):null);return this};f.prototype.title=function(r){if(!arguments.length){return this.view.title}this.view.title=(r?String(r):null);return this};f.prototype.type=function(r){if(!arguments.length){return this.view.type}this.view.type=(r?j(r):null);return this};f.prototype.update=function(){var r=this.library(),t=this.type(),s=this.el();if(r&&t&&s&&f.libraries[r][t].update){f.libraries[r][t].update.apply(this,arguments)}return this};f.prototype.width=function(r){if(!arguments.length){return this.view.width}this.view.width=(!isNaN(parseInt(r))?parseInt(r):null);return this};f.prototype.chartType=f.prototype.type;f.prototype.error=f.prototype.message;f.prototype.parseRawData=f.prototype.data;f.prototype.parseRequest=function(){return this};f.prototype.initialize=function(){return this};function n(t,r){var s="";s+='<div class="'+r.theme+'">';if(r.title){s+='<div class="'+r.theme+'-title">'+r.title+"</div>"}s+='<div class="'+r.theme+'-stage"><div class="'+r.theme+'-rendering"></div></div>';if(r.notes){s+='<div class="'+r.theme+'-notes">'+r.notes+"</div>"}s+="</div>";t.innerHTML=s}function j(s){var r={areachart:"area",barchart:"horizontal-bar",columnchart:"bar",linechart:"line",piechart:"pie"};return r[s]||s}function k(s){if("undefined"!==typeof document||"undefined"===typeof window){s();return}if(document.readyState==null&&document.addEventListener){document.addEventListener("DOMContentLoaded",function r(){document.removeEventListener("DOMContentLoaded",r,false);document.readyState="complete"},false);document.readyState="loading"}h(s)}function h(r){if(/in/.test(document.readyState)){setTimeout(function(){h(r)},9)}else{r()}}if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataviz",[],function(){return f})}if(p.Keen){p.Keen.Dataviz=f}p.Dataviz=f;if(typeof d!=="undefined"){if(d.Keen){d.Keen.Dataviz=f}d.Dataviz=f}}(this))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./data":1,"./dataset":2,"./libraries":22,"./utils/assert-date-string":23,"./utils/each":24,"./utils/extend":26}],15:[function(b,c,a){c.exports=function(f,g){var h=Math.abs(new Date(f).getTime()-new Date(g).getTime());var d=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];if(h>=2419200000){return function(k){var j=new Date(k);return d[j.getMonth()]+" "+j.getFullYear()}}else{if(h>=86400000){return function(k){var j=new Date(k);return d[j.getMonth()]+" "+j.getDate()}}else{if(h>=3600000){return"%I:%M %p"}else{return"%I:%M:%S %p"}}}}},{}],16:[function(c,d,a){var f=c("d3");var b=c("../../../utils/assert-date-string");d.exports=function(q){var w=this,o=this.view._artifacts.c3,h=[],j=this.el().querySelector("."+this.theme()+"-rendering"),t=120;var u=this.view._artifacts.pagination={hidden:[],labels:[],position:0,range:Math.round((j.offsetHeight-78)/20),total:0};if(this.type()==="donut"||this.type()==="pie"){u.range=u.range>=5?5:u.range}for(var l=0;l<q.length;l++){if(q[l][0]!=="x"&&!b(q[l][1])){h.push(q[l][0])}}var m=f.select(j).append("svg").attr({"class":"keen-c3-legend",height:j.offsetHeight-10,width:t}).style({right:-t+"px",top:"10px"});var k=m.append("g").attr("class","keen-c3-legend-items");var g=20*u.range;var p=m.append("g").attr({"class":"keen-c3-legend-pagination",transform:function(){return"translate(2, "+g+")"}});s();function s(){u.labels=h.slice(u.position,u.position+u.range);u.total=h.length;v.call(w,u.labels);if(u.total>u.range){r.call(w)}o.resize()}function v(){k.selectAll("g").remove();var x=k.selectAll("g").data(u.labels);x.enter().append("g").attr("transform",function(z,y){return"translate(0, "+(20*y)+")"}).attr("data-id",function(y){return y}).style("opacity",function(z){var y=u.hidden.indexOf(z);return y<0?1:0.35}).each(function(y){f.select(this).append("text").attr({"font-size":12,"pointer-events":"none",x:15,y:9}).text(y).text(function(z){if(f.select(this).node().getBBox().width>105){return z.length<=15?z:z.substring(0,12)+"..."}else{return z}});f.select(this).append("rect").attr({height:14,width:110,x:0,y:0}).style({cursor:"pointer","fill-opacity":0});f.select(this).append("rect").attr({fill:o.color(y),height:10,"pointer-events":"none",rx:5,ry:5,width:10,x:0,y:0})}).on("mouseover",function(z,y){o.focus(z);if(z.length>15){f.select(j).append("div").attr("class","keen-c3-legend-label-overlay").style({"max-width":"75%",right:-t+"px",top:(5+(y+1)*20)+"px"}).html(z).append("div").attr("class","keen-c3-legend-label-overlay-pointer")}}).on("mouseout",function(y){o.revert();f.select(w.el().querySelector("."+w.theme()+"-rendering .keen-c3-legend-label-overlay")).remove()}).on("click",function(y){f.select(this).style("opacity",function(){var z=u.hidden.indexOf(y);if(z<0){u.hidden.push(y);return 0.35}else{u.hidden.splice(z,1);return 1}});o.toggle(y)});x.exit().remove()}function r(){p.selectAll("g").remove();p.selectAll("g").data([{direction:"reverse",path_d:"M0 10 L10 0 L20 10 Z"},{direction:"forward",path_d:"M0 0 L10 10 L20 0 Z"}]).enter().append("g").attr("transform",function(y,x){return"translate("+(x*20)+", 0)"}).each(function(x){f.select(this).append("path").attr("d",function(y){return y.path_d}).style({cursor:"pointer",fill:"#D7D7D7",stroke:"none"}).on("mouseover",function(y){f.select(this).style("fill","#4D4D4D")}).on("mouseout",function(y){f.select(this).style("fill","#D7D7D7")}).on("click",function(y){if(y.direction==="forward"){if(u.position+u.range<u.total){u.position=u.position+u.range}}else{if(u.position-u.range>=0){u.position=u.position-u.range}}s();n()})})}function n(){var x;if(document.selection&&document.selection.empty){x=document.selection;x.empty()}else{if(window.getSelection){x=window.getSelection();x.removeAllRanges()}}}}},{"../../../utils/assert-date-string":23,d3:30}],17:[function(b,c,a){c.exports=function(o,g,h,k){var s,f,j,r,p,m,q,n;j=this.config.tooltip_format_name||function(d){return d};m=this.config.tooltip_format_title||g;n=this.config.tooltip_format_value||h;for(var l=0;l<o.length;l++){if(!(o[l]&&(o[l].value||o[l].value===0))){continue}if(!r){p=m?m(o[l].x):o[l].x;r="<table class='"+this.CLASS.tooltip+"'>"+(p||p===0?"<tr><th colspan='2'>"+p+"</th></tr>":"")}f=j(o[l].name);q=n(o[l].value,o[l].ratio,o[l].id,o[l].index);s=this.levelColor?this.levelColor(o[l].value):k(o[l].id);if(q){r+="<tr class='"+this.CLASS.tooltipName+"-"+o[l].id+"'>";r+="<td class='name'><span style='background-color:"+s+"'></span>"+f+"</td>";r+="<td class='value'>"+q+"</td>";r+="</tr>"}}return r+"</table>"}},{}],18:[function(b,c,a){c.exports={render:function(j){var g=document.createElement("div"),f=document.createElement("div"),h=document.createElement("span"),d=this.height()||140;g.className=this.theme();f.className=this.theme()+"-message";f.style.height=d+"px";f.style.paddingTop=(d/2-12)+"px";f.style.width=this.width()+"px";h.innerHTML=j||"";f.appendChild(h);g.appendChild(f);this.el().innerHTML="";this.el().appendChild(g)},update:function(){this.render()},destroy:function(){}}},{}],19:[function(c,d,b){var a=c("../../utils/pretty-number");d.exports={render:function(){var k=this.theme(),n=this.title(),o=this.data()[1][1]||"-",q=this.height()||140,h=this.width(),g=this.chartOptions(),l="",m="",p="",f,j;f=o;if((typeof g.prettyNumber==="undefined"||g.prettyNumber===true)&&!isNaN(parseInt(o))){f=a(o)}if(g.prefix){m='<span class="'+k+'-metric-prefix">'+g.prefix+"</span>"}if(g.suffix){p='<span class="'+k+'-metric-suffix">'+g.suffix+"</span>"}l+='<div class="'+k+'">';l+='<div class="'+k+'-metric" style="width: '+(h?h+"px":"auto")+';" title="'+o+'">';l+='<span class="'+k+'-metric-value">'+m+f+p+"</span>";if(n){l+='<span class="'+k+'-metric-title">'+n+"</span>"}l+="</div>";l+="</div>";this.el().innerHTML=l;j=this.el().querySelector("."+k+"-metric-value");j.style.paddingTop=((q-this.el().offsetHeight)/2)+"px";this.el().querySelector("."+k+"-metric").style.height=q+"px"},update:function(){this.render()},destroy:function(){}}},{"../../utils/pretty-number":27}],20:[function(b,c,a){c.exports={render:function(){var h="",g=this.view._artifacts.spinner={},f=this.height()||35,k=(f-35)/2,j=["webkit","Moz","ms","O"],d=this.view._artifacts.radius=0,l;h+='<div class="'+this.theme()+'">';h+='<div class="keen-spinner-container" style="height: '+f+"px; padding-top: "+k+'px;">';h+='<div class="keen-spinner-indicator"></div>';h+="</div>";h+="</div>";this.el().innerHTML=h;l=this.el().querySelector(".keen-spinner-indicator");if(l.style.animationName===undefined){d=0;g.interval=setInterval(function(){d=(d===350)?0:d+10;for(var m=0;m<j.length;m++){l.style[j[m]]="rotate("+g.radius+"deg)"}},15)}},update:function(){this.render()},destroy:function(){if(this.view._artifacts.spinner){if(this.view._artifacts.spinner.interval){clearInterval(this.view._artifacts.spinner.interval)}this.view._artifacts.spinner.radius=0;try{delete this.view._artifacts.spinner}catch(d){this.view._artifacts.spinner=undefined}}this.el().innerHTML=""}}},{}],21:[function(b,c,a){var d=b("../../utils/each");var f={height:undefined,width:undefined,stickyHeader:true,stickyFooter:false};c.exports={render:function(){var m=this.data(),k=this.el(),r=(this.height()||f.height)-this.el().offsetHeight,o=this.theme(),h=this.width()||f.width;var p="",q=new Array(m[0].length),s=new Array(m[0].length),g;d(m,function(j){d(j,function(t,u){if(!s[u]){s[u]=0}q[u]=(typeof t==="number")?"right":"left";s[u]=(String(t).length>s[u])?String(t).length:s[u]})});p+='<div class="'+o+'-table" style="height: '+(r?r+"px":"auto")+"; width: "+(h?h+"px":"auto")+';">';p+='<table class="'+o+'-table-dataset">';p+="<thead>";p+="<tr>";for(var n=0;n<m[0].length;n++){p+='<th style="width: '+(10*s[n])+"px; text-align: "+q[n]+';">'+m[0][n]+"</th>"}p+="</tr>";p+="</thead>";p+="<tbody>";for(var n=0;n<m.length;n++){if(n>0){p+="<tr>";for(var l=0;l<m[n].length;l++){p+='<td style="min-width: '+(10*s[l])+"px; text-align: "+q[l]+';">'+m[n][l]+"</td>"}p+="</tr>"}}p+="</tbody>";p+="</table>";p+='<table class="'+o+'-table-fixed-header">';p+="<thead>";p+="<tr>";for(var n=0;n<m[0].length;n++){p+='<th style="min-width: '+(10*s[n])+"px; text-align: "+q[n]+';">'+m[0][n]+"</th>"}p+="</tr>";p+="</thead>";p+="</table>";p+="</div>";k.querySelector("."+o+"-rendering").innerHTML=p;g=k.querySelector("."+o+"-table-fixed-header");k.querySelector("."+o+"-table").onscroll=function(j){g.style.top=j.target.scrollTop+"px"}},update:function(){this.render()},destroy:function(){var g=this.el().querySelector("."+this.theme()+"-table");if(g&&g.onscroll){g.onscroll=undefined}}}},{"../../utils/each":24}],22:[function(d,c,h){var g=d("c3"),s=d("d3");var r=d("../utils/each"),o=d("../utils/extend"),p=d("../utils/extend-deep"),k=d("../utils/assert-date-string");var l=d("./c3/extensions/default-date-format");var j=d("./c3/extensions/paginating-legend");var n=d("./c3/extensions/tooltip-contents");var m={message:d("./default/message"),metric:d("./default/metric"),table:d("./default/table"),spinner:d("./default/spinner")};c.exports=function(u){var v,t;f(function(){if(v){clearTimeout(v)}t=(u.visuals.length>12)?1000:250;v=setTimeout(function(){r(u.visuals,function(w){if(w.view._artifacts.c3){w.view._artifacts.c3.resize()}})},t)});q();return m};function q(){var u=["area","area-spline","area-step","bar","donut","gauge","line","pie","step","spline","horizontal-area","horizontal-area-spline","horizontal-area-step","horizontal-bar","horizontal-line","horizontal-step","horizontal-spline"];function t(){var x,v,w;x={axis:{},color:{},data:{order:null},legend:{position:"right",show:true},padding:{},point:{show:false},tooltip:{}};v={bindto:this.el().querySelector("."+this.theme()+"-rendering"),color:{pattern:this.colors()},data:{colors:o({},this.colorMapping()),columns:[],type:this.type().replace("horizontal-","")},size:{height:this.height()?this.height()-this.el().offsetHeight:400,width:this.width()},tooltip:{},transition:{duration:0}};w=p({},x,this.chartOptions());w=p(w,v);w.color.pattern=v.color.pattern;w.data.colors=v.data.colors;w.data.columns=v.data.columns;return w}r(u,function(w,v){m[w]={render:function(){var y=t.call(this);if(this.data()[0].length===1||this.data().length===1){this.message("No data to display");return}if(w==="gauge"){y.legend.position="bottom";y.data.columns=[[this.title()||this.data()[1][0],this.data()[1][1]]]}else{if(w==="pie"||w==="donut"){if(y.visibilityThreshold){var x=0;var A=this.data().slice(1).map(function(B){return B[1]}).reduce(function(B,C){return B+C},0);this.data().slice(1).forEach(function(B){if((B[1]/A)>y.visibilityThreshold){y.data.columns.push(B)}else{x+=B[1]}});if(x>0){y.data.columns.push(["Other",x])}}else{y.data.columns=this.data().slice(1)}}else{if(w.indexOf("horizontal-")>-1){y.axis.rotated=w.indexOf("horizontal-")>-1}if(k(this.data()[1][0])){y.axis.x=y.axis.x||{};y.axis.x.type="timeseries";y.axis.x.tick=y.axis.x.tick||{format:l(this.data()[1][0],this.data()[2][0]),culling:{max:5}};y.data.columns[0]=[];r(this.dataset.selectColumn(0),function(B,C){if(C>0){B=new Date(B)}y.data.columns[0][C]=B});y.data.columns[0][0]="x";y.data.x="x";if(this.stacked()&&this.data()[0].length>2){y.data.groups=[this.dataset.selectRow(0).slice(1)]}}else{y.axis.x=y.axis.x||{};y.axis.x.type="category";y.axis.x.categories=this.dataset.selectColumn(0).slice(1);if(this.stacked()&&this.data()[0].length>2){y.data.groups=[this.dataset.selectRow(0).slice(1)]}}if(this.data()[0].length===2){y.legend.show=false}r(this.data()[0],function(B,C){if(C>0){y.data.columns.push(this.dataset.selectColumn(C))}}.bind(this))}}if(y.legend.show===true&&y.legend.position==="right"&&["gauge"].indexOf(w.replace("horizontal-",""))){y.data.color=b.bind(this);y.tooltip={contents:n,format:{value:a.bind(this)}};y.legend.show=false;var z=this.el().querySelector("."+this.theme()+"-rendering").offsetWidth-100;y.size.width=y.size.width||z;this.el().querySelector("."+this.theme()+"-rendering").setAttribute("style","margin-right: 120px;");this.view._artifacts.c3=g.generate(y);j.call(this,y.data.columns)}else{y.legend.show=false;this.view._artifacts.c3=g.generate(y)}},update:function(){this.render()},destroy:function(){if(this.view._artifacts.c3){this.view._artifacts.c3.destroy();this.view._artifacts.c3=null}}}})}function b(t,v){var u;if(this.view._artifacts.pagination&&this.type()!=="gauge"){u=this.view._artifacts.pagination.labels;if((v.id&&u.indexOf(v.id)>-1)||(v&&!v.id&&u.indexOf(v)>-1)){return t}else{if(this.type()==="donut"||this.type()==="pie"){return"rgba(0,0,0,.1)"}else{return"rgba(0,0,0,.07)"}}}else{return t}}function a(w,v,x,t){var u;if(this.view._artifacts.pagination&&this.type()!=="gauge"){u=this.view._artifacts.pagination.labels;if(u.indexOf(x)>-1){return w}}else{return w}}function f(t){if("undefined"===typeof window){return}window.onresize=window.resize=function(){};if(window.addEventListener){window.addEventListener("resize",t,true)}else{if(window.attachEvent){window.attachEvent("onresize",t)}}}},{"../utils/assert-date-string":23,"../utils/each":24,"../utils/extend":26,"../utils/extend-deep":25,"./c3/extensions/default-date-format":15,"./c3/extensions/paginating-legend":16,"./c3/extensions/tooltip-contents":17,"./default/message":18,"./default/metric":19,"./default/spinner":20,"./default/table":21,c3:28,d3:30}],23:[function(b,c,a){c.exports=function(d){if(typeof d==="object"&&typeof d.getTime==="function"&&!isNaN(d.getTime())){return true}else{if(typeof d==="string"&&!isNaN(d.split("-")[0])&&!isNaN(new Date(d).getTime())){return true}}return false}},{}],24:[function(b,c,a){c.exports=d;function d(h,f,g){var j;if(!h){return 0}g=!g?h:g;if(h instanceof Array){for(j=0;j<h.length;j++){if(f.call(g,h[j],j,h)===false){return 0}}}else{for(j in h){if(h.hasOwnProperty(j)){if(f.call(g,h[j],j,h)===false){return 0}}}}return 1}},{}],25:[function(b,c,a){var f=b("./each");c.exports=d;function d(h){for(var g=1;g<arguments.length;g++){f(arguments[g],function(k,j){if((typeof h[j]!=="undefined"&&typeof k!=="undefined")&&(typeof h[j]==="object"&&typeof k==="object")&&(h[j]!==null&&k!==null)){d(h[j],k)}else{h[j]=k}})}return h}},{"./each":24}],26:[function(b,c,a){c.exports=d;function d(g){for(var f=1;f<arguments.length;f++){for(var h in arguments[f]){g[h]=arguments[f][h]}}return g}},{}],27:[function(c,d,b){d.exports=a;function a(f){var f=Number(f),j=f.toPrecision(3),k="",g=["","k","M","B","T"];if(Number(j)==f&&String(f).length<=4){return String(f)}if(f>=1||f<=-1){if(f<0){f=-f;k="-"}return k+h(f,0)}else{return f.toPrecision(3)}function h(l,n){var l=String(l);var m=l.split(".");if(m.length>1){l=m[0];var p=m[1];if(l.length==2&&p.length>0){if(p.length>0){l=l+"."+p.charAt(0)}else{l+="0"}}else{if(l.length==1&&p.length>0){l=l+"."+p.charAt(0);if(p.length>1){l+=p.charAt(1)}else{l+="0"}}}}var o=l.length;if(l.split(".").length>1){o--}if(o<=3){return String(l)+g[n]}else{return h(Number(l)/1000,n+1)}}}},{}],28:[function(b,c,a){(function(ae){var n={version:"0.4.10"};var C,G,q;function V(ax){this.owner=ax}function A(az,ax){if(Object.create){ax.prototype=Object.create(az.prototype)}else{var ay=function ay(){};ay.prototype=az.prototype;ax.prototype=new ay()}ax.prototype.constructor=ax;return ax}function aa(az){var ay=this.internal=new aq(this);ay.loadConfig(az);ay.init();(function ax(aA,aC,aB){Object.keys(aA).forEach(function(aD){aC[aD]=aA[aD].bind(aB);if(Object.keys(aA[aD]).length>0){ax(aA[aD],aC[aD],aB)}})})(C,this,this)}function aq(ay){var ax=this;ax.d3=ae.d3?ae.d3:typeof b!=="undefined"?b("d3"):undefined;ax.api=ay;ax.config=ax.getDefaultConfig();ax.data={};ax.cache={};ax.axes={}}n.generate=function(ax){return new aa(ax)};n.chart={fn:aa.prototype,internal:{fn:aq.prototype,axis:{fn:y.prototype}}};C=n.chart.fn;G=n.chart.internal.fn;q=n.chart.internal.axis.fn;G.init=function(){var ax=this,ay=ax.config;ax.initParams();if(ay.data_url){ax.convertUrlToData(ay.data_url,ay.data_mimeType,ay.data_keys,ax.initWithData)}else{if(ay.data_json){ax.initWithData(ax.convertJsonToData(ay.data_json,ay.data_keys))}else{if(ay.data_rows){ax.initWithData(ax.convertRowsToData(ay.data_rows))}else{if(ay.data_columns){ax.initWithData(ax.convertColumnsToData(ay.data_columns))}else{throw Error("url or json or rows or columns is required.")}}}}};G.initParams=function(){var ax=this,az=ax.d3,ay=ax.config;ax.clipId="c3-"+(+new Date())+"-clip",ax.clipIdForXAxis=ax.clipId+"-xaxis",ax.clipIdForYAxis=ax.clipId+"-yaxis",ax.clipIdForGrid=ax.clipId+"-grid",ax.clipIdForSubchart=ax.clipId+"-subchart",ax.clipPath=ax.getClipPath(ax.clipId),ax.clipPathForXAxis=ax.getClipPath(ax.clipIdForXAxis),ax.clipPathForYAxis=ax.getClipPath(ax.clipIdForYAxis);ax.clipPathForGrid=ax.getClipPath(ax.clipIdForGrid),ax.clipPathForSubchart=ax.getClipPath(ax.clipIdForSubchart),ax.dragStart=null;ax.dragging=false;ax.flowing=false;ax.cancelClick=false;ax.mouseover=false;ax.transiting=false;ax.color=ax.generateColor();ax.levelColor=ax.generateLevelColor();ax.dataTimeFormat=ay.data_xLocaltime?az.time.format:az.time.format.utc;ax.axisTimeFormat=ay.axis_x_localtime?az.time.format:az.time.format.utc;ax.defaultAxisTimeFormat=ax.axisTimeFormat.multi([[".%L",function(aA){return aA.getMilliseconds()}],[":%S",function(aA){return aA.getSeconds()}],["%I:%M",function(aA){return aA.getMinutes()}],["%I %p",function(aA){return aA.getHours()}],["%-m/%-d",function(aA){return aA.getDay()&&aA.getDate()!==1}],["%-m/%-d",function(aA){return aA.getDate()!==1}],["%-m/%-d",function(aA){return aA.getMonth()}],["%Y/%-m/%-d",function(){return true}]]);ax.hiddenTargetIds=[];ax.hiddenLegendIds=[];ax.focusedTargetIds=[];ax.defocusedTargetIds=[];ax.xOrient=ay.axis_rotated?"left":"bottom";ax.yOrient=ay.axis_rotated?(ay.axis_y_inner?"top":"bottom"):(ay.axis_y_inner?"right":"left");ax.y2Orient=ay.axis_rotated?(ay.axis_y2_inner?"bottom":"top"):(ay.axis_y2_inner?"left":"right");ax.subXOrient=ay.axis_rotated?"left":"bottom";ax.isLegendRight=ay.legend_position==="right";ax.isLegendInset=ay.legend_position==="inset";ax.isLegendTop=ay.legend_inset_anchor==="top-left"||ay.legend_inset_anchor==="top-right";ax.isLegendLeft=ay.legend_inset_anchor==="top-left"||ay.legend_inset_anchor==="bottom-left";ax.legendStep=0;ax.legendItemWidth=0;ax.legendItemHeight=0;ax.currentMaxTickWidths={x:0,y:0,y2:0};ax.rotated_padding_left=30;ax.rotated_padding_right=ay.axis_rotated&&!ay.axis_x_show?0:30;ax.rotated_padding_top=5;ax.withoutFadeIn={};ax.intervalForObserveInserted=undefined;ax.axes.subx=az.selectAll([])};G.initChartElements=function(){if(this.initBar){this.initBar()}if(this.initLine){this.initLine()}if(this.initArc){this.initArc()}if(this.initGauge){this.initGauge()}if(this.initText){this.initText()}};G.initWithData=function(aC){var az=this,aB=az.d3,aA=az.config;var ay,ax,aD=true;az.axis=new y(az);if(az.initPie){az.initPie()}if(az.initBrush){az.initBrush()}if(az.initZoom){az.initZoom()}if(!aA.bindto){az.selectChart=aB.selectAll([])}else{if(typeof aA.bindto.node==="function"){az.selectChart=aA.bindto}else{az.selectChart=aB.select(aA.bindto)}}if(az.selectChart.empty()){az.selectChart=aB.select(document.createElement("div")).style("opacity",0);az.observeInserted(az.selectChart);aD=false}az.selectChart.html("").classed("c3",true);az.data.xs={};az.data.targets=az.convertDataToTargets(aC);if(aA.data_filter){az.data.targets=az.data.targets.filter(aA.data_filter)}if(aA.data_hide){az.addHiddenTargetIds(aA.data_hide===true?az.mapToIds(az.data.targets):aA.data_hide)}if(aA.legend_hide){az.addHiddenLegendIds(aA.legend_hide===true?az.mapToIds(az.data.targets):aA.legend_hide)}if(az.hasType("gauge")){aA.legend_show=false}az.updateSizes();az.updateScales();az.x.domain(aB.extent(az.getXDomain(az.data.targets)));az.y.domain(az.getYDomain(az.data.targets,"y"));az.y2.domain(az.getYDomain(az.data.targets,"y2"));az.subX.domain(az.x.domain());az.subY.domain(az.y.domain());az.subY2.domain(az.y2.domain());az.orgXDomain=az.x.domain();if(az.brush){az.brush.scale(az.subX)}if(aA.zoom_enabled){az.zoom.scale(az.x)}az.svg=az.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return aA.onmouseover.call(az)}).on("mouseleave",function(){return aA.onmouseout.call(az)});ay=az.svg.append("defs");az.clipChart=az.appendClip(ay,az.clipId);az.clipXAxis=az.appendClip(ay,az.clipIdForXAxis);az.clipYAxis=az.appendClip(ay,az.clipIdForYAxis);az.clipGrid=az.appendClip(ay,az.clipIdForGrid);az.clipSubchart=az.appendClip(ay,az.clipIdForSubchart);az.updateSvgSize();ax=az.main=az.svg.append("g").attr("transform",az.getTranslate("main"));if(az.initSubchart){az.initSubchart()}if(az.initTooltip){az.initTooltip()}if(az.initLegend){az.initLegend()}ax.append("text").attr("class",E.text+" "+E.empty).attr("text-anchor","middle").attr("dominant-baseline","middle");az.initRegion();az.initGrid();ax.append("g").attr("clip-path",az.clipPath).attr("class",E.chart);if(aA.grid_lines_front){az.initGridLines()}az.initEventRect();az.initChartElements();ax.insert("rect",aA.zoom_privileged?null:"g."+E.regions).attr("class",E.zoomRect).attr("width",az.width).attr("height",az.height).style("opacity",0).on("dblclick.zoom",null);if(aA.axis_x_extent){az.brush.extent(az.getDefaultExtent())}az.axis.init();az.updateTargets(az.data.targets);if(aD){az.updateDimension();az.config.oninit.call(az);az.redraw({withTransition:false,withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransitionForAxis:false})}if(ae.onresize==null){ae.onresize=az.generateResize()}if(ae.onresize.add){ae.onresize.add(function(){aA.onresize.call(az)});ae.onresize.add(function(){az.api.flush()});ae.onresize.add(function(){aA.onresized.call(az)})}az.api.element=az.selectChart.node()};G.smoothLines=function(az,ay){var ax=this;if(ay==="grid"){az.each(function(){var aE=ax.d3.select(this),aB=aE.attr("x1"),aA=aE.attr("x2"),aD=aE.attr("y1"),aC=aE.attr("y2");aE.attr({x1:Math.ceil(aB),x2:Math.ceil(aA),y1:Math.ceil(aD),y2:Math.ceil(aC)})})}};G.updateSizes=function(){var ay=this,aA=ay.config;var ax=ay.legend?ay.getLegendHeight():0,aD=ay.legend?ay.getLegendWidth():0,aC=ay.isLegendRight||ay.isLegendInset?0:ax,az=ay.hasArcType(),aB=aA.axis_rotated||az?0:ay.getHorizontalAxisHeight("x"),aE=aA.subchart_show&&!az?(aA.subchart_size_height+aB):0;ay.currentWidth=ay.getCurrentWidth();ay.currentHeight=ay.getCurrentHeight();ay.margin=aA.axis_rotated?{top:ay.getHorizontalAxisHeight("y2")+ay.getCurrentPaddingTop(),right:az?0:ay.getCurrentPaddingRight(),bottom:ay.getHorizontalAxisHeight("y")+aC+ay.getCurrentPaddingBottom(),left:aE+(az?0:ay.getCurrentPaddingLeft())}:{top:4+ay.getCurrentPaddingTop(),right:az?0:ay.getCurrentPaddingRight(),bottom:aB+aE+aC+ay.getCurrentPaddingBottom(),left:az?0:ay.getCurrentPaddingLeft()};ay.margin2=aA.axis_rotated?{top:ay.margin.top,right:NaN,bottom:20+aC,left:ay.rotated_padding_left}:{top:ay.currentHeight-aE-aC,right:NaN,bottom:aB+aC,left:ay.margin.left};ay.margin3={top:0,right:NaN,bottom:0,left:0};if(ay.updateSizeForLegend){ay.updateSizeForLegend(ax,aD)}ay.width=ay.currentWidth-ay.margin.left-ay.margin.right;ay.height=ay.currentHeight-ay.margin.top-ay.margin.bottom;if(ay.width<0){ay.width=0}if(ay.height<0){ay.height=0}ay.width2=aA.axis_rotated?ay.margin.left-ay.rotated_padding_left-ay.rotated_padding_right:ay.width;ay.height2=aA.axis_rotated?ay.height:ay.currentHeight-ay.margin2.top-ay.margin2.bottom;if(ay.width2<0){ay.width2=0}if(ay.height2<0){ay.height2=0}ay.arcWidth=ay.width-(ay.isLegendRight?aD+10:0);ay.arcHeight=ay.height-(ay.isLegendRight?0:10);if(ay.hasType("gauge")){ay.arcHeight+=ay.height-ay.getGaugeLabelHeight()}if(ay.updateRadius){ay.updateRadius()}if(ay.isLegendRight&&az){ay.margin3.left=ay.arcWidth/2+ay.radiusExpanded*1.1}};G.updateTargets=function(ax){var ay=this;ay.updateTargetsForText(ax);ay.updateTargetsForBar(ax);ay.updateTargetsForLine(ax);if(ay.hasArcType()&&ay.updateTargetsForArc){ay.updateTargetsForArc(ax)}if(ay.updateTargetsForSubchart){ay.updateTargetsForSubchart(ax)}ay.showTargets()};G.showTargets=function(){var ax=this;ax.svg.selectAll("."+E.target).filter(function(ay){return ax.isTargetToShow(ay.id)}).transition().duration(ax.config.transition_duration).style("opacity",1)};G.redraw=function(aN,aD){var a3=this,az=a3.main,a2=a3.d3,aZ=a3.config;var aY=a3.getShapeIndices(a3.isAreaType),aT=a3.getShapeIndices(a3.isBarType),a1=a3.getShapeIndices(a3.isLineType);var aF,aW,a5,aK,a0,aC,aR,a8,aI,bb,aP,aJ,a9;var aX=a3.hasArcType();var aA,a4,aV,ax,aB;var aO,aG,aS;var ba,a7;var aU=a3.filterTargetsToShow(a3.data.targets),aH,a6,aE,ay;var aQ=a3.xv.bind(a3),aM,aL;aN=aN||{};aF=v(aN,"withY",true);aW=v(aN,"withSubchart",true);a5=v(aN,"withTransition",true);aC=v(aN,"withTransform",false);aR=v(aN,"withUpdateXDomain",false);a8=v(aN,"withUpdateOrgXDomain",false);aI=v(aN,"withTrimXDomain",true);a9=v(aN,"withUpdateXAxis",aR);bb=v(aN,"withLegend",false);aP=v(aN,"withEventRect",true);aJ=v(aN,"withDimension",true);aK=v(aN,"withTransitionForExit",a5);a0=v(aN,"withTransitionForAxis",a5);aO=a5?aZ.transition_duration:0;aG=aK?aO:0;aS=a0?aO:0;aD=aD||a3.axis.generateTransitions(aS);if(bb&&aZ.legend_show){a3.updateLegend(a3.mapToIds(a3.data.targets),aN,aD)}else{if(aJ){a3.updateDimension(true)}}if(a3.isCategorized()&&aU.length===0){a3.x.domain([0,a3.axes.x.selectAll(".tick").size()])}if(aU.length){a3.updateXDomain(aU,aR,a8,aI);if(!aZ.axis_x_tick_values){aH=a3.axis.updateXAxisTickValues(aU)}}else{a3.xAxis.tickValues([]);a3.subXAxis.tickValues([])}if(aZ.zoom_rescale&&!aN.flow){ay=a3.x.orgDomain()}a3.y.domain(a3.getYDomain(aU,"y",ay));a3.y2.domain(a3.getYDomain(aU,"y2",ay));if(!aZ.axis_y_tick_values&&aZ.axis_y_tick_count){a3.yAxis.tickValues(a3.axis.generateTickValues(a3.y.domain(),aZ.axis_y_tick_count))}if(!aZ.axis_y2_tick_values&&aZ.axis_y2_tick_count){a3.y2Axis.tickValues(a3.axis.generateTickValues(a3.y2.domain(),aZ.axis_y2_tick_count))}a3.axis.redraw(aD,aX);a3.axis.updateLabels(a5);if((aR||a9)&&aU.length){if(aZ.axis_x_tick_culling&&aH){for(a6=1;a6<aH.length;a6++){if(aH.length/a6<aZ.axis_x_tick_culling_max){aE=a6;break}}a3.svg.selectAll("."+E.axisX+" .tick text").each(function(bd){var bc=aH.indexOf(bd);if(bc>=0){a2.select(this).style("display",bc%aE?"none":"block")}})}else{a3.svg.selectAll("."+E.axisX+" .tick text").style("display","block")}}aA=a3.generateDrawArea?a3.generateDrawArea(aY,false):undefined;a4=a3.generateDrawBar?a3.generateDrawBar(aT):undefined;aV=a3.generateDrawLine?a3.generateDrawLine(a1,false):undefined;ax=a3.generateXYForText(aY,aT,a1,true);aB=a3.generateXYForText(aY,aT,a1,false);if(aF){a3.subY.domain(a3.getYDomain(aU,"y"));a3.subY2.domain(a3.getYDomain(aU,"y2"))}a3.tooltip.style("display","none");a3.updateXgridFocus();az.select("text."+E.text+"."+E.empty).attr("x",a3.width/2).attr("y",a3.height/2).text(aZ.data_empty_label_text).transition().style("opacity",aU.length?0:1);a3.updateGrid(aO);a3.updateRegion(aO);a3.updateBar(aG);a3.updateLine(aG);a3.updateArea(aG);a3.updateCircle();if(a3.hasDataLabel()){a3.updateText(aG)}if(a3.redrawArc){a3.redrawArc(aO,aG,aC)}if(a3.redrawSubchart){a3.redrawSubchart(aW,aD,aO,aG,aY,aT,a1)}az.selectAll("."+E.selectedCircles).filter(a3.isBarType.bind(a3)).selectAll("circle").remove();if(aZ.interaction_enabled&&!aN.flow&&aP){a3.redrawEventRect();if(a3.updateZoom){a3.updateZoom()}}a3.updateCircleY();aM=(a3.config.axis_rotated?a3.circleY:a3.circleX).bind(a3);aL=(a3.config.axis_rotated?a3.circleX:a3.circleY).bind(a3);if(aN.flow){a7=a3.generateFlow({targets:aU,flow:aN.flow,duration:aN.flow.duration,drawBar:a4,drawLine:aV,drawArea:aA,cx:aM,cy:aL,xv:aQ,xForText:ax,yForText:aB})}if((aO||a7)&&a3.isTabVisible()){a2.transition().duration(aO).each(function(){var bc=[];[a3.redrawBar(a4,true),a3.redrawLine(aV,true),a3.redrawArea(aA,true),a3.redrawCircle(aM,aL,true),a3.redrawText(ax,aB,aN.flow,true),a3.redrawRegion(true),a3.redrawGrid(true),].forEach(function(bd){bd.forEach(function(be){bc.push(be)})});ba=a3.generateWait();bc.forEach(function(bd){ba.add(bd)})}).call(ba,function(){if(a7){a7()}if(aZ.onrendered){aZ.onrendered.call(a3)}})}else{a3.redrawBar(a4);a3.redrawLine(aV);a3.redrawArea(aA);a3.redrawCircle(aM,aL);a3.redrawText(ax,aB,aN.flow);a3.redrawRegion();a3.redrawGrid();if(aZ.onrendered){aZ.onrendered.call(a3)}}a3.mapToIds(a3.data.targets).forEach(function(bc){a3.withoutFadeIn[bc]=true})};G.updateAndRedraw=function(az){var ax=this,ay=ax.config,aA;az=az||{};az.withTransition=v(az,"withTransition",true);az.withTransform=v(az,"withTransform",false);az.withLegend=v(az,"withLegend",false);az.withUpdateXDomain=true;az.withUpdateOrgXDomain=true;az.withTransitionForExit=false;az.withTransitionForTransform=v(az,"withTransitionForTransform",az.withTransition);ax.updateSizes();if(!(az.withLegend&&ay.legend_show)){aA=ax.axis.generateTransitions(az.withTransitionForAxis?ay.transition_duration:0);ax.updateScales();ax.updateSvgSize();ax.transformAll(az.withTransitionForTransform,aA)}ax.redraw(az,aA)};G.redrawWithoutRescale=function(){this.redraw({withY:false,withSubchart:false,withEventRect:false,withTransitionForAxis:false})};G.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"};G.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0};G.isCustomX=function(){var ax=this,ay=ax.config;return !ax.isTimeSeries()&&(ay.data_x||M(ay.data_xs))};G.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"};G.getTranslate=function(aA){var ay=this,az=ay.config,ax,aB;if(aA==="main"){ax=X(ay.margin.left);aB=X(ay.margin.top)}else{if(aA==="context"){ax=X(ay.margin2.left);aB=X(ay.margin2.top)}else{if(aA==="legend"){ax=ay.margin3.left;aB=ay.margin3.top}else{if(aA==="x"){ax=0;aB=az.axis_rotated?0:ay.height}else{if(aA==="y"){ax=0;aB=az.axis_rotated?ay.height:0}else{if(aA==="y2"){ax=az.axis_rotated?0:ay.width;aB=az.axis_rotated?1:0}else{if(aA==="subx"){ax=0;aB=az.axis_rotated?0:ay.height2}else{if(aA==="arc"){ax=ay.arcWidth/2;aB=ay.arcHeight/2}}}}}}}}return"translate("+ax+","+aB+")"};G.initialOpacity=function(ax){return ax.value!==null&&this.withoutFadeIn[ax.id]?1:0};G.initialOpacityForCircle=function(ax){return ax.value!==null&&this.withoutFadeIn[ax.id]?this.opacityForCircle(ax):0};G.opacityForCircle=function(ay){var ax=this.config.point_show?1:0;return j(ay.value)?(this.isScatterType(ay)?0.5:ax):0};G.opacityForText=function(){return this.hasDataLabel()?1:0};G.xx=function(ax){return ax?this.x(ax.x):null};G.xv=function(az){var ax=this,ay=az.value;if(ax.isTimeSeries()){ay=ax.parseDate(az.value)}else{if(ax.isCategorized()&&typeof az.value==="string"){ay=ax.config.axis_x_categories.indexOf(az.value)}}return Math.ceil(ax.x(ay))};G.yv=function(az){var ax=this,ay=az.axis&&az.axis==="y2"?ax.y2:ax.y;return Math.ceil(ay(az.value))};G.subxx=function(ax){return ax?this.subX(ax.x):null};G.transformMain=function(az,aC){var ay=this,aB,ax,aA;if(aC&&aC.axisX){aB=aC.axisX}else{aB=ay.main.select("."+E.axisX);if(az){aB=aB.transition()}}if(aC&&aC.axisY){ax=aC.axisY}else{ax=ay.main.select("."+E.axisY);if(az){ax=ax.transition()}}if(aC&&aC.axisY2){aA=aC.axisY2}else{aA=ay.main.select("."+E.axisY2);if(az){aA=aA.transition()}}(az?ay.main.transition():ay.main).attr("transform",ay.getTranslate("main"));aB.attr("transform",ay.getTranslate("x"));ax.attr("transform",ay.getTranslate("y"));aA.attr("transform",ay.getTranslate("y2"));ay.main.select("."+E.chartArcs).attr("transform",ay.getTranslate("arc"))};G.transformAll=function(ay,az){var ax=this;ax.transformMain(ay,az);if(ax.config.subchart_show){ax.transformContext(ay,az)}if(ax.legend){ax.transformLegend(ay)}};G.updateSvgSize=function(){var ay=this,ax=ay.svg.select(".c3-brush .background");ay.svg.attr("width",ay.currentWidth).attr("height",ay.currentHeight);ay.svg.selectAll(["#"+ay.clipId,"#"+ay.clipIdForGrid]).select("rect").attr("width",ay.width).attr("height",ay.height);ay.svg.select("#"+ay.clipIdForXAxis).select("rect").attr("x",ay.getXAxisClipX.bind(ay)).attr("y",ay.getXAxisClipY.bind(ay)).attr("width",ay.getXAxisClipWidth.bind(ay)).attr("height",ay.getXAxisClipHeight.bind(ay));ay.svg.select("#"+ay.clipIdForYAxis).select("rect").attr("x",ay.getYAxisClipX.bind(ay)).attr("y",ay.getYAxisClipY.bind(ay)).attr("width",ay.getYAxisClipWidth.bind(ay)).attr("height",ay.getYAxisClipHeight.bind(ay));ay.svg.select("#"+ay.clipIdForSubchart).select("rect").attr("width",ay.width).attr("height",ax.size()?ax.attr("height"):0);ay.svg.select("."+E.zoomRect).attr("width",ay.width).attr("height",ay.height);ay.selectChart.style("max-height",ay.currentHeight+"px")};G.updateDimension=function(ay){var ax=this;if(!ay){if(ax.config.axis_rotated){ax.axes.x.call(ax.xAxis);ax.axes.subx.call(ax.subXAxis)}else{ax.axes.y.call(ax.yAxis);ax.axes.y2.call(ax.y2Axis)}}ax.updateSizes();ax.updateScales();ax.updateSvgSize();ax.transformAll(false)};G.observeInserted=function(az){var ay=this,ax;if(typeof MutationObserver==="undefined"){ae.console.error("MutationObserver not defined.");return}ax=new MutationObserver(function(aA){aA.forEach(function(aB){if(aB.type==="childList"&&aB.previousSibling){ax.disconnect();ay.intervalForObserveInserted=ae.setInterval(function(){if(az.node().parentNode){ae.clearInterval(ay.intervalForObserveInserted);ay.updateDimension();ay.config.oninit.call(ay);ay.redraw({withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransition:false,withTransitionForTransform:false,withLegend:true});az.transition().style("opacity",1)}},10)}})});ax.observe(az.node(),{attributes:true,childList:true,characterData:true})};G.generateResize=function(){var ax=[];function ay(){ax.forEach(function(az){az()})}ay.add=function(az){ax.push(az)};return ay};G.endall=function(ax,az){var ay=0;ax.each(function(){++ay}).each("end",function(){if(!--ay){az.apply(this,arguments)}})};G.generateWait=function(){var ay=[],ax=function(az,aB){var aA=setInterval(function(){var aC=0;ay.forEach(function(aD){if(aD.empty()){aC+=1;return}try{aD.transition()}catch(aE){aC+=1}});if(aC===ay.length){clearInterval(aA);if(aB){aB()}}},10)};ax.add=function(az){ay.push(az)};return ax};G.parseDate=function(ay){var ax=this,az;if(ay instanceof Date){az=ay}else{if(typeof ay==="string"){az=ax.dataTimeFormat(ax.config.data_xFormat).parse(ay)}else{if(typeof ay==="number"||!isNaN(ay)){az=new Date(+ay)}}}if(!az||isNaN(+az)){ae.console.error("Failed to parse x '"+ay+"' to Date object")}return az};G.isTabVisible=function(){var ax;if(typeof document.hidden!=="undefined"){ax="hidden"}else{if(typeof document.mozHidden!=="undefined"){ax="mozHidden"}else{if(typeof document.msHidden!=="undefined"){ax="msHidden"}else{if(typeof document.webkitHidden!=="undefined"){ax="webkitHidden"}}}}return document[ax]?false:true};G.getDefaultConfig=function(){var ax={bindto:"#chart",size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,zoom_enabled:false,zoom_extent:undefined,zoom_privileged:false,zoom_rescale:false,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:true,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:true,data_xSort:true,data_idConverter:function(ay){return ay},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:false,data_filter:undefined,data_selection_enabled:false,data_selection_grouped:false,data_selection_isselectable:function(){return true},data_selection_multiple:true,data_selection_draggable:false,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:false,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:true,legend_hide:false,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:false,axis_rotated:false,axis_x_show:true,axis_x_type:"indexed",axis_x_localtime:true,axis_x_categories:[],axis_x_tick_centered:false,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:true,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:true,axis_x_tick_multiline:true,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:true,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:false,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:true,axis_y_tick_values:null,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:false,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:false,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:true,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:false,grid_x_type:"tick",grid_x_lines:[],grid_y_show:false,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:true,grid_lines_front:true,point_show:true,point_r:2.5,point_focus_expand_enabled:true,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:false,line_step_type:"step",bar_width:undefined,bar_width_ratio:0.6,bar_width_max:undefined,bar_zerobased:true,area_zerobased:true,pie_label_show:true,pie_label_format:undefined,pie_label_threshold:0.05,pie_expand:true,gauge_label_show:true,gauge_label_format:undefined,gauge_expand:true,gauge_min:0,gauge_max:100,gauge_units:undefined,gauge_width:undefined,donut_label_show:true,donut_label_format:undefined,donut_label_threshold:0.05,donut_width:undefined,donut_expand:true,donut_title:"",regions:[],tooltip_show:true,tooltip_grouped:true,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function(aB,az,aA,ay){return this.getTooltipContent?this.getTooltipContent(aB,az,aA,ay):""},tooltip_init_show:false,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};Object.keys(this.additionalConfig).forEach(function(ay){ax[ay]=this.additionalConfig[ay]},this);return ax};G.additionalConfig={};G.loadConfig=function(ay){var ax=this.config,aB,az,aA;function aC(){var aD=az.shift();if(aD&&aB&&typeof aB==="object"&&aD in aB){aB=aB[aD];return aC()}else{if(!aD){return aB}else{return undefined}}}Object.keys(ax).forEach(function(aD){aB=ay;az=aD.split("_");aA=aC();if(J(aA)){ax[aD]=aA}})};G.getScale=function(ay,ax,az){return(az?this.d3.time.scale():this.d3.scale.linear()).range([ay,ax])};G.getX=function(aB,ax,aC,aE){var ay=this,aD=ay.getScale(aB,ax,ay.isTimeSeries()),aA=aC?aD.domain(aC):aD,az;if(ay.isCategorized()){aE=aE||function(){return 0};aD=function(aH,aG){var aF=aA(aH)+aE(aH);return aG?aF:Math.ceil(aF)}}else{aD=function(aH,aG){var aF=aA(aH);return aG?aF:Math.ceil(aF)}}for(az in aA){aD[az]=aA[az]}aD.orgDomain=function(){return aA.domain()};if(ay.isCategorized()){aD.domain=function(aF){if(!arguments.length){aF=this.orgDomain();return[aF[0],aF[1]+1]}aA.domain(aF);return aD}}return aD};G.getY=function(ay,ax,az){var aA=this.getScale(ay,ax,this.isTimeSeriesY());if(az){aA.domain(az)}return aA};G.getYScale=function(ax){return this.axis.getId(ax)==="y2"?this.y2:this.y};G.getSubYScale=function(ax){return this.axis.getId(ax)==="y2"?this.subY2:this.subY};G.updateScales=function(){var ay=this,az=ay.config,ax=!ay.x;ay.xMin=az.axis_rotated?1:0;ay.xMax=az.axis_rotated?ay.height:ay.width;ay.yMin=az.axis_rotated?0:ay.height;ay.yMax=az.axis_rotated?ay.width:1;ay.subXMin=ay.xMin;ay.subXMax=ay.xMax;ay.subYMin=az.axis_rotated?0:ay.height2;ay.subYMax=az.axis_rotated?ay.width2:1;ay.x=ay.getX(ay.xMin,ay.xMax,ax?undefined:ay.x.orgDomain(),function(){return ay.xAxis.tickOffset()});ay.y=ay.getY(ay.yMin,ay.yMax,ax?az.axis_y_default:ay.y.domain());ay.y2=ay.getY(ay.yMin,ay.yMax,ax?az.axis_y2_default:ay.y2.domain());ay.subX=ay.getX(ay.xMin,ay.xMax,ay.orgXDomain,function(aA){return aA%1?0:ay.subXAxis.tickOffset()});ay.subY=ay.getY(ay.subYMin,ay.subYMax,ax?az.axis_y_default:ay.subY.domain());ay.subY2=ay.getY(ay.subYMin,ay.subYMax,ax?az.axis_y2_default:ay.subY2.domain());ay.xAxisTickFormat=ay.axis.getXAxisTickFormat();ay.xAxisTickValues=ay.axis.getXAxisTickValues();ay.yAxisTickValues=ay.axis.getYAxisTickValues();ay.y2AxisTickValues=ay.axis.getY2AxisTickValues();ay.xAxis=ay.axis.getXAxis(ay.x,ay.xOrient,ay.xAxisTickFormat,ay.xAxisTickValues,az.axis_x_tick_outer);ay.subXAxis=ay.axis.getXAxis(ay.subX,ay.subXOrient,ay.xAxisTickFormat,ay.xAxisTickValues,az.axis_x_tick_outer);ay.yAxis=ay.axis.getYAxis(ay.y,ay.yOrient,az.axis_y_tick_format,ay.yAxisTickValues,az.axis_y_tick_outer);ay.y2Axis=ay.axis.getYAxis(ay.y2,ay.y2Orient,az.axis_y2_tick_format,ay.y2AxisTickValues,az.axis_y2_tick_outer);if(!ax){if(ay.brush){ay.brush.scale(ay.subX)}if(az.zoom_enabled){ay.zoom.scale(ay.x)}}if(ay.updateArc){ay.updateArc()}};G.getYDomainMin=function(aD){var aH=this,az=aH.config,ax=aH.mapToIds(aD),aG=aH.getValuesAsIdKeyed(aD),aB,aA,aF,aE,ay,aC;if(az.data_groups.length>0){aC=aH.hasNegativeValueInTargets(aD);for(aB=0;aB<az.data_groups.length;aB++){aE=az.data_groups[aB].filter(function(aI){return ax.indexOf(aI)>=0});if(aE.length===0){continue}aF=aE[0];if(aC&&aG[aF]){aG[aF].forEach(function(aI,aJ){aG[aF][aJ]=aI<0?aI:0})}for(aA=1;aA<aE.length;aA++){ay=aE[aA];if(!aG[ay]){continue}aG[ay].forEach(function(aI,aJ){if(aH.axis.getId(ay)===aH.axis.getId(aF)&&aG[aF]&&!(aC&&+aI>0)){aG[aF][aJ]+=+aI}})}}}return aH.d3.min(Object.keys(aG).map(function(aI){return aH.d3.min(aG[aI])}))};G.getYDomainMax=function(aD){var aH=this,aA=aH.config,ax=aH.mapToIds(aD),aG=aH.getValuesAsIdKeyed(aD),aC,aB,aF,aE,ay,az;if(aA.data_groups.length>0){az=aH.hasPositiveValueInTargets(aD);for(aC=0;aC<aA.data_groups.length;aC++){aE=aA.data_groups[aC].filter(function(aI){return ax.indexOf(aI)>=0});if(aE.length===0){continue}aF=aE[0];if(az&&aG[aF]){aG[aF].forEach(function(aI,aJ){aG[aF][aJ]=aI>0?aI:0})}for(aB=1;aB<aE.length;aB++){ay=aE[aB];if(!aG[ay]){continue}aG[ay].forEach(function(aI,aJ){if(aH.axis.getId(ay)===aH.axis.getId(aF)&&aG[aF]&&!(az&&+aI<0)){aG[aF][aJ]+=+aI}})}}}return aH.d3.max(Object.keys(aG).map(function(aI){return aH.d3.max(aG[aI])}))};G.getYDomain=function(aU,aR,aO){var aH=this,aV=aH.config,az=aU.filter(function(aY){return aH.axis.getId(aY.id)===aR}),aE=aO?aH.filterByXDomain(az,aO):az,ax=aR==="y2"?aV.axis_y2_min:aV.axis_y_min,ay=aR==="y2"?aV.axis_y2_max:aV.axis_y_max,aL=aH.getYDomainMin(aE),aN=aH.getYDomainMax(aE),aX,aC,aJ,aA,aW,aT=aR==="y2"?aV.axis_y2_center:aV.axis_y_center,aG,aB,aI,aD,aF,aM,aP=(aH.hasType("bar",aE)&&aV.bar_zerobased)||(aH.hasType("area",aE)&&aV.area_zerobased),aS=aR==="y2"?aV.axis_y2_inverted:aV.axis_y_inverted,aQ=aH.hasDataLabel()&&aV.axis_rotated,aK=aH.hasDataLabel()&&!aV.axis_rotated;aL=j(ax)?ax:j(ay)?(aL<ay?aL:ay-10):aL;aN=j(ay)?ay:j(ax)?(ax<aN?aN:ax+10):aN;if(aE.length===0){return aR==="y2"?aH.y2.domain():aH.y.domain()}if(isNaN(aL)){aL=0}if(isNaN(aN)){aN=aL}if(aL===aN){aL<0?aN=0:aL=0}aF=aL>=0&&aN>=0;aM=aL<=0&&aN<=0;if((j(ax)&&aF)||(j(ay)&&aM)){aP=false}if(aP){if(aF){aL=0}if(aM){aN=0}}aC=Math.abs(aN-aL);aJ=aA=aW=aC*0.1;if(typeof aT!=="undefined"){aG=Math.max(Math.abs(aL),Math.abs(aN));aN=aT+aG;aL=aT-aG}if(aQ){aB=aH.getDataLabelLength(aL,aN,"width");aI=O(aH.y.range());aD=[aB[0]/aI,aB[1]/aI];aA+=aC*(aD[1]/(1-aD[0]-aD[1]));aW+=aC*(aD[0]/(1-aD[0]-aD[1]))}else{if(aK){aB=aH.getDataLabelLength(aL,aN,"height");aA+=aH.axis.convertPixelsToAxisPadding(aB[1],aC);aW+=aH.axis.convertPixelsToAxisPadding(aB[0],aC)}}if(aR==="y"&&M(aV.axis_y_padding)){aA=aH.axis.getPadding(aV.axis_y_padding,"top",aA,aC);aW=aH.axis.getPadding(aV.axis_y_padding,"bottom",aW,aC)}if(aR==="y2"&&M(aV.axis_y2_padding)){aA=aH.axis.getPadding(aV.axis_y2_padding,"top",aA,aC);aW=aH.axis.getPadding(aV.axis_y2_padding,"bottom",aW,aC)}if(aP){if(aF){aW=aL}if(aM){aA=-aN}}aX=[aL-aW,aN+aA];return aS?aX.reverse():aX};G.getXDomainMin=function(ax){var ay=this,az=ay.config;return J(az.axis_x_min)?(ay.isTimeSeries()?this.parseDate(az.axis_x_min):az.axis_x_min):ay.d3.min(ax,function(aA){return ay.d3.min(aA.values,function(aB){return aB.x})})};G.getXDomainMax=function(ax){var ay=this,az=ay.config;return J(az.axis_x_max)?(ay.isTimeSeries()?this.parseDate(az.axis_x_max):az.axis_x_max):ay.d3.max(ax,function(aA){return ay.d3.max(aA.values,function(aB){return aB.x})})};G.getXDomainPadding=function(aA){var ax=this,az=ax.config,aC=aA[1]-aA[0],aD,aB,ay,aE;if(ax.isCategorized()){aB=0}else{if(ax.hasType("bar")){aD=ax.getMaxDataCount();aB=aD>1?(aC/(aD-1))/2:0.5}else{aB=aC*0.01}}if(typeof az.axis_x_padding==="object"&&M(az.axis_x_padding)){ay=j(az.axis_x_padding.left)?az.axis_x_padding.left:aB;aE=j(az.axis_x_padding.right)?az.axis_x_padding.right:aB}else{if(typeof az.axis_x_padding==="number"){ay=aE=az.axis_x_padding}else{ay=aE=aB}}return{left:ay,right:aE}};G.getXDomain=function(ay){var az=this,aB=[az.getXDomainMin(ay),az.getXDomainMax(ay)],aA=aB[0],aD=aB[1],aE=az.getXDomainPadding(aB),aC=0,ax=0;if((aA-aD)===0&&!az.isCategorized()){if(az.isTimeSeries()){aA=new Date(aA.getTime()*0.5);aD=new Date(aD.getTime()*1.5)}else{aA=aA===0?1:(aA*0.5);aD=aD===0?-1:(aD*1.5)}}if(aA||aA===0){aC=az.isTimeSeries()?new Date(aA.getTime()-aE.left):aA-aE.left}if(aD||aD===0){ax=az.isTimeSeries()?new Date(aD.getTime()+aE.right):aD+aE.right}return[aC,ax]};G.updateXDomain=function(ay,aB,aD,ax,aC){var az=this,aA=az.config;if(aD){az.x.domain(aC?aC:az.d3.extent(az.getXDomain(ay)));az.orgXDomain=az.x.domain();if(aA.zoom_enabled){az.zoom.scale(az.x).updateScaleExtent()}az.subX.domain(az.x.domain());if(az.brush){az.brush.scale(az.subX)}}if(aB){az.x.domain(aC?aC:(!az.brush||az.brush.empty())?az.orgXDomain:az.brush.extent());if(aA.zoom_enabled){az.zoom.scale(az.x).updateScaleExtent()}}if(ax){az.x.domain(az.trimXDomain(az.x.orgDomain()))}return az.x.domain()};G.trimXDomain=function(ay){var ax=this;if(ay[0]<=ax.orgXDomain[0]){ay[1]=+ay[1]+(ax.orgXDomain[0]-ay[0]);ay[0]=ax.orgXDomain[0]}if(ax.orgXDomain[1]<=ay[1]){ay[0]=+ay[0]-(ay[1]-ax.orgXDomain[1]);ay[1]=ax.orgXDomain[1]}return ay};G.isX=function(az){var ax=this,ay=ax.config;return(ay.data_x&&az===ay.data_x)||(M(ay.data_xs)&&u(ay.data_xs,az))};G.isNotX=function(ax){return !this.isX(ax)};G.getXKey=function(az){var ax=this,ay=ax.config;return ay.data_x?ay.data_x:M(ay.data_xs)?ay.data_xs[az]:null};G.getXValuesOfXKey=function(az,ax){var ay=this,aB,aA=ax&&M(ax)?ay.mapToIds(ax):[];aA.forEach(function(aC){if(ay.getXKey(aC)===az){aB=ay.data.xs[aC]}});return aB};G.getIndexByX=function(ax){var ay=this,az=ay.filterByX(ay.data.targets,ax);return az.length?az[0].index:null};G.getXValue=function(az,ay){var ax=this;return az in ax.data.xs&&ax.data.xs[az]&&j(ax.data.xs[az][ay])?ax.data.xs[az][ay]:ay};G.getOtherTargetXs=function(){var ax=this,ay=Object.keys(ax.data.xs);return ay.length?ax.data.xs[ay[0]]:null};G.getOtherTargetX=function(ay){var ax=this.getOtherTargetXs();return ax&&ay<ax.length?ax[ay]:null};G.addXs=function(ay){var ax=this;Object.keys(ay).forEach(function(az){ax.config.data_xs[az]=ay[az]})};G.hasMultipleX=function(ax){return this.d3.set(Object.keys(ax).map(function(ay){return ax[ay]})).size()>1};G.isMultipleX=function(){return M(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")};G.addName=function(az){var ax=this,ay;if(az){ay=ax.config.data_names[az.id];az.name=ay?ay:az.id}return az};G.getValueOnIndex=function(ay,az){var ax=ay.filter(function(aA){return aA.index===az});return ax.length?ax[0]:null};G.updateTargetX=function(ay,ax){var az=this;ay.forEach(function(aA){aA.values.forEach(function(aB,aC){aB.x=az.generateTargetX(ax[aC],aA.id,aC)});az.data.xs[aA.id]=ax})};G.updateTargetXs=function(ax,az){var ay=this;ax.forEach(function(aA){if(az[aA.id]){ay.updateTargetX([aA],az[aA.id])}})};G.generateTargetX=function(az,aB,aA){var ay=this,ax;if(ay.isTimeSeries()){ax=az?ay.parseDate(az):ay.parseDate(ay.getXValue(aB,aA))}else{if(ay.isCustomX()&&!ay.isCategorized()){ax=j(az)?+az:ay.getXValue(aB,aA)}else{ax=aA}}return ax};G.cloneTarget=function(ax){return{id:ax.id,id_org:ax.id_org,values:ax.values.map(function(ay){return{x:ay.x,value:ay.value,id:ay.id}})}};G.updateXs=function(){var ax=this;if(ax.data.targets.length){ax.xs=[];ax.data.targets[0].values.forEach(function(ay){ax.xs[ay.index]=ay.x})}};G.getPrevX=function(ay){var ax=this.xs[ay-1];return typeof ax!=="undefined"?ax:null};G.getNextX=function(ay){var ax=this.xs[ay+1];return typeof ax!=="undefined"?ax:null};G.getMaxDataCount=function(){var ax=this;return ax.d3.max(ax.data.targets,function(ay){return ay.values.length})};G.getMaxDataCountTarget=function(ay){var aA=ay.length,ax=0,az;if(aA>1){ay.forEach(function(aB){if(aB.values.length>ax){az=aB;ax=aB.values.length}})}else{az=aA?ay[0]:null}return az};G.getEdgeX=function(ax){var ay=this;return !ax.length?[0,0]:[ay.d3.min(ax,function(az){return az.values[0].x}),ay.d3.max(ax,function(az){return az.values[az.values.length-1].x})]};G.mapToIds=function(ax){return ax.map(function(ay){return ay.id})};G.mapToTargetIds=function(ay){var ax=this;return ay?(s(ay)?[ay]:ay):ax.mapToIds(ax.data.targets)};G.hasTarget=function(ax,aA){var az=this.mapToIds(ax),ay;for(ay=0;ay<az.length;ay++){if(az[ay]===aA){return true}}return false};G.isTargetToShow=function(ax){return this.hiddenTargetIds.indexOf(ax)<0};G.isLegendToShow=function(ax){return this.hiddenLegendIds.indexOf(ax)<0};G.filterTargetsToShow=function(ax){var ay=this;return ax.filter(function(az){return ay.isTargetToShow(az.id)})};G.mapTargetsToUniqueXs=function(ax){var ay=this;var az=ay.d3.set(ay.d3.merge(ax.map(function(aA){return aA.values.map(function(aB){return +aB.x})}))).values();return ay.isTimeSeries()?az.map(function(aA){return new Date(+aA)}):az.map(function(aA){return +aA})};G.addHiddenTargetIds=function(ax){this.hiddenTargetIds=this.hiddenTargetIds.concat(ax)};G.removeHiddenTargetIds=function(ax){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(ay){return ax.indexOf(ay)<0})};G.addHiddenLegendIds=function(ax){this.hiddenLegendIds=this.hiddenLegendIds.concat(ax)};G.removeHiddenLegendIds=function(ax){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(ay){return ax.indexOf(ay)<0})};G.getValuesAsIdKeyed=function(ax){var ay={};ax.forEach(function(az){ay[az.id]=[];az.values.forEach(function(aA){ay[az.id].push(aA.value)})});return ay};G.checkValueInTargets=function(ax,aA){var aC=Object.keys(ax),aB,az,ay;for(aB=0;aB<aC.length;aB++){ay=ax[aC[aB]].values;for(az=0;az<ay.length;az++){if(aA(ay[az].value)){return true}}}return false};G.hasNegativeValueInTargets=function(ax){return this.checkValueInTargets(ax,function(ay){return ay<0})};G.hasPositiveValueInTargets=function(ax){return this.checkValueInTargets(ax,function(ay){return ay>0})};G.isOrderDesc=function(){var ax=this.config;return typeof(ax.data_order)==="string"&&ax.data_order.toLowerCase()==="desc"};G.isOrderAsc=function(){var ax=this.config;return typeof(ax.data_order)==="string"&&ax.data_order.toLowerCase()==="asc"};G.orderTargets=function(ax){var ay=this,az=ay.config,aB=ay.isOrderAsc(),aA=ay.isOrderDesc();if(aB||aA){ax.sort(function(aE,aD){var aG=function(aH,aI){return aH+Math.abs(aI.value)};var aC=aE.values.reduce(aG,0),aF=aD.values.reduce(aG,0);return aB?aF-aC:aC-aF})}else{if(z(az.data_order)){ax.sort(az.data_order)}}return ax};G.filterByX=function(ay,ax){return this.d3.merge(ay.map(function(az){return az.values})).filter(function(az){return az.x-ax===0})};G.filterRemoveNull=function(ax){return ax.filter(function(ay){return j(ay.value)})};G.filterByXDomain=function(ax,ay){return ax.map(function(az){return{id:az.id,id_org:az.id_org,values:az.values.filter(function(aA){return ay[0]<=aA.x&&aA.x<=ay[1]})}})};G.hasDataLabel=function(){var ax=this.config;if(typeof ax.data_labels==="boolean"&&ax.data_labels){return true}else{if(typeof ax.data_labels==="object"&&M(ax.data_labels)){return true}}return false};G.getDataLabelLength=function(aB,ax,aA){var az=this,aC=[0,0],ay=1.3;az.selectChart.select("svg").selectAll(".dummy").data([aB,ax]).enter().append("text").text(function(aD){return az.dataLabelFormat(aD.id)(aD)}).each(function(aE,aD){aC[aD]=this.getBoundingClientRect()[aA]*ay}).remove();return aC};G.isNoneArc=function(ax){return this.hasTarget(this.data.targets,ax.id)},G.isArc=function(ax){return"data" in ax&&this.hasTarget(this.data.targets,ax.data.id)};G.findSameXOfValues=function(ax,ay){var az,aB=ax[ay].x,aA=[];for(az=ay-1;az>=0;az--){if(aB!==ax[az].x){break}aA.push(ax[az])}for(az=ay;az<ax.length;az++){if(aB!==ax[az].x){break}aA.push(ax[az])}return aA};G.findClosestFromTargets=function(ax,aA){var ay=this,az;az=ax.map(function(aB){return ay.findClosest(aB.values,aA)});return ay.findClosest(az,aA)};G.findClosest=function(az,aB){var ay=this,ax=100,aA;az.filter(function(aC){return aC&&ay.isBarType(aC.id)}).forEach(function(aD){var aC=ay.main.select("."+E.bars+ay.getTargetSelectorSuffix(aD.id)+" ."+E.bar+"-"+aD.index).node();if(!aA&&ay.isWithinBar(aC)){aA=aD}});az.filter(function(aC){return aC&&!ay.isBarType(aC.id)}).forEach(function(aC){var aD=ay.dist(aC,aB);if(aD<ax){ax=aD;aA=aC}});return aA};G.dist=function(aC,aE){var aA=this,aB=aA.config,az=aB.axis_rotated?1:0,ay=aB.axis_rotated?0:1,aD=aA.circleY(aC,aC.index),ax=aA.x(aC.x);return Math.pow(ax-aE[az],2)+Math.pow(aD-aE[ay],2)};G.convertValuesToStep=function(ax){var az=[].concat(ax),ay;if(!this.isCategorized()){return ax}for(ay=ax.length+1;0<ay;ay--){az[ay]=az[ay-1]}az[0]={x:az[0].x-1,value:az[0].value,id:az[0].id};az[ax.length+1]={x:az[ax.length].x+1,value:az[ax.length].value,id:az[ax.length].id};return az};G.updateDataAttributes=function(aA,az){var ax=this,ay=ax.config,aB=ay["data_"+aA];if(typeof az==="undefined"){return aB}Object.keys(az).forEach(function(aC){aB[aC]=az[aC]});ax.redraw({withLegend:true});return aB};G.convertUrlToData=function(az,aC,aB,ax){var ay=this,aA=aC?aC:"csv";ay.d3.xhr(az,function(aD,aE){var aF;if(!aE){throw new Error(aD.responseURL+" "+aD.status+" ("+aD.statusText+")")}if(aA==="json"){aF=ay.convertJsonToData(JSON.parse(aE.response),aB)}else{if(aA==="tsv"){aF=ay.convertTsvToData(aE.response)}else{aF=ay.convertCsvToData(aE.response)}}ax.call(ay,aF)})};G.convertXsvToData=function(ax,aA){var ay=aA.parseRows(ax),az;if(ay.length===1){az=[{}];ay[0].forEach(function(aB){az[0][aB]=null})}else{az=aA.parse(ax)}return az};G.convertCsvToData=function(ax){return this.convertXsvToData(ax,this.d3.csv)};G.convertTsvToData=function(ax){return this.convertXsvToData(ax,this.d3.tsv)};G.convertJsonToData=function(az,aA){var ay=this,ax=[],aC,aB;if(aA){if(aA.x){aC=aA.value.concat(aA.x);ay.config.data_x=aA.x}else{aC=aA.value}ax.push(aC);az.forEach(function(aE){var aD=[];aC.forEach(function(aG){var aF=F(aE[aG])?null:aE[aG];aD.push(aF)});ax.push(aD)});aB=ay.convertRowsToData(ax)}else{Object.keys(az).forEach(function(aD){ax.push([aD].concat(az[aD]))});aB=ay.convertColumnsToData(ax)}return aB};G.convertRowsToData=function(aC){var aB=aC[0],ay={},ax=[],aA,az;for(aA=1;aA<aC.length;aA++){ay={};for(az=0;az<aC[aA].length;az++){if(F(aC[aA][az])){throw new Error("Source data is missing a component at ("+aA+","+az+")!")}ay[aB[az]]=aC[aA][az]}ax.push(ay)}return ax};G.convertColumnsToData=function(aB){var ax=[],aA,ay,az;for(aA=0;aA<aB.length;aA++){az=aB[aA][0];for(ay=1;ay<aB[aA].length;ay++){if(F(ax[ay-1])){ax[ay-1]={}}if(F(aB[aA][ay])){throw new Error("Source data is missing a component at ("+aA+","+ay+")!")}ax[ay-1][az]=aB[aA][ay]}}return ax};G.convertDataToTargets=function(aD,aC){var ay=this,aA=ay.config,aB=ay.d3.keys(aD[0]).filter(ay.isNotX,ay),az=ay.d3.keys(aD[0]).filter(ay.isX,ay),ax;aB.forEach(function(aF){var aE=ay.getXKey(aF);if(ay.isCustomX()||ay.isTimeSeries()){if(az.indexOf(aE)>=0){ay.data.xs[aF]=(aC&&ay.data.xs[aF]?ay.data.xs[aF]:[]).concat(aD.map(function(aG){return aG[aE]}).filter(j).map(function(aG,aH){return ay.generateTargetX(aG,aF,aH)}))}else{if(aA.data_x){ay.data.xs[aF]=ay.getOtherTargetXs()}else{if(M(aA.data_xs)){ay.data.xs[aF]=ay.getXValuesOfXKey(aE,ay.data.targets)}}}}else{ay.data.xs[aF]=aD.map(function(aH,aG){return aG})}});aB.forEach(function(aE){if(!ay.data.xs[aE]){throw new Error('x is not defined for id = "'+aE+'".')}});ax=aB.map(function(aG,aE){var aF=aA.data_idConverter(aG);return{id:aF,id_org:aG,values:aD.map(function(aL,aK){var aJ=ay.getXKey(aG),aI=aL[aJ],aH=ay.generateTargetX(aI,aG,aK);if(ay.isCustomX()&&ay.isCategorized()&&aE===0&&aI){if(aK===0){aA.axis_x_categories=[]}aA.axis_x_categories.push(aI)}if(F(aL[aG])||ay.data.xs[aG].length<=aK){aH=undefined}return{x:aH,value:aL[aG]!==null&&!isNaN(aL[aG])?+aL[aG]:null,id:aF}}).filter(function(aH){return J(aH.x)})}});ax.forEach(function(aF){var aE;if(aA.data_xSort){aF.values=aF.values.sort(function(aJ,aI){var aH=aJ.x||aJ.x===0?aJ.x:Infinity,aG=aI.x||aI.x===0?aI.x:Infinity;return aH-aG})}aE=0;aF.values.forEach(function(aG){aG.index=aE++});ay.data.xs[aF.id].sort(function(aH,aG){return aH-aG})});if(aA.data_type){ay.setTargetType(ay.mapToIds(ax).filter(function(aE){return !(aE in aA.data_types)}),aA.data_type)}ax.forEach(function(aE){ay.addCache(aE.id_org,aE)});return ax};G.load=function(ax,az){var ay=this;if(ax){if(az.filter){ax=ax.filter(az.filter)}if(az.type||az.types){ax.forEach(function(aA){var aB=az.types&&az.types[aA.id]?az.types[aA.id]:az.type;ay.setTargetType(aA.id,aB)})}ay.data.targets.forEach(function(aB){for(var aA=0;aA<ax.length;aA++){if(aB.id===ax[aA].id){aB.values=ax[aA].values;ax.splice(aA,1);break}}});ay.data.targets=ay.data.targets.concat(ax)}ay.updateTargets(ay.data.targets);ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(az.done){az.done()}};G.loadFromArgs=function(ay){var ax=this;if(ay.data){ax.load(ax.convertDataToTargets(ay.data),ay)}else{if(ay.url){ax.convertUrlToData(ay.url,ay.mimeType,ay.keys,function(az){ax.load(ax.convertDataToTargets(az),ay)})}else{if(ay.json){ax.load(ax.convertDataToTargets(ax.convertJsonToData(ay.json,ay.keys)),ay)}else{if(ay.rows){ax.load(ax.convertDataToTargets(ax.convertRowsToData(ay.rows)),ay)}else{if(ay.columns){ax.load(ax.convertDataToTargets(ax.convertColumnsToData(ay.columns)),ay)}else{ax.load(null,ay)}}}}}};G.unload=function(ay,ax){var az=this;if(!ax){ax=function(){}}ay=ay.filter(function(aA){return az.hasTarget(az.data.targets,aA)});if(!ay||ay.length===0){ax();return}az.svg.selectAll(ay.map(function(aA){return az.selectorTarget(aA)})).transition().style("opacity",0).remove().call(az.endall,ax);ay.forEach(function(aA){az.withoutFadeIn[aA]=false;if(az.legend){az.legend.selectAll("."+E.legendItem+az.getTargetSelectorSuffix(aA)).remove()}az.data.targets=az.data.targets.filter(function(aB){return aB.id!==aA})})};G.categoryName=function(ay){var ax=this.config;return ay<ax.axis_x_categories.length?ax.axis_x_categories[ay]:ay};G.initEventRect=function(){var ax=this;ax.main.select("."+E.chart).append("g").attr("class",E.eventRects).style("fill-opacity",0)};G.redrawEventRect=function(){var ax=this,ay=ax.config,aC,aB,aA=ax.isMultipleX();var az=ax.main.select("."+E.eventRects).style("cursor",ay.zoom_enabled?ay.axis_rotated?"ns-resize":"ew-resize":null).classed(E.eventRectsMultiple,aA).classed(E.eventRectsSingle,!aA);az.selectAll("."+E.eventRect).remove();ax.eventRect=az.selectAll("."+E.eventRect);if(aA){aC=ax.eventRect.data([0]);ax.generateEventRectsForMultipleXs(aC.enter());ax.updateEventRect(aC)}else{aB=ax.getMaxDataCountTarget(ax.data.targets);az.datum(aB?aB.values:[]);ax.eventRect=az.selectAll("."+E.eventRect);aC=ax.eventRect.data(function(aD){return aD});ax.generateEventRectsForSingleX(aC.enter());ax.updateEventRect(aC);aC.exit().remove()}};G.updateEventRect=function(aE){var aF=this,az=aF.config,aC,aB,aD,aA,ay,ax;aE=aE||aF.eventRect.data(function(aG){return aG});if(aF.isMultipleX()){aC=0;aB=0;aD=aF.width;aA=aF.height}else{if((aF.isCustomX()||aF.isTimeSeries())&&!aF.isCategorized()){aF.updateXs();ay=function(aI){var aG=aF.getPrevX(aI.index),aH=aF.getNextX(aI.index);if(aG===null&&aH===null){return az.axis_rotated?aF.height:aF.width}if(aG===null){aG=aF.x.domain()[0]}if(aH===null){aH=aF.x.domain()[1]}return Math.max(0,(aF.x(aH)-aF.x(aG))/2)};ax=function(aJ){var aH=aF.getPrevX(aJ.index),aI=aF.getNextX(aJ.index),aG=aF.data.xs[aJ.id][aJ.index];if(aH===null&&aI===null){return 0}if(aH===null){aH=aF.x.domain()[0]}return(aF.x(aG)+aF.x(aH))/2}}else{ay=aF.getEventRectWidth();ax=function(aG){return aF.x(aG.x)-(ay/2)}}aC=az.axis_rotated?0:ax;aB=az.axis_rotated?ax:0;aD=az.axis_rotated?aF.width:ay;aA=az.axis_rotated?ay:aF.height}aE.attr("class",aF.classEvent.bind(aF)).attr("x",aC).attr("y",aB).attr("width",aD).attr("height",aA)};G.generateEventRectsForSingleX=function(az){var ax=this,aA=ax.d3,ay=ax.config;az.append("rect").attr("class",ax.classEvent.bind(ax)).style("cursor",ay.data_selection_enabled&&ay.data_selection_grouped?"pointer":null).on("mouseover",function(aC){var aB=aC.index;if(ax.dragging||ax.flowing){return}if(ax.hasArcType()){return}if(ay.point_focus_expand_enabled){ax.expandCircles(aB,null,true)}ax.expandBars(aB,null,true);ax.main.selectAll("."+E.shape+"-"+aB).each(function(aD){ay.data_onmouseover.call(ax.api,aD)})}).on("mouseout",function(aC){var aB=aC.index;if(!ax.config){return}if(ax.hasArcType()){return}ax.hideXGridFocus();ax.hideTooltip();ax.unexpandCircles();ax.unexpandBars();ax.main.selectAll("."+E.shape+"-"+aB).each(function(aD){ay.data_onmouseout.call(ax.api,aD)})}).on("mousemove",function(aE){var aD,aB=aE.index,aC=ax.svg.select("."+E.eventRect+"-"+aB);if(ax.dragging||ax.flowing){return}if(ax.hasArcType()){return}if(ax.isStepType(aE)&&ax.config.line_step_type==="step-after"&&aA.mouse(this)[0]<ax.x(ax.getXValue(aE.id,aB))){aB-=1}aD=ax.filterTargetsToShow(ax.data.targets).map(function(aF){return ax.addName(ax.getValueOnIndex(aF.values,aB))});if(ay.tooltip_grouped){ax.showTooltip(aD,this);ax.showXGridFocus(aD)}if(ay.tooltip_grouped&&(!ay.data_selection_enabled||ay.data_selection_grouped)){return}ax.main.selectAll("."+E.shape+"-"+aB).each(function(){aA.select(this).classed(E.EXPANDED,true);if(ay.data_selection_enabled){aC.style("cursor",ay.data_selection_grouped?"pointer":null)}if(!ay.tooltip_grouped){ax.hideXGridFocus();ax.hideTooltip();if(!ay.data_selection_grouped){ax.unexpandCircles(aB);ax.unexpandBars(aB)}}}).filter(function(aF){return ax.isWithinShape(this,aF)}).each(function(aF){if(ay.data_selection_enabled&&(ay.data_selection_grouped||ay.data_selection_isselectable(aF))){aC.style("cursor","pointer")}if(!ay.tooltip_grouped){ax.showTooltip([aF],this);ax.showXGridFocus([aF]);if(ay.point_focus_expand_enabled){ax.expandCircles(aB,aF.id,true)}ax.expandBars(aB,aF.id,true)}})}).on("click",function(aC){var aB=aC.index;if(ax.hasArcType()||!ax.toggleShape){return}if(ax.cancelClick){ax.cancelClick=false;return}if(ax.isStepType(aC)&&ay.line_step_type==="step-after"&&aA.mouse(this)[0]<ax.x(ax.getXValue(aC.id,aB))){aB-=1}ax.main.selectAll("."+E.shape+"-"+aB).each(function(aD){if(ay.data_selection_grouped||ax.isWithinShape(this,aD)){ax.toggleShape(this,aD,aB);ax.config.data_onclick.call(ax.api,aD,this)}})}).call(ay.data_selection_draggable&&ax.drag?(aA.behavior.drag().origin(Object).on("drag",function(){ax.drag(aA.mouse(this))}).on("dragstart",function(){ax.dragstart(aA.mouse(this))}).on("dragend",function(){ax.dragend()})):function(){})};G.generateEventRectsForMultipleXs=function(az){var ax=this,aA=ax.d3,ay=ax.config;function aB(){ax.svg.select("."+E.eventRect).style("cursor",null);ax.hideXGridFocus();ax.hideTooltip();ax.unexpandCircles();ax.unexpandBars()}az.append("rect").attr("x",0).attr("y",0).attr("width",ax.width).attr("height",ax.height).attr("class",E.eventRect).on("mouseout",function(){if(!ax.config){return}if(ax.hasArcType()){return}aB()}).on("mousemove",function(){var aD=ax.filterTargetsToShow(ax.data.targets);var aC,aE,aG,aF;if(ax.dragging){return}if(ax.hasArcType(aD)){return}aC=aA.mouse(this);aE=ax.findClosestFromTargets(aD,aC);if(ax.mouseover&&(!aE||aE.id!==ax.mouseover.id)){ay.data_onmouseout.call(ax.api,ax.mouseover);ax.mouseover=undefined}if(!aE){aB();return}if(ax.isScatterType(aE)||!ay.tooltip_grouped){aG=[aE]}else{aG=ax.filterByX(aD,aE.x)}aF=aG.map(function(aH){return ax.addName(aH)});ax.showTooltip(aF,this);if(ay.point_focus_expand_enabled){ax.expandCircles(aE.index,aE.id,true)}ax.expandBars(aE.index,aE.id,true);ax.showXGridFocus(aF);if(ax.isBarType(aE.id)||ax.dist(aE,aC)<100){ax.svg.select("."+E.eventRect).style("cursor","pointer");if(!ax.mouseover){ay.data_onmouseover.call(ax.api,aE);ax.mouseover=aE}}}).on("click",function(){var aD=ax.filterTargetsToShow(ax.data.targets);var aC,aE;if(ax.hasArcType(aD)){return}aC=aA.mouse(this);aE=ax.findClosestFromTargets(aD,aC);if(!aE){return}if(ax.isBarType(aE.id)||ax.dist(aE,aC)<100){ax.main.selectAll("."+E.shapes+ax.getTargetSelectorSuffix(aE.id)).selectAll("."+E.shape+"-"+aE.index).each(function(){if(ay.data_selection_grouped||ax.isWithinShape(this,aE)){ax.toggleShape(this,aE,aE.index);ax.config.data_onclick.call(ax.api,aE,this)}})}}).call(ay.data_selection_draggable&&ax.drag?(aA.behavior.drag().origin(Object).on("drag",function(){ax.drag(aA.mouse(this))}).on("dragstart",function(){ax.dragstart(aA.mouse(this))}).on("dragend",function(){ax.dragend()})):function(){})};G.dispatchEvent=function(aD,aB,aC){var aG=this,az="."+E.eventRect+(!aG.isMultipleX()?"-"+aB:""),ay=aG.main.select(az).node(),aA=ay.getBoundingClientRect(),aF=aA.left+(aC?aC[0]:0),aE=aA.top+(aC?aC[1]:0),ax=document.createEvent("MouseEvents");ax.initMouseEvent(aD,true,true,ae,0,aF,aE,aF,aE,false,false,false,false,0,null);ay.dispatchEvent(ax)};G.getCurrentWidth=function(){var ax=this,ay=ax.config;return ay.size_width?ay.size_width:ax.getParentWidth()};G.getCurrentHeight=function(){var ax=this,ay=ax.config,az=ay.size_height?ay.size_height:ax.getParentHeight();return az>0?az:320/(ax.hasType("gauge")?2:1)};G.getCurrentPaddingTop=function(){var ax=this.config;return j(ax.padding_top)?ax.padding_top:0};G.getCurrentPaddingBottom=function(){var ax=this.config;return j(ax.padding_bottom)?ax.padding_bottom:0};G.getCurrentPaddingLeft=function(ax){var ay=this,az=ay.config;if(j(az.padding_left)){return az.padding_left}else{if(az.axis_rotated){return !az.axis_x_show?1:Math.max(P(ay.getAxisWidthByAxisId("x",ax)),40)}else{if(!az.axis_y_show||az.axis_y_inner){return ay.axis.getYAxisLabelPosition().isOuter?30:1}else{return P(ay.getAxisWidthByAxisId("y",ax))}}}};G.getCurrentPaddingRight=function(){var ax=this,ay=ax.config,aA=10,az=ax.isLegendRight?ax.getLegendWidth()+20:0;if(j(ay.padding_right)){return ay.padding_right+1}else{if(ay.axis_rotated){return aA+az}else{if(!ay.axis_y2_show||ay.axis_y2_inner){return 2+az+(ax.axis.getY2AxisLabelPosition().isOuter?20:0)}else{return P(ax.getAxisWidthByAxisId("y2"))+az}}}};G.getParentRectValue=function(ay){var az=this.selectChart.node(),ax;while(az&&az.tagName!=="BODY"){try{ax=az.getBoundingClientRect()[ay]}catch(aA){if(ay==="width"){ax=az.offsetWidth}}if(ax){break}az=az.parentNode}return ax};G.getParentWidth=function(){return this.getParentRectValue("width")};G.getParentHeight=function(){var ax=this.selectChart.style("height");return ax.indexOf("px")>0?+ax.replace("px",""):0};G.getSvgLeft=function(aD){var aF=this,ay=aF.config,aB=ay.axis_rotated||(!ay.axis_rotated&&!ay.axis_y_inner),aG=ay.axis_rotated?E.axisX:E.axisY,ax=aF.main.select("."+aG).node(),aE=ax&&aB?ax.getBoundingClientRect():{right:0},aC=aF.selectChart.node().getBoundingClientRect(),aA=aF.hasArcType(),az=aE.right-aC.left-(aA?0:aF.getCurrentPaddingLeft(aD));return az>0?az:0};G.getAxisWidthByAxisId=function(aA,ay){var az=this,ax=az.axis.getLabelPositionById(aA);return az.axis.getMaxTickWidth(aA,ay)+(ax.isInner?20:40)};G.getHorizontalAxisHeight=function(aA){var ax=this,ay=ax.config,az=30;if(aA==="x"&&!ay.axis_x_show){return 8}if(aA==="x"&&ay.axis_x_height){return ay.axis_x_height}if(aA==="y"&&!ay.axis_y_show){return ay.legend_show&&!ax.isLegendRight&&!ax.isLegendInset?10:1}if(aA==="y2"&&!ay.axis_y2_show){return ax.rotated_padding_top}if(aA==="x"&&!ay.axis_rotated&&ay.axis_x_tick_rotate){az=30+ax.axis.getMaxTickWidth(aA)*Math.cos(Math.PI*(90-ay.axis_x_tick_rotate)/180)}return az+(ax.axis.getLabelPositionById(aA).isInner?0:10)+(aA==="y2"?-10:0)};G.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())};G.getShapeIndices=function(aC){var ay=this,aA=ay.config,aD={},aB=0,az,ax;ay.filterTargetsToShow(ay.data.targets.filter(aC,ay)).forEach(function(aE){for(az=0;az<aA.data_groups.length;az++){if(aA.data_groups[az].indexOf(aE.id)<0){continue}for(ax=0;ax<aA.data_groups[az].length;ax++){if(aA.data_groups[az][ax] in aD){aD[aE.id]=aD[aA.data_groups[az][ax]];break}}}if(F(aD[aE.id])){aD[aE.id]=aB++}});aD.__max__=aB-1;return aD};G.getShapeX=function(aC,ay,aB,ax){var az=this,aA=ax?az.subX:az.x;return function(aE){var aD=aE.id in aB?aB[aE.id]:0;return aE.x||aE.x===0?aA(aE.x)-aC*(ay/2-aD):0}};G.getShapeY=function(ax){var ay=this;return function(aA){var az=ax?ay.getSubYScale(aA.id):ay.getYScale(aA.id);return az(aA.value)}};G.getShapeOffset=function(aB,aC,ax){var aA=this,az=aA.orderTargets(aA.filterTargetsToShow(aA.data.targets.filter(aB,aA))),ay=az.map(function(aD){return aD.id});return function(aH,aD){var aG=ax?aA.getSubYScale(aH.id):aA.getYScale(aH.id),aE=aG(0),aF=aE;az.forEach(function(aJ){var aI=aA.isStepType(aH)?aA.convertValuesToStep(aJ.values):aJ.values;if(aJ.id===aH.id||aC[aJ.id]!==aC[aH.id]){return}if(ay.indexOf(aJ.id)<ay.indexOf(aH.id)){if(aI[aD].value*aH.value>=0){aF+=aG(aI[aD].value)-aE}}});return aF}};G.isWithinShape=function(az,aA){var ay=this,ax=ay.d3.select(az),aB;if(!ay.isTargetToShow(aA.id)){aB=false}else{if(az.nodeName==="circle"){aB=ay.isStepType(aA)?ay.isWithinStep(az,ay.getYScale(aA.id)(aA.value)):ay.isWithinCircle(az,ay.pointSelectR(aA)*1.5)}else{if(az.nodeName==="path"){aB=ax.classed(E.bar)?ay.isWithinBar(az):true}}}return aB};G.getInterpolate=function(ay){var ax=this;return ax.isSplineType(ay)?"cardinal":ax.isStepType(ay)?ax.config.line_step_type:"linear"};G.initLine=function(){var ax=this;ax.main.select("."+E.chart).append("g").attr("class",E.chartLines)};G.updateTargetsForLine=function(aF){var aG=this,az=aG.config,ax,ay,aB=aG.classChartLine.bind(aG),aC=aG.classLines.bind(aG),aD=aG.classAreas.bind(aG),aE=aG.classCircles.bind(aG),aA=aG.classFocus.bind(aG);ax=aG.main.select("."+E.chartLines).selectAll("."+E.chartLine).data(aF).attr("class",function(aH){return aB(aH)+aA(aH)});ay=ax.enter().append("g").attr("class",aB).style("opacity",0).style("pointer-events","none");ay.append("g").attr("class",aC);ay.append("g").attr("class",aD);ay.append("g").attr("class",function(aH){return aG.generateClass(E.selectedCircles,aH.id)});ay.append("g").attr("class",aE).style("cursor",function(aH){return az.data_selection_isselectable(aH)?"pointer":null});aF.forEach(function(aH){aG.main.selectAll("."+E.selectedCircles+aG.getTargetSelectorSuffix(aH.id)).selectAll("."+E.selectedCircle).each(function(aI){aI.value=aH.values[aI.index].value})})};G.updateLine=function(ay){var ax=this;ax.mainLine=ax.main.selectAll("."+E.lines).selectAll("."+E.line).data(ax.lineData.bind(ax));ax.mainLine.enter().append("path").attr("class",ax.classLine.bind(ax)).style("stroke",ax.color);ax.mainLine.style("opacity",ax.initialOpacity.bind(ax)).style("shape-rendering",function(az){return ax.isStepType(az)?"crispEdges":""}).attr("transform",null);ax.mainLine.exit().transition().duration(ay).style("opacity",0).remove()};G.redrawLine=function(ay,ax){return[(ax?this.mainLine.transition():this.mainLine).attr("d",ay).style("stroke",this.color).style("opacity",1)]};G.generateDrawLine=function(ax,aE){var aD=this,ay=aD.config,aF=aD.d3.svg.line(),aB=aD.generateGetLinePoints(ax,aE),az=aE?aD.getSubYScale:aD.getYScale,aA=function(aG){return(aE?aD.subxx:aD.xx).call(aD,aG)},aC=function(aH,aG){return ay.data_groups.length>0?aB(aH,aG)[0][1]:az.call(aD,aH.id)(aH.value)};aF=ay.axis_rotated?aF.x(aC).y(aA):aF.x(aA).y(aC);if(!ay.line_connectNull){aF=aF.defined(function(aG){return aG.value!=null})}return function(aL){var aH=ay.line_connectNull?aD.filterRemoveNull(aL.values):aL.values,aG=aE?aD.x:aD.subX,aM=az.call(aD,aL.id),aI=0,aJ=0,aK;if(aD.isLineType(aL)){if(ay.data_regions[aL.id]){aK=aD.lineWithRegions(aH,aG,aM,ay.data_regions[aL.id])}else{if(aD.isStepType(aL)){aH=aD.convertValuesToStep(aH)}aK=aF.interpolate(aD.getInterpolate(aL))(aH)}}else{if(aH[0]){aI=aG(aH[0].x);aJ=aM(aH[0].value)}aK=ay.axis_rotated?"M "+aJ+" "+aI:"M "+aI+" "+aJ}return aK?aK:"M 0 0"}};G.generateGetLinePoints=function(ax,aF){var aE=this,az=aE.config,aB=ax.__max__+1,aD=aE.getShapeX(0,aB,ax,!!aF),aC=aE.getShapeY(!!aF),aA=aE.getShapeOffset(aE.isLineType,ax,!!aF),ay=aF?aE.getSubYScale:aE.getYScale;return function(aK,aG){var aH=ay.call(aE,aK.id)(0),aJ=aA(aK,aG)||aH,aL=aD(aK),aI=aC(aK);if(az.axis_rotated){if((0<aK.value&&aI<aH)||(aK.value<0&&aH<aI)){aI=aH}}return[[aL,aI-(aH-aJ)],[aL,aI-(aH-aJ)],[aL,aI-(aH-aJ)],[aL,aI-(aH-aJ)]]}};G.lineWithRegions=function(aR,aC,aB,aJ){var aH=this,aT=aH.config,aL=-1,aO,aN,aK="M",aE,aF,aP,aG,aD,aS,aI,aA,aU=aH.isCategorized()?0.5:0,aM,aQ,ax=[];function ay(aV,aX){var aW;for(aW=0;aW<aX.length;aW++){if(aX[aW].start<aV&&aV<=aX[aW].end){return true}}return false}if(J(aJ)){for(aO=0;aO<aJ.length;aO++){ax[aO]={};if(F(aJ[aO].start)){ax[aO].start=aR[0].x}else{ax[aO].start=aH.isTimeSeries()?aH.parseDate(aJ[aO].start):aJ[aO].start}if(F(aJ[aO].end)){ax[aO].end=aR[aR.length-1].x}else{ax[aO].end=aH.isTimeSeries()?aH.parseDate(aJ[aO].end):aJ[aO].end}}}aM=aT.axis_rotated?function(aV){return aB(aV.value)}:function(aV){return aC(aV.x)};aQ=aT.axis_rotated?function(aV){return aC(aV.x)}:function(aV){return aB(aV.value)};function az(aV){return"M"+aV[0][0]+" "+aV[0][1]+" "+aV[1][0]+" "+aV[1][1]}if(aH.isTimeSeries()){aE=function(aW,aV,aZ,a0){var aX=aW.x.getTime(),aY=aV.x-aW.x,a3=new Date(aX+aY*aZ),a2=new Date(aX+aY*(aZ+a0)),a1;if(aT.axis_rotated){a1=[[aB(aP(aZ)),aC(a3)],[aB(aP(aZ+a0)),aC(a2)]]}else{a1=[[aC(a3),aB(aP(aZ))],[aC(a2),aB(aP(aZ+a0))]]}return az(a1)}}else{aE=function(aZ,aX,aV,aY){var aW;if(aT.axis_rotated){aW=[[aB(aP(aV),true),aC(aF(aV))],[aB(aP(aV+aY),true),aC(aF(aV+aY))]]}else{aW=[[aC(aF(aV),true),aB(aP(aV))],[aC(aF(aV+aY),true),aB(aP(aV+aY))]]}return az(aW)}}for(aO=0;aO<aR.length;aO++){if(F(ax)||!ay(aR[aO].x,ax)){aK+=" "+aM(aR[aO])+" "+aQ(aR[aO])}else{aF=aH.getScale(aR[aO-1].x+aU,aR[aO].x+aU,aH.isTimeSeries());aP=aH.getScale(aR[aO-1].value,aR[aO].value);aG=aC(aR[aO].x)-aC(aR[aO-1].x);aD=aB(aR[aO].value)-aB(aR[aO-1].value);aS=Math.sqrt(Math.pow(aG,2)+Math.pow(aD,2));aI=2/aS;aA=aI*2;for(aN=aI;aN<=1;aN+=aA){aK+=aE(aR[aO-1],aR[aO],aN,aI)}}aL=aR[aO].x}return aK};G.updateArea=function(az){var ax=this,ay=ax.d3;ax.mainArea=ax.main.selectAll("."+E.areas).selectAll("."+E.area).data(ax.lineData.bind(ax));ax.mainArea.enter().append("path").attr("class",ax.classArea.bind(ax)).style("fill",ax.color).style("opacity",function(){ax.orgAreaOpacity=+ay.select(this).style("opacity");return 0});ax.mainArea.style("opacity",ax.orgAreaOpacity);ax.mainArea.exit().transition().duration(az).style("opacity",0).remove()};G.redrawArea=function(ay,ax){return[(ax?this.mainArea.transition():this.mainArea).attr("d",ay).style("fill",this.color).style("opacity",this.orgAreaOpacity)]};G.generateDrawArea=function(aA,aG){var aF=this,ay=aF.config,ax=aF.d3.svg.area(),aC=aF.generateGetAreaPoints(aA,aG),az=aG?aF.getSubYScale:aF.getYScale,aB=function(aH){return(aG?aF.subxx:aF.xx).call(aF,aH)},aE=function(aI,aH){return ay.data_groups.length>0?aC(aI,aH)[0][1]:az.call(aF,aI.id)(aF.getAreaBaseValue(aI.id))},aD=function(aI,aH){return ay.data_groups.length>0?aC(aI,aH)[1][1]:az.call(aF,aI.id)(aI.value)};ax=ay.axis_rotated?ax.x0(aE).x1(aD).y(aB):ax.x(aB).y0(aE).y1(aD);if(!ay.line_connectNull){ax=ax.defined(function(aH){return aH.value!==null})}return function(aL){var aH=ay.line_connectNull?aF.filterRemoveNull(aL.values):aL.values,aI=0,aJ=0,aK;if(aF.isAreaType(aL)){if(aF.isStepType(aL)){aH=aF.convertValuesToStep(aH)}aK=ax.interpolate(aF.getInterpolate(aL))(aH)}else{if(aH[0]){aI=aF.x(aH[0].x);aJ=aF.getYScale(aL.id)(aH[0].value)}aK=ay.axis_rotated?"M "+aJ+" "+aI:"M "+aI+" "+aJ}return aK?aK:"M 0 0"}};G.getAreaBaseValue=function(){return 0};G.generateGetAreaPoints=function(aA,aF){var aE=this,ay=aE.config,aB=aA.__max__+1,aD=aE.getShapeX(0,aB,aA,!!aF),aC=aE.getShapeY(!!aF),az=aE.getShapeOffset(aE.isAreaType,aA,!!aF),ax=aF?aE.getSubYScale:aE.getYScale;return function(aK,aG){var aH=ax.call(aE,aK.id)(0),aJ=az(aK,aG)||aH,aL=aD(aK),aI=aC(aK);if(ay.axis_rotated){if((0<aK.value&&aI<aH)||(aK.value<0&&aH<aI)){aI=aH}}return[[aL,aJ],[aL,aI-(aH-aJ)],[aL,aI-(aH-aJ)],[aL,aJ]]}};G.updateCircle=function(){var ax=this;ax.mainCircle=ax.main.selectAll("."+E.circles).selectAll("."+E.circle).data(ax.lineOrScatterData.bind(ax));ax.mainCircle.enter().append("circle").attr("class",ax.classCircle.bind(ax)).attr("r",ax.pointR.bind(ax)).style("fill",ax.color);ax.mainCircle.style("opacity",ax.initialOpacityForCircle.bind(ax));ax.mainCircle.exit().remove()};G.redrawCircle=function(ax,aA,ay){var az=this.main.selectAll("."+E.selectedCircle);return[(ay?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",ax).attr("cy",aA),(ay?az.transition():az).attr("cx",ax).attr("cy",aA)]};G.circleX=function(ax){return ax.x||ax.x===0?this.x(ax.x):null};G.updateCircleY=function(){var ax=this,az,ay;if(ax.config.data_groups.length>0){az=ax.getShapeIndices(ax.isLineType),ay=ax.generateGetLinePoints(az);ax.circleY=function(aB,aA){return ay(aB,aA)[0][1]}}else{ax.circleY=function(aA){return ax.getYScale(aA.id)(aA.value)}}};G.getCircles=function(ay,az){var ax=this;return(az?ax.main.selectAll("."+E.circles+ax.getTargetSelectorSuffix(az)):ax.main).selectAll("."+E.circle+(j(ay)?"-"+ay:""))};G.expandCircles=function(ay,aB,aA){var ax=this,az=ax.pointExpandedR.bind(ax);if(aA){ax.unexpandCircles()}ax.getCircles(ay,aB).classed(E.EXPANDED,true).attr("r",az)};G.unexpandCircles=function(ay){var ax=this,az=ax.pointR.bind(ax);ax.getCircles(ay).filter(function(){return ax.d3.select(this).classed(E.EXPANDED)}).classed(E.EXPANDED,false).attr("r",az)};G.pointR=function(az){var ax=this,ay=ax.config;return ax.isStepType(az)?0:(z(ay.point_r)?ay.point_r(az):ay.point_r)};G.pointExpandedR=function(az){var ax=this,ay=ax.config;return ay.point_focus_expand_enabled?(ay.point_focus_expand_r?ay.point_focus_expand_r:ax.pointR(az)*1.75):ax.pointR(az)};G.pointSelectR=function(az){var ax=this,ay=ax.config;return ay.point_select_r?ay.point_select_r:ax.pointR(az)*4};G.isWithinCircle=function(aC,aB){var aA=this.d3,az=aA.mouse(aC),ay=aA.select(aC),ax=+ay.attr("cx"),aD=+ay.attr("cy");return Math.sqrt(Math.pow(ax-az[0],2)+Math.pow(aD-az[1],2))<aB};G.isWithinStep=function(ax,ay){return Math.abs(ay-this.d3.mouse(ax)[1])<30};G.initBar=function(){var ax=this;ax.main.select("."+E.chart).append("g").attr("class",E.chartBars)};G.updateTargetsForBar=function(ay){var aA=this,aC=aA.config,aE,ax,aB=aA.classChartBar.bind(aA),aD=aA.classBars.bind(aA),az=aA.classFocus.bind(aA);aE=aA.main.select("."+E.chartBars).selectAll("."+E.chartBar).data(ay).attr("class",function(aF){return aB(aF)+az(aF)});ax=aE.enter().append("g").attr("class",aB).style("opacity",0).style("pointer-events","none");ax.append("g").attr("class",aD).style("cursor",function(aF){return aC.data_selection_isselectable(aF)?"pointer":null})};G.updateBar=function(aC){var az=this,ax=az.barData.bind(az),aA=az.classBar.bind(az),aB=az.initialOpacity.bind(az),ay=function(aD){return az.color(aD.id)};az.mainBar=az.main.selectAll("."+E.bars).selectAll("."+E.bar).data(ax);az.mainBar.enter().append("path").attr("class",aA).style("stroke",ay).style("fill",ay);az.mainBar.style("opacity",aB);az.mainBar.exit().transition().duration(aC).style("opacity",0).remove()};G.redrawBar=function(ax,ay){return[(ay?this.mainBar.transition():this.mainBar).attr("d",ax).style("fill",this.color).style("opacity",1)]};G.getBarW=function(aB,aA){var ay=this,az=ay.config,ax=typeof az.bar_width==="number"?az.bar_width:aA?(aB.tickInterval()*az.bar_width_ratio)/aA:0;return az.bar_width_max&&ax>az.bar_width_max?az.bar_width_max:ax};G.getBars=function(ay,az){var ax=this;return(az?ax.main.selectAll("."+E.bars+ax.getTargetSelectorSuffix(az)):ax.main).selectAll("."+E.bar+(j(ay)?"-"+ay:""))};G.expandBars=function(ay,aA,az){var ax=this;if(az){ax.unexpandBars()}ax.getBars(ay,aA).classed(E.EXPANDED,true)};G.unexpandBars=function(ay){var ax=this;ax.getBars(ay).classed(E.EXPANDED,false)};G.generateDrawBar=function(ay,ax){var az=this,aB=az.config,aA=az.generateGetBarPoints(ay,ax);return function(aH,aE){var aF=aA(aH,aE);var aD=aB.axis_rotated?1:0;var aC=aB.axis_rotated?0:1;var aG="M "+aF[0][aD]+","+aF[0][aC]+" L"+aF[1][aD]+","+aF[1][aC]+" L"+aF[2][aD]+","+aF[2][aC]+" L"+aF[3][aD]+","+aF[3][aC]+" z";return aG}};G.generateGetBarPoints=function(aC,aF){var aE=this,aA=aF?aE.subXAxis:aE.xAxis,aD=aC.__max__+1,ay=aE.getBarW(aA,aD),ax=aE.getShapeX(ay,aD,aC,!!aF),aG=aE.getShapeY(!!aF),aB=aE.getShapeOffset(aE.isBarType,aC,!!aF),az=aF?aE.getSubYScale:aE.getYScale;return function(aL,aH){var aI=az.call(aE,aL.id)(0),aK=aB(aL,aH)||aI,aM=ax(aL),aJ=aG(aL);if(aE.config.axis_rotated){if((0<aL.value&&aJ<aI)||(aL.value<0&&aI<aJ)){aJ=aI}}return[[aM,aK],[aM,aJ-(aI-aK)],[aM+ay,aJ-(aI-aK)],[aM+ay,aK]]}};G.isWithinBar=function(aB){var aD=this.d3.mouse(aB),aA=aB.getBoundingClientRect(),ax=aB.pathSegList.getItem(0),aK=aB.pathSegList.getItem(1),aI=Math.min(ax.x,aK.x),aG=Math.min(ax.y,aK.y),aJ=aA.width,az=aA.height,ay=2,aH=aI-ay,aE=aI+aJ+ay,aF=aG+az+ay,aC=aG-ay;return aH<aD[0]&&aD[0]<aE&&aC<aD[1]&&aD[1]<aF};G.initText=function(){var ax=this;ax.main.select("."+E.chart).append("g").attr("class",E.chartTexts);ax.mainText=ax.d3.selectAll([])};G.updateTargetsForText=function(ay){var aA=this,aD,ax,aB=aA.classChartText.bind(aA),aC=aA.classTexts.bind(aA),az=aA.classFocus.bind(aA);aD=aA.main.select("."+E.chartTexts).selectAll("."+E.chartText).data(ay).attr("class",function(aE){return aB(aE)+az(aE)});ax=aD.enter().append("g").attr("class",aB).style("opacity",0).style("pointer-events","none");ax.append("g").attr("class",aC)};G.updateText=function(aB){var ay=this,az=ay.config,aA=ay.barOrLineData.bind(ay),ax=ay.classText.bind(ay);ay.mainText=ay.main.selectAll("."+E.texts).selectAll("."+E.text).data(aA);ay.mainText.enter().append("text").attr("class",ax).attr("text-anchor",function(aC){return az.axis_rotated?(aC.value<0?"end":"start"):"middle"}).style("stroke","none").style("fill",function(aC){return ay.color(aC)}).style("fill-opacity",0);ay.mainText.text(function(aE,aD,aC){return ay.dataLabelFormat(aE.id)(aE.value,aE.id,aD,aC)});ay.mainText.exit().transition().duration(aB).style("fill-opacity",0).remove()};G.redrawText=function(aA,az,ay,ax){return[(ax?this.mainText.transition():this.mainText).attr("x",aA).attr("y",az).style("fill",this.color).style("fill-opacity",ay?0:this.opacityForText.bind(this))]};G.getTextRect=function(aB,ax){var aA=this.d3.select("body").append("div").classed("c3",true),ay=aA.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),az;ay.selectAll(".dummy").data([aB]).enter().append("text").classed(ax?ax:"",true).text(aB).each(function(){az=this.getBoundingClientRect()});aA.remove();return az};G.generateXYForText=function(aA,aC,ay,ax){var aF=this,az=aF.generateGetAreaPoints(aA,false),aD=aF.generateGetBarPoints(aC,false),aB=aF.generateGetLinePoints(ay,false),aE=ax?aF.getXForText:aF.getYForText;return function(aI,aH){var aG=aF.isAreaType(aI)?az:aF.isBarType(aI)?aD:aB;return aE.call(aF,aG(aI,aH),aI,this)}};G.getXForText=function(az,aD,ay){var ax=this,aA=ay.getBoundingClientRect(),aC,aB;if(ax.config.axis_rotated){aB=ax.isBarType(aD)?4:6;aC=az[2][1]+aB*(aD.value<0?-1:1)}else{aC=ax.hasType("bar")?(az[2][0]+az[0][0])/2:az[0][0]}if(aD.value===null){if(aC>ax.width){aC=ax.width-aA.width}else{if(aC<0){aC=4}}}return aC};G.getYForText=function(az,aC,ay){var ax=this,aB=ay.getBoundingClientRect(),aA;if(ax.config.axis_rotated){aA=(az[0][0]+az[2][0]+aB.height*0.6)/2}else{aA=az[2][1];if(aC.value<0){aA+=aB.height;if(ax.isBarType(aC)&&ax.isSafari()){aA-=3}else{if(!ax.isBarType(aC)&&ax.isChrome()){aA+=3}}}else{aA+=ax.isBarType(aC)?-3:-6}}if(aC.value===null&&!ax.config.axis_rotated){if(aA<aB.height){aA=aB.height}else{if(aA>this.height){aA=this.height-4}}}return aA};G.setTargetType=function(ax,aA){var ay=this,az=ay.config;ay.mapToTargetIds(ax).forEach(function(aB){ay.withoutFadeIn[aB]=(aA===az.data_types[aB]);az.data_types[aB]=aA});if(!ax){az.data_type=aA}};G.hasType=function(aB,ax){var ay=this,aA=ay.config.data_types,az=false;ax=ax||ay.data.targets;if(ax&&ax.length){ax.forEach(function(aD){var aC=aA[aD.id];if((aC&&aC.indexOf(aB)>=0)||(!aC&&aB==="line")){az=true}})}else{if(Object.keys(aA).length){Object.keys(aA).forEach(function(aC){if(aA[aC]===aB){az=true}})}else{az=ay.config.data_type===aB}}return az};G.hasArcType=function(ax){return this.hasType("pie",ax)||this.hasType("donut",ax)||this.hasType("gauge",ax)};G.isLineType=function(ay){var ax=this.config,az=s(ay)?ay:ay.id;return !ax.data_types[az]||["line","spline","area","area-spline","step","area-step"].indexOf(ax.data_types[az])>=0};G.isStepType=function(ax){var ay=s(ax)?ax:ax.id;return["step","area-step"].indexOf(this.config.data_types[ay])>=0};G.isSplineType=function(ax){var ay=s(ax)?ax:ax.id;return["spline","area-spline"].indexOf(this.config.data_types[ay])>=0};G.isAreaType=function(ax){var ay=s(ax)?ax:ax.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[ay])>=0};G.isBarType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="bar"};G.isScatterType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="scatter"};G.isPieType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="pie"};G.isGaugeType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="gauge"};G.isDonutType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="donut"};G.isArcType=function(ax){return this.isPieType(ax)||this.isDonutType(ax)||this.isGaugeType(ax)};G.lineData=function(ax){return this.isLineType(ax)?[ax]:[]};G.arcData=function(ax){return this.isArcType(ax.data)?[ax]:[]};G.barData=function(ax){return this.isBarType(ax)?ax.values:[]};G.lineOrScatterData=function(ax){return this.isLineType(ax)||this.isScatterType(ax)?ax.values:[]};G.barOrLineData=function(ax){return this.isBarType(ax)||this.isLineType(ax)?ax.values:[]};G.initGrid=function(){var ax=this,ay=ax.config,az=ax.d3;ax.grid=ax.main.append("g").attr("clip-path",ax.clipPathForGrid).attr("class",E.grid);if(ay.grid_x_show){ax.grid.append("g").attr("class",E.xgrids)}if(ay.grid_y_show){ax.grid.append("g").attr("class",E.ygrids)}if(ay.grid_focus_show){ax.grid.append("g").attr("class",E.xgridFocus).append("line").attr("class",E.xgridFocus)}ax.xgrid=az.selectAll([]);if(!ay.grid_lines_front){ax.initGridLines()}};G.initGridLines=function(){var ax=this,ay=ax.d3;ax.gridLines=ax.main.append("g").attr("clip-path",ax.clipPathForGrid).attr("class",E.grid+" "+E.gridLines);ax.gridLines.append("g").attr("class",E.xgridLines);ax.gridLines.append("g").attr("class",E.ygridLines);ax.xgridLines=ay.selectAll([])};G.updateXGrid=function(aA){var ax=this,ay=ax.config,az=ax.d3,aC=ax.generateGridData(ay.grid_x_type,ax.x),aB=ax.isCategorized()?ax.xAxis.tickOffset():0;ax.xgridAttr=ay.axis_rotated?{x1:0,x2:ax.width,y1:function(aD){return ax.x(aD)-aB},y2:function(aD){return ax.x(aD)-aB}}:{x1:function(aD){return ax.x(aD)+aB},x2:function(aD){return ax.x(aD)+aB},y1:0,y2:ax.height};ax.xgrid=ax.main.select("."+E.xgrids).selectAll("."+E.xgrid).data(aC);ax.xgrid.enter().append("line").attr("class",E.xgrid);if(!aA){ax.xgrid.attr(ax.xgridAttr).style("opacity",function(){return +az.select(this).attr(ay.axis_rotated?"y1":"x1")===(ay.axis_rotated?ax.height:0)?0:1})}ax.xgrid.exit().remove()};G.updateYGrid=function(){var ax=this,ay=ax.config,az=ax.yAxis.tickValues()||ax.y.ticks(ay.grid_y_ticks);ax.ygrid=ax.main.select("."+E.ygrids).selectAll("."+E.ygrid).data(az);ax.ygrid.enter().append("line").attr("class",E.ygrid);ax.ygrid.attr("x1",ay.axis_rotated?ax.y:0).attr("x2",ay.axis_rotated?ax.y:ax.width).attr("y1",ay.axis_rotated?0:ax.y).attr("y2",ay.axis_rotated?ax.height:ax.y);ax.ygrid.exit().remove();ax.smoothLines(ax.ygrid,"grid")};G.gridTextAnchor=function(ax){return ax.position?ax.position:"end"};G.gridTextDx=function(ax){return ax.position==="start"?4:ax.position==="middle"?0:-4};G.xGridTextX=function(ax){return ax.position==="start"?-this.height:ax.position==="middle"?-this.height/2:0};G.yGridTextX=function(ax){return ax.position==="start"?0:ax.position==="middle"?this.width/2:this.width};G.updateGrid=function(aD){var az=this,ax=az.main,aB=az.config,aC,aA,ay;az.grid.style("visibility",az.hasArcType()?"hidden":"visible");ax.select("line."+E.xgridFocus).style("visibility","hidden");if(aB.grid_x_show){az.updateXGrid()}az.xgridLines=ax.select("."+E.xgridLines).selectAll("."+E.xgridLine).data(aB.grid_x_lines);aC=az.xgridLines.enter().append("g").attr("class",function(aE){return E.xgridLine+(aE["class"]?" "+aE["class"]:"")});aC.append("line").style("opacity",0);aC.append("text").attr("text-anchor",az.gridTextAnchor).attr("transform",aB.axis_rotated?"":"rotate(-90)").attr("dx",az.gridTextDx).attr("dy",-5).style("opacity",0);az.xgridLines.exit().transition().duration(aD).style("opacity",0).remove();if(aB.grid_y_show){az.updateYGrid()}az.ygridLines=ax.select("."+E.ygridLines).selectAll("."+E.ygridLine).data(aB.grid_y_lines);aA=az.ygridLines.enter().append("g").attr("class",function(aE){return E.ygridLine+(aE["class"]?" "+aE["class"]:"")});aA.append("line").style("opacity",0);aA.append("text").attr("text-anchor",az.gridTextAnchor).attr("transform",aB.axis_rotated?"rotate(-90)":"").attr("dx",az.gridTextDx).attr("dy",-5).style("opacity",0);ay=az.yv.bind(az);az.ygridLines.select("line").transition().duration(aD).attr("x1",aB.axis_rotated?ay:0).attr("x2",aB.axis_rotated?ay:az.width).attr("y1",aB.axis_rotated?0:ay).attr("y2",aB.axis_rotated?az.height:ay).style("opacity",1);az.ygridLines.select("text").transition().duration(aD).attr("x",aB.axis_rotated?az.xGridTextX.bind(az):az.yGridTextX.bind(az)).attr("y",ay).text(function(aE){return aE.text}).style("opacity",1);az.ygridLines.exit().transition().duration(aD).style("opacity",0).remove()};G.redrawGrid=function(aB){var az=this,aA=az.config,ax=az.xv.bind(az),ay=az.xgridLines.select("line"),aC=az.xgridLines.select("text");return[(aB?ay.transition():ay).attr("x1",aA.axis_rotated?0:ax).attr("x2",aA.axis_rotated?az.width:ax).attr("y1",aA.axis_rotated?ax:0).attr("y2",aA.axis_rotated?ax:az.height).style("opacity",1),(aB?aC.transition():aC).attr("x",aA.axis_rotated?az.yGridTextX.bind(az):az.xGridTextX.bind(az)).attr("y",ax).text(function(aD){return aD.text}).style("opacity",1)]};G.showXGridFocus=function(aB){var az=this,aA=az.config,ay=aB.filter(function(aD){return aD&&j(aD.value)}),ax=az.main.selectAll("line."+E.xgridFocus),aC=az.xx.bind(az);if(!aA.tooltip_show){return}if(az.hasType("scatter")||az.hasArcType()){return}ax.style("visibility","visible").data([ay[0]]).attr(aA.axis_rotated?"y1":"x1",aC).attr(aA.axis_rotated?"y2":"x2",aC);az.smoothLines(ax,"grid")};G.hideXGridFocus=function(){this.main.select("line."+E.xgridFocus).style("visibility","hidden")};G.updateXgridFocus=function(){var ax=this,ay=ax.config;ax.main.select("line."+E.xgridFocus).attr("x1",ay.axis_rotated?0:-10).attr("x2",ay.axis_rotated?ax.width:-10).attr("y1",ay.axis_rotated?-10:0).attr("y2",ay.axis_rotated?-10:ax.height)};G.generateGridData=function(aD,ay){var aF=this,aE=[],aC,aA,aB,az,ax=aF.main.select("."+E.axisX).selectAll(".tick").size();if(aD==="year"){aC=aF.getXDomain();aA=aC[0].getFullYear();aB=aC[1].getFullYear();for(az=aA;az<=aB;az++){aE.push(new Date(az+"-01-01 00:00:00"))}}else{aE=ay.ticks(10);if(aE.length>ax){aE=aE.filter(function(aG){return(""+aG).indexOf(".")<0})}}return aE};G.getGridFilterToRemove=function(ax){return ax?function(ay){var az=false;[].concat(ax).forEach(function(aA){if((("value" in aA&&ay.value===aA.value)||("class" in aA&&ay["class"]===aA["class"]))){az=true}});return az}:function(){return true}};G.removeGridLines=function(aE,aD){var az=this,aB=az.config,aC=az.getGridFilterToRemove(aE),ax=function(aF){return !aC(aF)},ay=aD?E.xgridLines:E.ygridLines,aA=aD?E.xgridLine:E.ygridLine;az.main.select("."+ay).selectAll("."+aA).filter(aC).transition().duration(aB.transition_duration).style("opacity",0).remove();if(aD){aB.grid_x_lines=aB.grid_x_lines.filter(ax)}else{aB.grid_y_lines=aB.grid_y_lines.filter(ax)}};G.initTooltip=function(){var ax=this,ay=ax.config,az;ax.tooltip=ax.selectChart.style("position","relative").append("div").attr("class",E.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none");if(ay.tooltip_init_show){if(ax.isTimeSeries()&&s(ay.tooltip_init_x)){ay.tooltip_init_x=ax.parseDate(ay.tooltip_init_x);for(az=0;az<ax.data.targets[0].values.length;az++){if((ax.data.targets[0].values[az].x-ay.tooltip_init_x)===0){break}}ay.tooltip_init_x=az}ax.tooltip.html(ay.tooltip_contents.call(ax,ax.data.targets.map(function(aA){return ax.addName(aA.values[ay.tooltip_init_x])}),ax.axis.getXAxisTickFormat(),ax.getYFormat(ax.hasArcType()),ax.color));ax.tooltip.style("top",ay.tooltip_init_position.top).style("left",ay.tooltip_init_position.left).style("display","block")}};G.getTooltipContent=function(aG,ay,aA,aC){var aK=this,az=aK.config,aE=az.tooltip_format_title||ay,aB=az.tooltip_format_name||function(aM){return aM},aF=az.tooltip_format_value||aA,aJ,aD,aH,aI,ax,aL;for(aD=0;aD<aG.length;aD++){if(!(aG[aD]&&(aG[aD].value||aG[aD].value===0))){continue}if(!aJ){aH=aE?aE(aG[aD].x):aG[aD].x;aJ="<table class='"+E.tooltip+"'>"+(aH||aH===0?"<tr><th colspan='2'>"+aH+"</th></tr>":"")}aI=aF(aG[aD].value,aG[aD].ratio,aG[aD].id,aG[aD].index);if(aI!==undefined){ax=aB(aG[aD].name,aG[aD].ratio,aG[aD].id,aG[aD].index);aL=aK.levelColor?aK.levelColor(aG[aD].value):aC(aG[aD].id);aJ+="<tr class='"+E.tooltipName+"-"+aG[aD].id+"'>";aJ+="<td class='name'><span style='background-color:"+aL+"'></span>"+ax+"</td>";aJ+="<td class='value'>"+aI+"</td>";aJ+="</tr>"}}return aJ+"</table>"};G.tooltipPosition=function(ay,aF,aH,aE){var aJ=this,aA=aJ.config,aK=aJ.d3;var aC,aI,az,aD,aB;var ax=aJ.hasArcType(),aG=aK.mouse(aE);if(ax){aI=((aJ.width-(aJ.isLegendRight?aJ.getLegendWidth():0))/2)+aG[0];aD=(aJ.height/2)+aG[1]+20}else{aC=aJ.getSvgLeft(true);if(aA.axis_rotated){aI=aC+aG[0]+100;az=aI+aF;aB=aJ.currentWidth-aJ.getCurrentPaddingRight();aD=aJ.x(ay[0].x)+20}else{aI=aC+aJ.getCurrentPaddingLeft(true)+aJ.x(ay[0].x)+20;az=aI+aF;aB=aC+aJ.currentWidth-aJ.getCurrentPaddingRight();aD=aG[1]+15}if(az>aB){aI-=az-aB+20}if(aD+aH>aJ.currentHeight){aD-=aH+30}}if(aD<0){aD=0}return{top:aD,left:aI}};G.showTooltip=function(aE,aB){var aG=this,aA=aG.config;var aC,aF,aD;var ay=aG.hasArcType(),ax=aE.filter(function(aH){return aH&&j(aH.value)}),az=aA.tooltip_position||G.tooltipPosition;if(ax.length===0||!aA.tooltip_show){return}aG.tooltip.html(aA.tooltip_contents.call(aG,aE,aG.axis.getXAxisTickFormat(),aG.getYFormat(ay),aG.color)).style("display","block");aC=aG.tooltip.property("offsetWidth");aF=aG.tooltip.property("offsetHeight");aD=az.call(this,ax,aC,aF,aB);aG.tooltip.style("top",aD.top+"px").style("left",aD.left+"px")};G.hideTooltip=function(){this.tooltip.style("display","none")};G.initLegend=function(){var ax=this;ax.legendItemTextBox={};ax.legendHasRendered=false;ax.legend=ax.svg.append("g").attr("transform",ax.getTranslate("legend"));if(!ax.config.legend_show){ax.legend.style("visibility","hidden");ax.hiddenLegendIds=ax.mapToIds(ax.data.targets);return}ax.updateLegendWithDefaults()};G.updateLegendWithDefaults=function(){var ax=this;ax.updateLegend(ax.mapToIds(ax.data.targets),{withTransform:false,withTransitionForTransform:false,withTransition:false})};G.updateSizeForLegend=function(ay,aA){var ax=this,az=ax.config,aB={top:ax.isLegendTop?ax.getCurrentPaddingTop()+az.legend_inset_y+5.5:ax.currentHeight-ay-ax.getCurrentPaddingBottom()-az.legend_inset_y,left:ax.isLegendLeft?ax.getCurrentPaddingLeft()+az.legend_inset_x+0.5:ax.currentWidth-aA-ax.getCurrentPaddingRight()-az.legend_inset_x+0.5};ax.margin3={top:ax.isLegendRight?0:ax.isLegendInset?aB.top:ax.currentHeight-ay,right:NaN,bottom:0,left:ax.isLegendRight?ax.currentWidth-aA:ax.isLegendInset?aB.left:0}};G.transformLegend=function(ay){var ax=this;(ay?ax.legend.transition():ax.legend).attr("transform",ax.getTranslate("legend"))};G.updateLegendStep=function(ax){this.legendStep=ax};G.updateLegendItemWidth=function(ax){this.legendItemWidth=ax};G.updateLegendItemHeight=function(ax){this.legendItemHeight=ax};G.getLegendWidth=function(){var ax=this;return ax.config.legend_show?ax.isLegendRight||ax.isLegendInset?ax.legendItemWidth*(ax.legendStep+1):ax.currentWidth:0};G.getLegendHeight=function(){var ax=this,ay=0;if(ax.config.legend_show){if(ax.isLegendRight){ay=ax.currentHeight}else{ay=Math.max(20,ax.legendItemHeight)*(ax.legendStep+1)}}return ay};G.opacityForLegend=function(ax){return ax.classed(E.legendItemHidden)?null:1};G.opacityForUnfocusedLegend=function(ax){return ax.classed(E.legendItemHidden)?null:0.3};G.toggleFocusLegend=function(ay,ax){var az=this;ay=az.mapToTargetIds(ay);az.legend.selectAll("."+E.legendItem).filter(function(aA){return ay.indexOf(aA)>=0}).classed(E.legendItemFocused,ax).transition().duration(100).style("opacity",function(){var aA=ax?az.opacityForLegend:az.opacityForUnfocusedLegend;return aA.call(az,az.d3.select(this))})};G.revertLegend=function(){var ax=this,ay=ax.d3;ax.legend.selectAll("."+E.legendItem).classed(E.legendItemFocused,false).transition().duration(100).style("opacity",function(){return ax.opacityForLegend(ay.select(this))})};G.showLegend=function(ax){var ay=this,az=ay.config;if(!az.legend_show){az.legend_show=true;ay.legend.style("visibility","visible");if(!ay.legendHasRendered){ay.updateLegendWithDefaults()}}ay.removeHiddenLegendIds(ax);ay.legend.selectAll(ay.selectorLegends(ax)).style("visibility","visible").transition().style("opacity",function(){return ay.opacityForLegend(ay.d3.select(this))})};G.hideLegend=function(ax){var ay=this,az=ay.config;if(az.legend_show&&D(ax)){az.legend_show=false;ay.legend.style("visibility","hidden")}ay.addHiddenLegendIds(ax);ay.legend.selectAll(ay.selectorLegends(ax)).style("opacity",0).style("visibility","hidden")};G.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}};G.updateLegend=function(aR,aG,a3){var aN=this,a2=aN.config;var aZ,aC,aS,aH,aQ,aD;var a0=4,ay=10,aY=0,aT=0,aK=10,ax=15;var aU,aP=0,aI={},aL={},aX={},aB=[0],aW={},aJ=0;var aO,aA;var az,aF,a1,aV;aG=aG||{};aO=v(aG,"withTransition",true);aA=v(aG,"withTransitionForTransform",true);function aE(a4,a5){if(!aN.legendItemTextBox[a5]){aN.legendItemTextBox[a5]=aN.getTextRect(a4.textContent,E.legendItem)}return aN.legendItemTextBox[a5]}function aM(a7,a6,bf){var be=bf===0,bb=bf===aR.length-1,bc=aE(a7,a6),bg=bc.width+ax+(bb&&!(aN.isLegendRight||aN.isLegendInset)?0:ay),a9=bc.height+a0,bd=aN.isLegendRight||aN.isLegendInset?a9:bg,a4=aN.isLegendRight||aN.isLegendInset?aN.getLegendHeight():aN.getLegendWidth(),ba,a5;function a8(bi,bh){if(!bh){ba=(a4-aP-bd)/2;if(ba<aK){ba=(a4-bd)/2;aP=0;aJ++}}aW[bi]=aJ;aB[aJ]=aN.isLegendInset?10:ba;aI[bi]=aP;aP+=bd}if(be){aP=0;aJ=0;aY=0;aT=0}if(a2.legend_show&&!aN.isLegendToShow(a6)){aL[a6]=aX[a6]=aW[a6]=aI[a6]=0;return}aL[a6]=bg;aX[a6]=a9;if(!aY||bg>=aY){aY=bg}if(!aT||a9>=aT){aT=a9}a5=aN.isLegendRight||aN.isLegendInset?aT:aY;if(a2.legend_equally){Object.keys(aL).forEach(function(bh){aL[bh]=aY});Object.keys(aX).forEach(function(bh){aX[bh]=aT});ba=(a4-a5*aR.length)/2;if(ba<aK){aP=0;aJ=0;aR.forEach(function(bh){a8(bh)})}else{a8(a6,true)}}else{a8(a6)}}if(aN.isLegendInset){aJ=a2.legend_inset_step?a2.legend_inset_step:aR.length;aN.updateLegendStep(aJ)}if(aN.isLegendRight){aZ=function(a4){return aY*aW[a4]};aH=function(a4){return aB[aW[a4]]+aI[a4]}}else{if(aN.isLegendInset){aZ=function(a4){return aY*aW[a4]+10};aH=function(a4){return aB[aW[a4]]+aI[a4]}}else{aZ=function(a4){return aB[aW[a4]]+aI[a4]};aH=function(a4){return aT*aW[a4]}}}aC=function(a5,a4){return aZ(a5,a4)+14};aQ=function(a5,a4){return aH(a5,a4)+9};aS=function(a5,a4){return aZ(a5,a4)};aD=function(a5,a4){return aH(a5,a4)-5};aU=aN.legend.selectAll("."+E.legendItem).data(aR).enter().append("g").attr("class",function(a4){return aN.generateClass(E.legendItem,a4)}).style("visibility",function(a4){return aN.isLegendToShow(a4)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a4){if(a2.legend_item_onclick){a2.legend_item_onclick.call(aN,a4)}else{if(aN.d3.event.altKey){aN.api.hide();aN.api.show(a4)}else{aN.api.toggle(a4);aN.isTargetToShow(a4)?aN.api.focus(a4):aN.api.revert()}}}).on("mouseover",function(a4){aN.d3.select(this).classed(E.legendItemFocused,true);if(!aN.transiting&&aN.isTargetToShow(a4)){aN.api.focus(a4)}if(a2.legend_item_onmouseover){a2.legend_item_onmouseover.call(aN,a4)}}).on("mouseout",function(a4){aN.d3.select(this).classed(E.legendItemFocused,false);aN.api.revert();if(a2.legend_item_onmouseout){a2.legend_item_onmouseout.call(aN,a4)}});aU.append("text").text(function(a4){return J(a2.data_names[a4])?a2.data_names[a4]:a4}).each(function(a5,a4){aM(this,a5,a4)}).style("pointer-events","none").attr("x",aN.isLegendRight||aN.isLegendInset?aC:-200).attr("y",aN.isLegendRight||aN.isLegendInset?-200:aQ);aU.append("rect").attr("class",E.legendItemEvent).style("fill-opacity",0).attr("x",aN.isLegendRight||aN.isLegendInset?aS:-200).attr("y",aN.isLegendRight||aN.isLegendInset?-200:aD);aU.append("rect").attr("class",E.legendItemTile).style("pointer-events","none").style("fill",aN.color).attr("x",aN.isLegendRight||aN.isLegendInset?aC:-200).attr("y",aN.isLegendRight||aN.isLegendInset?-200:aH).attr("width",10).attr("height",10);aV=aN.legend.select("."+E.legendBackground+" rect");if(aN.isLegendInset&&aY>0&&aV.size()===0){aV=aN.legend.insert("g","."+E.legendItem).attr("class",E.legendBackground).append("rect")}az=aN.legend.selectAll("text").data(aR).text(function(a4){return J(a2.data_names[a4])?a2.data_names[a4]:a4}).each(function(a5,a4){aM(this,a5,a4)});(aO?az.transition():az).attr("x",aC).attr("y",aQ);aF=aN.legend.selectAll("rect."+E.legendItemEvent).data(aR);(aO?aF.transition():aF).attr("width",function(a4){return aL[a4]}).attr("height",function(a4){return aX[a4]}).attr("x",aS).attr("y",aD);a1=aN.legend.selectAll("rect."+E.legendItemTile).data(aR);(aO?a1.transition():a1).style("fill",aN.color).attr("x",aZ).attr("y",aH);if(aV){(aO?aV.transition():aV).attr("height",aN.getLegendHeight()-12).attr("width",aY*(aJ+1)+10)}aN.legend.selectAll("."+E.legendItem).classed(E.legendItemHidden,function(a4){return !aN.isTargetToShow(a4)});aN.updateLegendItemWidth(aY);aN.updateLegendItemHeight(aT);aN.updateLegendStep(aJ);aN.updateSizes();aN.updateScales();aN.updateSvgSize();aN.transformAll(aA,a3);aN.legendHasRendered=true};function y(ax){V.call(this,ax)}A(V,y);y.prototype.init=function aj(){var ay=this.owner,az=ay.config,ax=ay.main;ay.axes.x=ax.append("g").attr("class",E.axis+" "+E.axisX).attr("clip-path",ay.clipPathForXAxis).attr("transform",ay.getTranslate("x")).style("visibility",az.axis_x_show?"visible":"hidden");ay.axes.x.append("text").attr("class",E.axisXLabel).attr("transform",az.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this));ay.axes.y=ax.append("g").attr("class",E.axis+" "+E.axisY).attr("clip-path",az.axis_y_inner?"":ay.clipPathForYAxis).attr("transform",ay.getTranslate("y")).style("visibility",az.axis_y_show?"visible":"hidden");ay.axes.y.append("text").attr("class",E.axisYLabel).attr("transform",az.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this));ay.axes.y2=ax.append("g").attr("class",E.axis+" "+E.axisY2).attr("transform",ay.getTranslate("y2")).style("visibility",az.axis_y2_show?"visible":"hidden");ay.axes.y2.append("text").attr("class",E.axisY2Label).attr("transform",az.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))};y.prototype.getXAxis=function H(aA,aD,aB,aC,ax,aF,aE){var aH=this.owner,ay=aH.config,aG={isCategory:aH.isCategorized(),withOuterTick:ax,tickMultiline:ay.axis_x_tick_multiline,tickWidth:ay.axis_x_tick_width,tickTextRotate:aE?0:ay.axis_x_tick_rotate,withoutTransition:aF,},az=d(aH.d3,aG).scale(aA).orient(aD);if(aH.isTimeSeries()&&aC){aC=aC.map(function(aI){return aH.parseDate(aI)})}az.tickFormat(aB).tickValues(aC);if(aH.isCategorized()){az.tickCentered(ay.axis_x_tick_centered);if(D(ay.axis_x_tick_culling)){ay.axis_x_tick_culling=false}}return az};y.prototype.updateXAxisTickValues=function I(ax,aB){var az=this.owner,aA=az.config,ay;if(aA.axis_x_tick_fit||aA.axis_x_tick_count){ay=this.generateTickValues(az.mapTargetsToUniqueXs(ax),aA.axis_x_tick_count,az.isTimeSeries())}if(aB){aB.tickValues(ay)}else{az.xAxis.tickValues(ay);az.subXAxis.tickValues(ay)}return ay};y.prototype.getYAxis=function h(aA,aD,aB,aC,ax,aE){var aF={withOuterTick:ax,withoutTransition:aE,},aG=this.owner,aH=aG.d3,ay=aG.config,az=d(aH,aF).scale(aA).orient(aD).tickFormat(aB);if(aG.isTimeSeriesY()){az.ticks(aH.time[ay.axis_y_tick_time_value],ay.axis_y_tick_time_interval)}else{az.tickValues(aC)}return az};y.prototype.getId=function ar(ay){var ax=this.owner.config;return ay in ax.data_axes?ax.data_axes[ay]:"y"};y.prototype.getXAxisTickFormat=function Q(){var ax=this.owner,ay=ax.config,az=ax.isTimeSeries()?ax.defaultAxisTimeFormat:ax.isCategorized()?ax.categoryName:function(aA){return aA<0?aA.toFixed(0):aA};if(ay.axis_x_tick_format){if(z(ay.axis_x_tick_format)){az=ay.axis_x_tick_format}else{if(ax.isTimeSeries()){az=function(aA){return aA?ax.axisTimeFormat(ay.axis_x_tick_format)(aA):""}}}}return z(az)?function(aA){return az.call(ax,aA)}:az};y.prototype.getTickValues=function an(ax,ay){return ax?ax:ay?ay.tickValues():undefined};y.prototype.getXAxisTickValues=function aw(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)};y.prototype.getYAxisTickValues=function T(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)};y.prototype.getY2AxisTickValues=function o(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)};y.prototype.getLabelOptionByAxisId=function N(aA){var ax=this.owner,ay=ax.config,az;if(aA==="y"){az=ay.axis_y_label}else{if(aA==="y2"){az=ay.axis_y2_label}else{if(aA==="x"){az=ay.axis_x_label}}}return az};y.prototype.getLabelText=function ai(ay){var ax=this.getLabelOptionByAxisId(ay);return s(ax)?ax:ax?ax.text:null};y.prototype.setLabelText=function B(aA,aB){var ax=this.owner,ay=ax.config,az=this.getLabelOptionByAxisId(aA);if(s(az)){if(aA==="y"){ay.axis_y_label=aB}else{if(aA==="y2"){ay.axis_y2_label=aB}else{if(aA==="x"){ay.axis_x_label=aB}}}}else{if(az){az.text=aB}}};y.prototype.getLabelPosition=function am(aA,ay){var az=this.getLabelOptionByAxisId(aA),ax=(az&&typeof az==="object"&&az.position)?az.position:ay;return{isInner:ax.indexOf("inner")>=0,isOuter:ax.indexOf("outer")>=0,isLeft:ax.indexOf("left")>=0,isCenter:ax.indexOf("center")>=0,isRight:ax.indexOf("right")>=0,isTop:ax.indexOf("top")>=0,isMiddle:ax.indexOf("middle")>=0,isBottom:ax.indexOf("bottom")>=0}};y.prototype.getXAxisLabelPosition=function m(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")};y.prototype.getYAxisLabelPosition=function R(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")};y.prototype.getY2AxisLabelPosition=function ah(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")};y.prototype.getLabelPositionById=function av(ax){return ax==="y2"?this.getY2AxisLabelPosition():ax==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()};y.prototype.textForXAxisLabel=function ac(){return this.getLabelText("x")};y.prototype.textForYAxisLabel=function ap(){return this.getLabelText("y")};y.prototype.textForY2AxisLabel=function K(){return this.getLabelText("y2")};y.prototype.xForAxisLabel=function t(ay,ax){var az=this.owner;if(ay){return ax.isLeft?0:ax.isCenter?az.width/2:az.width}else{return ax.isBottom?-az.height:ax.isMiddle?-az.height/2:0}};y.prototype.dxForAxisLabel=function p(ay,ax){if(ay){return ax.isLeft?"0.5em":ax.isRight?"-0.5em":"0"}else{return ax.isTop?"-0.5em":ax.isBottom?"0.5em":"0"}};y.prototype.textAnchorForAxisLabel=function W(ay,ax){if(ay){return ax.isLeft?"start":ax.isCenter?"middle":"end"}else{return ax.isBottom?"start":ax.isMiddle?"middle":"end"}};y.prototype.xForXAxisLabel=function ad(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};y.prototype.xForYAxisLabel=function ao(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};y.prototype.xForY2AxisLabel=function r(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};y.prototype.dxForXAxisLabel=function al(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};y.prototype.dxForYAxisLabel=function f(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};y.prototype.dxForY2AxisLabel=function w(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};y.prototype.dyForXAxisLabel=function Y(){var ay=this.owner,az=ay.config,ax=this.getXAxisLabelPosition();if(az.axis_rotated){return ax.isInner?"1.2em":-25-this.getMaxTickWidth("x")}else{return ax.isInner?"-0.5em":az.axis_x_height?az.axis_x_height-10:"3em"}};y.prototype.dyForYAxisLabel=function ag(){var ay=this.owner,ax=this.getYAxisLabelPosition();if(ay.config.axis_rotated){return ax.isInner?"-0.5em":"3em"}else{return ax.isInner?"1.2em":-10-(ay.config.axis_y_inner?0:(this.getMaxTickWidth("y")+10))}};y.prototype.dyForY2AxisLabel=function ak(){var ay=this.owner,ax=this.getY2AxisLabelPosition();if(ay.config.axis_rotated){return ax.isInner?"1.2em":"-2.2em"}else{return ax.isInner?"-0.5em":15+(ay.config.axis_y2_inner?0:(this.getMaxTickWidth("y2")+15))}};y.prototype.textAnchorForXAxisLabel=function L(){var ax=this.owner;return this.textAnchorForAxisLabel(!ax.config.axis_rotated,this.getXAxisLabelPosition())};y.prototype.textAnchorForYAxisLabel=function ab(){var ax=this.owner;return this.textAnchorForAxisLabel(ax.config.axis_rotated,this.getYAxisLabelPosition())};y.prototype.textAnchorForY2AxisLabel=function l(){var ax=this.owner;return this.textAnchorForAxisLabel(ax.config.axis_rotated,this.getY2AxisLabelPosition())};y.prototype.getMaxTickWidth=function au(ay,aE){var aG=this.owner,az=aG.config,aF=0,ax,aC,aA,aB,aD;if(aE&&aG.currentMaxTickWidths[ay]){return aG.currentMaxTickWidths[ay]}if(aG.svg){ax=aG.filterTargetsToShow(aG.data.targets);if(ay==="y"){aC=aG.y.copy().domain(aG.getYDomain(ax,"y"));aA=this.getYAxis(aC,aG.yOrient,az.axis_y_tick_format,aG.yAxisTickValues,false,true)}else{if(ay==="y2"){aC=aG.y2.copy().domain(aG.getYDomain(ax,"y2"));aA=this.getYAxis(aC,aG.y2Orient,az.axis_y2_tick_format,aG.y2AxisTickValues,false,true)}else{aC=aG.x.copy().domain(aG.getXDomain(ax));aA=this.getXAxis(aC,aG.xOrient,aG.xAxisTickFormat,aG.xAxisTickValues,false,true,true);this.updateXAxisTickValues(ax,aA)}}aB=aG.d3.select("body").append("div").classed("c3",true);aD=aB.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),aD.append("g").call(aA).each(function(){aG.d3.select(this).selectAll("text").each(function(){var aH=this.getBoundingClientRect();if(aF<aH.width){aF=aH.width}});aB.remove()})}aG.currentMaxTickWidths[ay]=aF<=0?aG.currentMaxTickWidths[ay]:aF;return aG.currentMaxTickWidths[ay]};y.prototype.updateLabels=function g(az){var ay=this.owner;var aB=ay.main.select("."+E.axisX+" ."+E.axisXLabel),aA=ay.main.select("."+E.axisY+" ."+E.axisYLabel),ax=ay.main.select("."+E.axisY2+" ."+E.axisY2Label);(az?aB.transition():aB).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));(az?aA.transition():aA).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));(az?ax.transition():ax).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))};y.prototype.getPadding=function x(aA,az,ax,ay){if(!j(aA[az])){return ax}if(aA.unit==="ratio"){return aA[az]*ay}return this.convertPixelsToAxisPadding(aA[az],ay)};y.prototype.convertPixelsToAxisPadding=function Z(aA,ay){var ax=this.owner,az=ax.config.axis_rotated?ax.width:ax.height;return ay*(aA/az)};y.prototype.generateTickValues=function U(aH,ax,aB){var aD=aH,aA,ay,aE,aG,az,aF,aC;if(ax){aA=z(ax)?ax():ax;if(aA===1){aD=[aH[0]]}else{if(aA===2){aD=[aH[0],aH[aH.length-1]]}else{if(aA>2){aG=aA-2;ay=aH[0];aE=aH[aH.length-1];az=(aE-ay)/(aG+1);aD=[ay];for(aF=0;aF<aG;aF++){aC=+ay+az*(aF+1);aD.push(aB?new Date(aC):aC)}aD.push(aE)}}}}if(!aB){aD=aD.sort(function(aJ,aI){return aJ-aI})}return aD};y.prototype.generateTransitions=function af(az){var ax=this.owner,ay=ax.axes;return{axisX:az?ay.x.transition().duration(az):ay.x,axisY:az?ay.y.transition().duration(az):ay.y,axisY2:az?ay.y2.transition().duration(az):ay.y2,axisSubX:az?ay.subx.transition().duration(az):ay.subx}};y.prototype.redraw=function k(az,ay){var ax=this.owner;ax.axes.x.style("opacity",ay?0:1);ax.axes.y.style("opacity",ay?0:1);ax.axes.y2.style("opacity",ay?0:1);ax.axes.subx.style("opacity",ay?0:1);az.axisX.call(ax.xAxis);az.axisY.call(ax.yAxis);az.axisY2.call(ax.y2Axis);az.axisSubX.call(ax.subXAxis)};G.getClipPath=function(ay){var ax=ae.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(ax?"":document.URL.split("#")[0])+"#"+ay+")"};G.appendClip=function(ax,ay){return ax.append("clipPath").attr("id",ay).append("rect")};G.getAxisClipX=function(ax){var ay=Math.max(30,this.margin.left);return ax?-(1+ay):-(ay-1)};G.getAxisClipY=function(ax){return ax?-20:-this.margin.top};G.getXAxisClipX=function(){var ax=this;return ax.getAxisClipX(!ax.config.axis_rotated)};G.getXAxisClipY=function(){var ax=this;return ax.getAxisClipY(!ax.config.axis_rotated)};G.getYAxisClipX=function(){var ax=this;return ax.config.axis_y_inner?-1:ax.getAxisClipX(ax.config.axis_rotated)};G.getYAxisClipY=function(){var ax=this;return ax.getAxisClipY(ax.config.axis_rotated)};G.getAxisClipWidth=function(ax){var ay=this,aA=Math.max(30,ay.margin.left),az=Math.max(30,ay.margin.right);return ax?ay.width+2+aA+az:ay.margin.left+20};G.getAxisClipHeight=function(ax){return(ax?this.margin.bottom:(this.margin.top+this.height))+20};G.getXAxisClipWidth=function(){var ax=this;return ax.getAxisClipWidth(!ax.config.axis_rotated)};G.getXAxisClipHeight=function(){var ax=this;return ax.getAxisClipHeight(!ax.config.axis_rotated)};G.getYAxisClipWidth=function(){var ax=this;return ax.getAxisClipWidth(ax.config.axis_rotated)+(ax.config.axis_y_inner?20:0)};G.getYAxisClipHeight=function(){var ax=this;return ax.getAxisClipHeight(ax.config.axis_rotated)};G.initPie=function(){var ax=this,az=ax.d3,ay=ax.config;ax.pie=az.layout.pie().value(function(aA){return aA.values.reduce(function(aC,aB){return aC+aB.value},0)});if(!ay.data_order){ax.pie.sort(null)}};G.updateRadius=function(){var ay=this,az=ay.config,ax=az.gauge_width||az.donut_width;ay.radiusExpanded=Math.min(ay.arcWidth,ay.arcHeight)/2;ay.radius=ay.radiusExpanded*0.95;ay.innerRadiusRatio=ax?(ay.radius-ax)/ay.radius:0.6;ay.innerRadius=ay.hasType("donut")||ay.hasType("gauge")?ay.radius*ay.innerRadiusRatio:0};G.updateArc=function(){var ax=this;ax.svgArc=ax.getSvgArc();ax.svgArcExpanded=ax.getSvgArcExpanded();ax.svgArcExpandedSub=ax.getSvgArcExpanded(0.98)};G.updateAngle=function(aC){var aE=this,ay=aE.config,aF=false,aB=0,az=ay.gauge_min,aD=ay.gauge_max,aA,ax;aE.pie(aE.filterTargetsToShow(aE.data.targets)).forEach(function(aG){if(!aF&&aG.data.id===aC.data.id){aF=true;aC=aG;aC.index=aB}aB++});if(isNaN(aC.startAngle)){aC.startAngle=0}if(isNaN(aC.endAngle)){aC.endAngle=aC.startAngle}if(aE.isGaugeType(aC.data)){aA=(Math.PI)/(aD-az);ax=aC.value<az?0:aC.value<aD?aC.value-az:(aD-az);aC.startAngle=-1*(Math.PI/2);aC.endAngle=aC.startAngle+aA*ax}return aF?aC:null};G.getSvgArc=function(){var ax=this,ay=ax.d3.svg.arc().outerRadius(ax.radius).innerRadius(ax.innerRadius),az=function(aC,aB){var aA;if(aB){return ay(aC)}aA=ax.updateAngle(aC);return aA?ay(aA):"M 0 0"};az.centroid=ay.centroid;return az};G.getSvgArcExpanded=function(az){var ax=this,ay=ax.d3.svg.arc().outerRadius(ax.radiusExpanded*(az?az:1)).innerRadius(ax.innerRadius);return function(aB){var aA=ax.updateAngle(aB);return aA?ay(aA):"M 0 0"}};G.getArc=function(az,ay,ax){return ax||this.isArcType(az.data)?this.svgArc(az,ay):"M 0 0"};G.transformForArcLabel=function(aA){var aF=this,az=aF.updateAngle(aA),aC,aE,aD,ay,aB,ax="";if(az&&!aF.hasType("gauge")){aC=this.svgArc.centroid(az);aE=isNaN(aC[0])?0:aC[0];aD=isNaN(aC[1])?0:aC[1];ay=Math.sqrt(aE*aE+aD*aD);aB=aF.radius&&ay?(36/aF.radius>0.375?1.175-36/aF.radius:0.8)*aF.radius/ay:0;ax="translate("+(aE*aB)+","+(aD*aB)+")"}return ax};G.getArcRatio=function(az){var ax=this,ay=ax.hasType("gauge")?Math.PI:(Math.PI*2);return az?(az.endAngle-az.startAngle)/ay:null};G.convertToArcData=function(ax){return this.addName({id:ax.data.id,value:ax.value,ratio:this.getArcRatio(ax),index:ax.index})};G.textForArcLabel=function(aC){var ay=this,ax,aA,az,aD,aB;if(!ay.shouldShowArcLabel()){return""}ax=ay.updateAngle(aC);aA=ax?ax.value:null;az=ay.getArcRatio(ax);aD=aC.data.id;if(!ay.hasType("gauge")&&!ay.meetsArcLabelThreshold(az)){return""}aB=ay.getArcLabelFormat();return aB?aB(aA,az,aD):ay.defaultArcValueFormat(aA,az)};G.expandArc=function(ax){var az=this,ay;if(az.transiting){ay=ae.setInterval(function(){if(!az.transiting){ae.clearInterval(ay);if(az.legend.selectAll(".c3-legend-item-focused").size()>0){az.expandArc(ax)}}},10);return}ax=az.mapToTargetIds(ax);az.svg.selectAll(az.selectorTargets(ax,"."+E.chartArc)).each(function(aA){if(!az.shouldExpand(aA.data.id)){return}az.d3.select(this).selectAll("path").transition().duration(50).attr("d",az.svgArcExpanded).transition().duration(100).attr("d",az.svgArcExpandedSub).each(function(aB){if(az.isDonutType(aB.data)){}})})};G.unexpandArc=function(ax){var ay=this;if(ay.transiting){return}ax=ay.mapToTargetIds(ax);ay.svg.selectAll(ay.selectorTargets(ax,"."+E.chartArc)).selectAll("path").transition().duration(50).attr("d",ay.svgArc);ay.svg.selectAll("."+E.arc).style("opacity",1)};G.shouldExpand=function(az){var ax=this,ay=ax.config;return(ax.isDonutType(az)&&ay.donut_expand)||(ax.isGaugeType(az)&&ay.gauge_expand)||(ax.isPieType(az)&&ay.pie_expand)};G.shouldShowArcLabel=function(){var ay=this,az=ay.config,ax=true;if(ay.hasType("donut")){ax=az.donut_label_show}else{if(ay.hasType("pie")){ax=az.pie_label_show}}return ax};G.meetsArcLabelThreshold=function(aA){var ay=this,az=ay.config,ax=ay.hasType("donut")?az.donut_label_threshold:az.pie_label_threshold;return aA>=ax};G.getArcLabelFormat=function(){var ax=this,ay=ax.config,az=ay.pie_label_format;if(ax.hasType("gauge")){az=ay.gauge_label_format}else{if(ax.hasType("donut")){az=ay.donut_label_format}}return az};G.getArcTitle=function(){var ax=this;return ax.hasType("donut")?ax.config.donut_title:""};G.updateTargetsForArc=function(aA){var aC=this,ay=aC.main,ax,aD,az=aC.classChartArc.bind(aC),aE=aC.classArcs.bind(aC),aB=aC.classFocus.bind(aC);ax=ay.select("."+E.chartArcs).selectAll("."+E.chartArc).data(aC.pie(aA)).attr("class",function(aF){return az(aF)+aB(aF.data)});aD=ax.enter().append("g").attr("class",az);aD.append("g").attr("class",aE);aD.append("text").attr("dy",aC.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")};G.initArc=function(){var ax=this;ax.arcs=ax.main.select("."+E.chart).append("g").attr("class",E.chartArcs).attr("transform",ax.getTranslate("arc"));ax.arcs.append("text").attr("class",E.chartArcsTitle).style("text-anchor","middle").text(ax.getArcTitle())};G.redrawArc=function(aD,aE,ay){var az=this,aB=az.d3,aA=az.config,ax=az.main,aC;aC=ax.selectAll("."+E.arcs).selectAll("."+E.arc).data(az.arcData.bind(az));aC.enter().append("path").attr("class",az.classArc.bind(az)).style("fill",function(aF){return az.color(aF.data)}).style("cursor",function(aF){return aA.interaction_enabled&&aA.data_selection_isselectable(aF)?"pointer":null}).style("opacity",0).each(function(aF){if(az.isGaugeType(aF.data)){aF.startAngle=aF.endAngle=-1*(Math.PI/2)}this._current=aF});aC.attr("transform",function(aF){return !az.isGaugeType(aF.data)&&ay?"scale(0)":""}).style("opacity",function(aF){return aF===this._current?0:1}).on("mouseover",aA.interaction_enabled?function(aH){var aG,aF;if(az.transiting){return}aG=az.updateAngle(aH);aF=az.convertToArcData(aG);az.expandArc(aG.data.id);az.api.focus(aG.data.id);az.toggleFocusLegend(aG.data.id,true);az.config.data_onmouseover(aF,this)}:null).on("mousemove",aA.interaction_enabled?function(aI){var aG=az.updateAngle(aI),aF=az.convertToArcData(aG),aH=[aF];az.showTooltip(aH,this)}:null).on("mouseout",aA.interaction_enabled?function(aH){var aG,aF;if(az.transiting){return}aG=az.updateAngle(aH);aF=az.convertToArcData(aG);az.unexpandArc(aG.data.id);az.api.revert();az.revertLegend();az.hideTooltip();az.config.data_onmouseout(aF,this)}:null).on("click",aA.interaction_enabled?function(aI,aH){var aG=az.updateAngle(aI),aF=az.convertToArcData(aG);if(az.toggleShape){az.toggleShape(this,aF,aH)}az.config.data_onclick.call(az.api,aF,this)}:null).each(function(){az.transiting=true}).transition().duration(aD).attrTween("d",function(aH){var aF=az.updateAngle(aH),aG;if(!aF){return function(){return"M 0 0"}}if(isNaN(this._current.startAngle)){this._current.startAngle=0}if(isNaN(this._current.endAngle)){this._current.endAngle=this._current.startAngle}aG=aB.interpolate(this._current,aF);this._current=aG(0);return function(aJ){var aI=aG(aJ);aI.data=aH.data;return az.getArc(aI,true)}}).attr("transform",ay?"scale(1)":"").style("fill",function(aF){return az.levelColor?az.levelColor(aF.data.values[0].value):az.color(aF.data.id)}).style("opacity",1).call(az.endall,function(){az.transiting=false});aC.exit().transition().duration(aE).style("opacity",0).remove();ax.selectAll("."+E.chartArc).select("text").style("opacity",0).attr("class",function(aF){return az.isGaugeType(aF.data)?E.gaugeValue:""}).text(az.textForArcLabel.bind(az)).attr("transform",az.transformForArcLabel.bind(az)).style("font-size",function(aF){return az.isGaugeType(aF.data)?Math.round(az.radius/5)+"px":""}).transition().duration(aD).style("opacity",function(aF){return az.isTargetToShow(aF.data.id)&&az.isArcType(aF.data)?1:0});ax.select("."+E.chartArcsTitle).style("opacity",az.hasType("donut")||az.hasType("gauge")?1:0);if(az.hasType("gauge")){az.arcs.select("."+E.chartArcsBackground).attr("d",function(){var aF={data:[{value:aA.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return az.getArc(aF,true,true)});az.arcs.select("."+E.chartArcsGaugeUnit).attr("dy",".75em").text(aA.gauge_label_show?aA.gauge_units:"");az.arcs.select("."+E.chartArcsGaugeMin).attr("dx",-1*(az.innerRadius+((az.radius-az.innerRadius)/2))+"px").attr("dy","1.2em").text(aA.gauge_label_show?aA.gauge_min:"");az.arcs.select("."+E.chartArcsGaugeMax).attr("dx",az.innerRadius+((az.radius-az.innerRadius)/2)+"px").attr("dy","1.2em").text(aA.gauge_label_show?aA.gauge_max:"")}};G.initGauge=function(){var ax=this.arcs;if(this.hasType("gauge")){ax.append("path").attr("class",E.chartArcsBackground);ax.append("text").attr("class",E.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none");ax.append("text").attr("class",E.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none");ax.append("text").attr("class",E.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none")}};G.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0};G.initRegion=function(){var ax=this;ax.region=ax.main.append("g").attr("clip-path",ax.clipPath).attr("class",E.regions)};G.updateRegion=function(az){var ax=this,ay=ax.config;ax.region.style("visibility",ax.hasArcType()?"hidden":"visible");ax.mainRegion=ax.main.select("."+E.regions).selectAll("."+E.region).data(ay.regions);ax.mainRegion.enter().append("g").attr("class",ax.classRegion.bind(ax)).append("rect").style("fill-opacity",0);ax.mainRegion.exit().transition().duration(az).style("opacity",0).remove()};G.redrawRegion=function(aA){var az=this,aD=az.mainRegion.selectAll("rect"),ax=az.regionX.bind(az),aC=az.regionY.bind(az),ay=az.regionWidth.bind(az),aB=az.regionHeight.bind(az);return[(aA?aD.transition():aD).attr("x",ax).attr("y",aC).attr("width",ay).attr("height",aB).style("fill-opacity",function(aE){return j(aE.opacity)?aE.opacity:0.1})]};G.regionX=function(aB){var ax=this,ay=ax.config,aA,az=aB.axis==="y"?ax.y:ax.y2;if(aB.axis==="y"||aB.axis==="y2"){aA=ay.axis_rotated?("start" in aB?az(aB.start):0):0}else{aA=ay.axis_rotated?0:("start" in aB?ax.x(ax.isTimeSeries()?ax.parseDate(aB.start):aB.start):0)}return aA};G.regionY=function(aB){var ax=this,ay=ax.config,aA,az=aB.axis==="y"?ax.y:ax.y2;if(aB.axis==="y"||aB.axis==="y2"){aA=ay.axis_rotated?0:("end" in aB?az(aB.end):0)}else{aA=ay.axis_rotated?("start" in aB?ax.x(ax.isTimeSeries()?ax.parseDate(aB.start):aB.start):0):0}return aA};G.regionWidth=function(aB){var ay=this,az=ay.config,aC=ay.regionX(aB),ax,aA=aB.axis==="y"?ay.y:ay.y2;if(aB.axis==="y"||aB.axis==="y2"){ax=az.axis_rotated?("end" in aB?aA(aB.end):ay.width):ay.width}else{ax=az.axis_rotated?ay.width:("end" in aB?ay.x(ay.isTimeSeries()?ay.parseDate(aB.end):aB.end):ay.width)}return ax<aC?0:ax-aC};G.regionHeight=function(aB){var ay=this,az=ay.config,aC=this.regionY(aB),ax,aA=aB.axis==="y"?ay.y:ay.y2;if(aB.axis==="y"||aB.axis==="y2"){ax=az.axis_rotated?ay.height:("start" in aB?aA(aB.start):ay.height)}else{ax=az.axis_rotated?("end" in aB?ay.x(ay.isTimeSeries()?ay.parseDate(aB.end):aB.end):ay.height):ay.height}return ax<aC?0:ax-aC};G.isRegionOnX=function(ax){return !ax.axis||ax.axis==="x"};G.drag=function(aD){var aI=this,az=aI.config,aC=aI.main,aJ=aI.d3;var aF,aE,aH,aG,aB,ay,aA,ax;if(aI.hasArcType()){return}if(!az.data_selection_enabled){return}if(az.zoom_enabled&&!aI.zoom.altDomain){return}if(!az.data_selection_multiple){return}aF=aI.dragStart[0];aE=aI.dragStart[1];aH=aD[0];aG=aD[1];aB=Math.min(aF,aH);ay=Math.max(aF,aH);aA=(az.data_selection_grouped)?aI.margin.top:Math.min(aE,aG);ax=(az.data_selection_grouped)?aI.height:Math.max(aE,aG);aC.select("."+E.dragarea).attr("x",aB).attr("y",aA).attr("width",ay-aB).attr("height",ax-aA);aC.selectAll("."+E.shapes).selectAll("."+E.shape).filter(function(aK){return az.data_selection_isselectable(aK)}).each(function(aR,aN){var aQ=aJ.select(this),aL=aQ.classed(E.SELECTED),aK=aQ.classed(E.INCLUDED),aT,aS,aU,aM,aP,aV=false,aO;if(aQ.classed(E.circle)){aT=aQ.attr("cx")*1;aS=aQ.attr("cy")*1;aP=aI.togglePoint;aV=aB<aT&&aT<ay&&aA<aS&&aS<ax}else{if(aQ.classed(E.bar)){aO=S(this);aT=aO.x;aS=aO.y;aU=aO.width;aM=aO.height;aP=aI.togglePath;aV=!(ay<aT||aT+aU<aB)&&!(ax<aS||aS+aM<aA)}else{return}}if(aV^aK){aQ.classed(E.INCLUDED,!aK);aQ.classed(E.SELECTED,!aL);aP.call(aI,!aL,aQ,aR,aN)}})};G.dragstart=function(az){var ax=this,ay=ax.config;if(ax.hasArcType()){return}if(!ay.data_selection_enabled){return}ax.dragStart=az;ax.main.select("."+E.chart).append("rect").attr("class",E.dragarea).style("opacity",0.1);ax.dragging=true};G.dragend=function(){var ax=this,ay=ax.config;if(ax.hasArcType()){return}if(!ay.data_selection_enabled){return}ax.main.select("."+E.dragarea).transition().duration(100).style("opacity",0).remove();ax.main.selectAll("."+E.shape).classed(E.INCLUDED,false);ax.dragging=false};G.selectPoint=function(aC,aD,aA){var ay=this,az=ay.config,ax=(az.axis_rotated?ay.circleY:ay.circleX).bind(ay),aE=(az.axis_rotated?ay.circleX:ay.circleY).bind(ay),aB=ay.pointSelectR.bind(ay);az.data_onselected.call(ay.api,aD,aC.node());ay.main.select("."+E.selectedCircles+ay.getTargetSelectorSuffix(aD.id)).selectAll("."+E.selectedCircle+"-"+aA).data([aD]).enter().append("circle").attr("class",function(){return ay.generateClass(E.selectedCircle,aA)}).attr("cx",ax).attr("cy",aE).attr("stroke",function(){return ay.color(aD)}).attr("r",function(aF){return ay.pointSelectR(aF)*1.4}).transition().duration(100).attr("r",aB)};G.unselectPoint=function(az,aA,ay){var ax=this;ax.config.data_onunselected(aA,az.node());ax.main.select("."+E.selectedCircles+ax.getTargetSelectorSuffix(aA.id)).selectAll("."+E.selectedCircle+"-"+ay).transition().duration(100).attr("r",0).remove()};G.togglePoint=function(ay,az,aA,ax){ay?this.selectPoint(az,aA,ax):this.unselectPoint(az,aA,ax)};G.selectPath=function(ay,az){var ax=this;ax.config.data_onselected.call(ax,az,ay.node());ay.transition().duration(100).style("fill",function(){return ax.d3.rgb(ax.color(az)).brighter(0.75)})};G.unselectPath=function(ay,az){var ax=this;ax.config.data_onunselected.call(ax,az,ay.node());ay.transition().duration(100).style("fill",function(){return ax.color(az)})};G.togglePath=function(ay,az,aA,ax){ay?this.selectPath(az,aA,ax):this.unselectPath(az,aA,ax)};G.getToggle=function(az,aA){var ay=this,ax;if(az.nodeName==="circle"){if(ay.isStepType(aA)){ax=function(){}}else{ax=ay.togglePoint}}else{if(az.nodeName==="path"){ax=ay.togglePath}}return ax};G.toggleShape=function(aB,aD,az){var aE=this,aF=aE.d3,ay=aE.config,aC=aF.select(aB),ax=aC.classed(E.SELECTED),aA=aE.getToggle(aB,aD).bind(aE);if(ay.data_selection_enabled&&ay.data_selection_isselectable(aD)){if(!ay.data_selection_multiple){aE.main.selectAll("."+E.shapes+(ay.data_selection_grouped?aE.getTargetSelectorSuffix(aD.id):"")).selectAll("."+E.shape).each(function(aI,aH){var aG=aF.select(this);if(aG.classed(E.SELECTED)){aA(false,aG.classed(E.SELECTED,false),aI,aH)}})}aC.classed(E.SELECTED,!ax);aA(!ax,aC,aD,az)}};G.initBrush=function(){var ax=this,ay=ax.d3;ax.brush=ay.svg.brush().on("brush",function(){ax.redrawForBrush()});ax.brush.update=function(){if(ax.context){ax.context.select("."+E.brush).call(this)}return this};ax.brush.scale=function(az){return ax.config.axis_rotated?this.y(az):this.x(az)}};G.initSubchart=function(){var ax=this,ay=ax.config,az=ax.context=ax.svg.append("g").attr("transform",ax.getTranslate("context"));az.style("visibility",ay.subchart_show?"visible":"hidden");az.append("g").attr("clip-path",ax.clipPathForSubchart).attr("class",E.chart);az.select("."+E.chart).append("g").attr("class",E.chartBars);az.select("."+E.chart).append("g").attr("class",E.chartLines);az.append("g").attr("clip-path",ax.clipPath).attr("class",E.brush).call(ax.brush);ax.axes.subx=az.append("g").attr("class",E.axisX).attr("transform",ax.getTranslate("subx")).attr("clip-path",ay.axis_rotated?"":ax.clipPathForXAxis)};G.updateTargetsForSubchart=function(aG){var aJ=this,ay=aJ.context,az=aJ.config,aI,aF,ax,aD,aH=aJ.classChartBar.bind(aJ),aE=aJ.classBars.bind(aJ),aB=aJ.classChartLine.bind(aJ),aA=aJ.classLines.bind(aJ),aC=aJ.classAreas.bind(aJ);if(az.subchart_show){aD=ay.select("."+E.chartBars).selectAll("."+E.chartBar).data(aG).attr("class",aH);ax=aD.enter().append("g").style("opacity",0).attr("class",aH);ax.append("g").attr("class",aE);aF=ay.select("."+E.chartLines).selectAll("."+E.chartLine).data(aG).attr("class",aB);aI=aF.enter().append("g").style("opacity",0).attr("class",aB);aI.append("g").attr("class",aA);aI.append("g").attr("class",aC);ay.selectAll("."+E.brush+" rect").attr(az.axis_rotated?"width":"height",az.axis_rotated?aJ.width2:aJ.height2)}};G.updateBarForSubchart=function(ay){var ax=this;ax.contextBar=ax.context.selectAll("."+E.bars).selectAll("."+E.bar).data(ax.barData.bind(ax));ax.contextBar.enter().append("path").attr("class",ax.classBar.bind(ax)).style("stroke","none").style("fill",ax.color);ax.contextBar.style("opacity",ax.initialOpacity.bind(ax));ax.contextBar.exit().transition().duration(ay).style("opacity",0).remove()};G.redrawBarForSubchart=function(ay,ax,az){(ax?this.contextBar.transition().duration(az):this.contextBar).attr("d",ay).style("opacity",1)};G.updateLineForSubchart=function(ay){var ax=this;ax.contextLine=ax.context.selectAll("."+E.lines).selectAll("."+E.line).data(ax.lineData.bind(ax));ax.contextLine.enter().append("path").attr("class",ax.classLine.bind(ax)).style("stroke",ax.color);ax.contextLine.style("opacity",ax.initialOpacity.bind(ax));ax.contextLine.exit().transition().duration(ay).style("opacity",0).remove()};G.redrawLineForSubchart=function(ax,ay,az){(ay?this.contextLine.transition().duration(az):this.contextLine).attr("d",ax).style("opacity",1)};G.updateAreaForSubchart=function(az){var ax=this,ay=ax.d3;ax.contextArea=ax.context.selectAll("."+E.areas).selectAll("."+E.area).data(ax.lineData.bind(ax));ax.contextArea.enter().append("path").attr("class",ax.classArea.bind(ax)).style("fill",ax.color).style("opacity",function(){ax.orgAreaOpacity=+ay.select(this).style("opacity");return 0});ax.contextArea.style("opacity",0);ax.contextArea.exit().transition().duration(az).style("opacity",0).remove()};G.redrawAreaForSubchart=function(ay,ax,az){(ax?this.contextArea.transition().duration(az):this.contextArea).attr("d",ay).style("fill",this.color).style("opacity",this.orgAreaOpacity)};G.redrawSubchart=function(aG,aF,aC,ay,aB,aD,ax){var aH=this,aJ=aH.d3,aA=aH.config,aE,az,aI;aH.context.style("visibility",aA.subchart_show?"visible":"hidden");if(aA.subchart_show){if(aJ.event&&aJ.event.type==="zoom"){aH.brush.extent(aH.x.orgDomain()).update()}if(aG){if(!aH.brush.empty()){aH.brush.extent(aH.x.orgDomain()).update()}aE=aH.generateDrawArea(aB,true);az=aH.generateDrawBar(aD,true);aI=aH.generateDrawLine(ax,true);aH.updateBarForSubchart(aC);aH.updateLineForSubchart(aC);aH.updateAreaForSubchart(aC);aH.redrawBarForSubchart(az,aC,aC);aH.redrawLineForSubchart(aI,aC,aC);aH.redrawAreaForSubchart(aE,aC,aC)}}};G.redrawForBrush=function(){var ay=this,ax=ay.x;ay.redraw({withTransition:false,withY:ay.config.zoom_rescale,withSubchart:false,withUpdateXDomain:true,withDimension:false});ay.config.subchart_onbrush.call(ay.api,ax.orgDomain())};G.transformContext=function(ay,aA){var ax=this,az;if(aA&&aA.axisSubX){az=aA.axisSubX}else{az=ax.context.select("."+E.axisX);if(ay){az=az.transition()}}ax.context.attr("transform",ax.getTranslate("context"));az.attr("transform",ax.getTranslate("subx"))};G.getDefaultExtent=function(){var ax=this,ay=ax.config,az=z(ay.axis_x_extent)?ay.axis_x_extent(ax.getXDomain(ax.data.targets)):ay.axis_x_extent;if(ax.isTimeSeries()){az=[ax.parseDate(az[0]),ax.parseDate(az[1])]}return az};G.initZoom=function(){var ay=this,aA=ay.d3,az=ay.config,ax;ay.zoom=aA.behavior.zoom().on("zoomstart",function(){ax=aA.event.sourceEvent;ay.zoom.altDomain=aA.event.sourceEvent.altKey?ay.x.orgDomain():null;az.zoom_onzoomstart.call(ay.api,aA.event.sourceEvent)}).on("zoom",function(){ay.redrawForZoom.call(ay)}).on("zoomend",function(){var aB=aA.event.sourceEvent;if(aB&&ax.clientX===aB.clientX&&ax.clientY===aB.clientY){return}ay.redrawEventRect();ay.updateZoom();az.zoom_onzoomend.call(ay.api,ay.x.orgDomain())});ay.zoom.scale=function(aB){return az.axis_rotated?this.y(aB):this.x(aB)};ay.zoom.orgScaleExtent=function(){var aB=az.zoom_extent?az.zoom_extent:[1,10];return[aB[0],Math.max(ay.getMaxDataCount()/aB[1],aB[1])]};ay.zoom.updateScaleExtent=function(){var aC=O(ay.x.orgDomain())/O(ay.orgXDomain),aB=this.orgScaleExtent();this.scaleExtent([aB[0]*aC,aB[1]*aC]);return this}};G.updateZoom=function(){var ax=this,ay=ax.config.zoom_enabled?ax.zoom:function(){};ax.main.select("."+E.zoomRect).call(ay).on("dblclick.zoom",null);ax.main.selectAll("."+E.eventRect).call(ay).on("dblclick.zoom",null)};G.redrawForZoom=function(){var ay=this,aA=ay.d3,az=ay.config,aB=ay.zoom,ax=ay.x;if(!az.zoom_enabled){return}if(ay.filterTargetsToShow(ay.data.targets).length===0){return}if(aA.event.sourceEvent.type==="mousemove"&&aB.altDomain){ax.domain(aB.altDomain);aB.scale(ax).updateScaleExtent();return}if(ay.isCategorized()&&ax.orgDomain()[0]===ay.orgXDomain[0]){ax.domain([ay.orgXDomain[0]-1e-10,ax.orgDomain()[1]])}ay.redraw({withTransition:false,withY:az.zoom_rescale,withSubchart:false,withEventRect:false,withDimension:false});if(aA.event.sourceEvent.type==="mousemove"){ay.cancelClick=true}az.zoom_onzoom.call(ay.api,ax.orgDomain())};G.generateColor=function(){var ay=this,az=ay.config,aB=ay.d3,ax=az.data_colors,aC=M(az.color_pattern)?az.color_pattern:aB.scale.category10().range(),aD=az.data_color,aA=[];return function(aF){var aG=aF.id||(aF.data&&aF.data.id)||aF,aE;if(ax[aG] instanceof Function){aE=ax[aG](aF)}else{if(ax[aG]){aE=ax[aG]}else{if(aA.indexOf(aG)<0){aA.push(aG)}aE=aC[aA.indexOf(aG)%aC.length];ax[aG]=aE}}return aD instanceof Function?aD(aE,aF):aE}};G.generateLevelColor=function(){var aB=this,aC=aB.config,az=aC.color_pattern,ay=aC.color_threshold,aD=ay.unit==="value",aA=ay.values&&ay.values.length?ay.values:[],ax=ay.max||100;return M(aC.color_threshold)?function(aH){var aG,aF,aE=az[az.length-1];for(aG=0;aG<aA.length;aG++){aF=aD?aH:(aH*100/ax);if(aF<aA[aG]){aE=az[aG];break}}return aE}:null};G.getYFormat=function(ay){var ax=this,az=ay&&!ax.hasType("gauge")?ax.defaultArcValueFormat:ax.yFormat,aA=ay&&!ax.hasType("gauge")?ax.defaultArcValueFormat:ax.y2Format;return function(aB,aC,aE){var aD=ax.axis.getId(aE)==="y2"?aA:az;return aD.call(ax,aB,aC)}};G.yFormat=function(ay){var ax=this,az=ax.config,aA=az.axis_y_tick_format?az.axis_y_tick_format:ax.defaultValueFormat;return aA(ay)};G.y2Format=function(ay){var ax=this,az=ax.config,aA=az.axis_y2_tick_format?az.axis_y2_tick_format:ax.defaultValueFormat;return aA(ay)};G.defaultValueFormat=function(ax){return j(ax)?+ax:""};G.defaultArcValueFormat=function(ax,ay){return(ay*100).toFixed(1)+"%"};G.dataLabelFormat=function(az){var ax=this,ay=ax.config.data_labels,aB,aA=function(aC){return j(aC)?+aC:""};if(typeof ay.format==="function"){aB=ay.format}else{if(typeof ay.format==="object"){if(ay.format[az]){aB=ay.format[az]===true?aA:ay.format[az]}else{aB=function(){return""}}}else{aB=aA}}return aB};G.hasCaches=function(ay){for(var ax=0;ax<ay.length;ax++){if(!(ay[ax] in this.cache)){return false}}return true};G.addCache=function(ay,ax){this.cache[ay]=this.cloneTarget(ax)};G.getCaches=function(az){var ax=[],ay;for(ay=0;ay<az.length;ay++){if(az[ay] in this.cache){ax.push(this.cloneTarget(this.cache[az[ay]]))}}return ax};var E=G.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};G.generateClass=function(ay,ax){return" "+ay+" "+ay+this.getTargetSelectorSuffix(ax)};G.classText=function(ax){return this.generateClass(E.text,ax.index)};G.classTexts=function(ax){return this.generateClass(E.texts,ax.id)};G.classShape=function(ax){return this.generateClass(E.shape,ax.index)};G.classShapes=function(ax){return this.generateClass(E.shapes,ax.id)};G.classLine=function(ax){return this.classShape(ax)+this.generateClass(E.line,ax.id)};G.classLines=function(ax){return this.classShapes(ax)+this.generateClass(E.lines,ax.id)};G.classCircle=function(ax){return this.classShape(ax)+this.generateClass(E.circle,ax.index)};G.classCircles=function(ax){return this.classShapes(ax)+this.generateClass(E.circles,ax.id)};G.classBar=function(ax){return this.classShape(ax)+this.generateClass(E.bar,ax.index)};G.classBars=function(ax){return this.classShapes(ax)+this.generateClass(E.bars,ax.id)};G.classArc=function(ax){return this.classShape(ax.data)+this.generateClass(E.arc,ax.data.id)};G.classArcs=function(ax){return this.classShapes(ax.data)+this.generateClass(E.arcs,ax.data.id)};G.classArea=function(ax){return this.classShape(ax)+this.generateClass(E.area,ax.id)};G.classAreas=function(ax){return this.classShapes(ax)+this.generateClass(E.areas,ax.id)};G.classRegion=function(ay,ax){return this.generateClass(E.region,ax)+" "+("class" in ay?ay["class"]:"")};G.classEvent=function(ax){return this.generateClass(E.eventRect,ax.index)};G.classTarget=function(aA){var ay=this;var az=ay.config.data_classes[aA],ax="";if(az){ax=" "+E.target+"-"+az}return ay.generateClass(E.target,aA)+ax};G.classFocus=function(ax){return this.classFocused(ax)+this.classDefocused(ax)};G.classFocused=function(ax){return" "+(this.focusedTargetIds.indexOf(ax.id)>=0?E.focused:"")};G.classDefocused=function(ax){return" "+(this.defocusedTargetIds.indexOf(ax.id)>=0?E.defocused:"")};G.classChartText=function(ax){return E.chartText+this.classTarget(ax.id)};G.classChartLine=function(ax){return E.chartLine+this.classTarget(ax.id)};G.classChartBar=function(ax){return E.chartBar+this.classTarget(ax.id)};G.classChartArc=function(ax){return E.chartArc+this.classTarget(ax.data.id)};G.getTargetSelectorSuffix=function(ax){return ax||ax===0?("-"+ax).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""};G.selectorTarget=function(ay,ax){return(ax||"")+"."+E.target+this.getTargetSelectorSuffix(ay)};G.selectorTargets=function(ay,az){var ax=this;ay=ay||[];return ay.length?ay.map(function(aA){return ax.selectorTarget(aA,az)}):null};G.selectorLegend=function(ax){return"."+E.legendItem+this.getTargetSelectorSuffix(ax)};G.selectorLegends=function(ay){var ax=this;return ay&&ay.length?ay.map(function(az){return ax.selectorLegend(az)}):null};var j=G.isValue=function(ax){return ax||ax===0},z=G.isFunction=function(ax){return typeof ax==="function"},s=G.isString=function(ax){return typeof ax==="string"},F=G.isUndefined=function(ax){return typeof ax==="undefined"},J=G.isDefined=function(ax){return typeof ax!=="undefined"},P=G.ceil10=function(ax){return Math.ceil(ax/10)*10},X=G.asHalfPixel=function(ax){return Math.ceil(ax)+0.5},O=G.diffDomain=function(ax){return ax[1]-ax[0]},D=G.isEmpty=function(ax){return !ax||(s(ax)&&ax.length===0)||(typeof ax==="object"&&Object.keys(ax).length===0)},M=G.notEmpty=function(ax){return Object.keys(ax).length>0},v=G.getOption=function(ay,az,ax){return J(ay[az])?ay[az]:ax},u=G.hasValue=function(az,ay){var ax=false;Object.keys(az).forEach(function(aA){if(az[aA]===ay){ax=true}});return ax},S=G.getPathBox=function(aA){var az=aA.getBoundingClientRect(),ay=[aA.pathSegList.getItem(0),aA.pathSegList.getItem(1)],ax=ay[0].x,aB=Math.min(ay[0].y,ay[1].y);return{x:ax,y:aB,width:az.width,height:az.height}};C.focus=function(ax){var ay=this.internal,az;ax=ay.mapToTargetIds(ax);az=ay.svg.selectAll(ay.selectorTargets(ax.filter(ay.isTargetToShow,ay))),this.revert();this.defocus();az.classed(E.focused,true).classed(E.defocused,false);if(ay.hasArcType()){ay.expandArc(ax)}ay.toggleFocusLegend(ax,true);ay.focusedTargetIds=ax;ay.defocusedTargetIds=ay.defocusedTargetIds.filter(function(aA){return ax.indexOf(aA)<0})};C.defocus=function(ax){var ay=this.internal,az;ax=ay.mapToTargetIds(ax);az=ay.svg.selectAll(ay.selectorTargets(ax.filter(ay.isTargetToShow,ay))),az.classed(E.focused,false).classed(E.defocused,true);if(ay.hasArcType()){ay.unexpandArc(ax)}ay.toggleFocusLegend(ax,false);ay.focusedTargetIds=ay.focusedTargetIds.filter(function(aA){return ax.indexOf(aA)<0});ay.defocusedTargetIds=ax};C.revert=function(ax){var ay=this.internal,az;ax=ay.mapToTargetIds(ax);az=ay.svg.selectAll(ay.selectorTargets(ax));az.classed(E.focused,false).classed(E.defocused,false);if(ay.hasArcType()){ay.unexpandArc(ax)}if(ay.config.legend_show){ay.showLegend(ax.filter(ay.isLegendToShow.bind(ay)));ay.legend.selectAll(ay.selectorLegends(ax)).filter(function(){return ay.d3.select(this).classed(E.legendItemFocused)}).classed(E.legendItemFocused,false)}ay.focusedTargetIds=[];ay.defocusedTargetIds=[]};C.show=function(ay,aA){var az=this.internal,ax;ay=az.mapToTargetIds(ay);aA=aA||{};az.removeHiddenTargetIds(ay);ax=az.svg.selectAll(az.selectorTargets(ay));ax.transition().style("opacity",1,"important").call(az.endall,function(){ax.style("opacity",null).style("opacity",1)});if(aA.withLegend){az.showLegend(ay)}az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};C.hide=function(ay,aA){var az=this.internal,ax;ay=az.mapToTargetIds(ay);aA=aA||{};az.addHiddenTargetIds(ay);ax=az.svg.selectAll(az.selectorTargets(ay));ax.transition().style("opacity",0,"important").call(az.endall,function(){ax.style("opacity",null).style("opacity",0)});if(aA.withLegend){az.hideLegend(ay)}az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};C.toggle=function(ax,az){var aA=this,ay=this.internal;ay.mapToTargetIds(ax).forEach(function(aB){ay.isTargetToShow(aB)?aA.hide(aB,az):aA.show(aB,az)})};C.zoom=function(ay){var ax=this.internal;if(ay){if(ax.isTimeSeries()){ay=ay.map(function(az){return ax.parseDate(az)})}ax.brush.extent(ay);ax.redraw({withUpdateXDomain:true,withY:ax.config.zoom_rescale});ax.config.zoom_onzoom.call(this,ax.x.orgDomain())}return ax.brush.extent()};C.zoom.enable=function(ay){var ax=this.internal;ax.config.zoom_enabled=ay;ax.updateAndRedraw()};C.unzoom=function(){var ax=this.internal;ax.brush.clear().update();ax.redraw({withUpdateXDomain:true})};C.load=function(az){var ax=this.internal,ay=ax.config;if(az.xs){ax.addXs(az.xs)}if("classes" in az){Object.keys(az.classes).forEach(function(aA){ay.data_classes[aA]=az.classes[aA]})}if("categories" in az&&ax.isCategorized()){ay.axis_x_categories=az.categories}if("axes" in az){Object.keys(az.axes).forEach(function(aA){ay.data_axes[aA]=az.axes[aA]})}if("colors" in az){Object.keys(az.colors).forEach(function(aA){ay.data_colors[aA]=az.colors[aA]})}if("cacheIds" in az&&ax.hasCaches(az.cacheIds)){ax.load(ax.getCaches(az.cacheIds),az.done);return}if("unload" in az){ax.unload(ax.mapToTargetIds((typeof az.unload==="boolean"&&az.unload)?null:az.unload),function(){ax.loadFromArgs(az)})}else{ax.loadFromArgs(az)}};C.unload=function(ay){var ax=this.internal;ay=ay||{};if(ay instanceof Array){ay={ids:ay}}else{if(typeof ay==="string"){ay={ids:[ay]}}}ax.unload(ax.mapToTargetIds(ay.ids),function(){ax.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(ay.done){ay.done()}})};C.flow=function(aF){var aK=this.internal,aD,aC,aA=[],aG=aK.getMaxDataCount(),aH,aB,ay,ax,az=0,aE=0,aJ,aI;if(aF.json){aC=aK.convertJsonToData(aF.json,aF.keys)}else{if(aF.rows){aC=aK.convertRowsToData(aF.rows)}else{if(aF.columns){aC=aK.convertColumnsToData(aF.columns)}else{return}}}aD=aK.convertDataToTargets(aC,true);aK.data.targets.forEach(function(aN){var aO=false,aM,aL;for(aM=0;aM<aD.length;aM++){if(aN.id===aD[aM].id){aO=true;if(aN.values[aN.values.length-1]){aE=aN.values[aN.values.length-1].index+1}az=aD[aM].values.length;for(aL=0;aL<az;aL++){aD[aM].values[aL].index=aE+aL;if(!aK.isTimeSeries()){aD[aM].values[aL].x=aE+aL}}aN.values=aN.values.concat(aD[aM].values);aD.splice(aM,1);break}}if(!aO){aA.push(aN.id)}});aK.data.targets.forEach(function(aN){var aM,aL;for(aM=0;aM<aA.length;aM++){if(aN.id===aA[aM]){aE=aN.values[aN.values.length-1].index+1;for(aL=0;aL<az;aL++){aN.values.push({id:aN.id,index:aE+aL,x:aK.isTimeSeries()?aK.getOtherTargetX(aE+aL):aE+aL,value:null})}}}});if(aK.data.targets.length){aD.forEach(function(aN){var aM,aL=[];for(aM=aK.data.targets[0].values[0].index;aM<aE;aM++){aL.push({id:aN.id,index:aM,x:aK.isTimeSeries()?aK.getOtherTargetX(aM):aM,value:null})}aN.values.forEach(function(aO){aO.index+=aE;if(!aK.isTimeSeries()){aO.x+=aE}});aN.values=aL.concat(aN.values)})}aK.data.targets=aK.data.targets.concat(aD);aH=aK.getMaxDataCount();ay=aK.data.targets[0];ax=ay.values[0];if(J(aF.to)){az=0;aI=aK.isTimeSeries()?aK.parseDate(aF.to):aF.to;ay.values.forEach(function(aL){if(aL.x<aI){az++}})}else{if(J(aF.length)){az=aF.length}}if(!aG){if(aK.isTimeSeries()){if(ay.values.length>1){aJ=ay.values[ay.values.length-1].x-ax.x}else{aJ=ax.x-aK.getXDomain(aK.data.targets)[0]}}else{aJ=1}aB=[ax.x-aJ,ax.x];aK.updateXDomain(null,true,true,false,aB)}else{if(aG===1){if(aK.isTimeSeries()){aJ=(ay.values[ay.values.length-1].x-ax.x)/2;aB=[new Date(+ax.x-aJ),new Date(+ax.x+aJ)];aK.updateXDomain(null,true,true,false,aB)}}}aK.updateTargets(aK.data.targets);aK.redraw({flow:{index:ax.index,length:az,duration:j(aF.duration)?aF.duration:aK.config.transition_duration,done:aF.done,orgDataCount:aG,},withLegend:true,withTransition:aG>1,withTrimXDomain:false,withUpdateXAxis:true,})};G.generateFlow=function(az){var ax=this,ay=ax.config,aA=ax.d3;return function(){var a2=az.targets,aK=az.flow,aX=az.drawBar,aR=az.drawLine,a1=az.drawArea,aH=az.cx,aF=az.cy,aM=az.xv,aG=az.xForText,aV=az.yForText,aC=az.duration;var a5,a0=1,aP,aB=aK.index,aQ=aK.length,a3=ax.getValueOnIndex(ax.data.targets[0].values,aB),aN=ax.getValueOnIndex(ax.data.targets[0].values,aB+aQ),aU=ax.x.domain(),a4,aL=aK.duration||aC,aT=aK.done||function(){},aW=ax.generateWait();var aD=ax.xgrid||aA.selectAll([]),aZ=ax.xgridLines||aA.selectAll([]),aJ=ax.mainRegion||aA.selectAll([]),aI=ax.mainText||aA.selectAll([]),aS=ax.mainBar||aA.selectAll([]),aE=ax.mainLine||aA.selectAll([]),aO=ax.mainArea||aA.selectAll([]),aY=ax.mainCircle||aA.selectAll([]);ax.flowing=true;ax.data.targets.forEach(function(a6){a6.values.splice(0,aQ)});a4=ax.updateXDomain(a2,true,true);if(ax.updateXGrid){ax.updateXGrid(true)}if(!aK.orgDataCount){if(ax.data.targets[0].values.length!==1){a5=ax.x(aU[0])-ax.x(a4[0])}else{if(ax.isTimeSeries()){a3=ax.getValueOnIndex(ax.data.targets[0].values,0);aN=ax.getValueOnIndex(ax.data.targets[0].values,ax.data.targets[0].values.length-1);a5=ax.x(a3.x)-ax.x(aN.x)}else{a5=O(a4)/2}}}else{if(aK.orgDataCount===1||a3.x===aN.x){a5=ax.x(aU[0])-ax.x(a4[0])}else{if(ax.isTimeSeries()){a5=(ax.x(aU[0])-ax.x(a4[0]))}else{a5=(ax.x(a3.x)-ax.x(aN.x))}}}a0=(O(aU)/O(a4));aP="translate("+a5+",0) scale("+a0+",1)";ax.hideXGridFocus();ax.hideTooltip();aA.transition().ease("linear").duration(aL).each(function(){aW.add(ax.axes.x.transition().call(ax.xAxis));aW.add(aS.transition().attr("transform",aP));aW.add(aE.transition().attr("transform",aP));aW.add(aO.transition().attr("transform",aP));aW.add(aY.transition().attr("transform",aP));aW.add(aI.transition().attr("transform",aP));aW.add(aJ.filter(ax.isRegionOnX).transition().attr("transform",aP));aW.add(aD.transition().attr("transform",aP));aW.add(aZ.transition().attr("transform",aP))}).call(aW,function(){var a8,a6=[],a9=[],a7=[];if(aQ){for(a8=0;a8<aQ;a8++){a6.push("."+E.shape+"-"+(aB+a8));a9.push("."+E.text+"-"+(aB+a8));a7.push("."+E.eventRect+"-"+(aB+a8))}ax.svg.selectAll("."+E.shapes).selectAll(a6).remove();ax.svg.selectAll("."+E.texts).selectAll(a9).remove();ax.svg.selectAll("."+E.eventRects).selectAll(a7).remove();ax.svg.select("."+E.xgrid).remove()}aD.attr("transform",null).attr(ax.xgridAttr);aZ.attr("transform",null);aZ.select("line").attr("x1",ay.axis_rotated?0:aM).attr("x2",ay.axis_rotated?ax.width:aM);aZ.select("text").attr("x",ay.axis_rotated?ax.width:0).attr("y",aM);aS.attr("transform",null).attr("d",aX);aE.attr("transform",null).attr("d",aR);aO.attr("transform",null).attr("d",a1);aY.attr("transform",null).attr("cx",aH).attr("cy",aF);aI.attr("transform",null).attr("x",aG).attr("y",aV).style("fill-opacity",ax.opacityForText.bind(ax));aJ.attr("transform",null);aJ.select("rect").filter(ax.isRegionOnX).attr("x",ax.regionX.bind(ax)).attr("width",ax.regionWidth.bind(ax));if(ay.interaction_enabled){ax.redrawEventRect()}aT();ax.flowing=false})}};C.selected=function(ay){var ax=this.internal,az=ax.d3;return az.merge(ax.main.selectAll("."+E.shapes+ax.getTargetSelectorSuffix(ay)).selectAll("."+E.shape).filter(function(){return az.select(this).classed(E.SELECTED)}).map(function(aA){return aA.map(function(aC){var aB=aC.__data__;return aB.data?aB.data:aB})}))};C.select=function(aB,aC,aA){var ax=this.internal,az=ax.d3,ay=ax.config;if(!ay.data_selection_enabled){return}ax.main.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(aJ,aH){var aF=az.select(this),aK=aJ.data?aJ.data.id:aJ.id,aD=ax.getToggle(this,aJ).bind(ax),aE=ay.data_selection_grouped||!aB||aB.indexOf(aK)>=0,aI=!aC||aC.indexOf(aH)>=0,aG=aF.classed(E.SELECTED);if(aF.classed(E.line)||aF.classed(E.area)){return}if(aE&&aI){if(ay.data_selection_isselectable(aJ)&&!aG){aD(true,aF.classed(E.SELECTED,true),aJ,aH)}}else{if(J(aA)&&aA){if(aG){aD(false,aF.classed(E.SELECTED,false),aJ,aH)}}}})};C.unselect=function(aA,aB){var ax=this.internal,az=ax.d3,ay=ax.config;if(!ay.data_selection_enabled){return}ax.main.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(aI,aG){var aE=az.select(this),aJ=aI.data?aI.data.id:aI.id,aC=ax.getToggle(this,aI).bind(ax),aD=ay.data_selection_grouped||!aA||aA.indexOf(aJ)>=0,aH=!aB||aB.indexOf(aG)>=0,aF=aE.classed(E.SELECTED);if(aE.classed(E.line)||aE.classed(E.area)){return}if(aD&&aH){if(ay.data_selection_isselectable(aI)){if(aF){aC(false,aE.classed(E.SELECTED,false),aI,aG)}}}})};C.transform=function(aA,ax){var ay=this.internal,az=["pie","donut"].indexOf(aA)>=0?{withTransform:true}:null;ay.transformTo(ax,aA,az)};G.transformTo=function(ay,aB,ax){var az=this,aC=!az.hasArcType(),aA=ax||{withTransitionForAxis:aC};aA.withTransitionForTransform=false;az.transiting=false;az.setTargetType(ay,aB);az.updateTargets(az.data.targets);az.updateAndRedraw(aA)};C.groups=function(ax){var ay=this.internal,az=ay.config;if(F(ax)){return az.data_groups}az.data_groups=ax;ay.redraw();return az.data_groups};C.xgrids=function(az){var ax=this.internal,ay=ax.config;if(!az){return ay.grid_x_lines}ay.grid_x_lines=az;ax.redrawWithoutRescale();return ay.grid_x_lines};C.xgrids.add=function(ay){var ax=this.internal;return this.xgrids(ax.config.grid_x_lines.concat(ay?ay:[]))};C.xgrids.remove=function(ay){var ax=this.internal;ax.removeGridLines(ay,true)};C.ygrids=function(az){var ax=this.internal,ay=ax.config;if(!az){return ay.grid_y_lines}ay.grid_y_lines=az;ax.redrawWithoutRescale();return ay.grid_y_lines};C.ygrids.add=function(ay){var ax=this.internal;return this.ygrids(ax.config.grid_y_lines.concat(ay?ay:[]))};C.ygrids.remove=function(ay){var ax=this.internal;ax.removeGridLines(ay,false)};C.regions=function(az){var ax=this.internal,ay=ax.config;if(!az){return ay.regions}ay.regions=az;ax.redrawWithoutRescale();return ay.regions};C.regions.add=function(az){var ax=this.internal,ay=ax.config;if(!az){return ay.regions}ay.regions=ay.regions.concat(az);ax.redrawWithoutRescale();return ay.regions};C.regions.remove=function(az){var ax=this.internal,ay=ax.config,aB,aA,aC;az=az||{};aB=ax.getOption(az,"duration",ay.transition_duration);aA=ax.getOption(az,"classes",[E.region]);aC=ax.main.select("."+E.regions).selectAll(aA.map(function(aD){return"."+aD}));(aB?aC.transition().duration(aB):aC).style("opacity",0).remove();ay.regions=ay.regions.filter(function(aE){var aD=false;if(!aE["class"]){return true}aE["class"].split(" ").forEach(function(aF){if(aA.indexOf(aF)>=0){aD=true}});return !aD});return ay.regions};C.data=function(ay){var ax=this.internal.data.targets;return typeof ay==="undefined"?ax:ax.filter(function(az){return[].concat(ay).indexOf(az.id)>=0})};C.data.shown=function(ax){return this.internal.filterTargetsToShow(this.data(ax))};C.data.values=function(az){var ax,ay=null;if(az){ax=this.data(az);ay=ax[0]?ax[0].values.map(function(aA){return aA.value}):null}return ay};C.data.names=function(ax){this.internal.clearLegendItemTextBoxCache();return this.internal.updateDataAttributes("names",ax)};C.data.colors=function(ax){return this.internal.updateDataAttributes("colors",ax)};C.data.axes=function(ax){return this.internal.updateDataAttributes("axes",ax)};C.category=function(az,aA){var ax=this.internal,ay=ax.config;if(arguments.length>1){ay.axis_x_categories[az]=aA;ax.redraw()}return ay.axis_x_categories[az]};C.categories=function(ay){var ax=this.internal,az=ax.config;if(!arguments.length){return az.axis_x_categories}az.axis_x_categories=ay;ax.redraw();return az.axis_x_categories};C.color=function(ay){var ax=this.internal;return ax.color(ay)};C.x=function(ax){var ay=this.internal;if(arguments.length){ay.updateTargetX(ay.data.targets,ax);ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return ay.data.xs};C.xs=function(ay){var ax=this.internal;if(arguments.length){ax.updateTargetXs(ax.data.targets,ay);ax.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return ax.data.xs};C.axis=function(){};C.axis.labels=function(ay){var ax=this.internal;if(arguments.length){Object.keys(ay).forEach(function(az){ax.axis.setLabelText(az,ay[az])});ax.axis.updateLabels()}};C.axis.max=function(ax){var ay=this.internal,az=ay.config;if(arguments.length){if(typeof ax==="object"){if(j(ax.x)){az.axis_x_max=ax.x}if(j(ax.y)){az.axis_y_max=ax.y}if(j(ax.y2)){az.axis_y2_max=ax.y2}}else{az.axis_y_max=az.axis_y2_max=ax}ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}else{return{x:az.axis_x_max,y:az.axis_y_max,y2:az.axis_y2_max}}};C.axis.min=function(az){var ax=this.internal,ay=ax.config;if(arguments.length){if(typeof az==="object"){if(j(az.x)){ay.axis_x_min=az.x}if(j(az.y)){ay.axis_y_min=az.y}if(j(az.y2)){ay.axis_y2_min=az.y2}}else{ay.axis_y_min=ay.axis_y2_min=az}ax.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}else{return{x:ay.axis_x_min,y:ay.axis_y_min,y2:ay.axis_y2_min}}};C.axis.range=function(ax){if(arguments.length){if(J(ax.max)){this.axis.max(ax.max)}if(J(ax.min)){this.axis.min(ax.min)}}else{return{max:this.axis.max(),min:this.axis.min()}}};C.legend=function(){};C.legend.show=function(ax){var ay=this.internal;ay.showLegend(ay.mapToTargetIds(ax));ay.updateAndRedraw({withLegend:true})};C.legend.hide=function(ax){var ay=this.internal;ay.hideLegend(ay.mapToTargetIds(ax));ay.updateAndRedraw({withLegend:true})};C.resize=function(az){var ax=this.internal,ay=ax.config;ay.size_width=az?az.width:null;ay.size_height=az?az.height:null;this.flush()};C.flush=function(){var ax=this.internal;ax.updateAndRedraw({withLegend:true,withTransition:false,withTransitionForTransform:false})};C.destroy=function(){var ax=this.internal;ae.clearInterval(ax.intervalForObserveInserted);ae.onresize=null;ax.selectChart.classed("c3",false).html("");Object.keys(ax).forEach(function(ay){ax[ay]=null});return null};C.tooltip=function(){};C.tooltip.show=function(aA){var ax=this.internal,az,ay;if(aA.mouse){ay=aA.mouse}if(aA.data){if(ax.isMultipleX()){ay=[ax.x(aA.data.x),ax.getYScale(aA.data.id)(aA.data.value)];az=null}else{az=j(aA.data.index)?aA.data.index:ax.getIndexByX(aA.data.x)}}else{if(typeof aA.x!=="undefined"){az=ax.getIndexByX(aA.x)}else{if(typeof aA.index!=="undefined"){az=aA.index}}}ax.dispatchEvent("mouseover",az,ay);ax.dispatchEvent("mousemove",az,ay)};C.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var at;function d(aR,aO){var aS=aR.scale.linear(),aI="bottom",aG=6,aE,aM=3,ax=null,aL,aC;var aD=0,aN=true,aF;aO=aO||{};aE=aO.withOuterTick?6:0;function aA(aU,aT){aU.attr("transform",function(aV){return"translate("+Math.ceil(aT(aV)+aD)+", 0)"})}function az(aT,aU){aT.attr("transform",function(aV){return"translate(0,"+Math.ceil(aU(aV))+")"})}function ay(aU){var aV=aU[0],aT=aU[aU.length-1];return aV<aT?[aV,aT]:[aT,aV]}function aQ(aW){var aT,aV,aU=[];if(aW.ticks){return aW.ticks.apply(aW,aC)}aV=aW.domain();for(aT=Math.ceil(aV[0]);aT<aV[1];aT++){aU.push(aT)}if(aU.length>0&&aU[0]>0){aU.unshift(aU[0]-(aU[1]-aU[0]))}return aU}function aH(){var aU=aS.copy(),aT;if(aO.isCategory){aT=aS.domain();aU.domain([aT[0],aT[1]-1])}return aU}function aK(aT){var aU=aL?aL(aT):aT;return typeof aU!=="undefined"?aU:""}function aJ(aU){if(at){return at}var aT={h:11.5,w:5.5};aU.select("text").text(aK).each(function(aZ){var aX=this.getBoundingClientRect(),aY=aK(aZ),aW=aX.height,aV=aY?(aX.width/aY.length):undefined;if(aW&&aV){aT.h=aW;aT.w=aV}}).text("");at=aT;return aT}function aP(aT){return aO.withoutTransition?aT:aR.transition(aT)}function aB(aT){aT.each(function(){var bl=aB.g=aR.select(this);var bh=this.__chart__||aS,bf=this.__chart__=aH();var bp=ax?ax:aQ(bf),bi=bl.selectAll(".tick").data(bp,bf),a9=bi.enter().insert("g",".domain").attr("class","tick").style("opacity",0.000001),be=bi.exit().remove(),aZ=aP(bi).style("opacity",1),aU,a7,a5;var a8=aS.rangeExtent?aS.rangeExtent():ay(aS.range()),bc=bl.selectAll(".domain").data([0]),br=(bc.enter().append("path").attr("class","domain"),aP(bc));a9.append("line");a9.append("text");var aX=a9.select("line"),bn=aZ.select("line"),a0=a9.select("text"),bk=aZ.select("text");if(aO.isCategory){aD=Math.ceil((bf(1)-bf(0))/2);a7=aF?0:aD;a5=aF?aD:0}else{aD=a7=0}var a6,a1,bq=aJ(bl.select(".tick")),bm=[];var aV=Math.max(aG,0)+aM,a2=aI==="left"||aI==="right";function aW(by,bw){var bs=aK(by),bu,bv,bx,bz=[];if(Object.prototype.toString.call(bs)==="[object Array]"){return bs}if(!bw||bw<=0){bw=a2?95:aO.isCategory?(Math.ceil(bf(bp[1])-bf(bp[0]))-12):110}function bt(bC,bB){bv=undefined;for(var bA=1;bA<bB.length;bA++){if(bB.charAt(bA)===" "){bv=bA}bu=bB.substr(0,bA+1);bx=bq.w*bu.length;if(bw<bx){return bt(bC.concat(bB.substr(0,bv?bv:bA)),bB.slice(bv?bv+1:bA))}}return bC.concat(bB)}return bt(bz,bs+"")}function bb(bu,bt){var bs=bq.h;if(bt===0){if(aI==="left"||aI==="right"){bs=-((bm[bu.index]-1)*(bq.h/2)-3)}else{bs=".71em"}}return bs}function ba(bt){var bs=aS(bt)+(aF?0:aD);return a8[0]<bs&&bs<a8[1]?aG:0}a6=bi.select("text");a1=a6.selectAll("tspan").data(function(bt,bs){var bu=aO.tickMultiline?aW(bt,aO.tickWidth):[].concat(aK(bt));bm[bs]=bu.length;return bu.map(function(bv){return{index:bs,splitted:bv}})});a1.enter().append("tspan");a1.exit().remove();a1.text(function(bs){return bs.splitted});var bg=aO.tickTextRotate;function bj(bs){if(!bs){return"middle"}return bs>0?"start":"end"}function bo(bs){if(!bs){return""}return"rotate("+bs+")"}function aY(bs){if(!bs){return 0}return 8*Math.sin(Math.PI*(bs/180))}function bd(bs){if(!bs){return aV}return 11.5-2.5*(bs/15)*(bs>0?1:-1)}switch(aI){case"bottom":aU=aA;aX.attr("y2",aG);a0.attr("y",aV);bn.attr("x1",a7).attr("x2",a7).attr("y2",ba);bk.attr("x",0).attr("y",bd(bg)).style("text-anchor",bj(bg)).attr("transform",bo(bg));a1.attr("x",0).attr("dy",bb).attr("dx",aY(bg));br.attr("d","M"+a8[0]+","+aE+"V0H"+a8[1]+"V"+aE);break;case"top":aU=aA;aX.attr("y2",-aG);a0.attr("y",-aV);bn.attr("x2",0).attr("y2",-aG);bk.attr("x",0).attr("y",-aV);a6.style("text-anchor","middle");a1.attr("x",0).attr("dy","0em");br.attr("d","M"+a8[0]+","+-aE+"V0H"+a8[1]+"V"+-aE);break;case"left":aU=az;aX.attr("x2",-aG);a0.attr("x",-aV);bn.attr("x2",-aG).attr("y1",a5).attr("y2",a5);bk.attr("x",-aV).attr("y",aD);a6.style("text-anchor","end");a1.attr("x",-aV).attr("dy",bb);br.attr("d","M"+-aE+","+a8[0]+"H0V"+a8[1]+"H"+-aE);break;case"right":aU=az;aX.attr("x2",aG);a0.attr("x",aV);bn.attr("x2",aG).attr("y2",0);bk.attr("x",aV).attr("y",0);a6.style("text-anchor","start");a1.attr("x",aV).attr("dy",bb);br.attr("d","M"+aE+","+a8[0]+"H0V"+a8[1]+"H"+aE);break}if(bf.rangeBand){var a3=bf,a4=a3.rangeBand()/2;bh=bf=function(bs){return a3(bs)+a4}}else{if(bh.rangeBand){bh=bf}else{be.call(aU,bf)}}a9.call(aU,bh);aZ.call(aU,bf)})}aB.scale=function(aT){if(!arguments.length){return aS}aS=aT;return aB};aB.orient=function(aT){if(!arguments.length){return aI}aI=aT in {top:1,right:1,bottom:1,left:1}?aT+"":"bottom";return aB};aB.tickFormat=function(aT){if(!arguments.length){return aL}aL=aT;return aB};aB.tickCentered=function(aT){if(!arguments.length){return aF}aF=aT;return aB};aB.tickOffset=function(){return aD};aB.tickInterval=function(){var aT,aU;if(aO.isCategory){aT=aD*2}else{aU=aB.g.select("path.domain").node().getTotalLength()-aE*2;aT=aU/aB.g.selectAll("line").size()}return aT===Infinity?0:aT};aB.ticks=function(){if(!arguments.length){return aC}aC=arguments;return aB};aB.tickCulling=function(aT){if(!arguments.length){return aN}aN=aT;return aB};aB.tickValues=function(aT){if(typeof aT==="function"){ax=function(){return aT(aS.domain())}}else{if(!arguments.length){return ax}ax=aT}return aB};return aB}G.isSafari=function(){var ax=ae.navigator.userAgent;return ax.indexOf("Safari")>=0&&ax.indexOf("Chrome")<0};G.isChrome=function(){var ax=ae.navigator.userAgent;return ax.indexOf("Chrome")>=0};if(!Function.prototype.bind){Function.prototype.bind=function(ax){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var aB=Array.prototype.slice.call(arguments,1),aA=this,ay=function(){},az=function(){return aA.apply(this instanceof ay?this:ax,aB.concat(Array.prototype.slice.call(arguments)))};ay.prototype=this.prototype;az.prototype=new ay();return az}}if(typeof define==="function"&&define.amd){define("c3",["d3"],n)}else{if("undefined"!==typeof a&&"undefined"!==typeof c){c.exports=n}else{ae.c3=n}}})(window)},{d3:29}],29:[function(b,c,a){!function(){var hm={version:"3.5.0"};if(!Date.now){Date.now=function(){return +new Date()}}var bP=[].slice,dO=function(d3){return bP.call(d3)};var bO=document,d7=bO.documentElement,fz=window;try{dO(d7.childNodes)[0].nodeType}catch(hb){dO=function(h9){var d3=h9.length,ia=new Array(d3);while(d3--){ia[d3]=h9[d3]}return ia}}try{bO.createElement("div").style.setProperty("opacity",0,"")}catch(fx){var dM=fz.Element.prototype,b3=dM.setAttribute,g4=dM.setAttributeNS,dA=fz.CSSStyleDeclaration.prototype,gO=dA.setProperty;dM.setAttribute=function(d3,h9){b3.call(this,d3,h9+"")};dM.setAttributeNS=function(ia,d3,h9){g4.call(this,ia,d3,h9+"")};dA.setProperty=function(d3,ia,h9){gO.call(this,d3,ia+"",h9)}}hm.ascending=fj;function fj(h9,d3){return h9<d3?-1:h9>d3?1:h9>=d3?0:NaN}hm.descending=function(h9,d3){return d3<h9?-1:d3>h9?1:d3>=h9?0:NaN};hm.min=function(id,ib){var ia=-1,ic=id.length,h9,d3;if(arguments.length===1){while(++ia<ic){if((d3=id[ia])!=null&&d3>=d3){h9=d3;break}}while(++ia<ic){if((d3=id[ia])!=null&&h9>d3){h9=d3}}}else{while(++ia<ic){if((d3=ib.call(id,id[ia],ia))!=null&&d3>=d3){h9=d3;break}}while(++ia<ic){if((d3=ib.call(id,id[ia],ia))!=null&&h9>d3){h9=d3}}}return h9};hm.max=function(id,ib){var ia=-1,ic=id.length,h9,d3;if(arguments.length===1){while(++ia<ic){if((d3=id[ia])!=null&&d3>=d3){h9=d3;break}}while(++ia<ic){if((d3=id[ia])!=null&&d3>h9){h9=d3}}}else{while(++ia<ic){if((d3=ib.call(id,id[ia],ia))!=null&&d3>=d3){h9=d3;break}}while(++ia<ic){if((d3=ib.call(id,id[ia],ia))!=null&&d3>h9){h9=d3}}}return h9};hm.extent=function(ie,ib){var ia=-1,id=ie.length,h9,d3,ic;if(arguments.length===1){while(++ia<id){if((d3=ie[ia])!=null&&d3>=d3){h9=ic=d3;break}}while(++ia<id){if((d3=ie[ia])!=null){if(h9>d3){h9=d3}if(ic<d3){ic=d3}}}}else{while(++ia<id){if((d3=ib.call(ie,ie[ia],ia))!=null&&d3>=d3){h9=ic=d3;break}}while(++ia<id){if((d3=ib.call(ie,ie[ia],ia))!=null){if(h9>d3){h9=d3}if(ic<d3){ic=d3}}}}return[h9,ic]};function hr(d3){return d3===null?NaN:+d3}function bc(d3){return !isNaN(d3)}hm.sum=function(id,ib){var ia=0,ic=id.length,d3,h9=-1;if(arguments.length===1){while(++h9<ic){if(bc(d3=+id[h9])){ia+=d3}}}else{while(++h9<ic){if(bc(d3=+ib.call(id,id[h9],h9))){ia+=d3}}}return ia};hm.mean=function(ie,ic){var ib=0,id=ie.length,d3,ia=-1,h9=id;if(arguments.length===1){while(++ia<id){if(bc(d3=hr(ie[ia]))){ib+=d3}else{--h9}}}else{while(++ia<id){if(bc(d3=hr(ic.call(ie,ie[ia],ia)))){ib+=d3}else{--h9}}}if(h9){return ib/h9}};hm.quantile=function(h9,id){var ia=(h9.length-1)*id+1,ib=Math.floor(ia),d3=+h9[ib-1],ic=ia-ib;return ic?d3+ic*(h9[ib]-d3):d3};hm.median=function(id,ib){var h9=[],ic=id.length,d3,ia=-1;if(arguments.length===1){while(++ia<ic){if(bc(d3=hr(id[ia]))){h9.push(d3)}}}else{while(++ia<ic){if(bc(d3=hr(ib.call(id,id[ia],ia)))){h9.push(d3)}}}if(h9.length){return hm.quantile(h9.sort(fj),0.5)}};function go(d3){return{left:function(ia,h9,id,ic){if(arguments.length<3){id=0}if(arguments.length<4){ic=ia.length}while(id<ic){var ib=id+ic>>>1;if(d3(ia[ib],h9)<0){id=ib+1}else{ic=ib}}return id},right:function(ia,h9,id,ic){if(arguments.length<3){id=0}if(arguments.length<4){ic=ia.length}while(id<ic){var ib=id+ic>>>1;if(d3(ia[ib],h9)>0){ic=ib}else{id=ib+1}}return id}}}var c0=go(fj);hm.bisectLeft=c0.left;hm.bisect=hm.bisectRight=c0.right;hm.bisector=function(d3){return go(d3.length===1?function(ia,h9){return fj(d3(ia),h9)}:d3)};hm.shuffle=function(id,ic,ib){if((d3=arguments.length)<3){ib=id.length;if(d3<2){ic=0}}var d3=ib-ic,ia,h9;while(d3){h9=Math.random()*d3--|0;ia=id[d3+ic],id[d3+ic]=id[h9+ic],id[h9+ic]=ia}return id};hm.permute=function(ib,h9){var ia=h9.length,d3=new Array(ia);while(ia--){d3[ia]=ib[h9[ia]]}return d3};hm.pairs=function(id){var d3=0,ic=id.length-1,ib,ia=id[0],h9=new Array(ic<0?0:ic);while(d3<ic){h9[d3]=[ib=ia,ia=id[++d3]]}return h9};hm.zip=function(){if(!(id=arguments.length)){return[]}for(var ib=-1,d3=hm.min(arguments,fd),ia=new Array(d3);++ib<d3;){for(var h9=-1,id,ic=ia[ib]=new Array(id);++h9<id;){ic[h9]=arguments[h9][ib]}}return ia};function fd(d3){return d3.length}hm.transpose=function(d3){return hm.zip.apply(hm,d3)};hm.keys=function(ia){var h9=[];for(var d3 in ia){h9.push(d3)}return h9};hm.values=function(ia){var d3=[];for(var h9 in ia){d3.push(ia[h9])}return d3};hm.entries=function(ia){var d3=[];for(var h9 in ia){d3.push({key:h9,value:ia[h9]})}return d3};hm.merge=function(ic){var ie=ic.length,h9,ib=-1,ia=0,d3,id;while(++ib<ie){ia+=ic[ib].length}d3=new Array(ia);while(--ie>=0){id=ic[ie];h9=id.length;while(--h9>=0){d3[--ia]=id[h9]}}return d3};var cH=Math.abs;hm.range=function(ie,ic,id){if(arguments.length<3){id=1;if(arguments.length<2){ic=ie;ie=0}}if((ic-ie)/id===Infinity){throw new Error("infinite range")}var h9=[],d3=gk(cH(id)),ib=-1,ia;ie*=d3,ic*=d3,id*=d3;if(id<0){while((ia=ie+id*++ib)>ic){h9.push(ia/d3)}}else{while((ia=ie+id*++ib)<ic){h9.push(ia/d3)}}return h9};function gk(d3){var h9=1;while(d3*h9%1){h9*=10}return h9}function h1(ia,h9){for(var d3 in h9){Object.defineProperty(ia.prototype,d3,{value:h9[d3],enumerable:false})}}hm.map=function(d3,ib){var ic=new aJ();if(d3 instanceof aJ){d3.forEach(function(ig,ih){ic.set(ig,ih)})}else{if(Array.isArray(d3)){var ia=-1,ie=d3.length,id;if(arguments.length===1){while(++ia<ie){ic.set(ia,d3[ia])}}else{while(++ia<ie){ic.set(ib.call(d3,id=d3[ia],ia),id)}}}else{for(var h9 in d3){ic.set(h9,d3[h9])}}}return ic};function aJ(){this._=Object.create(null)}var dc="__proto__",cG="\x00";h1(aJ,{has:gI,get:function(d3){return this._[a1(d3)]},set:function(d3,h9){return this._[a1(d3)]=h9},remove:cX,keys:fw,values:function(){var d3=[];for(var h9 in this._){d3.push(this._[h9])}return d3},entries:function(){var d3=[];for(var h9 in this._){d3.push({key:a2(h9),value:this._[h9]})}return d3},size:hE,empty:aB,forEach:function(h9){for(var d3 in this._){h9.call(this,a2(d3),this._[d3])}}});function a1(d3){return(d3+="")===dc||d3[0]===cG?cG+d3:d3}function a2(d3){return(d3+="")[0]===cG?d3.slice(1):d3}function gI(d3){return a1(d3) in this._}function cX(d3){return(d3=a1(d3)) in this._&&delete this._[d3]}function fw(){var h9=[];for(var d3 in this._){h9.push(a2(d3))}return h9}function hE(){var h9=0;for(var d3 in this._){++h9}return h9}function aB(){for(var d3 in this._){return false}return true}hm.nest=function(){var ib={},ia=[],ie=[],h9,ic;function id(ih,ip,im){if(im>=ia.length){return ic?ic.call(ib,ip):h9?ip.sort(h9):ip}var io=-1,ig=ip.length,ir=ia[im++],il,ik,ij,ii=new aJ(),iq;while(++io<ig){if(iq=ii.get(il=ir(ik=ip[io]))){iq.push(ik)}else{ii.set(il,[ik])}}if(ih){ik=ih();ij=function(iu,it){ik.set(iu,id(ih,it,im))}}else{ik={};ij=function(iu,it){ik[iu]=id(ih,it,im)}}ii.forEach(ij);return ik}function d3(ih,ii){if(ii>=ia.length){return ih}var ij=[],ig=ie[ii++];ih.forEach(function(ik,il){ij.push({key:ik,values:d3(il,ii)})});return ig?ij.sort(function(il,ik){return ig(il.key,ik.key)}):ij}ib.map=function(ih,ig){return id(ig,ih,0)};ib.entries=function(ig){return d3(id(hm.map,ig,0),0)};ib.key=function(ig){ia.push(ig);return ib};ib.sortKeys=function(ig){ie[ia.length-1]=ig;return ib};ib.sortValues=function(ig){h9=ig;return ib};ib.rollup=function(ig){ic=ig;return ib};return ib};hm.set=function(ib){var ia=new ds();if(ib){for(var d3=0,h9=ib.length;d3<h9;++d3){ia.add(ib[d3])}}return ia};function ds(){this._=Object.create(null)}h1(ds,{has:gI,add:function(d3){this._[a1(d3+="")]=true;return d3},remove:cX,values:fw,size:hE,empty:aB,forEach:function(h9){for(var d3 in this._){h9.call(this,a2(d3))}}});hm.behavior={};hm.rebind=function(ia,h9){var d3=1,ic=arguments.length,ib;while(++d3<ic){ia[ib=arguments[d3]]=eA(ia,h9,h9[ib])}return ia};function eA(h9,d3,ia){return function(){var ib=ia.apply(d3,arguments);return ib===d3?h9:ib}}function dh(ia,h9){if(h9 in ia){return h9}h9=h9.charAt(0).toUpperCase()+h9.slice(1);for(var ib=0,ic=L.length;ib<ic;++ib){var d3=L[ib]+h9;if(d3 in ia){return d3}}}var L=["webkit","ms","moz","Moz","o","O"];function aI(){}hm.dispatch=function(){var d3=new eV(),h9=-1,ia=arguments.length;while(++h9<ia){d3[arguments[h9]]=fh(d3)}return d3};function eV(){}eV.prototype.on=function(ia,ib){var h9=ia.indexOf("."),d3="";if(h9>=0){d3=ia.slice(h9+1);ia=ia.slice(0,h9)}if(ia){return arguments.length<2?this[ia].on(d3):this[ia].on(d3,ib)}if(arguments.length===2){if(ib==null){for(ia in this){if(this.hasOwnProperty(ia)){this[ia].on(d3,null)}}}return this}};function fh(d3){var ia=[],h9=new aJ();function ib(){var ie=ia,id=-1,ig=ie.length,ic;while(++id<ig){if(ic=ie[id].on){ic.apply(this,arguments)}}return d3}ib.on=function(id,ig){var ic=h9.get(id),ie;if(arguments.length<2){return ic&&ic.on}if(ic){ic.on=null;ia=ia.slice(0,ie=ia.indexOf(ic)).concat(ia.slice(ie+1));h9.remove(id)}if(ig){ia.push(h9.set(id,{on:ig}))}return d3};return ib}hm.event=null;function x(){hm.event.preventDefault()}function af(){var h9=hm.event,d3;while(d3=h9.sourceEvent){h9=d3}return h9}function hg(ia){var d3=new eV(),h9=0,ib=arguments.length;while(++h9<ib){d3[arguments[h9]]=fh(d3)}d3.of=function(id,ic){return function(ie){try{var ig=ie.sourceEvent=hm.event;ie.target=ia;hm.event=ie;d3[ie.type].apply(id,ic)}finally{hm.event=ig}}};return d3}hm.requote=function(d3){return d3.replace(c9,"\\$&")};var c9=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var h3={}.__proto__?function(h9,d3){h9.__proto__=d3}:function(h9,d3){for(var ia in d3){h9[ia]=d3[ia]}};function dZ(d3){h3(d3,dY);return d3}var dr=function(d3,h9){return h9.querySelector(d3)},f7=function(d3,h9){return h9.querySelectorAll(d3)},g=d7.matches||d7[dh(d7,"matchesSelector")],d=function(h9,d3){return g.call(h9,d3)};if(typeof Sizzle==="function"){dr=function(d3,h9){return Sizzle(d3,h9)[0]||null};f7=Sizzle;d=Sizzle.matchesSelector}hm.selection=function(){return gT};var dY=hm.selection.prototype=[];dY.select=function(id){var ia=[],ii,d3,ih,ib;id=A(id);for(var ie=-1,ic=this.length;++ie<ic;){ia.push(ii=[]);ii.parentNode=(ih=this[ie]).parentNode;for(var ig=-1,h9=ih.length;++ig<h9;){if(ib=ih[ig]){ii.push(d3=id.call(ib,ib.__data__,ig,ie));if(d3&&"__data__" in ib){d3.__data__=ib.__data__}}else{ii.push(null)}}}return dZ(ia)};function A(d3){return typeof d3==="function"?d3:function(){return dr(d3,this)}}dY.selectAll=function(ic){var h9=[],ih,ia;ic=c2(ic);for(var id=-1,ib=this.length;++id<ib;){for(var ig=this[id],ie=-1,d3=ig.length;++ie<d3;){if(ia=ig[ie]){h9.push(ih=dO(ic.call(ia,ia.__data__,ie,id)));ih.parentNode=ia}}}return dZ(h9)};function c2(d3){return typeof d3==="function"?d3:function(){return f7(d3,this)}}var ed={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};hm.ns={prefix:ed,qualify:function(d3){var h9=d3.indexOf(":"),ia=d3;if(h9>=0){ia=d3.slice(0,h9);d3=d3.slice(h9+1)}return ed.hasOwnProperty(ia)?{space:ed[ia],local:d3}:d3}};dY.attr=function(d3,ia){if(arguments.length<2){if(typeof d3==="string"){var h9=this.node();d3=hm.ns.qualify(d3);return d3.local?h9.getAttributeNS(d3.space,d3.local):h9.getAttribute(d3)}for(ia in d3){this.each(bw(ia,d3[ia]))}return this}return this.each(bw(d3,ia))};function bw(ia,ie){ia=hm.ns.qualify(ia);function h9(){this.removeAttribute(ia)}function ig(){this.removeAttributeNS(ia.space,ia.local)}function id(){this.setAttribute(ia,ie)}function ic(){this.setAttributeNS(ia.space,ia.local,ie)}function d3(){var ih=ie.apply(this,arguments);if(ih==null){this.removeAttribute(ia)}else{this.setAttribute(ia,ih)}}function ib(){var ih=ie.apply(this,arguments);if(ih==null){this.removeAttributeNS(ia.space,ia.local)}else{this.setAttributeNS(ia.space,ia.local,ih)}}return ie==null?ia.local?ig:h9:typeof ie==="function"?ia.local?ib:d3:ia.local?ic:id}function cI(d3){return d3.trim().replace(/\s+/g," ")}dY.classed=function(d3,ib){if(arguments.length<2){if(typeof d3==="string"){var ia=this.node(),ic=(d3=gv(d3)).length,h9=-1;if(ib=ia.classList){while(++h9<ic){if(!ib.contains(d3[h9])){return false}}}else{ib=ia.getAttribute("class");while(++h9<ic){if(!gQ(d3[h9]).test(ib)){return false}}}return true}for(ib in d3){this.each(gE(ib,d3[ib]))}return this}return this.each(gE(d3,ib))};function gQ(d3){return new RegExp("(?:^|\\s+)"+hm.requote(d3)+"(?:\\s+|$)","g")}function gv(d3){return(d3+"").trim().split(/^|\s+/)}function gE(h9,ib){h9=gv(h9).map(hZ);var ic=h9.length;function d3(){var id=-1;while(++id<ic){h9[id](this,ib)}}function ia(){var ie=-1,id=ib.apply(this,arguments);while(++ie<ic){h9[ie](this,id)}}return typeof ib==="function"?ia:d3}function hZ(d3){var h9=gQ(d3);return function(ia,ib){if(ic=ia.classList){return ib?ic.add(d3):ic.remove(d3)}var ic=ia.getAttribute("class")||"";if(ib){h9.lastIndex=0;if(!h9.test(ic)){ia.setAttribute("class",cI(ic+" "+d3))}}else{ia.setAttribute("class",cI(ic.replace(h9," ")))}}}dY.style=function(d3,ia,h9){var ib=arguments.length;if(ib<3){if(typeof d3!=="string"){if(ib<2){ia=""}for(h9 in d3){this.each(fM(h9,d3[h9],ia))}return this}if(ib<2){return fz.getComputedStyle(this.node(),null).getPropertyValue(d3)}h9=""}return this.each(fM(d3,ia,h9))};function fM(ia,id,ib){function h9(){this.style.removeProperty(ia)}function ic(){this.style.setProperty(ia,id,ib)}function d3(){var ie=id.apply(this,arguments);if(ie==null){this.style.removeProperty(ia)}else{this.style.setProperty(ia,ie,ib)}}return id==null?h9:typeof id==="function"?d3:ic}dY.property=function(d3,h9){if(arguments.length<2){if(typeof d3==="string"){return this.node()[d3]}for(h9 in d3){this.each(hG(h9,d3[h9]))}return this}return this.each(hG(d3,h9))};function hG(h9,ib){function d3(){delete this[h9]}function ia(){this[h9]=ib}function ic(){var id=ib.apply(this,arguments);if(id==null){delete this[h9]}else{this[h9]=id}}return ib==null?d3:typeof ib==="function"?ic:ia}dY.text=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var h9=d3.apply(this,arguments);this.textContent=h9==null?"":h9}:d3==null?function(){this.textContent=""}:function(){this.textContent=d3}):this.node().textContent};dY.html=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var h9=d3.apply(this,arguments);this.innerHTML=h9==null?"":h9}:d3==null?function(){this.innerHTML=""}:function(){this.innerHTML=d3}):this.node().innerHTML};dY.append=function(d3){d3=aE(d3);return this.select(function(){return this.appendChild(d3.apply(this,arguments))})};function aE(d3){return typeof d3==="function"?d3:(d3=hm.ns.qualify(d3)).local?function(){return this.ownerDocument.createElementNS(d3.space,d3.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,d3)}}dY.insert=function(d3,h9){d3=aE(d3);h9=A(h9);return this.select(function(){return this.insertBefore(d3.apply(this,arguments),h9.apply(this,arguments)||null)})};dY.remove=function(){return this.each(ej)};function ej(){var d3=this.parentNode;if(d3){d3.removeChild(this)}}dY.data=function(ig,ii){var ic=-1,h9=this.length,ih,ia;if(!arguments.length){ig=new Array(h9=(ih=this[0]).length);while(++ic<h9){if(ia=ih[ic]){ig[ic]=ia.__data__}}return ig}function id(iu,io){var iq,ik=iu.length,im=io.length,it=Math.min(ik,im),ix=new Array(im),iv=new Array(im),ir=new Array(ik),il,ij;if(ii){var iy=new aJ(),iw=new Array(ik),ip;for(iq=-1;++iq<ik;){if(iy.has(ip=ii.call(il=iu[iq],il.__data__,iq))){ir[iq]=il}else{iy.set(ip,il)}iw[iq]=ip}for(iq=-1;++iq<im;){if(!(il=iy.get(ip=ii.call(io,ij=io[iq],iq)))){iv[iq]=M(ij)}else{if(il!==true){ix[iq]=il;il.__data__=ij}}iy.set(ip,true)}for(iq=-1;++iq<ik;){if(iy.get(iw[iq])!==true){ir[iq]=iu[iq]}}}else{for(iq=-1;++iq<it;){il=iu[iq];ij=io[iq];if(il){il.__data__=ij;ix[iq]=il}else{iv[iq]=M(ij)}}for(;iq<im;++iq){iv[iq]=M(io[iq])}for(;iq<ik;++iq){ir[iq]=iu[iq]}}iv.update=ix;iv.parentNode=ix.parentNode=ir.parentNode=iu.parentNode;ie.push(iv);ib.push(ix);d3.push(ir)}var ie=bW([]),ib=dZ([]),d3=dZ([]);if(typeof ig==="function"){while(++ic<h9){id(ih=this[ic],ig.call(ih,ih.parentNode.__data__,ic))}}else{while(++ic<h9){id(ih=this[ic],ig)}}ib.enter=function(){return ie};ib.exit=function(){return d3};return ib};function M(d3){return{__data__:d3}}dY.datum=function(d3){return arguments.length?this.property("__data__",d3):this.property("__data__")};dY.filter=function(d3){var ia=[],ih,ig,ib;if(typeof d3!=="function"){d3=a9(d3)}for(var id=0,ic=this.length;id<ic;id++){ia.push(ih=[]);ih.parentNode=(ig=this[id]).parentNode;for(var ie=0,h9=ig.length;ie<h9;ie++){if((ib=ig[ie])&&d3.call(ib,ib.__data__,ie,id)){ih.push(ib)}}}return dZ(ia)};function a9(d3){return function(){return d(this,d3)}}dY.order=function(){for(var h9=-1,d3=this.length;++h9<d3;){for(var id=this[h9],ia=id.length-1,ib=id[ia],ic;--ia>=0;){if(ic=id[ia]){if(ib&&ib!==ic.nextSibling){ib.parentNode.insertBefore(ic,ib)}ib=ic}}}return this};dY.sort=function(h9){h9=gN.apply(this,arguments);for(var ia=-1,d3=this.length;++ia<d3;){this[ia].sort(h9)}return this.order()};function gN(d3){if(!arguments.length){d3=fj}return function(ia,h9){return ia&&h9?d3(ia.__data__,h9.__data__):!ia-!h9}}dY.each=function(d3){return cJ(this,function(ib,ia,h9){d3.call(ib,ib.__data__,ia,h9)})};function cJ(h9,ig){for(var ia=0,d3=h9.length;ia<d3;ia++){for(var id=h9[ia],ib=0,ie=id.length,ic;ib<ie;ib++){if(ic=id[ib]){ig(ic,ib,ia)}}}return h9}dY.call=function(h9){var d3=dO(arguments);h9.apply(d3[0]=this,d3);return this};dY.empty=function(){return !this.node()};dY.node=function(){for(var h9=0,d3=this.length;h9<d3;h9++){for(var ic=this[h9],ia=0,id=ic.length;ia<id;ia++){var ib=ic[ia];if(ib){return ib}}}return null};dY.size=function(){var d3=0;cJ(this,function(){++d3});return d3};function bW(d3){h3(d3,e4);return d3}var e4=[];hm.selection.enter=bW;hm.selection.enter.prototype=e4;e4.append=dY.append;e4.empty=dY.empty;e4.node=dY.node;e4.call=dY.call;e4.size=dY.size;e4.select=function(id){var ia=[],ij,d3,ih,ii,ic;for(var ie=-1,ib=this.length;++ie<ib;){ih=(ii=this[ie]).update;ia.push(ij=[]);ij.parentNode=ii.parentNode;for(var ig=-1,h9=ii.length;++ig<h9;){if(ic=ii[ig]){ij.push(ih[ig]=d3=id.call(ii.parentNode,ic.__data__,ig,ie));d3.__data__=ic.__data__}else{ij.push(null)}}}return dZ(ia)};e4.insert=function(d3,h9){if(arguments.length<2){h9=gu(this)}return dY.insert.call(this,d3,h9)};function gu(ia){var d3,h9;return function(ig,ic,ib){var ie=ia[ib].update,ih=ie.length,id;if(ib!=h9){h9=ib,d3=0}if(ic>=d3){d3=ic+1}while(!(id=ie[d3])&&++d3<ih){}return id}}dY.transition=function(d3){var h9=at||++g9,ij=gz(d3),ib=[],il,ie,ii=d4||{time:Date.now(),ease:ax,delay:0,duration:250};for(var ig=-1,ic=this.length;++ig<ic;){ib.push(il=[]);for(var ik=this[ig],ih=-1,ia=ik.length;++ih<ia;){if(ie=ik[ih]){fC(ie,ih,ij,h9,ii)}il.push(ie)}}return gR(ib,ij,h9)};dY.interrupt=function(d3){var h9=gz(d3);return this.each(function(){var ia=this[h9];if(ia){++ia.active}})};function cV(h9){var d3=h9.__transition__;if(d3){++d3.active}}hm.select=function(d3){var h9=[typeof d3==="string"?dr(d3,bO):d3];h9.parentNode=d7;return dZ([h9])};hm.selectAll=function(d3){var h9=dO(typeof d3==="string"?f7(d3,bO):d3);h9.parentNode=d7;return dZ([h9])};var gT=hm.select(d7);dY.on=function(h9,ia,d3){var ib=arguments.length;if(ib<3){if(typeof h9!=="string"){if(ib<2){ia=false}for(d3 in h9){this.each(n(d3,h9[d3],ia))}return this}if(ib<2){return(ib=this.node()["__on"+h9])&&ib._}d3=false}return this.each(n(h9,ia,d3))};function n(ih,ib,ii){var d3="__on"+ih,id=ih.indexOf("."),h9=fr;if(id>0){ih=ih.slice(0,id)}var ia=bK.get(ih);if(ia){ih=ia,h9=aq}function ic(){var ij=this[d3];if(ij){this.removeEventListener(ih,ij,ij.$);delete this[d3]}}function ig(){var ij=h9(ib,dO(arguments));ic.call(this);this.addEventListener(ih,this[d3]=ij,ij.$=ii);ij._=ib}function ie(){var im=new RegExp("^__on([^.]+)"+hm.requote(ih)+"$"),il;for(var ik in this){if(il=ik.match(im)){var ij=this[ik];this.removeEventListener(il[1],ij,ij.$);delete this[ik]}}}return id?ib?ig:ic:ib?aI:ie}var bK=hm.map({mouseenter:"mouseover",mouseleave:"mouseout"});bK.forEach(function(d3){if("on"+d3 in bO){bK.remove(d3)}});function fr(h9,d3){return function(ia){var ib=hm.event;hm.event=ia;d3[0]=this.__data__;try{h9.apply(this,d3)}finally{hm.event=ib}}}function aq(ia,d3){var h9=fr(ia,d3);return function(id){var ic=this,ib=id.relatedTarget;if(!ib||ib!==ic&&!(ib.compareDocumentPosition(ic)&8)){h9.call(ic,id)}}}var cd="onselectstart" in bO?null:dh(d7.style,"userSelect"),gK=0;function bL(){var ia=".dragsuppress-"+ ++gK,ic="click"+ia,h9=hm.select(fz).on("touchmove"+ia,x).on("dragstart"+ia,x).on("selectstart"+ia,x);if(cd){var ib=d7.style,d3=ib[cd];ib[cd]="none"}return function(id){h9.on(ia,null);if(cd){ib[cd]=d3}if(id){var ie=function(){h9.on(ic,null)};h9.on(ic,function(){x();ie()},true);setTimeout(ie,0)}}}hm.mouse=function(d3){return aY(d3,af())};var cE=/WebKit/.test(fz.navigator.userAgent)?-1:0;function aY(ia,id){if(id.changedTouches){id=id.changedTouches[0]}var ib=ia.ownerSVGElement||ia;if(ib.createSVGPoint){var d3=ib.createSVGPoint();if(cE<0&&(fz.scrollX||fz.scrollY)){ib=hm.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var h9=ib[0][0].getScreenCTM();cE=!(h9.f||h9.e);ib.remove()}if(cE){d3.x=id.pageX,d3.y=id.pageY}else{d3.x=id.clientX,d3.y=id.clientY}d3=d3.matrixTransform(ia.getScreenCTM().inverse());return[d3.x,d3.y]}var ic=ia.getBoundingClientRect();return[id.clientX-ic.left-ia.clientLeft,id.clientY-ic.top-ia.clientTop]}hm.touch=function(d3,ib,h9){if(arguments.length<3){h9=ib,ib=af().changedTouches}if(ib){for(var ia=0,id=ib.length,ic;ia<id;++ia){if((ic=ib[ia]).identifier===h9){return aY(d3,ic)}}}};hm.behavior.drag=function(){var ic=hg(ib,"drag","dragstart","dragend"),d3=null,h9=ia(aI,hm.mouse,bU,"mousemove","mouseup"),id=ia(hk,hm.touch,et,"touchmove","touchend");function ib(){this.on("mousedown.drag",h9).on("touchstart.drag",id)}function ia(ij,ie,ii,ih,ig){return function(){var ir=this,it=hm.event.target,iy=ir.parentNode,iu=ic.of(ir,arguments),iw=0,il=ij(),ik=".drag"+(il==null?"":"-"+il),ip,im=hm.select(ii()).on(ih+ik,iv).on(ig+ik,ix),iq=bL(),io=ie(iy,il);if(d3){ip=d3.apply(ir,arguments);ip=[ip.x-io[0],ip.y-io[1]]}else{ip=[0,0]}iu({type:"dragstart"});function iv(){var iA=ie(iy,il),iB,iz;if(!iA){return}iB=iA[0]-io[0];iz=iA[1]-io[1];iw|=iB|iz;io=iA;iu({type:"drag",x:iA[0]+ip[0],y:iA[1]+ip[1],dx:iB,dy:iz})}function ix(){if(!ie(iy,il)){return}im.on(ih+ik,null).on(ig+ik,null);iq(iw&&hm.event.target===it);iu({type:"dragend"})}}}ib.origin=function(ie){if(!arguments.length){return d3}d3=ie;return ib};return hm.rebind(ib,ic,"on")};function hk(){return hm.event.changedTouches[0].identifier}function et(){return hm.event.target}function bU(){return fz}hm.touches=function(d3,h9){if(arguments.length<2){h9=af().touches}return h9?dO(h9).map(function(ib){var ia=aY(d3,ib);ia.identifier=ib.identifier;return ia}):[]};var gn=0.000001,eE=gn*gn,ge=Math.PI,f8=2*ge,gF=f8-gn,ep=ge/2,K=ge/180,hD=180/ge;function ca(d3){return d3>0?1:d3<0?-1:0}function e0(h9,d3,ia){return(d3[0]-h9[0])*(ia[1]-h9[1])-(d3[1]-h9[1])*(ia[0]-h9[0])}function ae(d3){return d3>1?0:d3<-1?ge:Math.acos(d3)}function cg(d3){return d3>1?ep:d3<-1?-ep:Math.asin(d3)}function dW(d3){return((d3=Math.exp(d3))-1/d3)/2}function bF(d3){return((d3=Math.exp(d3))+1/d3)/2}function ft(d3){return((d3=Math.exp(2*d3))-1)/(d3+1)}function aF(d3){return(d3=Math.sin(d3/2))*d3}var gb=Math.SQRT2,ab=2,Z=4;hm.interpolateZoom=function(h9,d3){var ik=h9[0],iq=h9[1],ii=h9[2],ij=d3[0],ip=d3[1],ig=d3[2];var ih=ij-ik,ie=ip-iq,ir=ih*ih+ie*ie,it=Math.sqrt(ir),ic=(ig*ig-ii*ii+Z*ir)/(2*ii*ab*it),ib=(ig*ig-ii*ii-Z*ir)/(2*ig*ab*it),io=Math.log(Math.sqrt(ic*ic+1)-ic),im=Math.log(Math.sqrt(ib*ib+1)-ib),il=im-io,ia=(il||Math.log(ig/ii))/gb;function id(iv){var iw=iv*ia;if(il){var ix=bF(io),iu=ii/(ab*it)*(ix*ft(gb*iw+io)-dW(io));return[ik+iu*ih,iq+iu*ie,ii*ix/bF(gb*iw+io)]}return[ik+iv*ih,iq+iv*ie,ii*Math.exp(gb*iw)]}id.duration=ia*1000;return id};hm.behavior.zoom=function(){var im={x:0,y:0,k:1},iE,ij,iG,it=[960,500],ib=fV,d3=250,iD=0,ix="mousedown.zoom",iF="mousemove.zoom",iy="mouseup.zoom",iu,iB="touchstart.zoom",ii,iz=hg(ia,"zoomstart","zoom","zoomend"),iC,iA,ig,id;function ia(iI){iI.on(ix,ic).on(g3+".zoom",io).on("dblclick.zoom",ik).on(iB,ie)}ia.event=function(iI){iI.each(function(){var iK=iz.of(this,arguments),iJ=im;if(at){hm.select(this).transition().each("start.zoom",function(){im=this.__chart__||{x:0,y:0,k:1};iv(iK)}).tween("zoom:zoom",function(){var iN=it[0],iM=it[1],iL=ij?ij[0]:iN/2,iP=ij?ij[1]:iM/2,iO=hm.interpolateZoom([(iL-im.x)/im.k,(iP-im.y)/im.k,iN/im.k],[(iL-iJ.x)/iJ.k,(iP-iJ.y)/iJ.k,iN/iJ.k]);return function(iS){var iQ=iO(iS),iR=iN/iQ[2];this.__chart__=im={x:iL-iQ[0]*iR,y:iP-iQ[1]*iR,k:iR};ir(iK)}}).each("interrupt.zoom",function(){iq(iK)}).each("end.zoom",function(){iq(iK)})}else{this.__chart__=im;iv(iK);ir(iK);iq(iK)}})};ia.translate=function(iI){if(!arguments.length){return[im.x,im.y]}im={x:+iI[0],y:+iI[1],k:im.k};il();return ia};ia.scale=function(iI){if(!arguments.length){return im.k}im={x:im.x,y:im.y,k:+iI};il();return ia};ia.scaleExtent=function(iI){if(!arguments.length){return ib}ib=iI==null?fV:[+iI[0],+iI[1]];return ia};ia.center=function(iI){if(!arguments.length){return iG}iG=iI&&[+iI[0],+iI[1]];return ia};ia.size=function(iI){if(!arguments.length){return it}it=iI&&[+iI[0],+iI[1]];return ia};ia.duration=function(iI){if(!arguments.length){return d3}d3=+iI;return ia};ia.x=function(iI){if(!arguments.length){return iA}iA=iI;iC=iI.copy();im={x:0,y:0,k:1};return ia};ia.y=function(iI){if(!arguments.length){return id}id=iI;ig=iI.copy();im={x:0,y:0,k:1};return ia};function h9(iI){return[(iI[0]-im.x)/im.k,(iI[1]-im.y)/im.k]}function iw(iI){return[iI[0]*im.k+im.x,iI[1]*im.k+im.y]}function ih(iI){im.k=Math.max(ib[0],Math.min(ib[1],iI))}function iH(iJ,iI){iI=iw(iI);im.x+=iJ[0]-iI[0];im.y+=iJ[1]-iI[1]}function ip(iK,iL,iI,iJ){iK.__chart__={x:im.x,y:im.y,k:im.k};ih(Math.pow(2,iJ));iH(ij=iL,iI);iK=hm.select(iK);if(d3>0){iK=iK.transition().duration(d3)}iK.call(ia.event)}function il(){if(iA){iA.domain(iC.range().map(function(iI){return(iI-im.x)/im.k}).map(iC.invert))}if(id){id.domain(ig.range().map(function(iI){return(iI-im.y)/im.k}).map(ig.invert))}}function iv(iI){if(!iD++){iI({type:"zoomstart"})}}function ir(iI){il();iI({type:"zoom",scale:im.k,translate:[im.x,im.y]})}function iq(iI){if(!--iD){iI({type:"zoomend"})}ij=null}function ic(){var iJ=this,iL=hm.event.target,iM=iz.of(iJ,arguments),iP=0,iN=hm.select(fz).on(iF,iO).on(iy,iQ),iK=h9(hm.mouse(iJ)),iI=bL();cV(iJ);iv(iM);function iO(){iP=1;iH(hm.mouse(iJ),iK);ir(iM)}function iQ(){iN.on(iF,null).on(iy,null);iI(iP&&hm.event.target===iL);iq(iM)}}function ie(){var iO=this,iQ=iz.of(iO,arguments),iM={},iS=0,iP,iJ=".zoom-"+hm.event.changedTouches[0].identifier,iK="touchmove"+iJ,iW="touchend"+iJ,iN=[],iT=hm.select(iO),iL=bL();iR();iv(iQ);iT.on(ix,null).on(iB,iR);function iI(){var iX=hm.touches(iO);iP=im.k;iX.forEach(function(iY){if(iY.identifier in iM){iM[iY.identifier]=h9(iY)}});return iX}function iR(){var i4=hm.event.target;hm.select(i4).on(iK,iU).on(iW,iV);iN.push(i4);var i1=hm.event.changedTouches;for(var i2=0,i0=i1.length;i2<i0;++i2){iM[i1[i2].identifier]=null}var i3=iI(),iZ=Date.now();if(i3.length===1){if(iZ-ii<500){var iY=i3[0];ip(iO,iY,iM[iY.identifier],Math.floor(Math.log(im.k)/Math.LN2)+1);x()}ii=iZ}else{if(i3.length>1){var iY=i3[0],iX=i3[1],i6=iY[0]-iX[0],i5=iY[1]-iX[1];iS=i6*i6+i5*i5}}}function iU(){var i1=hm.touches(iO),i5,iZ,i4,iY;cV(iO);for(var i0=0,iX=i1.length;i0<iX;++i0,iY=null){i4=i1[i0];if(iY=iM[i4.identifier]){if(iZ){break}i5=i4,iZ=iY}}if(iY){var i3=(i3=i4[0]-i5[0])*i3+(i3=i4[1]-i5[1])*i3,i2=iS&&Math.sqrt(i3/iS);i5=[(i5[0]+i4[0])/2,(i5[1]+i4[1])/2];iZ=[(iZ[0]+iY[0])/2,(iZ[1]+iY[1])/2];ih(i2*iP)}ii=null;iH(i5,iZ);ir(iQ)}function iV(){if(hm.event.touches.length){var iZ=hm.event.changedTouches;for(var iY=0,i0=iZ.length;iY<i0;++iY){delete iM[iZ[iY].identifier]}for(var iX in iM){return void iI()}}hm.selectAll(iN).on(iJ,null);iT.on(ix,ic).on(iB,ie);iL();iq(iQ)}}function io(){var iI=iz.of(this,arguments);if(iu){clearTimeout(iu)}else{iE=h9(ij=iG||hm.mouse(this)),cV(this),iv(iI)}iu=setTimeout(function(){iu=null;iq(iI)},50);x();ih(Math.pow(2,cy()*0.002)*im.k);iH(ij,iE);ir(iI)}function ik(){var iJ=hm.mouse(this),iI=Math.log(im.k)/Math.LN2;ip(this,iJ,h9(iJ),hm.event.shiftKey?Math.ceil(iI)-1:Math.floor(iI)+1)}return hm.rebind(ia,iz,"on")};var fV=[0,Infinity];var cy,g3="onwheel" in bO?(cy=function(){return -hm.event.deltaY*(hm.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bO?(cy=function(){return hm.event.wheelDelta},"mousewheel"):(cy=function(){return -hm.event.detail},"MozMousePixelScroll");hm.color=gW;function gW(){}gW.prototype.toString=function(){return this.rgb()+""};hm.hsl=eI;function eI(ia,h9,d3){return this instanceof eI?void (this.h=+ia,this.s=+h9,this.l=+d3):arguments.length<2?ia instanceof eI?new eI(ia.h,ia.s,ia.l):aX(""+ia,gx,eI):new eI(ia,h9,d3)}var ey=eI.prototype=new gW();ey.brighter=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eI(this.h,this.s,this.l/d3)};ey.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eI(this.h,this.s,d3*this.l)};ey.rgb=function(){return bh(this.h,this.s,this.l)};function bh(id,ic,d3){var ib,ia;id=isNaN(id)?0:(id%=360)<0?id+360:id;ic=isNaN(ic)?0:ic<0?0:ic>1?1:ic;d3=d3<0?0:d3>1?1:d3;ia=d3<=0.5?d3*(1+ic):d3+ic-d3*ic;ib=2*d3-ia;function h9(ig){if(ig>360){ig-=360}else{if(ig<0){ig+=360}}if(ig<60){return ib+(ia-ib)*ig/60}if(ig<180){return ia}if(ig<240){return ib+(ia-ib)*(240-ig)/60}return ib}function ie(ig){return Math.round(h9(ig)*255)}return new er(ie(id+120),ie(id),ie(id-120))}hm.hcl=bD;function bD(h9,ia,d3){return this instanceof bD?void (this.h=+h9,this.c=+ia,this.l=+d3):arguments.length<2?h9 instanceof bD?new bD(h9.h,h9.c,h9.l):h9 instanceof co?gH(h9.l,h9.a,h9.b):gH((h9=d0((h9=hm.rgb(h9)).r,h9.g,h9.b)).l,h9.a,h9.b):new bD(h9,ia,d3)}var he=bD.prototype=new gW();he.brighter=function(d3){return new bD(this.h,this.c,Math.min(100,this.l+bt*(arguments.length?d3:1)))};he.darker=function(d3){return new bD(this.h,this.c,Math.max(0,this.l-bt*(arguments.length?d3:1)))};he.rgb=function(){return bE(this.h,this.c,this.l).rgb()};function bE(h9,ia,d3){if(isNaN(h9)){h9=0}if(isNaN(ia)){ia=0}return new co(d3,Math.cos(h9*=K)*ia,Math.sin(h9)*ia)}hm.lab=co;function co(ia,h9,d3){return this instanceof co?void (this.l=+ia,this.a=+h9,this.b=+d3):arguments.length<2?ia instanceof co?new co(ia.l,ia.a,ia.b):ia instanceof bD?bE(ia.h,ia.c,ia.l):d0((ia=er(ia)).r,ia.g,ia.b):new co(ia,h9,d3)}var bt=18;var bi=0.95047,bg=1,bd=1.08883;var gy=co.prototype=new gW();gy.brighter=function(d3){return new co(Math.min(100,this.l+bt*(arguments.length?d3:1)),this.a,this.b)};gy.darker=function(d3){return new co(Math.max(0,this.l-bt*(arguments.length?d3:1)),this.a,this.b)};gy.rgb=function(){return aD(this.l,this.a,this.b)};function aD(ib,ia,h9){var id=(ib+16)/116,d3=id+ia/500,ic=id-h9/200;d3=g1(d3)*bi;id=g1(id)*bg;ic=g1(ic)*bd;return new er(h(3.2404542*d3-1.5371385*id-0.4985314*ic),h(-0.969266*d3+1.8760108*id+0.041556*ic),h(0.0556434*d3-0.2040259*id+1.0572252*ic))}function gH(ia,h9,d3){return ia>0?new bD(Math.atan2(d3,h9)*hD,Math.sqrt(h9*h9+d3*d3),ia):new bD(NaN,NaN,ia)}function g1(d3){return d3>0.206893034?d3*d3*d3:(d3-4/29)/7.787037}function gq(d3){return d3>0.008856?Math.pow(d3,1/3):7.787037*d3+4/29}function h(d3){return Math.round(255*(d3<=0.00304?12.92*d3:1.055*Math.pow(d3,1/2.4)-0.055))}hm.rgb=er;function er(ia,h9,d3){return this instanceof er?void (this.r=~~ia,this.g=~~h9,this.b=~~d3):arguments.length<2?ia instanceof er?new er(ia.r,ia.g,ia.b):aX(""+ia,er,bh):new er(ia,h9,d3)}function df(d3){return new er(d3>>16,d3>>8&255,d3&255)}function dw(d3){return df(d3)+""}var eJ=er.prototype=new gW();eJ.brighter=function(h9){h9=Math.pow(0.7,arguments.length?h9:1);var ic=this.r,ib=this.g,d3=this.b,ia=30;if(!ic&&!ib&&!d3){return new er(ia,ia,ia)}if(ic&&ic<ia){ic=ia}if(ib&&ib<ia){ib=ia}if(d3&&d3<ia){d3=ia}return new er(Math.min(255,ic/h9),Math.min(255,ib/h9),Math.min(255,d3/h9))};eJ.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new er(d3*this.r,d3*this.g,d3*this.b)};eJ.hsl=function(){return gx(this.r,this.g,this.b)};eJ.toString=function(){return"#"+cw(this.r)+cw(this.g)+cw(this.b)};function cw(d3){return d3<16?"0"+Math.max(0,d3).toString(16):Math.min(255,d3).toString(16)}function aX(id,ib,ie){var d3=0,ia=0,ic=0,ih,ig,h9;ih=/([a-z]+)\((.*)\)/i.exec(id);if(ih){ig=ih[2].split(",");switch(ih[1]){case"hsl":return ie(parseFloat(ig[0]),parseFloat(ig[1])/100,parseFloat(ig[2])/100);case"rgb":return ib(eX(ig[0]),eX(ig[1]),eX(ig[2]))}}if(h9=an.get(id)){return ib(h9.r,h9.g,h9.b)}if(id!=null&&id.charAt(0)==="#"&&!isNaN(h9=parseInt(id.slice(1),16))){if(id.length===4){d3=(h9&3840)>>4;d3=d3>>4|d3;ia=h9&240;ia=ia>>4|ia;ic=h9&15;ic=ic<<4|ic}else{if(id.length===7){d3=(h9&16711680)>>16;ia=(h9&65280)>>8;ic=h9&255}}}return ib(d3,ia,ic)}function gx(d3,ic,ie){var ia=Math.min(d3/=255,ic/=255,ie/=255),ig=Math.max(d3,ic,ie),id=ig-ia,ib,ih,h9=(ig+ia)/2;if(id){ih=h9<0.5?id/(ig+ia):id/(2-ig-ia);if(d3==ig){ib=(ic-ie)/id+(ic<ie?6:0)}else{if(ic==ig){ib=(ie-d3)/id+2}else{ib=(d3-ic)/id+4}}ib*=60}else{ib=NaN;ih=h9>0&&h9<1?0:ib}return new eI(ib,ih,h9)}function d0(ib,ia,h9){ib=dD(ib);ia=dD(ia);h9=dD(h9);var d3=gq((0.4124564*ib+0.3575761*ia+0.1804375*h9)/bi),id=gq((0.2126729*ib+0.7151522*ia+0.072175*h9)/bg),ic=gq((0.0193339*ib+0.119192*ia+0.9503041*h9)/bd);return co(116*id-16,500*(d3-id),200*(id-ic))}function dD(d3){return(d3/=255)<=0.04045?d3/12.92:Math.pow((d3+0.055)/1.055,2.4)}function eX(h9){var d3=parseFloat(h9);return h9.charAt(h9.length-1)==="%"?Math.round(d3*2.55):d3}var an=hm.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});an.forEach(function(d3,h9){an.set(d3,df(h9))});function S(d3){return typeof d3==="function"?d3:function(){return d3}}hm.functor=S;function gl(d3){return d3}hm.xhr=Y(gl);function Y(d3){return function(h9,ia,ib){if(arguments.length===2&&typeof ia==="function"){ib=ia,ia=null}return hW(h9,ia,d3,ib)}}function hW(d3,ia,ic,ih){var ii={},ig=hm.dispatch("beforesend","progress","load","error"),ib={},id=new XMLHttpRequest(),ie=null;if(fz.XDomainRequest&&!("withCredentials" in id)&&/^(http(s)?:)?\/\//.test(d3)){id=new XDomainRequest()}"onload" in id?id.onload=id.onerror=h9:id.onreadystatechange=function(){id.readyState>3&&h9()};function h9(){var ik=id.status,ij;if(!ik&&fJ(id)||ik>=200&&ik<300||ik===304){try{ij=ic.call(ii,id)}catch(il){ig.error.call(ii,il);return}ig.load.call(ii,ij)}else{ig.error.call(ii,id)}}id.onprogress=function(ij){var ik=hm.event;hm.event=ij;try{ig.progress.call(ii,id)}finally{hm.event=ik}};ii.header=function(ij,ik){ij=(ij+"").toLowerCase();if(arguments.length<2){return ib[ij]}if(ik==null){delete ib[ij]}else{ib[ij]=ik+""}return ii};ii.mimeType=function(ij){if(!arguments.length){return ia}ia=ij==null?null:ij+"";return ii};ii.responseType=function(ij){if(!arguments.length){return ie}ie=ij;return ii};ii.response=function(ij){ic=ij;return ii};["get","post"].forEach(function(ij){ii[ij]=function(){return ii.send.apply(ii,[ij].concat(dO(arguments)))}});ii.send=function(im,ik,il){if(arguments.length===2&&typeof ik==="function"){il=ik,ik=null}id.open(im,d3,true);if(ia!=null&&!("accept" in ib)){ib.accept=ia+",*/*"}if(id.setRequestHeader){for(var ij in ib){id.setRequestHeader(ij,ib[ij])}}if(ia!=null&&id.overrideMimeType){id.overrideMimeType(ia)}if(ie!=null){id.responseType=ie}if(il!=null){ii.on("error",il).on("load",function(io){il(null,io)})}ig.beforesend.call(ii,id);id.send(ik==null?null:ik);return ii};ii.abort=function(){id.abort();return ii};hm.rebind(ii,ig,"on");return ih==null?ii:ii.get(d6(ih))}function d6(d3){return d3.length===1?function(h9,ia){d3(h9==null?ia:null)}:d3}function fJ(h9){var d3=h9.responseType;return d3&&d3!=="text"?h9.response:h9.responseText}hm.dsv=function(d3,h9){var ib=new RegExp('["'+d3+"\n]"),id=d3.charCodeAt(0);function ig(ii,ik,il){if(arguments.length<3){il=ik,ik=null}var ij=hW(ii,h9,ik==null?ic:ia(ik),il);ij.row=function(im){return arguments.length?ij.response((ik=im)==null?ic:ia(im)):ik};return ij}function ic(ii){return ig.parse(ii.responseText)}function ia(ii){return function(ij){return ig.parse(ij.responseText,ii)}}ig.parse=function(ik,ii){var ij;return ig.parseRows(ik,function(io,im){if(ij){return ij(io,im-1)}var il=new Function("d","return {"+io.map(function(ip,iq){return JSON.stringify(ip)+": d["+iq+"]"}).join(",")+"}");ij=ii?function(iq,ip){return ii(il(iq),ip)}:il})};ig.parseRows=function(it,im){var ij={},il={},iv=[],io=it.length,ir=0,ii=0,iu,ip;function ik(){if(ir>=io){return il}if(ip){return ip=false,ij}var ix=ir;if(it.charCodeAt(ix)===34){var iy=ix;while(iy++<io){if(it.charCodeAt(iy)===34){if(it.charCodeAt(iy+1)!==34){break}++iy}}ir=iy+2;var iz=it.charCodeAt(iy+1);if(iz===13){ip=true;if(it.charCodeAt(iy+2)===10){++ir}}else{if(iz===10){ip=true}}return it.slice(ix+1,iy).replace(/""/g,'"')}while(ir<io){var iz=it.charCodeAt(ir++),iw=1;if(iz===10){ip=true}else{if(iz===13){ip=true;if(it.charCodeAt(ir)===10){++ir,++iw}}else{if(iz!==id){continue}}}return it.slice(ix,ir-iw)}return it.slice(ix)}while((iu=ik())!==il){var iq=[];while(iu!==ij&&iu!==il){iq.push(iu);iu=ik()}if(im&&(iq=im(iq,ii++))==null){continue}iv.push(iq)}return iv};ig.format=function(ik){if(Array.isArray(ik[0])){return ig.formatRows(ik)}var ij=new ds(),ii=[];ik.forEach(function(im){for(var il in im){if(!ij.has(il)){ii.push(ij.add(il))}}});return[ii.map(ie).join(d3)].concat(ik.map(function(il){return ii.map(function(im){return ie(il[im])}).join(d3)})).join("\n")};ig.formatRows=function(ii){return ii.map(ih).join("\n")};function ih(ii){return ii.map(ie).join(d3)}function ie(ii){return ib.test(ii)?'"'+ii.replace(/\"/g,'""')+'"':ii}return ig};hm.csv=hm.dsv(",","text/csv");hm.tsv=hm.dsv("	","text/tab-separated-values");var d1,ag,cr,fg,dk,hs=fz[dh(fz,"requestAnimationFrame")]||function(d3){setTimeout(d3,17)};hm.timer=function(id,d3,ia){var ic=arguments.length;if(ic<2){d3=0}if(ic<3){ia=Date.now()}var h9=ia+d3,ib={c:id,t:h9,f:false,n:null};if(ag){ag.n=ib}else{d1=ib}ag=ib;if(!cr){fg=clearTimeout(fg);cr=1;hs(ht)}};function ht(){var h9=bG(),d3=ad()-h9;if(d3>24){if(isFinite(d3)){clearTimeout(fg);fg=setTimeout(ht,d3)}cr=0}else{cr=1;hs(ht)}}hm.timer.flush=function(){bG();ad()};function bG(){var d3=Date.now();dk=d1;while(dk){if(d3>=dk.t){dk.f=dk.c(d3-dk.t)}dk=dk.n}return d3}function ad(){var h9,d3=d1,ia=Infinity;while(d3){if(d3.f){d3=h9?h9.n=d3.n:d1=d3.n}else{if(d3.t<ia){ia=d3.t}d3=(h9=d3).n}}ag=h9;return ia}function ef(d3,h9){return h9-(d3?Math.ceil(Math.log(d3)/Math.LN10):1)}hm.round=function(d3,h9){return h9?Math.round(d3*(h9=Math.pow(10,h9)))/h9:Math.round(d3)};var cv=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(dN);hm.formatPrefix=function(ia,d3){var h9=0;if(ia){if(ia<0){ia*=-1}if(d3){ia=hm.round(ia,ef(ia,d3))}h9=1+Math.floor(1e-12+Math.log(ia)/Math.LN10);h9=Math.max(-24,Math.min(24,Math.floor((h9-1)/3)*3))}return cv[8+h9/3]};function dN(ia,h9){var d3=Math.pow(10,cH(8-h9)*3);return{scale:h9>8?function(ib){return ib/d3}:function(ib){return ib*d3},symbol:ia}}function bp(d3){var ib=d3.decimal,id=d3.thousands,ic=d3.grouping,ia=d3.currency,h9=ic&&id?function(il,ii){var ih=il.length,ig=[],ie=0,ik=ic[0],ij=0;while(ih>0&&ik>0){if(ij+ik+1>ii){ik=Math.max(1,ii-ij)}ig.push(il.substring(ih-=ik,ih+ik));if((ij+=ik+1)>ii){break}ik=ic[ie=(ie+1)%ic.length]}return ig.reverse().join(id)}:gl;return function(iu){var io=cA.exec(iu),iw=io[1]||" ",iq=io[2]||">",ig=io[3]||"-",ii=io[4]||"",ij=io[5],ie=+io[6],ix=io[7],im=io[8],ir=io[9],ih=1,ip="",iv="",il=false,it=true;if(im){im=+im.substring(1)}if(ij||iw==="0"&&iq==="="){ij=iw="0";iq="="}switch(ir){case"n":ix=true;ir="g";break;case"%":ih=100;iv="%";ir="f";break;case"p":ih=100;iv="%";ir="r";break;case"b":case"o":case"x":case"X":if(ii==="#"){ip="0"+ir.toLowerCase()}case"c":it=false;case"d":il=true;im=0;break;case"s":ih=-1;ir="r";break}if(ii==="$"){ip=ia[0],iv=ia[1]}if(ir=="r"&&!im){ir="g"}if(im!=null){if(ir=="g"){im=Math.max(1,Math.min(21,im))}else{if(ir=="e"||ir=="f"){im=Math.max(0,Math.min(20,im))}}}ir=y.get(ir)||bo;var ik=ij&&ix;return function(iG){var iE=iv;if(il&&iG%1){return""}var iA=iG<0||iG===0&&1/iG<0?(iG=-iG,"-"):ig==="-"?"":ig;if(ih<0){var iH=hm.formatPrefix(iG,im);iG=iH.scale(iG);iE=iH.symbol+iv}else{iG*=ih}iG=ir(iG,im);var iC=iG.lastIndexOf("."),iF,iy;if(iC<0){var iB=it?iG.lastIndexOf("e"):-1;if(iB<0){iF=iG,iy=""}else{iF=iG.substring(0,iB),iy=iG.substring(iB)}}else{iF=iG.substring(0,iC);iy=ib+iG.substring(iC+1)}if(!ij&&ix){iF=h9(iF,Infinity)}var iz=ip.length+iF.length+iy.length+(ik?0:iA.length),iD=iz<ie?new Array(iz=ie-iz+1).join(iw):"";if(ik){iF=h9(iD+iF,iD.length?ie-iy.length:Infinity)}iA+=ip;iG=iF+iy;return(iq==="<"?iA+iG+iD:iq===">"?iD+iA+iG:iq==="^"?iD.substring(0,iz>>=1)+iA+iG+iD.substring(iz):iA+(ik?iG:iD+iG))+iE}}}var cA=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var y=hm.map({b:function(d3){return d3.toString(2)},c:function(d3){return String.fromCharCode(d3)},o:function(d3){return d3.toString(8)},x:function(d3){return d3.toString(16)},X:function(d3){return d3.toString(16).toUpperCase()},g:function(d3,h9){return d3.toPrecision(h9)},e:function(d3,h9){return d3.toExponential(h9)},f:function(d3,h9){return d3.toFixed(h9)},r:function(d3,h9){return(d3=hm.round(d3,ef(d3,h9))).toFixed(Math.max(0,Math.min(20,ef(d3*(1+1e-15),h9))))}});function bo(d3){return d3+""}var fH=hm.time={},hq=Date;function cm(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}cm.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){f1.setUTCDate.apply(this._,arguments)},setDay:function(){f1.setUTCDay.apply(this._,arguments)},setFullYear:function(){f1.setUTCFullYear.apply(this._,arguments)},setHours:function(){f1.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){f1.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){f1.setUTCMinutes.apply(this._,arguments)},setMonth:function(){f1.setUTCMonth.apply(this._,arguments)},setSeconds:function(){f1.setUTCSeconds.apply(this._,arguments)},setTime:function(){f1.setTime.apply(this._,arguments)}};var f1=Date.prototype;function c1(id,d3,h9){function ih(ii){var ik=id(ii),ij=ib(ik,1);return ii-ik<ij-ii?ik:ij}function ig(ii){d3(ii=id(new hq(ii-1)),1);return ii}function ib(ij,ii){d3(ij=new hq(+ij),ii);return ij}function ic(ik,ij,ii){var il=ig(ik),im=[];if(ii>1){while(il<ij){if(!(h9(il)%ii)){im.push(new Date(+il))}d3(il,1)}}else{while(il<ij){im.push(new Date(+il)),d3(il,1)}}return im}function ia(il,ik,ij){try{hq=cm;var ii=new cm();ii._=il;return ic(ii,ik,ij)}finally{hq=Date}}id.floor=id;id.round=ih;id.ceil=ig;id.offset=ib;id.range=ic;var ie=id.utc=dS(id);ie.floor=ie;ie.round=dS(ih);ie.ceil=dS(ig);ie.offset=dS(ib);ie.range=ia;return id}function dS(d3){return function(ia,h9){try{hq=cm;var ib=new cm();ib._=ia;return d3(ib,h9)._}finally{hq=Date}}}fH.year=c1(function(d3){d3=fH.day(d3);d3.setMonth(0,1);return d3},function(d3,h9){d3.setFullYear(d3.getFullYear()+h9)},function(d3){return d3.getFullYear()});fH.years=fH.year.range;fH.years.utc=fH.year.utc.range;fH.day=c1(function(h9){var d3=new hq(2000,0);d3.setFullYear(h9.getFullYear(),h9.getMonth(),h9.getDate());return d3},function(d3,h9){d3.setDate(d3.getDate()+h9)},function(d3){return d3.getDate()-1});fH.days=fH.day.range;fH.days.utc=fH.day.utc.range;fH.dayOfYear=function(d3){var h9=fH.year(d3);return Math.floor((d3-h9-(d3.getTimezoneOffset()-h9.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(h9,ia){ia=7-ia;var d3=fH[h9]=c1(function(ib){(ib=fH.day(ib)).setDate(ib.getDate()-(ib.getDay()+ia)%7);return ib},function(ib,ic){ib.setDate(ib.getDate()+Math.floor(ic)*7)},function(ic){var ib=fH.year(ic).getDay();return Math.floor((fH.dayOfYear(ic)+(ib+ia)%7)/7)-(ib!==ia)});fH[h9+"s"]=d3.range;fH[h9+"s"].utc=d3.utc.range;fH[h9+"OfYear"]=function(ic){var ib=fH.year(ic).getDay();return Math.floor((fH.dayOfYear(ic)+(ib+ia)%7)/7)}});fH.week=fH.sunday;fH.weeks=fH.sunday.range;fH.weeks.utc=fH.sunday.utc.range;fH.weekOfYear=fH.sundayOfYear;function ar(it){var iy=it.dateTime,im=it.date,h9=it.time,ih=it.periods,d3=it.days,ii=it.shortDays,il=it.months,ic=it.shortMonths;function ix(iF){var iH=iF.length;function iG(iK){var iJ=[],iL=-1,iI=0,iO,iN,iM;while(++iL<iH){if(iF.charCodeAt(iL)===37){iJ.push(iF.slice(iI,iL));if((iN=aP[iO=iF.charAt(++iL)])!=null){iO=iF.charAt(++iL)}if(iM=iv[iO]){iO=iM(iK,iN==null?iO==="e"?" ":"0":iN)}iJ.push(iO);iI=iL+1}}iJ.push(iF.slice(iI,iL));return iJ.join("")}iG.parse=function(iK){var iM={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},iL=iq(iM,iF,iK,0);if(iL!=iK.length){return null}if("p" in iM){iM.H=iM.H%12+iM.p*12}var iI=iM.Z!=null&&hq!==cm,iJ=new (iI?cm:hq)();if("j" in iM){iJ.setFullYear(iM.y,0,iM.j)}else{if("w" in iM&&("W" in iM||"U" in iM)){iJ.setFullYear(iM.y,0,1);iJ.setFullYear(iM.y,0,"W" in iM?(iM.w+6)%7+iM.W*7-(iJ.getDay()+5)%7:iM.w+iM.U*7-(iJ.getDay()+6)%7)}else{iJ.setFullYear(iM.y,iM.m,iM.d)}}iJ.setHours(iM.H+(iM.Z/100|0),iM.M+iM.Z%100,iM.S,iM.L);return iI?iJ._:iJ};iG.toString=function(){return iF};return iG}function iq(iI,iN,iL,iJ){var iM,iF,iO,iK=0,iG=iN.length,iH=iL.length;while(iK<iG){if(iJ>=iH){return -1}iM=iN.charCodeAt(iK++);if(iM===37){iO=iN.charAt(iK++);iF=iu[iO in aP?iN.charAt(iK++):iO];if(!iF||(iJ=iF(iI,iL,iJ))<0){return -1}}else{if(iM!=iL.charCodeAt(iJ++)){return -1}}}return iJ}ix.utc=function(iG){var iF=ix(iG);function iH(iI){try{hq=cm;var iJ=new hq();iJ._=iI;return iF(iJ)}finally{hq=Date}}iH.parse=function(iJ){try{hq=cm;var iI=iF.parse(iJ);return iI&&iI._}finally{hq=Date}};iH.toString=iF.toString;return iH};ix.multi=ix.utc.multi=gp;var io=hm.map(),iB=cL(d3),iC=gV(d3),iA=cL(ii),id=gV(ii),iD=cL(il),iE=gV(il),ij=cL(ic),ib=gV(ic);ih.forEach(function(iG,iF){io.set(iG.toLowerCase(),iF)});var iv={a:function(iF){return ii[iF.getDay()]},A:function(iF){return d3[iF.getDay()]},b:function(iF){return ic[iF.getMonth()]},B:function(iF){return il[iF.getMonth()]},c:ix(iy),d:function(iG,iF){return dy(iG.getDate(),iF,2)},e:function(iG,iF){return dy(iG.getDate(),iF,2)},H:function(iG,iF){return dy(iG.getHours(),iF,2)},I:function(iG,iF){return dy(iG.getHours()%12||12,iF,2)},j:function(iG,iF){return dy(1+fH.dayOfYear(iG),iF,3)},L:function(iG,iF){return dy(iG.getMilliseconds(),iF,3)},m:function(iG,iF){return dy(iG.getMonth()+1,iF,2)},M:function(iG,iF){return dy(iG.getMinutes(),iF,2)},p:function(iF){return ih[+(iF.getHours()>=12)]},S:function(iG,iF){return dy(iG.getSeconds(),iF,2)},U:function(iG,iF){return dy(fH.sundayOfYear(iG),iF,2)},w:function(iF){return iF.getDay()},W:function(iG,iF){return dy(fH.mondayOfYear(iG),iF,2)},x:ix(im),X:ix(h9),y:function(iG,iF){return dy(iG.getFullYear()%100,iF,2)},Y:function(iG,iF){return dy(iG.getFullYear()%10000,iF,4)},Z:fW,"%":function(){return"%"}};var iu={a:ik,A:ia,b:iz,B:ir,c:ig,d:b4,e:b4,H:aR,I:aR,j:G,L:gY,m:gJ,M:cW,p:ip,S:dX,U:bv,w:dU,W:dH,x:iw,X:ie,y:P,Y:bB,Z:a5,"%":fu};function ik(iG,iF,iH){iA.lastIndex=0;var iI=iA.exec(iF.slice(iH));return iI?(iG.w=id.get(iI[0].toLowerCase()),iH+iI[0].length):-1}function ia(iG,iF,iH){iB.lastIndex=0;var iI=iB.exec(iF.slice(iH));return iI?(iG.w=iC.get(iI[0].toLowerCase()),iH+iI[0].length):-1}function iz(iG,iF,iH){ij.lastIndex=0;var iI=ij.exec(iF.slice(iH));return iI?(iG.m=ib.get(iI[0].toLowerCase()),iH+iI[0].length):-1}function ir(iG,iF,iH){iD.lastIndex=0;var iI=iD.exec(iF.slice(iH));return iI?(iG.m=iE.get(iI[0].toLowerCase()),iH+iI[0].length):-1}function ig(iG,iF,iH){return iq(iG,iv.c.toString(),iF,iH)}function iw(iG,iF,iH){return iq(iG,iv.x.toString(),iF,iH)}function ie(iG,iF,iH){return iq(iG,iv.X.toString(),iF,iH)}function ip(iG,iF,iH){var iI=io.get(iF.slice(iH,iH+=2).toLowerCase());return iI==null?-1:(iG.p=iI,iH)}return ix}var aP={"-":"",_:" ","0":"0"},f6=/^\s*\d+/,e8=/^%/;function dy(ic,id,ia){var d3=ic<0?"-":"",h9=(d3?-ic:ic)+"",ib=h9.length;return d3+(ib<ia?new Array(ia-ib+1).join(id)+h9:h9)}function cL(d3){return new RegExp("^(?:"+d3.map(hm.requote).join("|")+")","i")}function gV(ia){var h9=new aJ(),d3=-1,ib=ia.length;while(++d3<ib){h9.set(ia[d3].toLowerCase(),d3)}return h9}function dU(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+1));return ib?(h9.w=+ib[0],ia+ib[0].length):-1}function bv(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia));return ib?(h9.U=+ib[0],ia+ib[0].length):-1}function dH(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia));return ib?(h9.W=+ib[0],ia+ib[0].length):-1}function bB(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+4));return ib?(h9.y=+ib[0],ia+ib[0].length):-1}function P(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+2));return ib?(h9.y=c3(+ib[0]),ia+ib[0].length):-1}function a5(h9,d3,ia){return/^[+-]\d{4}$/.test(d3=d3.slice(ia,ia+5))?(h9.Z=-d3,ia+5):-1}function c3(d3){return d3+(d3>68?1900:2000)}function gJ(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+2));return ib?(h9.m=ib[0]-1,ia+ib[0].length):-1}function b4(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+2));return ib?(h9.d=+ib[0],ia+ib[0].length):-1}function G(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+3));return ib?(h9.j=+ib[0],ia+ib[0].length):-1}function aR(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+2));return ib?(h9.H=+ib[0],ia+ib[0].length):-1}function cW(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+2));return ib?(h9.M=+ib[0],ia+ib[0].length):-1}function dX(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+2));return ib?(h9.S=+ib[0],ia+ib[0].length):-1}function gY(h9,d3,ia){f6.lastIndex=0;var ib=f6.exec(d3.slice(ia,ia+3));return ib?(h9.L=+ib[0],ia+ib[0].length):-1}function fW(ic){var ib=ic.getTimezoneOffset(),ia=ib>0?"-":"+",h9=cH(ib)/60|0,d3=cH(ib)%60;return ia+dy(h9,"0",2)+dy(d3,"0",2)}function fu(h9,d3,ia){e8.lastIndex=0;var ib=e8.exec(d3.slice(ia,ia+1));return ib?ia+ib[0].length:-1}function gp(d3){var ia=d3.length,h9=-1;while(++h9<ia){d3[h9][0]=this(d3[h9][0])}return function(ib){var ic=0,id=d3[ic];while(!id[1](ib)){id=d3[++ic]}return id[0](ib)}}hm.locale=function(d3){return{numberFormat:bp(d3),timeFormat:ar(d3)}};var di=hm.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});hm.format=di.numberFormat;hm.geo={};function fc(){}fc.prototype={s:0,t:0,add:function(d3){dq(d3,this.t,hN);dq(hN.s,this.s,this);if(this.s){this.t+=hN.t}else{this.s=hN.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hN=new fc();function dq(ib,ia,id){var h9=id.s=ib+ia,d3=h9-ib,ic=h9-d3;id.t=ib-ic+(ia-d3)}hm.geo.stream=function(d3,h9){if(d3&&B.hasOwnProperty(d3.type)){B[d3.type](d3,h9)}else{aQ(d3,h9)}};function aQ(h9,d3){if(h9&&eS.hasOwnProperty(h9.type)){eS[h9.type](h9,d3)}}var B={Feature:function(d3,h9){aQ(d3.geometry,h9)},FeatureCollection:function(d3,ib){var ia=d3.features,h9=-1,ic=ia.length;while(++h9<ic){aQ(ia[h9].geometry,ib)}}};var eS={Sphere:function(d3,h9){h9.sphere()},Point:function(d3,h9){d3=d3.coordinates;h9.point(d3[0],d3[1],d3[2])},MultiPoint:function(d3,ia){var ib=d3.coordinates,h9=-1,ic=ib.length;while(++h9<ic){d3=ib[h9],ia.point(d3[0],d3[1],d3[2])}},LineString:function(d3,h9){cp(d3.coordinates,h9,0)},MultiLineString:function(d3,ia){var ib=d3.coordinates,h9=-1,ic=ib.length;while(++h9<ic){cp(ib[h9],ia,0)}},Polygon:function(d3,h9){hd(d3.coordinates,h9)},MultiPolygon:function(d3,ia){var ib=d3.coordinates,h9=-1,ic=ib.length;while(++h9<ic){hd(ib[h9],ia)}},GeometryCollection:function(d3,ib){var ia=d3.geometries,h9=-1,ic=ia.length;while(++h9<ic){aQ(ia[h9],ib)}}};function cp(ib,ia,d3){var h9=-1,id=ib.length-d3,ic;ia.lineStart();while(++h9<id){ic=ib[h9],ia.point(ic[0],ic[1],ic[2])}ia.lineEnd()}function hd(ia,h9){var d3=-1,ib=ia.length;h9.polygonStart();while(++d3<ib){cp(ia[d3],h9,1)}h9.polygonEnd()}hm.geo.area=function(d3){ba=0;hm.geo.stream(d3,hj);return ba};var ba,fQ=new fc();var hj={sphere:function(){ba+=4*ge},point:aI,lineStart:aI,lineEnd:aI,polygonStart:function(){fQ.reset();hj.lineStart=b7},polygonEnd:function(){var d3=2*fQ;ba+=d3<0?4*ge+d3:d3;hj.lineStart=hj.lineEnd=hj.point=aI}};function b7(){var h9,d3,ib,ia,ic;hj.point=function(ig,ie){hj.point=id;ib=(h9=ig)*K,ia=Math.cos(ie=(d3=ie)*K/2+ge/4),ic=Math.sin(ie)};function id(ih,ip){ih*=K;ip=ip*K/2+ge/4;var ik=ih-ib,ij=ik>=0?1:-1,il=ij*ik,ie=Math.cos(ip),ii=Math.sin(ip),ig=ic*ii,io=ia*ie+ig*Math.cos(il),im=ig*ij*Math.sin(il);fQ.add(Math.atan2(im,io));ib=ih,ia=ie,ic=ii}hj.lineEnd=function(){id(h9,d3)}}function aw(d3){var ia=d3[0],h9=d3[1],ib=Math.cos(h9);return[ib*Math.cos(ia),ib*Math.sin(ia),Math.sin(h9)]}function az(h9,d3){return h9[0]*d3[0]+h9[1]*d3[1]+h9[2]*d3[2]}function cZ(h9,d3){return[h9[1]*d3[2]-h9[2]*d3[1],h9[2]*d3[0]-h9[0]*d3[2],h9[0]*d3[1]-h9[1]*d3[0]]}function cC(h9,d3){h9[0]+=d3[0];h9[1]+=d3[1];h9[2]+=d3[2]}function gf(d3,h9){return[d3[0]*h9,d3[1]*h9,d3[2]*h9]}function fl(h9){var d3=Math.sqrt(h9[0]*h9[0]+h9[1]*h9[1]+h9[2]*h9[2]);h9[0]/=d3;h9[1]/=d3;h9[2]/=d3}function h5(d3){return[Math.atan2(d3[1],d3[0]),cg(d3[2])]}function eT(h9,d3){return cH(h9[0]-d3[0])<gn&&cH(h9[1]-d3[1])<gn}hm.geo.bounds=function(){var ib,iu,h9,ir,ic,ik,im,id,ih,ie,ii;var d3={point:io,lineStart:ij,lineEnd:iq,polygonStart:function(){d3.point=ip;d3.lineStart=ig;d3.lineEnd=il;ih=0;hj.polygonStart()},polygonEnd:function(){hj.polygonEnd();d3.point=io;d3.lineStart=ij;d3.lineEnd=iq;if(fQ<0){ib=-(h9=180),iu=-(ir=90)}else{if(ih>gn){ir=90}else{if(ih<-gn){iu=-90}}}ii[0]=ib,ii[1]=h9}};function io(iy,ix){ie.push(ii=[ib=iy,h9=iy]);if(ix<iu){iu=ix}if(ix>ir){ir=ix}}function ia(iB,iH){var ix=aw([iB*K,iH*K]);if(id){var iD=cZ(id,ix),iE=[iD[1],-iD[0],0],iC=cZ(iE,iD);fl(iC);iC=h5(iC);var iF=iB-ic,iG=iF>0?1:-1,iy=iC[0]*hD*iG,iA=cH(iF)>180;if(iA^(iG*ic<iy&&iy<iG*iB)){var iz=iC[1]*hD;if(iz>ir){ir=iz}}else{if(iy=(iy+360)%360-180,iA^(iG*ic<iy&&iy<iG*iB)){var iz=-iC[1]*hD;if(iz<iu){iu=iz}}else{if(iH<iu){iu=iH}if(iH>ir){ir=iH}}}if(iA){if(iB<ic){if(it(ib,iB)>it(ib,h9)){h9=iB}}else{if(it(iB,h9)>it(ib,h9)){ib=iB}}}else{if(h9>=ib){if(iB<ib){ib=iB}if(iB>h9){h9=iB}}else{if(iB>ic){if(it(ib,iB)>it(ib,h9)){h9=iB}}else{if(it(iB,h9)>it(ib,h9)){ib=iB}}}}}else{io(iB,iH)}id=ix,ic=iB}function ij(){d3.point=ia}function iq(){ii[0]=ib,ii[1]=h9;d3.point=io;id=null}function ip(iy,ix){if(id){var iz=iy-ic;ih+=cH(iz)>180?iz+(iz>0?360:-360):iz}else{ik=iy,im=ix}hj.point(iy,ix);ia(iy,ix)}function ig(){hj.lineStart()}function il(){ip(ik,im);hj.lineEnd();if(cH(ih)>gn){ib=-(h9=180)}ii[0]=ib,ii[1]=h9;id=null}function it(iy,ix){return(ix-=iy)<0?ix+360:ix}function iw(iy,ix){return iy[0]-ix[0]}function iv(ix,iy){return iy[0]<=iy[1]?iy[0]<=ix&&ix<=iy[1]:ix<iy[0]||iy[1]<ix}return function(iC){ir=h9=-(ib=iu=Infinity);ie=[];hm.geo.stream(iC,d3);var iE=ie.length;if(iE){ie.sort(iw);for(var iB=1,iz=ie[0],iy,ix=[iz];iB<iE;++iB){iy=ie[iB];if(iv(iy[0],iz)||iv(iy[1],iz)){if(it(iz[0],iy[1])>it(iz[0],iz[1])){iz[1]=iy[1]}if(it(iy[0],iz[1])>it(iz[0],iz[1])){iz[0]=iy[0]}}else{ix.push(iz=iy)}}var iD=-Infinity,iA;for(var iE=ix.length-1,iB=0,iz=ix[iE],iy;iB<=iE;iz=iy,++iB){iy=ix[iB];if((iA=it(iz[1],iy[0]))>iD){iD=iA,ib=iy[0],h9=iz[1]}}}ie=ii=null;return ib===Infinity||iu===Infinity?[[NaN,NaN],[NaN,NaN]]:[[ib,iu],[h9,ir]]}}();hm.geo.centroid=function(ia){eb=d9=dK=dn=c7=dJ=dm=c5=dI=dl=c4=0;hm.geo.stream(ia,gh);var h9=dI,ic=dl,ib=c4,d3=h9*h9+ic*ic+ib*ib;if(d3<eE){h9=dJ,ic=dm,ib=c5;if(d9<gn){h9=dK,ic=dn,ib=c7}d3=h9*h9+ic*ic+ib*ib;if(d3<eE){return[NaN,NaN]}}return[Math.atan2(ic,h9)*hD,cg(ib/Math.sqrt(d3))*hD]};var eb,d9,dK,dn,c7,dJ,dm,c5,dI,dl,c4;var gh={sphere:aI,point:cb,lineStart:fk,lineEnd:aG,polygonStart:function(){gh.lineStart=bs},polygonEnd:function(){gh.lineStart=fk}};function cb(h9,d3){h9*=K;var ia=Math.cos(d3*=K);gt(ia*Math.cos(h9),ia*Math.sin(h9),Math.sin(d3))}function gt(d3,ia,h9){++eb;dK+=(d3-dK)/eb;dn+=(ia-dn)/eb;c7+=(h9-c7)/eb}function fk(){var d3,h9,ib;gh.point=function(id,ic){id*=K;var ie=Math.cos(ic*=K);d3=ie*Math.cos(id);h9=ie*Math.sin(id);ib=Math.sin(ic);gh.point=ia;gt(d3,h9,ib)};function ia(ig,ie){ig*=K;var ih=Math.cos(ie*=K),ic=ih*Math.cos(ig),ij=ih*Math.sin(ig),ii=Math.sin(ie),id=Math.atan2(Math.sqrt((id=h9*ii-ib*ij)*id+(id=ib*ic-d3*ii)*id+(id=d3*ij-h9*ic)*id),d3*ic+h9*ij+ib*ii);d9+=id;dJ+=id*(d3+(d3=ic));dm+=id*(h9+(h9=ij));c5+=id*(ib+(ib=ii));gt(d3,h9,ib)}}function aG(){gh.point=cb}function bs(){var h9,d3,ia,ib,id;gh.point=function(ig,ie){h9=ig,d3=ie;gh.point=ic;ig*=K;var ih=Math.cos(ie*=K);ia=ih*Math.cos(ig);ib=ih*Math.sin(ig);id=Math.sin(ie);gt(ia,ib,id)};gh.lineEnd=function(){ic(h9,d3);gh.lineEnd=aG;gh.point=cb};function ic(ik,it){ik*=K;var ii=Math.cos(it*=K),io=ii*Math.cos(ik),im=ii*Math.sin(ik),il=Math.sin(it),ij=ib*il-id*im,ih=id*io-ia*il,ig=ia*im-ib*io,ie=Math.sqrt(ij*ij+ih*ih+ig*ig),ir=ia*io+ib*im+id*il,iq=ie&&-ae(ir)/ie,ip=Math.atan2(ie,ir);dI+=iq*ij;dl+=iq*ih;c4+=iq*ig;d9+=ip;dJ+=ip*(ia+(ia=io));dm+=ip*(ib+(ib=im));c5+=ip*(id+(id=il));gt(ia,ib,id)}}function e6(h9,d3){function ia(ib,ic){return ib=h9(ib,ic),d3(ib[0],ib[1])}if(h9.invert&&d3.invert){ia.invert=function(ib,ic){return ib=d3.invert(ib,ic),ib&&h9.invert(ib[0],ib[1])}}return ia}function ai(){return true}function cs(ie,h9,ij,ih,ib){var ii=[],ic=[];ie.forEach(function(it){if((iw=it.length-1)<=0){return}var iw,iv=it[0],iu=it[iw];if(eT(iv,iu)){ib.lineStart();for(var ir=0;ir<iw;++ir){ib.point((iv=it[ir])[0],iv[1])}ib.lineEnd();return}var iq=new f(iv,it,null,true),ip=new f(iv,null,iq,false);iq.o=ip;ii.push(iq);ic.push(ip);iq=new f(iu,it,null,false);ip=new f(iu,null,iq,true);iq.o=ip;ii.push(iq);ic.push(ip)});ic.sort(h9);hI(ii);hI(ic);if(!ii.length){return}for(var id=0,il=ij,ia=ic.length;id<ia;++id){ic[id].e=il=!il}var d3=ii[0],im,ik;while(1){var ig=d3,io=true;while(ig.v){if((ig=ig.n)===d3){return}}im=ig.z;ib.lineStart();do{ig.v=ig.o.v=true;if(ig.e){if(io){for(var id=0,ia=im.length;id<ia;++id){ib.point((ik=im[id])[0],ik[1])}}else{ih(ig.x,ig.n.x,1,ib)}ig=ig.n}else{if(io){im=ig.p.z;for(var id=im.length-1;id>=0;--id){ib.point((ik=im[id])[0],ik[1])}}else{ih(ig.x,ig.p.x,-1,ib)}ig=ig.p}ig=ig.o;im=ig.z;io=!io}while(!ig.v);ib.lineEnd()}}function hI(ic){if(!(ib=ic.length)){return}var ib,ia=0,h9=ic[0],d3;while(++ia<ib){h9.n=d3=ic[ia];d3.p=h9;h9=d3}h9.n=d3=ic[0];d3.p=h9}function f(h9,ia,d3,ib){this.x=h9;this.z=ia;this.o=d3;this.e=ib;this.v=false;this.n=this.p=null}function eh(d3,ib,h9,ia){return function(iu,ih){var il=ib(ih),ig=iu.invert(ia[0],ia[1]);var iw={point:iq,lineStart:io,lineEnd:iv,polygonStart:function(){iw.point=id;iw.lineStart=ii;iw.lineEnd=ip;ir=[];im=[]},polygonEnd:function(){iw.point=iq;iw.lineStart=io;iw.lineEnd=iv;ir=hm.merge(ir);var ix=fN(ig,im);if(ir.length){if(!ie){ih.polygonStart(),ie=true}cs(ir,dV,ix,h9,ih)}else{if(ix){if(!ie){ih.polygonStart(),ie=true}ih.lineStart();h9(null,null,1,ih);ih.lineEnd()}}if(ie){ih.polygonEnd(),ie=false}ir=im=null},sphere:function(){ih.polygonStart();ih.lineStart();h9(null,null,1,ih);ih.lineEnd();ih.polygonEnd()}};function iq(iz,iy){var ix=iu(iz,iy);if(d3(iz=ix[0],iy=ix[1])){ih.point(iz,iy)}}function ij(iz,iy){var ix=iu(iz,iy);il.point(ix[0],ix[1])}function io(){iw.point=ij;il.lineStart()}function iv(){iw.point=iq;il.lineEnd()}var ir;var it=R(),ic=ib(it),ie=false,im,ik;function id(iz,iy){ik.push([iz,iy]);var ix=iu(iz,iy);ic.point(ix[0],ix[1])}function ii(){ic.lineStart();ik=[]}function ip(){id(ik[0][0],ik[0][1]);ic.lineEnd();var iz=ic.clean(),iB=it.buffer(),iA,iC=iB.length;ik.pop();im.push(ik);ik=null;if(!iC){return}if(iz&1){iA=iB[0];var iC=iA.length-1,iy=-1,ix;if(iC>0){if(!ie){ih.polygonStart(),ie=true}ih.lineStart();while(++iy<iC){ih.point((ix=iA[iy])[0],ix[1])}ih.lineEnd()}return}if(iC>1&&iz&2){iB.push(iB.pop().concat(iB.shift()))}ir.push(iB.filter(eO))}return iw}}function eO(d3){return d3.length>1}function R(){var h9=[],d3;return{lineStart:function(){h9.push(d3=[])},point:function(ib,ia){d3.push([ib,ia])},lineEnd:aI,buffer:function(){var ia=h9;h9=[];d3=null;return ia},rejoin:function(){if(h9.length>1){h9.push(h9.pop().concat(h9.shift()))}}}}function dV(h9,d3){return((h9=h9.x)[0]<0?h9[1]-ep-gn:ep-h9[1])-((d3=d3.x)[0]<0?d3[1]-ep-gn:ep-d3[1])}var m=eh(ai,eF,dd,[-ge,-ge/2]);function eF(ic){var h9=NaN,d3=NaN,ib=NaN,ia;return{lineStart:function(){ic.lineStart();ia=1},point:function(ie,id){var ih=ie>0?ge:-ge,ig=cH(ie-h9);if(cH(ig-ge)<gn){ic.point(h9,d3=(d3+id)/2>0?ep:-ep);ic.point(ib,d3);ic.lineEnd();ic.lineStart();ic.point(ih,d3);ic.point(ie,d3);ia=0}else{if(ib!==ih&&ig>=ge){if(cH(h9-ib)<gn){h9-=ib*gn}if(cH(ie-ih)<gn){ie-=ih*gn}d3=w(h9,d3,ie,id);ic.point(ib,d3);ic.lineEnd();ic.lineStart();ic.point(ih,d3);ia=0}}ic.point(h9=ie,d3=id);ib=ih},lineEnd:function(){ic.lineEnd();h9=d3=NaN},clean:function(){return 2-ia}}}function w(id,ic,ib,ia){var h9,d3,ie=Math.sin(id-ib);return cH(ie)>gn?Math.atan((Math.sin(ic)*(d3=Math.cos(ia))*Math.sin(ib)-Math.sin(ia)*(h9=Math.cos(ic))*Math.sin(id))/(h9*d3*ie)):(ic+ia)/2}function dd(id,ic,ib,ia){var d3;if(id==null){d3=ib*ep;ia.point(-ge,d3);ia.point(0,d3);ia.point(ge,d3);ia.point(ge,0);ia.point(ge,-d3);ia.point(0,-d3);ia.point(-ge,-d3);ia.point(-ge,0);ia.point(-ge,d3)}else{if(cH(id[0]-ic[0])>gn){var h9=id[0]<ic[0]?ge:-ge;d3=ib*h9/2;ia.point(-h9,d3);ia.point(0,d3);ia.point(h9,d3)}else{ia.point(ic[0],ic[1])}}}function fN(iu,ip){var iC=iu[0],iD=iu[1],d3=[Math.sin(iC),-Math.cos(iC),0],io=0,iA=0;fQ.reset();for(var iz=0,iq=ip.length;iz<iq;++iz){var ih=ip[iz],it=ih.length;if(!it){continue}var id=ih[0],ia=id[0],iB=id[1]/2+ge/4,ig=Math.sin(iB),h9=Math.cos(iB),iy=1;while(true){if(iy===it){iy=0}iu=ih[iy];var ir=iu[0],im=iu[1]/2+ge/4,ib=Math.sin(im),ix=Math.cos(im),iw=ir-ia,ii=iw>=0?1:-1,ik=ii*iw,ic=ik>ge,iv=ig*ib;fQ.add(Math.atan2(iv*ii*Math.sin(ik),h9*ix+iv*Math.cos(ik)));io+=ic?iw+ii*f8:iw;if(ic^ia>=iC^ir>=iC){var ij=cZ(aw(id),aw(iu));fl(ij);var il=cZ(d3,ij);fl(il);var ie=(ic^iw>=0?-1:1)*cg(il[2]);if(iD>ie||iD===ie&&(ij[0]||ij[1])){iA+=ic^iw>=0?1:-1}}if(!iy++){break}ia=ir,ig=ib,h9=ix,id=iu}}return(io<-gn||io<gn&&fQ<0)^iA&1}function aM(ic){var id=Math.cos(ic),ib=id>0,ie=cH(id)>gn,ig=b6(ic,6*K);return eh(ia,ih,ig,ib?[0,-ic]:[-ge,ic-ge]);function ia(ij,ii){return Math.cos(ij)*Math.cos(ii)>id}function ih(io){var im,il,ii,ik,ij;return{lineStart:function(){ik=ii=false;ij=1},point:function(iq,ip){var iv=[iq,ip],iu,ir=ia(iq,ip),iw=ib?ir?0:d3(iq,ip):ir?d3(iq+(iq<0?ge:-ge),ip):0;if(!im&&(ik=ii=ir)){io.lineStart()}if(ir!==ii){iu=h9(im,iv);if(eT(im,iu)||eT(iv,iu)){iv[0]+=gn;iv[1]+=gn;ir=ia(iv[0],iv[1])}}if(ir!==ii){ij=0;if(ir){io.lineStart();iu=h9(iv,im);io.point(iu[0],iu[1])}else{iu=h9(im,iv);io.point(iu[0],iu[1]);io.lineEnd()}im=iu}else{if(ie&&im&&ib^ir){var it;if(!(iw&il)&&(it=h9(iv,im,true))){ij=0;if(ib){io.lineStart();io.point(it[0][0],it[0][1]);io.point(it[1][0],it[1][1]);io.lineEnd()}else{io.point(it[1][0],it[1][1]);io.lineEnd();io.lineStart();io.point(it[0][0],it[0][1])}}}}if(ir&&(!im||!eT(im,iv))){io.point(iv[0],iv[1])}im=iv,ii=ir,il=iw},lineEnd:function(){if(ii){io.lineEnd()}im=null},clean:function(){return ij|(ik&&ii)<<1}}}function h9(iL,iK,im){var ik=aw(iL),ii=aw(iK);var it=[1,0,0],ip=cZ(ik,ii),iw=az(ip,ip),iJ=ip[0],iC=iw-iJ*iJ;if(!iC){return !im&&iL}var iF=id*iw/iC,iE=-id*iJ/iC,iM=cZ(it,ip),iD=gf(it,iF),iB=gf(ip,iE);cC(iD,iB);var iy=iM,ix=az(iD,iy),io=az(iy,iy),iv=ix*ix-io*(az(iD,iD)-1);if(iv<0){return}var iz=Math.sqrt(iv),iA=gf(iy,(-ix-iz)/io);cC(iA,iD);iA=h5(iA);if(!im){return iA}var il=iL[0],ij=iK[0],iH=iL[1],iG=iK[1],ir;if(ij<il){ir=il,il=ij,ij=ir}var iq=ij-il,iN=cH(iq-ge)<gn,iI=iN||iq<gn;if(!iN&&iG<iH){ir=iH,iH=iG,iG=ir}if(iI?iN?iH+iG>0^iA[1]<(cH(iA[0]-il)<gn?iH:iG):iH<=iA[1]&&iA[1]<=iG:iq>ge^(il<=iA[0]&&iA[0]<=ij)){var iu=gf(iy,(-ix+iz)/io);cC(iu,iD);return[iA,h5(iu)]}}function d3(ij,ii){var il=ib?ic:ge-ic,ik=0;if(ij<-il){ik|=1}else{if(ij>il){ik|=2}}if(ii<-il){ik|=4}else{if(ii>il){ik|=8}}return ik}}function al(h9,ib,d3,ia){return function(ip){var ik=ip.a,ij=ip.b,id=ik.x,io=ik.y,ii=ij.x,ih=ij.y,ig=0,ie=1,im=ii-id,il=ih-io,ic;ic=h9-id;if(!im&&ic>0){return}ic/=im;if(im<0){if(ic<ig){return}if(ic<ie){ie=ic}}else{if(im>0){if(ic>ie){return}if(ic>ig){ig=ic}}}ic=d3-id;if(!im&&ic<0){return}ic/=im;if(im<0){if(ic>ie){return}if(ic>ig){ig=ic}}else{if(im>0){if(ic<ig){return}if(ic<ie){ie=ic}}}ic=ib-io;if(!il&&ic>0){return}ic/=il;if(il<0){if(ic<ig){return}if(ic<ie){ie=ic}}else{if(il>0){if(ic>ie){return}if(ic>ig){ig=ic}}}ic=ia-io;if(!il&&ic<0){return}ic/=il;if(il<0){if(ic>ie){return}if(ic>ig){ig=ic}}else{if(il>0){if(ic<ig){return}if(ic<ie){ie=ic}}}if(ig>0){ip.a={x:id+ig*im,y:io+ig*il}}if(ie<1){ip.b={x:id+ie*im,y:io+ie*il}}return ip}}var cK=1000000000;hm.geo.clipExtent=function(){var ia,id,h9,ib,ie,ic,d3={stream:function(ig){if(ie){ie.valid=false}ie=ic(ig);ie.valid=true;return ie},extent:function(ig){if(!arguments.length){return[[ia,id],[h9,ib]]}ic=ee(ia=+ig[0][0],id=+ig[0][1],h9=+ig[1][0],ib=+ig[1][1]);if(ie){ie.valid=false,ie=null}return d3}};return d3.extent([[0,0],[960,500]])};function ee(h9,ic,d3,ia){return function(il){var ih=il,ir=R(),ii=al(h9,ic,d3,ia),iA,it,ip;var iE={point:iz,lineStart:iw,lineEnd:iC,polygonStart:function(){il=ir;iA=[];it=[];iB=true},polygonEnd:function(){il=ih;iA=hm.merge(iA);var iG=iv([h9,ia]),iF=iB&&iG,iH=iA.length;if(iF||iH){il.polygonStart();if(iF){il.lineStart();iq(null,null,1,il);il.lineEnd()}if(iH){cs(iA,id,iG,iq,il)}il.polygonEnd()}iA=it=ip=null}};function iv(iF){var iN=0,iG=it.length,iL=iF[1];for(var iJ=0;iJ<iG;++iJ){for(var iI=1,iO=it[iJ],iH=iO.length,iM=iO[0],iK;iI<iH;++iI){iK=iO[iI];if(iM[1]<=iL){if(iK[1]>iL&&e0(iM,iK,iF)>0){++iN}}else{if(iK[1]<=iL&&e0(iM,iK,iF)<0){--iN}}iM=iK}}return iN!==0}function iq(iK,iJ,iI,iH){var iG=0,iF=0;if(iK==null||(iG=ib(iK,iI))!==(iF=ib(iJ,iI))||ie(iK,iJ)<0^iI>0){do{iH.point(iG===0||iG===3?h9:d3,iG>1?ia:ic)}while((iG=(iG+iI+4)%4)!==iF)}else{iH.point(iJ[0],iJ[1])}}function iu(iF,iG){return h9<=iF&&iF<=d3&&ic<=iG&&iG<=ia}function iz(iF,iG){if(iu(iF,iG)){il.point(iF,iG)}}var iy,im,ix,iD,ik,ij,io,iB;function iw(){iE.point=ig;if(it){it.push(ip=[])}io=true;ij=false;iD=ik=NaN}function iC(){if(iA){ig(iy,im);if(ix&&ij){ir.rejoin()}iA.push(ir.buffer())}iE.point=iz;if(ij){il.lineEnd()}}function ig(iF,iI){iF=Math.max(-cK,Math.min(cK,iF));iI=Math.max(-cK,Math.min(cK,iI));var iH=iu(iF,iI);if(it){ip.push([iF,iI])}if(io){iy=iF,im=iI,ix=iH;io=false;if(iH){il.lineStart();il.point(iF,iI)}}else{if(iH&&ij){il.point(iF,iI)}else{var iG={a:{x:iD,y:ik},b:{x:iF,y:iI}};if(ii(iG)){if(!ij){il.lineStart();il.point(iG.a.x,iG.a.y)}il.point(iG.b.x,iG.b.y);if(!iH){il.lineEnd()}iB=false}else{if(iH){il.lineStart();il.point(iF,iI);iB=false}}}}iD=iF,ik=iI,ij=iH}return iE};function ib(ih,ig){return cH(ih[0]-h9)<gn?ig>0?0:3:cH(ih[0]-d3)<gn?ig>0?2:1:cH(ih[1]-ic)<gn?ig>0?1:0:ig>0?3:2}function id(ih,ig){return ie(ih.x,ig.x)}function ie(ij,ih){var ii=ib(ij,1),ig=ib(ih,1);return ii!==ig?ii-ig:ii===0?ih[1]-ij[1]:ii===1?ij[0]-ih[0]:ii===2?ij[1]-ih[1]:ih[0]-ij[0]}}function b8(ib){var ia=0,h9=ge/3,d3=fi(ib),ic=d3(ia,h9);ic.parallels=function(id){if(!arguments.length){return[ia/ge*180,h9/ge*180]}return d3(ia=id[0]*ge/180,h9=id[1]*ge/180)};return ic}function O(h9,d3){var ic=Math.sin(h9),ie=(ic+Math.sin(d3))/2,id=1+ic*(2*ie-ic),ib=Math.sqrt(id)/ie;function ia(ih,ig){var ii=Math.sqrt(id-2*ie*Math.sin(ig))/ie;return[ii*Math.sin(ih*=ie),ib-ii*Math.cos(ih)]}ia.invert=function(ig,ii){var ih=ib-ii;return[Math.atan2(ig,ih)/ie,cg((id-(ig*ig+ih*ih)*ie*ie)/(2*ie))]};return ia}(hm.geo.conicEqualArea=function(){return b8(O)}).raw=O;hm.geo.albers=function(){return hm.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};hm.geo.albersUsa=function(){var h9=hm.geo.albers();var id=hm.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var ia=hm.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var ig,d3={point:function(ii,ij){ig=[ii,ij]}},ic,ie,ib;function ih(ij){var ii=ij[0],ik=ij[1];ig=null;(ic(ii,ik),ig)||(ie(ii,ik),ig)||ib(ii,ik);return ig}ih.invert=function(il){var ij=h9.scale(),ik=h9.translate(),ii=(il[0]-ik[0])/ij,im=(il[1]-ik[1])/ij;return(im>=0.12&&im<0.234&&ii>=-0.425&&ii<-0.214?id:im>=0.166&&im<0.234&&ii>=-0.214&&ii<-0.115?ia:h9).invert(il)};ih.stream=function(ik){var ij=h9.stream(ik),il=id.stream(ik),ii=ia.stream(ik);return{point:function(im,io){ij.point(im,io);il.point(im,io);ii.point(im,io)},sphere:function(){ij.sphere();il.sphere();ii.sphere()},lineStart:function(){ij.lineStart();il.lineStart();ii.lineStart()},lineEnd:function(){ij.lineEnd();il.lineEnd();ii.lineEnd()},polygonStart:function(){ij.polygonStart();il.polygonStart();ii.polygonStart()},polygonEnd:function(){ij.polygonEnd();il.polygonEnd();ii.polygonEnd()}}};ih.precision=function(ii){if(!arguments.length){return h9.precision()}h9.precision(ii);id.precision(ii);ia.precision(ii);return ih};ih.scale=function(ii){if(!arguments.length){return h9.scale()}h9.scale(ii);id.scale(ii*0.35);ia.scale(ii);return ih.translate(h9.translate())};ih.translate=function(ik){if(!arguments.length){return h9.translate()}var ij=h9.scale(),ii=+ik[0],il=+ik[1];ic=h9.translate(ik).clipExtent([[ii-0.455*ij,il-0.238*ij],[ii+0.455*ij,il+0.238*ij]]).stream(d3).point;ie=id.translate([ii-0.307*ij,il+0.201*ij]).clipExtent([[ii-0.425*ij+gn,il+0.12*ij+gn],[ii-0.214*ij-gn,il+0.234*ij-gn]]).stream(d3).point;ib=ia.translate([ii-0.205*ij,il+0.212*ij]).clipExtent([[ii-0.214*ij+gn,il+0.166*ij+gn],[ii-0.115*ij-gn,il+0.234*ij-gn]]).stream(d3).point;return ih};return ih.scale(1070)};var fO,C,dB={point:aI,lineStart:aI,lineEnd:aI,polygonStart:function(){C=0;dB.lineStart=cM},polygonEnd:function(){dB.lineStart=dB.lineEnd=dB.point=aI;fO+=cH(C/2)}};function cM(){var ib,d3,h9,ia;dB.point=function(id,ie){dB.point=ic;ib=h9=id,d3=ia=ie};function ic(id,ie){C+=ia*id-h9*ie;h9=id,ia=ie}dB.lineEnd=function(){ic(ib,d3)}}var eM,eo,eK,en;var ay={point:cU,lineStart:aI,lineEnd:aI,polygonStart:aI,polygonEnd:aI};function cU(d3,h9){if(d3<eM){eM=d3}if(d3>eK){eK=d3}if(h9<eo){eo=h9}if(h9>en){en=h9}}function ck(){var ia=g6(4.5),h9=[];var ig={point:d3,lineStart:function(){ig.point=ie},lineEnd:id,polygonStart:function(){ig.lineEnd=ib},polygonEnd:function(){ig.lineEnd=id;ig.point=d3},pointRadius:function(ih){ia=g6(ih);return ig},result:function(){if(h9.length){var ih=h9.join("");h9=[];return ih}}};function d3(ih,ii){h9.push("M",ih,",",ii,ia)}function ie(ih,ii){h9.push("M",ih,",",ii);ig.point=ic}function ic(ih,ii){h9.push("L",ih,",",ii)}function id(){ig.point=d3}function ib(){h9.push("Z")}return ig}function g6(d3){return"m0,"+d3+"a"+d3+","+d3+" 0 1,1 0,"+-2*d3+"a"+d3+","+d3+" 0 1,1 0,"+2*d3+"z"}var g5={point:cQ,lineStart:fS,lineEnd:cP,polygonStart:function(){g5.lineStart=b1},polygonEnd:function(){g5.point=cQ;g5.lineStart=fS;g5.lineEnd=cP}};function cQ(d3,h9){dK+=d3;dn+=h9;++c7}function fS(){var d3,h9;g5.point=function(ib,ic){g5.point=ia;cQ(d3=ib,h9=ic)};function ia(ib,ig){var id=ib-d3,ic=ig-h9,ie=Math.sqrt(id*id+ic*ic);dJ+=ie*(d3+ib)/2;dm+=ie*(h9+ig)/2;c5+=ie;cQ(d3=ib,h9=ig)}}function cP(){g5.point=cQ}function b1(){var ib,d3,h9,ia;g5.point=function(id,ie){g5.point=ic;cQ(ib=h9=id,d3=ia=ie)};function ic(id,ii){var ig=id-h9,ie=ii-ia,ih=Math.sqrt(ig*ig+ie*ie);dJ+=ih*(h9+id)/2;dm+=ih*(ia+ii)/2;c5+=ih;ih=ia*id-h9*ii;dI+=ih*(h9+id);dl+=ih*(ia+ii);c4+=ih*3;cQ(h9=id,ia=ii)}g5.lineEnd=function(){ic(ib,d3)}}function cF(h9){var ic=4.5;var ig={point:d3,lineStart:function(){ig.point=ie},lineEnd:id,polygonStart:function(){ig.lineEnd=ia},polygonEnd:function(){ig.lineEnd=id;ig.point=d3},pointRadius:function(ih){ic=ih;return ig},result:aI};function d3(ih,ii){h9.moveTo(ih+ic,ii);h9.arc(ih,ii,ic,0,f8)}function ie(ih,ii){h9.moveTo(ih,ii);ig.point=ib}function ib(ih,ii){h9.lineTo(ih,ii)}function id(){ig.point=d3}function ia(){h9.closePath()}return ig}function fP(ie){var ic=0.5,id=Math.cos(30*K),ig=16;function ia(ih){return(ig?ib:d3)(ih)}function d3(ih){return eH(ih,function(ii,ij){ii=ie(ii,ij);ih.point(ii[0],ii[1])})}function ib(io){var iu,iA,iz,ip,iD,ir,ii,ij,iC,ik,iE,iq,iv;var il={point:iy,lineStart:it,lineEnd:iB,polygonStart:function(){io.polygonStart();il.lineStart=im},polygonEnd:function(){io.polygonEnd();il.lineStart=it}};function iy(iF,iG){iF=ie(iF,iG);io.point(iF[0],iF[1])}function it(){iC=NaN;il.point=ih;io.lineStart()}function ih(iG,iF){var iI=aw([iG,iF]),iH=ie(iG,iF);h9(iC,ik,ij,iE,iq,iv,iC=iH[0],ik=iH[1],ij=iG,iE=iI[0],iq=iI[1],iv=iI[2],ig,io);io.point(iC,ik)}function iB(){il.point=iy;io.lineEnd()}function im(){it();il.point=ix;il.lineEnd=iw}function ix(iG,iF){ih(iu=iG,iA=iF),iz=iC,ip=ik,iD=iE,ir=iq,ii=iv;il.point=ih}function iw(){h9(iC,ik,ij,iE,iq,iv,iz,ip,iu,iD,ir,ii,ig,io);il.lineEnd=iB;iB()}return il}function h9(iE,io,ij,iL,ir,iA,iD,im,ii,iJ,iq,iy,iI,ip){var iw=iD-iE,iv=im-io,iK=iw*iw+iv*iv;if(iK>4*ic&&iI--){var iH=iL+iJ,iG=ir+iq,iF=iA+iy,iz=Math.sqrt(iH*iH+iG*iG+iF*iF),iC=Math.asin(iF/=iz),ih=cH(cH(iF)-1)<gn||cH(ij-ii)<gn?(ij+ii)/2:Math.atan2(iG,iH),ix=ie(ih,iC),iB=ix[0],il=ix[1],ik=iB-iE,iu=il-io,it=iv*ik-iw*iu;if(it*it/iK>ic||cH((iw*ik+iv*iu)/iK-0.5)>0.3||iL*iJ+ir*iq+iA*iy<id){h9(iE,io,ij,iL,ir,iA,iB,il,ih,iH/=iz,iG/=iz,iF,iI,ip);ip.point(iB,il);h9(iB,il,ih,iH,iG,iF,iD,im,ii,iJ,iq,iy,iI,ip)}}}ia.precision=function(ih){if(!arguments.length){return Math.sqrt(ic)}ig=(ic=ih*ih)>0&&16;return ia};return ia}hm.geo.path=function(){var ie=4.5,h9,ib,ic,d3,ia;function ig(ih){if(ih){if(typeof ie==="function"){d3.pointRadius(+ie.apply(this,arguments))}if(!ia||!ia.valid){ia=ic(d3)}hm.geo.stream(ih,ia)}return d3.result()}ig.area=function(ih){fO=0;hm.geo.stream(ih,ic(dB));return fO};ig.centroid=function(ih){dK=dn=c7=dJ=dm=c5=dI=dl=c4=0;hm.geo.stream(ih,ic(g5));return c4?[dI/c4,dl/c4]:c5?[dJ/c5,dm/c5]:c7?[dK/c7,dn/c7]:[NaN,NaN]};ig.bounds=function(ih){eK=en=-(eM=eo=Infinity);hm.geo.stream(ih,ic(ay));return[[eM,eo],[eK,en]]};ig.projection=function(ih){if(!arguments.length){return h9}ic=(h9=ih)?ih.stream||hf(ih):gl;return id()};ig.context=function(ih){if(!arguments.length){return ib}d3=(ib=ih)==null?new ck():new cF(ih);if(typeof ie!=="function"){d3.pointRadius(ie)}return id()};ig.pointRadius=function(ih){if(!arguments.length){return ie}ie=typeof ih==="function"?ih:(d3.pointRadius(+ih),+ih);return ig};function id(){ia=null;return ig}return ig.projection(hm.geo.albersUsa()).context(null)};function hf(h9){var d3=fP(function(ia,ib){return h9([ia*hD,ib*hD])});return function(ia){return ci(d3(ia))}}hm.geo.transform=function(d3){return{stream:function(ib){var ia=new ea(ib);for(var h9 in d3){ia[h9]=d3[h9]}return ia}}};function ea(d3){this.stream=d3}ea.prototype={point:function(d3,h9){this.stream.point(d3,h9)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function eH(h9,d3){return{point:d3,sphere:function(){h9.sphere()},lineStart:function(){h9.lineStart()},lineEnd:function(){h9.lineEnd()},polygonStart:function(){h9.polygonStart()},polygonEnd:function(){h9.polygonEnd()}}}hm.geo.projection=fB;hm.geo.projectionMutator=fi;function fB(d3){return fi(function(){return d3})()}function fi(io){var ib,iu,ig,iq=fP(function(iz,iA){iz=ib(iz,iA);return[iz[0]*it+id,ia-iz[1]*it]}),it=150,il=480,ij=250,ir=0,ik=0,ih=0,ic=0,ip=0,id,ia,iy=m,iv=gl,d3=null,h9=null,ie;function ix(iz){iz=ig(iz[0]*K,iz[1]*K);return[iz[0]*it+id,ia-iz[1]*it]}function im(iz){iz=ig.invert((iz[0]-id)/it,(ia-iz[1])/it);return iz&&[iz[0]*hD,iz[1]*hD]}ix.stream=function(iz){if(ie){ie.valid=false}ie=ci(iy(iu,iq(iv(iz))));ie.valid=true;return ie};ix.clipAngle=function(iz){if(!arguments.length){return d3}iy=iz==null?(d3=iz,m):aM((d3=+iz)*K);return ii()};ix.clipExtent=function(iz){if(!arguments.length){return h9}h9=iz;iv=iz?ee(iz[0][0],iz[0][1],iz[1][0],iz[1][1]):gl;return ii()};ix.scale=function(iz){if(!arguments.length){return it}it=+iz;return iw()};ix.translate=function(iz){if(!arguments.length){return[il,ij]}il=+iz[0];ij=+iz[1];return iw()};ix.center=function(iz){if(!arguments.length){return[ir*hD,ik*hD]}ir=iz[0]%360*K;ik=iz[1]%360*K;return iw()};ix.rotate=function(iz){if(!arguments.length){return[ih*hD,ic*hD,ip*hD]}ih=iz[0]%360*K;ic=iz[1]%360*K;ip=iz.length>2?iz[2]%360*K:0;return iw()};hm.rebind(ix,iq,"precision");function iw(){ig=e6(iu=dG(ih,ic,ip),ib);var iz=ib(ir,ik);id=il-iz[0]*it;ia=ij+iz[1]*it;return ii()}function ii(){if(ie){ie.valid=false,ie=null}return ix}return function(){ib=io.apply(this,arguments);ix.invert=ib.invert&&im;return iw()}}function ci(d3){return eH(d3,function(h9,ia){d3.point(h9*K,ia*K)})}function bA(h9,d3){return[h9,d3]}(hm.geo.equirectangular=function(){return fB(bA)}).raw=bA.invert=bA;hm.geo.rotation=function(h9){h9=dG(h9[0]%360*K,h9[1]*K,h9.length>2?h9[2]*K:0);function d3(ia){ia=h9(ia[0]*K,ia[1]*K);return ia[0]*=hD,ia[1]*=hD,ia}d3.invert=function(ia){ia=h9.invert(ia[0]*K,ia[1]*K);return ia[0]*=hD,ia[1]*=hD,ia};return d3};function bJ(h9,d3){return[h9>ge?h9-f8:h9<-ge?h9+f8:h9,d3]}bJ.invert=bA;function dG(ia,h9,d3){return ia?h9||d3?e6(e1(ia),bV(h9,d3)):e1(ia):h9||d3?bV(h9,d3):bJ}function gZ(d3){return function(ia,h9){return ia+=d3,[ia>ge?ia-f8:ia<-ge?ia+f8:ia,h9]}}function e1(h9){var d3=gZ(h9);d3.invert=gZ(-h9);return d3}function bV(id,h9){var ic=Math.cos(id),ie=Math.sin(id),d3=Math.cos(h9),ia=Math.sin(h9);function ib(ii,ih){var ik=Math.cos(ih),ig=Math.cos(ii)*ik,im=Math.sin(ii)*ik,il=Math.sin(ih),ij=il*ic+ig*ie;return[Math.atan2(im*d3-ij*ia,ig*ic-il*ie),cg(ij*d3+im*ia)]}ib.invert=function(ii,ih){var ik=Math.cos(ih),ig=Math.cos(ii)*ik,im=Math.sin(ii)*ik,il=Math.sin(ih),ij=il*d3-im*ia;return[Math.atan2(im*d3+il*ia,ig*ic+ij*ie),cg(ij*ic-ig*ie)]};return ib}hm.geo.circle=function(){var h9=[0,0],ic,d3=6,ia;function ib(){var id=typeof h9==="function"?h9.apply(this,arguments):h9,ig=dG(-id[0]*K,-id[1]*K,0).invert,ie=[];ia(null,null,1,{point:function(ih,ii){ie.push(ih=ig(ih,ii));ih[0]*=hD,ih[1]*=hD}});return{type:"Polygon",coordinates:[ie]}}ib.origin=function(id){if(!arguments.length){return h9}h9=id;return ib};ib.angle=function(id){if(!arguments.length){return ic}ia=b6((ic=+id)*K,d3*K);return ib};ib.precision=function(id){if(!arguments.length){return d3}ia=b6(ic*K,(d3=+id)*K);return ib};return ib.angle(90)};function b6(d3,h9){var ib=Math.cos(d3),ia=Math.sin(d3);return function(ij,ii,ih,ig){var ie=ih*h9;if(ij!=null){ij=hQ(ib,ij);ii=hQ(ib,ii);if(ih>0?ij<ii:ij>ii){ij+=ih*f8}}else{ij=d3+ih*f8;ii=d3-0.5*ie}for(var ic,id=ij;ih>0?id>ii:id<ii;id-=ie){ig.point((ic=h5([ib,-ia*Math.cos(id),-ia*Math.sin(id)]))[0],ic[1])}}}function hQ(ia,d3){var h9=aw(d3);h9[0]-=ia;fl(h9);var ib=ae(-h9[1]);return((-h9[2]<0?-ib:ib)+2*Math.PI-gn)%(2*Math.PI)}hm.geo.distance=function(ig,ie){var ih=(ie[0]-ig[0])*K,ij=ig[1]*K,ii=ie[1]*K,ic=Math.sin(ih),h9=Math.cos(ih),id=Math.sin(ij),ia=Math.cos(ij),ib=Math.sin(ii),d3=Math.cos(ii),ik;return Math.atan2(Math.sqrt((ik=d3*ic)*ik+(ik=ia*ib-id*d3*h9)*ik),id*ib+ia*d3*h9)};hm.geo.graticule=function(){var io,iq,ir,it,ib,ic,id,ig,il=10,ik=il,ih=90,ie=360,ij,ii,ia,h9,im=2.5;function ip(){return{type:"MultiLineString",coordinates:d3()}}function d3(){return hm.range(Math.ceil(it/ih)*ih,ir,ih).map(ia).concat(hm.range(Math.ceil(ig/ie)*ie,id,ie).map(h9)).concat(hm.range(Math.ceil(iq/il)*il,io,il).filter(function(iu){return cH(iu%ih)>gn}).map(ij)).concat(hm.range(Math.ceil(ic/ik)*ik,ib,ik).filter(function(iu){return cH(iu%ie)>gn}).map(ii))}ip.lines=function(){return d3().map(function(iu){return{type:"LineString",coordinates:iu}})};ip.outline=function(){return{type:"Polygon",coordinates:[ia(it).concat(h9(id).slice(1),ia(ir).reverse().slice(1),h9(ig).reverse().slice(1))]}};ip.extent=function(iu){if(!arguments.length){return ip.minorExtent()}return ip.majorExtent(iu).minorExtent(iu)};ip.majorExtent=function(iu){if(!arguments.length){return[[it,ig],[ir,id]]}it=+iu[0][0],ir=+iu[1][0];ig=+iu[0][1],id=+iu[1][1];if(it>ir){iu=it,it=ir,ir=iu}if(ig>id){iu=ig,ig=id,id=iu}return ip.precision(im)};ip.minorExtent=function(iu){if(!arguments.length){return[[iq,ic],[io,ib]]}iq=+iu[0][0],io=+iu[1][0];ic=+iu[0][1],ib=+iu[1][1];if(iq>io){iu=iq,iq=io,io=iu}if(ic>ib){iu=ic,ic=ib,ib=iu}return ip.precision(im)};ip.step=function(iu){if(!arguments.length){return ip.minorStep()}return ip.majorStep(iu).minorStep(iu)};ip.majorStep=function(iu){if(!arguments.length){return[ih,ie]}ih=+iu[0],ie=+iu[1];return ip};ip.minorStep=function(iu){if(!arguments.length){return[il,ik]}il=+iu[0],ik=+iu[1];return ip};ip.precision=function(iu){if(!arguments.length){return im}im=+iu;ij=aL(ic,ib,90);ii=aK(iq,io,im);ia=aL(ig,id,90);h9=aK(it,ir,im);return ip};return ip.majorExtent([[-180,-90+gn],[180,90-gn]]).minorExtent([[-180,-80-gn],[180,80+gn]])};function aL(ia,h9,d3){var ib=hm.range(ia,h9-gn,d3).concat(h9);return function(ic){return ib.map(function(id){return[ic,id]})}}function aK(ib,ia,h9){var d3=hm.range(ib,ia-gn,h9).concat(ia);return function(ic){return d3.map(function(id){return[id,ic]})}}function hH(d3){return d3.source}function hO(d3){return d3.target}hm.geo.greatArc=function(){var ia=hH,h9,ib=hO,ic;function d3(){return{type:"LineString",coordinates:[h9||ia.apply(this,arguments),ic||ib.apply(this,arguments)]}}d3.distance=function(){return hm.geo.distance(h9||ia.apply(this,arguments),ic||ib.apply(this,arguments))};d3.source=function(id){if(!arguments.length){return ia}ia=id,h9=typeof id==="function"?null:id;return d3};d3.target=function(id){if(!arguments.length){return ib}ib=id,ic=typeof id==="function"?null:id;return d3};d3.precision=function(){return arguments.length?d3:0};return d3};hm.geo.interpolate=function(d3,h9){return j(d3[0]*K,d3[1]*K,h9[0]*K,h9[1]*K)};function j(ib,io,ia,il){var ie=Math.cos(io),im=Math.sin(io),ic=Math.cos(il),ik=Math.sin(il),ih=ie*Math.cos(ib),h9=ie*Math.sin(ib),ig=ic*Math.cos(ia),d3=ic*Math.sin(ia),ij=2*Math.asin(Math.sqrt(aF(il-io)+ie*ic*aF(ia-ib))),id=1/Math.sin(ij);var ii=ij?function(ir){var iv=Math.sin(ir*=ij)*id,iq=Math.sin(ij-ir)*id,ip=iq*ih+iv*ig,iu=iq*h9+iv*d3,it=iq*im+iv*ik;return[Math.atan2(iu,ip)*hD,Math.atan2(it,Math.sqrt(ip*ip+iu*iu))*hD]}:function(){return[ib*hD,io*hD]};ii.distance=ij;return ii}hm.geo.length=function(d3){dT=0;hm.geo.stream(d3,fX);return dT};var dT;var fX={sphere:aI,point:aI,lineStart:hK,lineEnd:aI,polygonStart:aI,polygonEnd:aI};function hK(){var h9,ia,d3;fX.point=function(id,ic){h9=id*K,ia=Math.sin(ic*=K),d3=Math.cos(ic);fX.point=ib};fX.lineEnd=function(){fX.point=fX.lineEnd=aI};function ib(id,ic){var ih=Math.sin(ic*=K),ii=Math.cos(ic),ie=cH((id*=K)-h9),ig=Math.cos(ie);dT+=Math.atan2(Math.sqrt((ie=ii*Math.sin(ie))*ie+(ie=d3*ih-ia*ii*ig)*ie),ia*ih+d3*ii*ig);h9=id,ia=ih,d3=ii}}function ez(ia,h9){function d3(ic,ib){var ig=Math.cos(ic),ie=Math.cos(ib),id=ia(ig*ie);return[id*ie*Math.sin(ic),id*Math.sin(ib)]}d3.invert=function(ib,ih){var ie=Math.sqrt(ib*ib+ih*ih),ig=h9(ie),ic=Math.sin(ig),id=Math.cos(ig);return[Math.atan2(ib*ic,ie*id),Math.asin(ie&&ih*ic/ie)]};return d3}var bu=ez(function(d3){return Math.sqrt(2/(1+d3))},function(d3){return 2*Math.asin(d3/2)});(hm.geo.azimuthalEqualArea=function(){return fB(bu)}).raw=bu;var bI=ez(function(d3){var h9=Math.acos(d3);return h9&&h9/Math.sin(h9)},gl);(hm.geo.azimuthalEquidistant=function(){return fB(bI)}).raw=bI;function fK(ia,h9){var d3=Math.cos(ia),ic=function(ig){return Math.tan(ge/4+ig/2)},ie=ia===h9?Math.sin(ia):Math.log(d3/Math.cos(h9))/Math.log(ic(h9)/ic(ia)),id=d3*Math.pow(ic(ia),ie)/ie;if(!ie){return aU}function ib(ih,ig){if(id>0){if(ig<-ep+gn){ig=-ep+gn}}else{if(ig>ep-gn){ig=ep-gn}}var ii=id/Math.pow(ic(ig),ie);return[ii*Math.sin(ie*ih),id-ii*Math.cos(ie*ih)]}ib.invert=function(ig,ij){var ii=id-ij,ih=ca(ie)*Math.sqrt(ig*ig+ii*ii);return[Math.atan2(ig,ii)/ie,2*Math.atan(Math.pow(id/ih,1/ie))-ep]};return ib}(hm.geo.conicConformal=function(){return b8(fK)}).raw=fK;function hz(ia,h9){var d3=Math.cos(ia),id=ia===h9?Math.sin(ia):(d3-Math.cos(h9))/(h9-ia),ic=d3/id+ia;if(cH(id)<gn){return bA}function ib(ig,ie){var ih=ic-ie;return[ih*Math.sin(id*ig),ic-ih*Math.cos(id*ig)]}ib.invert=function(ie,ih){var ig=ic-ih;return[Math.atan2(ie,ig)/id,ic-ca(id)*Math.sqrt(ie*ie+ig*ig)]};return ib}(hm.geo.conicEquidistant=function(){return b8(hz)}).raw=hz;var eG=ez(function(d3){return 1/d3},Math.atan);(hm.geo.gnomonic=function(){return fB(eG)}).raw=eG;function aU(h9,d3){return[h9,Math.log(Math.tan(ge/4+d3/2))]}aU.invert=function(d3,h9){return[d3,2*Math.atan(Math.exp(h9))-ep]};function c6(id){var d3=fB(id),ic=d3.scale,ib=d3.translate,h9=d3.clipExtent,ia;d3.scale=function(){var ie=ic.apply(d3,arguments);return ie===d3?ia?d3.clipExtent(null):d3:ie};d3.translate=function(){var ie=ib.apply(d3,arguments);return ie===d3?ia?d3.clipExtent(null):d3:ie};d3.clipExtent=function(ih){var ig=h9.apply(d3,arguments);if(ig===d3){if(ia=ih==null){var ie=ge*ic(),ii=ib();h9([[ii[0]-ie,ii[1]-ie],[ii[0]+ie,ii[1]+ie]])}}else{if(ia){ig=null}}return ig};return d3.clipExtent(null)}(hm.geo.mercator=function(){return c6(aU)}).raw=aU;var fZ=ez(function(){return 1},Math.asin);(hm.geo.orthographic=function(){return fB(fZ)}).raw=fZ;var ce=ez(function(d3){return 1/(1+d3)},function(d3){return 2*Math.atan(d3)});(hm.geo.stereographic=function(){return fB(ce)}).raw=ce;function ak(h9,d3){return[Math.log(Math.tan(ge/4+d3/2)),-h9]}ak.invert=function(d3,h9){return[-h9,2*Math.atan(Math.exp(d3))-ep]};(hm.geo.transverseMercator=function(){var h9=c6(ak),d3=h9.center,ia=h9.rotate;h9.center=function(ib){return ib?d3([-ib[1],ib[0]]):(ib=d3(),[ib[1],-ib[0]])};h9.rotate=function(ib){return ib?ia([ib[0],ib[1],ib.length>2?ib[2]+90:90]):(ib=ia(),[ib[0],ib[1],ib[2]-90])};return ia([0,0,90])}).raw=ak;hm.geom={};function hS(d3){return d3[0]}function hR(d3){return d3[1]}hm.geom.hull=function(h9){var d3=hS,ib=hR;if(arguments.length){return ia(h9)}function ia(ij){if(ij.length<3){return[]}var ie=S(d3),id=S(ib),ik,ic=ij.length,im=[],io=[];for(ik=0;ik<ic;ik++){im.push([+ie.call(this,ij[ik],ik),+id.call(this,ij[ik],ik),ik])}im.sort(h0);for(ik=0;ik<ic;ik++){io.push([im[ik][0],-im[ik][1]])}var ip=bq(im),ii=bq(io);var ig=ii[0]===ip[0],ih=ii[ii.length-1]===ip[ip.length-1],il=[];for(ik=ip.length-1;ik>=0;--ik){il.push(ij[im[ip[ik]][2]])}for(ik=+ig;ik<ii.length-ih;++ik){il.push(ij[im[ii[ik]][2]])}return il}ia.x=function(ic){return arguments.length?(d3=ic,ia):d3};ia.y=function(ic){return arguments.length?(ib=ic,ia):ib};return ia};function bq(ia){var ic=ia.length,ib=[0,1],h9=2;for(var d3=2;d3<ic;d3++){while(h9>1&&e0(ia[ib[h9-2]],ia[ib[h9-1]],ia[d3])<=0){--h9}ib[h9++]=d3}return ib.slice(0,h9)}function h0(h9,d3){return h9[0]-d3[0]||h9[1]-d3[1]}hm.geom.polygon=function(d3){h3(d3,eq);return d3};var eq=hm.geom.polygon.prototype=[];eq.area=function(){var ia=-1,ic=this.length,h9,d3=this[ic-1],ib=0;while(++ia<ic){h9=d3;d3=this[ia];ib+=h9[1]*d3[0]-h9[0]*d3[1]}return ib*0.5};eq.centroid=function(ib){var ic=-1,ig=this.length,h9=0,ie=0,ia,d3=this[ig-1],id;if(!arguments.length){ib=-1/(6*this.area())}while(++ic<ig){ia=d3;d3=this[ic];id=ia[0]*d3[1]-d3[0]*ia[1];h9+=(ia[0]+d3[0])*id;ie+=(ia[1]+d3[1])*id}return[h9*ib,ie*ib]};eq.clip=function(ig){var ii,ic=gU(ig),ib=-1,d3=this.length-gU(this),ia,h9,ij=this[d3-1],ih,ie,id;while(++ib<d3){ii=ig.slice();ig.length=0;ih=this[ib];ie=ii[(h9=ii.length-ic)-1];ia=-1;while(++ia<h9){id=ii[ia];if(F(id,ij,ih)){if(!F(ie,ij,ih)){ig.push(gj(ie,id,ij,ih))}ig.push(id)}else{if(F(ie,ij,ih)){ig.push(gj(ie,id,ij,ih))}}ie=id}if(ic){ig.push(ig[0])}ij=ih}return ig};function F(ia,h9,d3){return(d3[0]-h9[0])*(ia[1]-h9[1])<(d3[1]-h9[1])*(ia[0]-h9[0])}function gj(ie,ic,ij,ig){var ia=ie[0],d3=ij[0],ib=ic[0]-ia,ik=ig[0]-d3,ii=ie[1],id=ij[1],ih=ic[1]-ii,il=ig[1]-id,h9=(ik*(ii-id)-il*(ia-d3))/(il*ib-ik*ih);return[ia+h9*ib,ii+h9*ih]}function gU(ia){var h9=ia[0],d3=ia[ia.length-1];return !(h9[0]-d3[0]||h9[1]-d3[1])}var gP,ex,cS,de=[],hc,d2,eu=[];function gD(){u(this);this.edge=this.site=this.circle=null}function eY(h9){var d3=de.pop()||new gD();d3.site=h9;return d3}function gC(d3){eN(d3);cS.remove(d3);de.push(d3);u(d3)}function ho(h9){var d3=h9.circle,ii=d3.x,ie=d3.cy,ic={x:ii,y:ie},id=h9.P,ib=h9.N,ih=[h9];gC(h9);var ik=id;while(ik.circle&&cH(ii-ik.circle.x)<gn&&cH(ie-ik.circle.cy)<gn){id=ik.P;ih.unshift(ik);gC(ik);ik=id}ih.unshift(ik);eN(ik);var ia=ib;while(ia.circle&&cH(ii-ia.circle.x)<gn&&cH(ie-ia.circle.cy)<gn){ib=ia.N;ih.push(ia);gC(ia);ia=ib}ih.push(ia);eN(ia);var ij=ih.length,ig;for(ig=1;ig<ij;++ig){ia=ih[ig];ik=ih[ig-1];cq(ia.edge,ik.site,ia.site,ic)}ik=ih[0];ia=ih[ij-1];ia.edge=hi(ik.site,ia.site,null,ic);X(ik);X(ia)}function dv(ij){var ih=ij.x,il=ij.y,io,ik,iv,ip,im=cS._;while(im){iv=c8(im,il)-ih;if(iv>gn){im=im.L}else{ip=ih-gd(im,il);if(ip>gn){if(!im.R){io=im;break}im=im.R}else{if(iv>-gn){io=im.P;ik=im}else{if(ip>-gn){io=im;ik=im.N}else{io=ik=im}}break}}}var ib=eY(ij);cS.insert(io,ib);if(!io&&!ik){return}if(io===ik){eN(io);ik=eY(io.site);cS.insert(ib,ik);ib.edge=ik.edge=hi(io.site,ib.site);X(io);X(ik);return}if(!ik){ib.edge=hi(io.site,ib.site);return}eN(io);eN(ik);var ie=io.site,ii=ie.x,ig=ie.y,it=ij.x-ii,iq=ij.y-ig,d3=ik.site,ia=d3.x-ii,h9=d3.y-ig,iu=2*(it*h9-iq*ia),id=it*it+iq*iq,ic=ia*ia+h9*h9,ir={x:(h9*id-iq*ic)/iu+ii,y:(it*ic-ia*id)/iu+ig};cq(ik.edge,ie,d3,ir);ib.edge=hi(ie,ij,null,ir);ik.edge=hi(ij,d3,null,ir);X(io);X(ik)}function c8(ib,ic){var d3=ib.site,ik=d3.x,ij=d3.y,ii=ij-ic;if(!ii){return ik}var il=ib.P;if(!il){return -Infinity}d3=il.site;var ie=d3.x,id=d3.y,ia=id-ic;if(!ia){return ie}var h9=ie-ik,ih=1/ii-1/ia,ig=h9/ia;if(ih){return(-ig+Math.sqrt(ig*ig-2*ih*(h9*h9/(-2*ia)-id+ia/2+ij-ii/2)))/ih+ik}return(ik+ie)/2}function gd(h9,ia){var ib=h9.N;if(ib){return c8(ib,ia)}var d3=h9.site;return d3.y===ia?d3.x:Infinity}function bZ(d3){this.site=d3;this.edges=[]}bZ.prototype.prepare=function(){var ia=this.edges,d3=ia.length,h9;while(d3--){h9=ia[d3].edge;if(!h9.b||!h9.a){ia.splice(d3,1)}}ia.sort(v);return ia.length};function bz(iq){var ie=iq[0][0],id=iq[1][0],il=iq[0][1],ik=iq[1][1],ib,ij,d3,ii,ip=ex,ia=ip.length,io,im,ih,h9,ic,ig;while(ia--){io=ip[ia];if(!io||!io.prepare()){continue}ih=io.edges;h9=ih.length;im=0;while(im<h9){ig=ih[im].end(),d3=ig.x,ii=ig.y;ic=ih[++im%h9].start(),ib=ic.x,ij=ic.y;if(cH(d3-ib)>gn||cH(ii-ij)>gn){ih.splice(im,0,new hY(g7(io.site,ig,cH(d3-ie)<gn&&ik-ii>gn?{x:ie,y:cH(ib-ie)<gn?ij:ik}:cH(ii-ik)<gn&&id-d3>gn?{x:cH(ij-ik)<gn?ib:id,y:ik}:cH(d3-id)<gn&&ii-il>gn?{x:id,y:cH(ib-id)<gn?ij:il}:cH(ii-il)<gn&&d3-ie>gn?{x:cH(ij-il)<gn?ib:ie,y:il}:null),io.site,null));++h9}}}}function v(h9,d3){return d3.angle-h9.angle}function aW(){u(this);this.x=this.y=this.arc=this.site=this.cy=null}function X(ie){var ip=ie.P,im=ie.N;if(!ip||!im){return}var ih=ip.site,it=ie.site,d3=im.site;if(ih===d3){return}var ir=it.x,iq=it.y,ik=ih.x-ir,ii=ih.y-iq,ia=d3.x-ir,h9=d3.y-iq;var iu=2*(ik*h9-ii*ia);if(iu>=-eE){return}var id=ik*ik+ii*ii,ic=ia*ia+h9*h9,ij=(h9*id-ii*ic)/iu,ig=(ik*ic-ia*id)/iu,h9=ig+iq;var ib=eu.pop()||new aW();ib.arc=ie;ib.site=it;ib.x=ij+ir;ib.y=h9+Math.sqrt(ij*ij+ig*ig);ib.cy=h9;ie.circle=ib;var il=null,io=d2._;while(io){if(ib.y<io.y||ib.y===io.y&&ib.x<=io.x){if(io.L){io=io.L}else{il=io.P;break}}else{if(io.R){io=io.R}else{il=io;break}}}d2.insert(il,ib);if(!il){hc=ib}}function eN(d3){var h9=d3.circle;if(h9){if(!h9.P){hc=h9.N}d2.remove(h9);eu.push(h9);u(h9);d3.circle=null}}function hB(ia){var d3=gP,ib=al(ia[0][0],ia[0][1],ia[1][0],ia[1][1]),h9=d3.length,ic;while(h9--){ic=d3[h9];if(!bn(ic,ia)||!ib(ic)||cH(ic.a.x-ic.b.x)<gn&&cH(ic.a.y-ic.b.y)<gn){ic.a=ic.b=null;d3.splice(h9,1)}}}function bn(ik,io){var d3=ik.b;if(d3){return true}var h9=ik.a,ir=io[0][0],iq=io[1][0],id=io[0][1],ib=io[1][1],im=ik.l,ia=ik.r,ih=im.x,ig=im.y,ij=ia.x,ii=ia.y,ie=(ih+ij)/2,ic=(ig+ii)/2,il,ip;if(ii===ig){if(ie<ir||ie>=iq){return}if(ih>ij){if(!h9){h9={x:ie,y:id}}else{if(h9.y>=ib){return}}d3={x:ie,y:ib}}else{if(!h9){h9={x:ie,y:ib}}else{if(h9.y<id){return}}d3={x:ie,y:id}}}else{il=(ih-ij)/(ii-ig);ip=ic-il*ie;if(il<-1||il>1){if(ih>ij){if(!h9){h9={x:(id-ip)/il,y:id}}else{if(h9.y>=ib){return}}d3={x:(ib-ip)/il,y:ib}}else{if(!h9){h9={x:(ib-ip)/il,y:ib}}else{if(h9.y<id){return}}d3={x:(id-ip)/il,y:id}}}else{if(ig<ii){if(!h9){h9={x:ir,y:il*ir+ip}}else{if(h9.x>=iq){return}}d3={x:iq,y:il*iq+ip}}else{if(!h9){h9={x:iq,y:il*iq+ip}}else{if(h9.x<ir){return}}d3={x:ir,y:il*ir+ip}}}}ik.a=h9;ik.b=d3;return true}function H(h9,d3){this.l=h9;this.r=d3;this.a=this.b=null}function hi(ic,d3,ib,h9){var ia=new H(ic,d3);gP.push(ia);if(ib){cq(ia,ic,d3,ib)}if(h9){cq(ia,d3,ic,h9)}ex[ic.i].edges.push(new hY(ia,ic,d3));ex[d3.i].edges.push(new hY(ia,d3,ic));return ia}function g7(ib,ia,d3){var h9=new H(ib,null);h9.a=ia;h9.b=d3;gP.push(h9);return h9}function cq(h9,ib,d3,ia){if(!h9.a&&!h9.b){h9.a=ia;h9.l=ib;h9.r=d3}else{if(h9.l===d3){h9.b=ia}else{h9.a=ia}}}function hY(ib,ic,d3){var ia=ib.a,h9=ib.b;this.edge=ib;this.site=ic;this.angle=d3?Math.atan2(d3.y-ic.y,d3.x-ic.x):ib.l===ic?Math.atan2(h9.x-ia.x,ia.y-h9.y):Math.atan2(ia.x-h9.x,h9.y-ia.y)}hY.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function bb(){this._=null}function u(d3){d3.U=d3.C=d3.L=d3.R=d3.P=d3.N=null}bb.prototype={insert:function(ic,ib){var ia,h9,d3;if(ic){ib.P=ic;ib.N=ic.N;if(ic.N){ic.N.P=ib}ic.N=ib;if(ic.R){ic=ic.R;while(ic.L){ic=ic.L}ic.L=ib}else{ic.R=ib}ia=ic}else{if(this._){ic=db(this._);ib.P=null;ib.N=ic;ic.P=ic.L=ib;ia=ic}else{ib.P=ib.N=null;this._=ib;ia=null}}ib.L=ib.R=null;ib.U=ia;ib.C=true;ic=ib;while(ia&&ia.C){h9=ia.U;if(ia===h9.L){d3=h9.R;if(d3&&d3.C){ia.C=d3.C=false;h9.C=true;ic=h9}else{if(ic===ia.R){aj(this,ia);ic=ia;ia=ic.U}ia.C=false;h9.C=true;eR(this,h9)}}else{d3=h9.L;if(d3&&d3.C){ia.C=d3.C=false;h9.C=true;ic=h9}else{if(ic===ia.L){eR(this,ia);ic=ia;ia=ic.U}ia.C=false;h9.C=true;aj(this,h9)}}ia=ic.U}this._.C=false},remove:function(ic){if(ic.N){ic.N.P=ic.P}if(ic.P){ic.P.N=ic.N}ic.N=ic.P=null;var ib=ic.U,ia,ie=ic.L,d3=ic.R,h9,id;if(!ie){h9=d3}else{if(!d3){h9=ie}else{h9=db(d3)}}if(ib){if(ib.L===ic){ib.L=h9}else{ib.R=h9}}else{this._=h9}if(ie&&d3){id=h9.C;h9.C=ic.C;h9.L=ie;ie.U=h9;if(h9!==d3){ib=h9.U;h9.U=ic.U;ic=h9.R;ib.L=ic;h9.R=d3;d3.U=h9}else{h9.U=ib;ib=h9;ic=h9.R}}else{id=ic.C;ic=h9}if(ic){ic.U=ib}if(id){return}if(ic&&ic.C){ic.C=false;return}do{if(ic===this._){break}if(ic===ib.L){ia=ib.R;if(ia.C){ia.C=false;ib.C=true;aj(this,ib);ia=ib.R}if(ia.L&&ia.L.C||ia.R&&ia.R.C){if(!ia.R||!ia.R.C){ia.L.C=false;ia.C=true;eR(this,ia);ia=ib.R}ia.C=ib.C;ib.C=ia.R.C=false;aj(this,ib);ic=this._;break}}else{ia=ib.L;if(ia.C){ia.C=false;ib.C=true;eR(this,ib);ia=ib.L}if(ia.L&&ia.L.C||ia.R&&ia.R.C){if(!ia.L||!ia.L.C){ia.R.C=false;ia.C=true;aj(this,ia);ia=ib.L}ia.C=ib.C;ib.C=ia.L.C=false;eR(this,ib);ic=this._;break}}ia.C=true;ic=ib;ib=ib.U}while(!ic.C);if(ic){ic.C=false}}};function aj(d3,ia){var ic=ia,ib=ia.R,h9=ic.U;if(h9){if(h9.L===ic){h9.L=ib}else{h9.R=ib}}else{d3._=ib}ib.U=h9;ic.U=ib;ic.R=ib.L;if(ic.R){ic.R.U=ic}ib.L=ic}function eR(d3,ia){var ic=ia,ib=ia.L,h9=ic.U;if(h9){if(h9.L===ic){h9.L=ib}else{h9.R=ib}}else{d3._=ib}ib.U=h9;ic.U=ib;ic.L=ib.R;if(ic.L){ic.L.U=ic}ib.R=ic}function db(d3){while(d3.L){d3=d3.L}return d3}function g2(id,ie){var h9=id.sort(bl).pop(),ia,ib,ic;gP=[];ex=new Array(id.length);cS=new bb();d2=new bb();while(true){ic=hc;if(h9&&(!ic||h9.y<ic.y||h9.y===ic.y&&h9.x<ic.x)){if(h9.x!==ia||h9.y!==ib){ex[h9.i]=new bZ(h9);dv(h9);ia=h9.x,ib=h9.y}h9=id.pop()}else{if(ic){ho(ic.arc)}else{break}}}if(ie){hB(ie),bz(ie)}var d3={cells:ex,edges:gP};cS=d2=gP=ex=null;return d3}function bl(h9,d3){return d3.y-h9.y||d3.x-h9.x}hm.geom.voronoi=function(ib){var d3=hS,ig=hR,ic=d3,ia=ig,h9=hF;if(ib){return ie(ib)}function ie(im){var ih=new Array(im.length),ij=h9[0][0],il=h9[0][1],ii=h9[1][0],ik=h9[1][1];g2(id(im),h9).cells.forEach(function(io,it){var ip=io.edges,iq=io.site,ir=ih[it]=ip.length?ip.map(function(iv){var iu=iv.start();return[iu.x,iu.y]}):iq.x>=ij&&iq.x<=ii&&iq.y>=il&&iq.y<=ik?[[ij,ik],[ii,ik],[ii,il],[ij,il]]:[];ir.point=im[it]});return ih}function id(ih){return ih.map(function(ij,ii){return{x:Math.round(ic(ij,ii)/gn)*gn,y:Math.round(ia(ij,ii)/gn)*gn,i:ii}})}ie.links=function(ih){return g2(id(ih)).edges.filter(function(ii){return ii.l&&ii.r}).map(function(ii){return{source:ih[ii.l.i],target:ih[ii.r.i]}})};ie.triangles=function(ii){var ih=[];g2(id(ii)).cells.forEach(function(it,io){var ij=it.site,im=it.edges.sort(v),il=-1,ik=im.length,iq,iu,ip=im[ik-1].edge,ir=ip.l===ij?ip.r:ip.l;while(++il<ik){iq=ip;iu=ir;ip=im[il].edge;ir=ip.l===ij?ip.r:ip.l;if(io<iu.i&&io<ir.i&&gB(ij,iu,ir)<0){ih.push([ii[io],ii[iu.i],ii[ir.i]])}}});return ih};ie.x=function(ih){return arguments.length?(ic=S(d3=ih),ie):d3};ie.y=function(ih){return arguments.length?(ia=S(ig=ih),ie):ig};ie.clipExtent=function(ih){if(!arguments.length){return h9===hF?null:h9}h9=ih==null?hF:ih;return ie};ie.size=function(ih){if(!arguments.length){return h9===hF?null:h9&&h9[1]}return ie.clipExtent(ih&&[[0,0],ih])};return ie};var hF=[[-1000000,-1000000],[1000000,1000000]];function gB(h9,d3,ia){return(h9.x-ia.x)*(d3.y-h9.y)-(h9.x-d3.x)*(ia.y-h9.y)}hm.geom.delaunay=function(d3){return hm.geom.voronoi().triangles(d3)};hm.geom.quadtree=function(ig,h9,id,d3,ic){var ie=hS,ib=hR,ih;if(ih=arguments.length){ie=f4;ib=f2;if(ih===3){ic=id;d3=h9;id=h9=0}return ia(ig)}function ia(iC){var iz,im=S(ie),ik=S(ib),ip,iw,ix,iu,ii,it,io,iB;if(h9!=null){ii=h9,it=id,io=d3,iB=ic}else{io=iB=-(ii=it=Infinity);ip=[],iw=[];iu=iC.length;if(ih){for(ix=0;ix<iu;++ix){iz=iC[ix];if(iz.x<ii){ii=iz.x}if(iz.y<it){it=iz.y}if(iz.x>io){io=iz.x}if(iz.y>iB){iB=iz.y}ip.push(iz.x);iw.push(iz.y)}}else{for(ix=0;ix<iu;++ix){var iy=+im(iz=iC[ix],ix),il=+ik(iz,ix);if(iy<ii){ii=iy}if(il<it){it=il}if(iy>io){io=iy}if(il>iB){iB=il}ip.push(iy);iw.push(il)}}}var ir=io-ii,iq=iB-it;if(ir>iq){iB=it+ir}else{io=ii+iq}function ij(iF,iJ,iN,iK,iE,iM,iD,iL){if(isNaN(iN)||isNaN(iK)){return}if(iF.leaf){var iI=iF.x,iH=iF.y;if(iI!=null){if(cH(iI-iN)+cH(iH-iK)<0.01){iA(iF,iJ,iN,iK,iE,iM,iD,iL)}else{var iG=iF.point;iF.x=iF.y=iF.point=null;iA(iF,iG,iI,iH,iE,iM,iD,iL);iA(iF,iJ,iN,iK,iE,iM,iD,iL)}}else{iF.x=iN,iF.y=iK,iF.point=iJ}}else{iA(iF,iJ,iN,iK,iE,iM,iD,iL)}}function iA(iG,iJ,iN,iK,iE,iM,iD,iL){var iI=(iE+iD)*0.5,iF=(iM+iL)*0.5,iP=iN>=iI,iO=iK>=iF,iH=iO<<1|iP;iG.leaf=false;iG=iG.nodes[iH]||(iG.nodes[iH]=fI());if(iP){iE=iI}else{iD=iI}if(iO){iM=iF}else{iL=iF}ij(iG,iJ,iN,iK,iE,iM,iD,iL)}var iv=fI();iv.add=function(iD){ij(iv,iD,+im(iD,++ix),+ik(iD,ix),ii,it,io,iB)};iv.visit=function(iD){cN(iD,iv,ii,it,io,iB)};iv.find=function(iD){return ek(iv,iD[0],iD[1],ii,it,io,iB)};ix=-1;if(h9==null){while(++ix<iu){ij(iv,iC[ix],ip[ix],iw[ix],ii,it,io,iB)}--ix}else{iC.forEach(iv.add)}ip=iw=iC=iz=null;return iv}ia.x=function(ii){return arguments.length?(ie=ii,ia):ie};ia.y=function(ii){return arguments.length?(ib=ii,ia):ib};ia.extent=function(ii){if(!arguments.length){return h9==null?null:[[h9,id],[d3,ic]]}if(ii==null){h9=id=d3=ic=null}else{h9=+ii[0][0],id=+ii[0][1],d3=+ii[1][0],ic=+ii[1][1]}return ia};ia.size=function(ii){if(!arguments.length){return h9==null?null:[d3-h9,ic-id]}if(ii==null){h9=id=d3=ic=null}else{h9=id=0,d3=+ii[0],ic=+ii[1]}return ia};return ia};function f4(d3){return d3.x}function f2(d3){return d3.y}function fI(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cN(ic,ib,h9,ih,d3,ie){if(!ic(ib,h9,ih,d3,ie)){var ig=(h9+d3)*0.5,id=(ih+ie)*0.5,ia=ib.nodes;if(ia[0]){cN(ic,ia[0],h9,ih,ig,id)}if(ia[1]){cN(ic,ia[1],ig,ih,d3,id)}if(ia[2]){cN(ic,ia[2],h9,id,ig,ie)}if(ia[3]){cN(ic,ia[3],ig,id,d3,ie)}}}function ek(ie,ih,id,ia,ii,d3,ic){var ig=Infinity,h9;(function ib(ip,il,iw,ik,iv){if(il>d3||iw>ic||ik<ia||iv<ii){return}if(iy=ip.point){var iy,iB=ih-iy[0],iA=id-iy[1],iu=iB*iB+iA*iA;if(iu<ig){var ij=Math.sqrt(ig=iu);ia=ih-ij,ii=id-ij;d3=ih+ij,ic=id+ij;h9=iy}}var io=ip.nodes,it=(il+ik)*0.5,im=(iw+iv)*0.5,iz=ih>=it,ix=id>=im;for(var ir=ix<<1|iz,iq=ir+4;ir<iq;++ir){if(ip=io[ir&3]){switch(ir&3){case 0:ib(ip,il,iw,it,im);break;case 1:ib(ip,it,iw,ik,im);break;case 2:ib(ip,il,im,it,iv);break;case 3:ib(ip,it,im,ik,iv);break}}}})(ie,ia,ii,d3,ic);return h9}hm.interpolateRgb=aO;function aO(h9,d3){h9=hm.rgb(h9);d3=hm.rgb(d3);var ib=h9.r,ia=h9.g,ie=h9.b,id=d3.r-ib,ic=d3.g-ia,ig=d3.b-ie;return function(ih){return"#"+cw(Math.round(ib+id*ih))+cw(Math.round(ia+ic*ih))+cw(Math.round(ie+ig*ih))}}hm.interpolateObject=bN;function bN(h9,d3){var ib={},ic={},ia;for(ia in h9){if(ia in d3){ib[ia]=fD(h9[ia],d3[ia])}else{ic[ia]=h9[ia]}}for(ia in d3){if(!(ia in h9)){ic[ia]=d3[ia]}}return function(id){for(ia in ib){ic[ia]=ib[ia](id)}return ic}}hm.interpolateNumber=bH;function bH(h9,d3){h9=+h9,d3=+d3;return function(ia){return h9*(1-ia)+d3*ia}}hm.interpolateString=b2;function b2(ie,id){var ia=hA.lastIndex=hy.lastIndex=0,ic,h9,ig,ib=-1,ih=[],d3=[];ie=ie+"",id=id+"";while((ic=hA.exec(ie))&&(h9=hy.exec(id))){if((ig=h9.index)>ia){ig=id.slice(ia,ig);if(ih[ib]){ih[ib]+=ig}else{ih[++ib]=ig}}if((ic=ic[0])===(h9=h9[0])){if(ih[ib]){ih[ib]+=h9}else{ih[++ib]=h9}}else{ih[++ib]=null;d3.push({i:ib,x:bH(ic,h9)})}ia=hy.lastIndex}if(ia<id.length){ig=id.slice(ia);if(ih[ib]){ih[ib]+=ig}else{ih[++ib]=ig}}return ih.length<2?d3[0]?(id=d3[0].x,function(ii){return id(ii)+""}):function(){return id}:(id=d3.length,function(ij){for(var ii=0,ik;ii<id;++ii){ih[(ik=d3[ii]).i]=ik.x(ij)}return ih.join("")})}var hA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hy=new RegExp(hA.source,"g");hm.interpolate=fD;function fD(h9,d3){var ia=hm.interpolators.length,ib;while(--ia>=0&&!(ib=hm.interpolators[ia](h9,d3))){}return ib}hm.interpolators=[function(h9,d3){var ia=typeof d3;return(ia==="string"?an.has(d3)||/^(#|rgb\(|hsl\()/.test(d3)?aO:b2:d3 instanceof gW?aO:Array.isArray(d3)?eP:ia==="object"&&isNaN(d3)?bN:bH)(h9,d3)}];hm.interpolateArray=eP;function eP(ic,ia){var h9=[],ig=[],ib=ic.length,d3=ia.length,ie=Math.min(ic.length,ia.length),id;for(id=0;id<ie;++id){h9.push(fD(ic[id],ia[id]))}for(;id<ib;++id){ig[id]=ic[id]}for(;id<d3;++id){ig[id]=ia[id]}return function(ih){for(id=0;id<ie;++id){ig[id]=h9[id](ih)}return ig}}var hh=function(){return gl};var ac=hm.map({linear:hh,poly:aT,quad:function(){return b0},cubic:function(){return J},sin:function(){return gc},exp:function(){return fv},circle:function(){return d5},elastic:W,back:g0,bounce:function(){return cl}});var l=hm.map({"in":gl,out:E,"in-out":a3,"out-in":function(d3){return a3(E(d3))}});hm.ease=function(h9){var ib=h9.indexOf("-"),ia=ib>=0?h9.slice(0,ib):h9,d3=ib>=0?h9.slice(ib+1):"in";ia=ac.get(ia)||hh;d3=l.get(d3)||gl;return fA(d3(ia.apply(null,bP.call(arguments,1))))};function fA(d3){return function(h9){return h9<=0?0:h9>=1?1:d3(h9)}}function E(d3){return function(h9){return 1-d3(1-h9)}}function a3(d3){return function(h9){return 0.5*(h9<0.5?d3(2*h9):2-d3(2-2*h9))}}function b0(d3){return d3*d3}function J(d3){return d3*d3*d3}function ax(h9){if(h9<=0){return 0}if(h9>=1){return 1}var ia=h9*h9,d3=ia*h9;return 4*(h9<0.5?d3:3*(h9-ia)+d3-0.75)}function aT(d3){return function(h9){return Math.pow(h9,d3)}}function gc(d3){return 1-Math.cos(d3*ep)}function fv(d3){return Math.pow(2,10*(d3-1))}function d5(d3){return 1-Math.sqrt(1-d3*d3)}function W(d3,ia){var h9;if(arguments.length<2){ia=0.45}if(arguments.length){h9=ia/f8*Math.asin(1/d3)}else{d3=1,h9=ia/4}return function(ib){return 1+d3*Math.pow(2,-10*ib)*Math.sin((ib-h9)*f8/ia)}}function g0(d3){if(!d3){d3=1.70158}return function(h9){return h9*h9*((d3+1)*h9-d3)}}function cl(d3){return d3<1/2.75?7.5625*d3*d3:d3<2/2.75?7.5625*(d3-=1.5/2.75)*d3+0.75:d3<2.5/2.75?7.5625*(d3-=2.25/2.75)*d3+0.9375:7.5625*(d3-=2.625/2.75)*d3+0.984375}hm.interpolateHcl=gS;function gS(ia,d3){ia=hm.hcl(ia);d3=hm.hcl(d3);var h9=ia.h,ic=ia.c,ie=ia.l,ib=d3.h-h9,id=d3.c-ic,ig=d3.l-ie;if(isNaN(id)){id=0,ic=isNaN(ic)?d3.c:ic}if(isNaN(ib)){ib=0,h9=isNaN(h9)?d3.h:h9}else{if(ib>180){ib-=360}else{if(ib<-180){ib+=360}}}return function(ih){return bE(h9+ib*ih,ic+id*ih,ie+ig*ih)+""}}hm.interpolateHsl=a4;function a4(ib,d3){ib=hm.hsl(ib);d3=hm.hsl(d3);var ia=ib.h,h9=ib.s,ie=ib.l,id=d3.h-ia,ic=d3.s-h9,ig=d3.l-ie;if(isNaN(ic)){ic=0,h9=isNaN(h9)?d3.s:h9}if(isNaN(id)){id=0,ia=isNaN(ia)?d3.h:ia}else{if(id>180){id-=360}else{if(id<-180){id+=360}}}return function(ih){return bh(ia+id*ih,h9+ic*ih,ie+ig*ih)+""}}hm.interpolateLab=hx;function hx(h9,d3){h9=hm.lab(h9);d3=hm.lab(d3);var ic=h9.l,ib=h9.a,ia=h9.b,ig=d3.l-ic,ie=d3.a-ib,id=d3.b-ia;return function(ih){return aD(ic+ig*ih,ib+ie*ih,ia+id*ih)+""}}hm.interpolateRound=fy;function fy(h9,d3){d3-=h9;return function(ia){return Math.round(h9+d3*ia)}}hm.transform=function(d3){var h9=bO.createElementNS(hm.ns.prefix.svg,"g");return(hm.transform=function(ia){if(ia!=null){h9.setAttribute("transform",ia);var ib=h9.transform.baseVal.consolidate()}return new q(ib?ib.matrix:f9)})(d3)};function q(d3){var ib=[d3.a,d3.b],h9=[d3.c,d3.d],id=fq(ib),ia=eZ(ib,h9),ic=fq(bT(h9,ib,-ia))||0;if(ib[0]*h9[1]<h9[0]*ib[1]){ib[0]*=-1;ib[1]*=-1;id*=-1;ia*=-1}this.rotate=(id?Math.atan2(ib[1],ib[0]):Math.atan2(-h9[0],h9[1]))*hD;this.translate=[d3.e,d3.f];this.scale=[id,ic];this.skew=ic?Math.atan2(ia,ic)*hD:0}q.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eZ(h9,d3){return h9[0]*d3[0]+h9[1]*d3[1]}function fq(d3){var h9=Math.sqrt(eZ(d3,d3));if(h9){d3[0]/=h9;d3[1]/=h9}return h9}function bT(h9,d3,ia){h9[0]+=ia*d3[0];h9[1]+=ia*d3[1];return h9}var f9={a:1,b:0,c:0,d:1,e:0,f:0};hm.interpolateTransform=eg;function eg(im,il){var io=[],h9=[],id,ic=hm.transform(im),ib=hm.transform(il),ii=ic.translate,ih=ib.translate,ia=ic.rotate,d3=ib.rotate,ig=ic.skew,ie=ib.skew,ik=ic.scale,ij=ib.scale;if(ii[0]!=ih[0]||ii[1]!=ih[1]){io.push("translate(",null,",",null,")");h9.push({i:1,x:bH(ii[0],ih[0])},{i:3,x:bH(ii[1],ih[1])})}else{if(ih[0]||ih[1]){io.push("translate("+ih+")")}else{io.push("")}}if(ia!=d3){if(ia-d3>180){d3+=360}else{if(d3-ia>180){ia+=360}}h9.push({i:io.push(io.pop()+"rotate(",null,")")-2,x:bH(ia,d3)})}else{if(d3){io.push(io.pop()+"rotate("+d3+")")}}if(ig!=ie){h9.push({i:io.push(io.pop()+"skewX(",null,")")-2,x:bH(ig,ie)})}else{if(ie){io.push(io.pop()+"skewX("+ie+")")}}if(ik[0]!=ij[0]||ik[1]!=ij[1]){id=io.push(io.pop()+"scale(",null,",",null,")");h9.push({i:id-4,x:bH(ik[0],ij[0])},{i:id-2,x:bH(ik[1],ij[1])})}else{if(ij[0]!=1||ij[1]!=1){io.push(io.pop()+"scale("+ij+")")}}id=h9.length;return function(iq){var ip=-1,ir;while(++ip<id){io[(ir=h9[ip]).i]=ir.x(iq)}return io.join("")}}function hu(h9,d3){d3=(d3-=h9=+h9)||1/d3;return function(ia){return(ia-h9)/d3}}function aA(h9,d3){d3=(d3-=h9=+h9)||1/d3;return function(ia){return Math.max(0,Math.min(1,(ia-h9)/d3))}}hm.layout={};hm.layout.bundle=function(){return function(d3){var ia=[],h9=-1,ib=d3.length;while(++h9<ib){ia.push(eL(d3[h9]))}return ia}};function eL(ib){var id=ib.source,d3=ib.target,ic=fL(id,d3),ia=[id];while(id!==ic){id=id.parent;ia.push(id)}var h9=ia.length;while(d3!==ic){ia.splice(h9,0,d3);d3=d3.parent}return ia}function fp(ia){var h9=[],d3=ia.parent;while(d3!=null){h9.push(ia);ia=d3;d3=d3.parent}h9.push(ia);return h9}function fL(ib,h9){if(ib===h9){return ib}var ia=fp(ib),d3=fp(h9),ic=ia.pop(),id=d3.pop(),ie=null;while(ic===id){ie=ic;ic=ia.pop();id=d3.pop()}return ie}hm.layout.chord=function(){var id={},ie,ib,ij,ia,ii=0,d3,h9,ic;function ih(){var ip={},it=[],iB=hm.range(ia),ix=[],iq,iz,io,iu,ir;ie=[];ib=[];iq=0,iu=-1;while(++iu<ia){iz=0,ir=-1;while(++ir<ia){iz+=ij[iu][ir]}it.push(iz);ix.push(hm.range(ia));iq+=iz}if(d3){iB.sort(function(iD,iC){return d3(it[iD],it[iC])})}if(h9){ix.forEach(function(iD,iC){iD.sort(function(iF,iE){return h9(ij[iC][iF],ij[iC][iE])})})}iq=(f8-ii*ia)/iq;iz=0,iu=-1;while(++iu<ia){io=iz,ir=-1;while(++ir<ia){var iy=iB[iu],iw=ix[iy][ir],iA=ij[iy][iw],im=iz,il=iz+=iA*iq;ip[iy+"-"+iw]={index:iy,subindex:iw,startAngle:im,endAngle:il,value:iA}}ib[iy]={index:iy,startAngle:io,endAngle:iz,value:(iz-io)/iq};iz+=ii}iu=-1;while(++iu<ia){ir=iu-1;while(++ir<ia){var ik=ip[iu+"-"+ir],iv=ip[ir+"-"+iu];if(ik.value||iv.value){ie.push(ik.value<iv.value?{source:iv,target:ik}:{source:ik,target:iv})}}}if(ic){ig()}}function ig(){ie.sort(function(il,ik){return ic((il.source.value+il.target.value)/2,(ik.source.value+ik.target.value)/2)})}id.matrix=function(ik){if(!arguments.length){return ij}ia=(ij=ik)&&ij.length;ie=ib=null;return id};id.padding=function(ik){if(!arguments.length){return ii}ii=ik;ie=ib=null;return id};id.sortGroups=function(ik){if(!arguments.length){return d3}d3=ik;ie=ib=null;return id};id.sortSubgroups=function(ik){if(!arguments.length){return h9}h9=ik;ie=null;return id};id.sortChords=function(ik){if(!arguments.length){return ic}ic=ik;if(ie){ig()}return id};id.chords=function(){if(!ie){ih()}return ie};id.groups=function(){if(!ib){ih()}return ib};return id};hm.layout.force=function(){var h9={},ip=hm.dispatch("start","tick","end"),ii=[1,1],ir,ic,ig=0.9,it=fR,ib=cu,io=-30,il=cc,id=0.1,ij=0.64,im=[],ia=[],ie,d3,ih;function iq(iu){return function(iB,ix,iA,iw){if(iB.point!==iu){var iD=iB.cx-iu.x,iC=iB.cy-iu.y,iv=iw-ix,iz=iD*iD+iC*iC;if(iv*iv/ij<iz){if(iz<il){var iy=iB.charge/iz;iu.px-=iD*iy;iu.py-=iC*iy}return true}if(iB.point&&iz&&iz<il){var iy=iB.pointCharge/iz;iu.px-=iD*iy;iu.py-=iC*iy}}return !iB.charge}}h9.tick=function(){if((ic*=0.99)<0.005){ip.end({type:"end",alpha:ic=0});return true}var iw=im.length,ix=ia.length,iu,iA,iv,iE,iD,iy,iz,iC,iB;for(iA=0;iA<ix;++iA){iv=ia[iA];iE=iv.source;iD=iv.target;iC=iD.x-iE.x;iB=iD.y-iE.y;if(iy=iC*iC+iB*iB){iy=ic*d3[iA]*((iy=Math.sqrt(iy))-ie[iA])/iy;iC*=iy;iB*=iy;iD.x-=iC*(iz=iE.weight/(iD.weight+iE.weight));iD.y-=iB*iz;iE.x+=iC*(iz=1-iz);iE.y+=iB*iz}}if(iz=ic*id){iC=ii[0]/2;iB=ii[1]/2;iA=-1;if(iz){while(++iA<iw){iv=im[iA];iv.x+=(iC-iv.x)*iz;iv.y+=(iB-iv.y)*iz}}}if(io){gA(iu=hm.geom.quadtree(im),ic,ih);iA=-1;while(++iA<iw){if(!(iv=im[iA]).fixed){iu.visit(iq(iv))}}}iA=-1;while(++iA<iw){iv=im[iA];if(iv.fixed){iv.x=iv.px;iv.y=iv.py}else{iv.x-=(iv.px-(iv.px=iv.x))*ig;iv.y-=(iv.py-(iv.py=iv.y))*ig}}ip.tick({type:"tick",alpha:ic})};h9.nodes=function(iu){if(!arguments.length){return im}im=iu;return h9};h9.links=function(iu){if(!arguments.length){return ia}ia=iu;return h9};h9.size=function(iu){if(!arguments.length){return ii}ii=iu;return h9};h9.linkDistance=function(iu){if(!arguments.length){return it}it=typeof iu==="function"?iu:+iu;return h9};h9.distance=h9.linkDistance;h9.linkStrength=function(iu){if(!arguments.length){return ib}ib=typeof iu==="function"?iu:+iu;return h9};h9.friction=function(iu){if(!arguments.length){return ig}ig=+iu;return h9};h9.charge=function(iu){if(!arguments.length){return io}io=typeof iu==="function"?iu:+iu;return h9};h9.chargeDistance=function(iu){if(!arguments.length){return Math.sqrt(il)}il=iu*iu;return h9};h9.gravity=function(iu){if(!arguments.length){return id}id=+iu;return h9};h9.theta=function(iu){if(!arguments.length){return Math.sqrt(ij)}ij=iu*iu;return h9};h9.alpha=function(iu){if(!arguments.length){return ic}iu=+iu;if(ic){if(iu>0){ic=iu}else{ic=0}}else{if(iu>0){ip.start({type:"start",alpha:ic=iu});hm.timer(h9.tick)}}return h9};h9.start=function(){var iy,iB=im.length,iv=ia.length,iw=ii[0],iz=ii[1],ix,iA;for(iy=0;iy<iB;++iy){(iA=im[iy]).index=iy;iA.weight=0}for(iy=0;iy<iv;++iy){iA=ia[iy];if(typeof iA.source=="number"){iA.source=im[iA.source]}if(typeof iA.target=="number"){iA.target=im[iA.target]}++iA.source.weight;++iA.target.weight}for(iy=0;iy<iB;++iy){iA=im[iy];if(isNaN(iA.x)){iA.x=iu("x",iw)}if(isNaN(iA.y)){iA.y=iu("y",iz)}if(isNaN(iA.px)){iA.px=iA.x}if(isNaN(iA.py)){iA.py=iA.y}}ie=[];if(typeof it==="function"){for(iy=0;iy<iv;++iy){ie[iy]=+it.call(this,ia[iy],iy)}}else{for(iy=0;iy<iv;++iy){ie[iy]=it}}d3=[];if(typeof ib==="function"){for(iy=0;iy<iv;++iy){d3[iy]=+ib.call(this,ia[iy],iy)}}else{for(iy=0;iy<iv;++iy){d3[iy]=ib}}ih=[];if(typeof io==="function"){for(iy=0;iy<iB;++iy){ih[iy]=+io.call(this,im[iy],iy)}}else{for(iy=0;iy<iB;++iy){ih[iy]=io}}function iu(iH,iF){if(!ix){ix=new Array(iB);for(iE=0;iE<iB;++iE){ix[iE]=[]}for(iE=0;iE<iD;++iE){var iI=ia[iE];ix[iI.source.index].push(iI.target);ix[iI.target.index].push(iI.source)}}var iG=ix[iy],iE=-1,iD=iG.length,iC;while(++iE<iD){if(!isNaN(iC=iG[iE][iH])){return iC}}return Math.random()*iF}return h9.resume()};h9.resume=function(){return h9.alpha(0.1)};h9.stop=function(){return h9.alpha(0)};h9.drag=function(){if(!ir){ir=hm.behavior.drag().origin(gl).on("dragstart.force",s).on("drag.force",ik).on("dragend.force",ec)}if(!arguments.length){return ir}this.on("mouseover.force",cx).on("mouseout.force",el).call(ir)};function ik(iu){iu.px=hm.event.x,iu.py=hm.event.y;h9.resume()}return hm.rebind(h9,ip,"on")};function s(d3){d3.fixed|=2}function ec(d3){d3.fixed&=~6}function cx(d3){d3.fixed|=4;d3.px=d3.x,d3.py=d3.y}function el(d3){d3.fixed&=~4}function gA(ii,ic,ih){var id=0,ia=0;ii.charge=0;if(!ii.leaf){var d3=ii.nodes,h9=d3.length,ie=-1,ig;while(++ie<h9){ig=d3[ie];if(ig==null){continue}gA(ig,ic,ih);ii.charge+=ig.charge;id+=ig.charge*ig.cx;ia+=ig.charge*ig.cy}}if(ii.point){if(!ii.leaf){ii.point.x+=Math.random()-0.5;ii.point.y+=Math.random()-0.5}var ib=ic*ih[ii.point.index];ii.charge+=ii.pointCharge=ib;id+=ib*ii.point.x;ia+=ib*ii.point.y}ii.cx=id/ii.charge;ii.cy=ia/ii.charge}var fR=20,cu=1,cc=Infinity;hm.layout.hierarchy=function(){var ia=dQ,h9=a8,ib=hJ;function d3(id){var ic=[id],ie=[],ig;id.depth=0;while((ig=ic.pop())!=null){ie.push(ig);if((ih=h9.call(d3,ig,ig.depth))&&(ij=ih.length)){var ij,ih,ii;while(--ij>=0){ic.push(ii=ih[ij]);ii.parent=ig;ii.depth=ig.depth+1}if(ib){ig.value=0}ig.children=ih}else{if(ib){ig.value=+ib.call(d3,ig,ig.depth)||0}delete ig.children}}gM(id,function(il){var im,ik;if(ia&&(im=il.children)){im.sort(ia)}if(ib&&(ik=il.parent)){ik.value+=il.value}});return ie}d3.sort=function(ic){if(!arguments.length){return ia}ia=ic;return d3};d3.children=function(ic){if(!arguments.length){return h9}h9=ic;return d3};d3.value=function(ic){if(!arguments.length){return ib}ib=ic;return d3};d3.revalue=function(ic){if(ib){ev(ic,function(id){if(id.children){id.value=0}});gM(ic,function(ie){var id;if(!ie.children){ie.value=+ib.call(d3,ie,ie.depth)||0}if(id=ie.parent){id.value+=ie.value}})}return ic};return d3};function gs(h9,d3){hm.rebind(h9,d3,"sort","children","value");h9.nodes=h9;h9.links=gw;return h9}function ev(ia,ic){var d3=[ia];while((ia=d3.pop())!=null){ic(ia);if((h9=ia.children)&&(ib=h9.length)){var ib,h9;while(--ib>=0){d3.push(h9[ib])}}}}function gM(ic,ie){var h9=[ic],d3=[];while((ic=h9.pop())!=null){d3.push(ic);if((ia=ic.children)&&(id=ia.length)){var ib=-1,id,ia;while(++ib<id){h9.push(ia[ib])}}}while((ic=d3.pop())!=null){ie(ic)}}function a8(d3){return d3.children}function hJ(d3){return d3.value}function dQ(h9,d3){return d3.value-h9.value}function gw(d3){return hm.merge(d3.map(function(h9){return(h9.children||[]).map(function(ia){return{source:h9,target:ia}})}))}hm.layout.partition=function(){var ia=hm.layout.hierarchy(),ib=[1,1];function d3(ig,ik,im,il){var id=ig.children;ig.x=ik;ig.y=ig.depth*il;ig.dx=im;ig.dy=il;if(id&&(ie=id.length)){var ih=-1,ie,ij,ii;im=ig.value?im/ig.value:0;while(++ih<ie){d3(ij=id[ih],ik,ii=ij.value*im,il);ik+=ii}}}function ic(ig){var ie=ig.children,ih=0;if(ie&&(ii=ie.length)){var id=-1,ii;while(++id<ii){ih=Math.max(ih,ic(ie[id]))}}return 1+ih}function h9(ig,ie){var id=ia.call(this,ig,ie);d3(id[0],0,ib[0],ib[1]/ic(id[0]));return id}h9.size=function(id){if(!arguments.length){return ib}ib=id;return h9};return gs(h9,ia)};hm.layout.pie=function(){var id=Number,ib=V,ia=0,h9=f8,ic=0;function d3(ij){var ih=ij.length,ip=ij.map(function(it,ir){return +id.call(d3,it,ir)}),il=+(typeof ia==="function"?ia.apply(this,arguments):ia),iq=(typeof h9==="function"?h9.apply(this,arguments):h9)-il,ig=Math.min(Math.abs(iq)/ih,+(typeof ic==="function"?ic.apply(this,arguments):ic)),im=ig*(iq<0?-1:1),ii=(iq-ih*im)/hm.sum(ip),ik=hm.range(ih),ie=[],io;if(ib!=null){ik.sort(ib===V?function(it,ir){return ip[ir]-ip[it]}:function(it,ir){return ib(ij[it],ij[ir])})}ik.forEach(function(ir){ie[ir]={data:ij[ir],value:io=ip[ir],startAngle:il,endAngle:il+=io*ii+im,padAngle:ig}});return ie}d3.value=function(ie){if(!arguments.length){return id}id=ie;return d3};d3.sort=function(ie){if(!arguments.length){return ib}ib=ie;return d3};d3.startAngle=function(ie){if(!arguments.length){return ia}ia=ie;return d3};d3.endAngle=function(ie){if(!arguments.length){return h9}h9=ie;return d3};d3.padAngle=function(ie){if(!arguments.length){return ic}ic=ie;return d3};return d3};var V={};hm.layout.stack=function(){var ib=gl,ia=bS,id=fF,ic=fG,h9=ao,ie=am;function d3(io,iq){if(!(ih=io.length)){return io}var ip=io.map(function(iu,it){return ib.call(d3,iu,it)});var ir=ip.map(function(it){return it.map(function(iu,iv){return[h9.call(d3,iu,iv),ie.call(d3,iu,iv)]})});var ik=ia.call(d3,ir,iq);ip=hm.permute(ip,ik);ir=hm.permute(ir,ik);var ij=id.call(d3,ir,iq);var ii=ip[0].length,ih,im,il,ig;for(il=0;il<ii;++il){ic.call(d3,ip[0][il],ig=ij[il],ir[0][il][1]);for(im=1;im<ih;++im){ic.call(d3,ip[im][il],ig+=ir[im-1][il][1],ir[im][il][1])}}return io}d3.values=function(ig){if(!arguments.length){return ib}ib=ig;return d3};d3.order=function(ig){if(!arguments.length){return ia}ia=typeof ig==="function"?ig:a6.get(ig)||bS;return d3};d3.offset=function(ig){if(!arguments.length){return id}id=typeof ig==="function"?ig:ah.get(ig)||fF;return d3};d3.x=function(ig){if(!arguments.length){return h9}h9=ig;return d3};d3.y=function(ig){if(!arguments.length){return ie}ie=ig;return d3};d3.out=function(ig){if(!arguments.length){return ic}ic=ig;return d3};return d3};function ao(d3){return d3.x}function am(d3){return d3.y}function fG(h9,d3,ia){h9.y0=d3;h9.y=ia}var a6=hm.map({"inside-out":function(ic){var ia=ic.length,id,ib,ii=ic.map(bY),ie=ic.map(du),ig=hm.range(ia).sort(function(il,ik){return ii[il]-ii[ik]}),ih=0,d3=0,ij=[],h9=[];for(id=0;id<ia;++id){ib=ig[id];if(ih<d3){ih+=ie[ib];ij.push(ib)}else{d3+=ie[ib];h9.push(ib)}}return h9.reverse().concat(ij)},reverse:function(d3){return hm.range(d3.length).reverse()},"default":bS});var ah=hm.map({silhouette:function(ic){var h9=ic.length,ia=ic[0].length,ie=[],ig=0,id,ib,d3,ih=[];for(ib=0;ib<ia;++ib){for(id=0,d3=0;id<h9;id++){d3+=ic[id][ib][1]}if(d3>ig){ig=d3}ie.push(d3)}for(ib=0;ib<ia;++ib){ih[ib]=(ig-ie[ib])/2}return ih},wiggle:function(ie){var h9=ie.length,ii=ie[0],ia=ii.length,ig,id,ic,il,ik,ih,im,d3,ib,ij=[];ij[0]=d3=ib=0;for(id=1;id<ia;++id){for(ig=0,il=0;ig<h9;++ig){il+=ie[ig][id][1]}for(ig=0,ik=0,im=ii[id][0]-ii[id-1][0];ig<h9;++ig){for(ic=0,ih=(ie[ig][id][1]-ie[ig][id-1][1])/(2*im);ic<ig;++ic){ih+=(ie[ic][id][1]-ie[ic][id-1][1])/im}ik+=ih*ie[ig][id][1]}ij[id]=d3-=il?ik/il*im:0;if(d3<ib){ib=d3}}for(id=0;id<ia;++id){ij[id]-=ib}return ij},expand:function(id){var ig=id.length,d3=id[0].length,h9=1/ig,ib,ia,ie,ic=[];for(ia=0;ia<d3;++ia){for(ib=0,ie=0;ib<ig;ib++){ie+=id[ib][ia][1]}if(ie){for(ib=0;ib<ig;ib++){id[ib][ia][1]/=ie}}else{for(ib=0;ib<ig;ib++){id[ib][ia][1]=h9}}}for(ia=0;ia<d3;++ia){ic[ia]=0}return ic},zero:fF});function bS(d3){return hm.range(d3.length)}function fF(ib){var h9=-1,d3=ib[0].length,ia=[];while(++h9<d3){ia[h9]=0}return ia}function bY(id){var ib=1,ia=0,h9=id[0][1],d3,ic=id.length;for(;ib<ic;++ib){if((d3=id[ib][1])>h9){ia=ib;h9=d3}}return ia}function du(d3){return d3.reduce(fE,0)}function fE(d3,h9){return d3+h9[1]}hm.layout.histogram=function(){var ic=true,h9=Number,d3=bk,ia=hv;function ib(ih,ii){var io=[],il=ih.map(h9,this),ij=d3.call(this,il,ii),im=ia.call(this,ij,il,ii),ip,ii=-1,id=il.length,ie=im.length-1,ig=ic?1:1/id,ik;while(++ii<ie){ip=io[ii]=[];ip.dx=im[ii+1]-(ip.x=im[ii]);ip.y=0}if(ie>0){ii=-1;while(++ii<id){ik=il[ii];if(ik>=ij[0]&&ik<=ij[1]){ip=io[hm.bisect(im,ik,1,ie)-1];ip.y+=ig;ip.push(ih[ii])}}}return io}ib.value=function(id){if(!arguments.length){return h9}h9=id;return ib};ib.range=function(id){if(!arguments.length){return d3}d3=S(id);return ib};ib.bins=function(id){if(!arguments.length){return ia}ia=typeof id==="number"?function(ie){return k(ie,id)}:S(id);return ib};ib.frequency=function(id){if(!arguments.length){return ic}ic=!!id;return ib};return ib};function hv(h9,d3){return k(h9,Math.ceil(Math.log(d3.length)/Math.LN2+1))}function k(ib,id){var ia=-1,h9=+ib[0],d3=(ib[1]-h9)/id,ic=[];while(++ia<=id){ic[ia]=d3*ia+h9}return ic}function bk(d3){return[hm.min(d3),hm.max(d3)]}hm.layout.pack=function(){var h9=hm.layout.hierarchy().sort(eB),ic=0,ib=[1,1],d3;function ia(il,ih){var ig=h9.call(this,il,ih),ie=ig[0],id=ib[0],ii=ib[1],ij=d3==null?Math.sqrt:typeof d3==="function"?d3:function(){return d3};ie.x=ie.y=0;gM(ie,function(im){im.r=+ij(im.value)});gM(ie,U);if(ic){var ik=ic*(d3?1:Math.max(2*ie.r/id,2*ie.r/ii))/2;gM(ie,function(im){im.r+=ik});gM(ie,U);gM(ie,function(im){im.r-=ik})}fo(ie,id/2,ii/2,d3?1:1/Math.max(2*ie.r/id,2*ie.r/ii));return ig}ia.size=function(id){if(!arguments.length){return ib}ib=id;return ia};ia.radius=function(id){if(!arguments.length){return d3}d3=id==null||typeof id==="function"?id:+id;return ia};ia.padding=function(id){if(!arguments.length){return ic}ic=+id;return ia};return gs(ia,h9)};function eB(h9,d3){return h9.value-d3.value}function bR(h9,d3){var ia=h9._pack_next;h9._pack_next=d3;d3._pack_prev=h9;d3._pack_next=ia;ia._pack_prev=d3}function bf(h9,d3){h9._pack_next=d3;d3._pack_prev=h9}function em(ia,d3){var ib=d3.x-ia.x,h9=d3.y-ia.y,ic=ia.r+d3.r;return 0.999*ic*ic>ib*ib+h9*h9}function U(ik){if(!(ij=ik.children)||!(ii=ij.length)){return}var ij,ip=Infinity,iu=-Infinity,d3=Infinity,ic=-Infinity,it,ir,iq,io,im,il,ii;function ia(iv){ip=Math.min(iv.x-iv.r,ip);iu=Math.max(iv.x+iv.r,iu);d3=Math.min(iv.y-iv.r,d3);ic=Math.max(iv.y+iv.r,ic)}ij.forEach(aS);it=ij[0];it.x=-it.r;it.y=0;ia(it);if(ii>1){ir=ij[1];ir.x=ir.r;ir.y=0;ia(ir);if(ii>2){iq=ij[2];be(it,ir,iq);ia(iq);bR(it,iq);it._pack_prev=iq;bR(iq,ir);ir=it._pack_next;for(io=3;io<ii;io++){be(it,ir,iq=ij[io]);var h9=0,id=1,ib=1;for(im=ir._pack_next;im!==ir;im=im._pack_next,id++){if(em(im,iq)){h9=1;break}}if(h9==1){for(il=it._pack_prev;il!==im._pack_prev;il=il._pack_prev,ib++){if(em(il,iq)){break}}}if(h9){if(id<ib||id==ib&&ir.r<it.r){bf(it,ir=im)}else{bf(it=il,ir)}io--}else{bR(it,iq);ir=iq;ia(iq)}}}}var ig=(ip+iu)/2,ie=(d3+ic)/2,ih=0;for(io=0;io<ii;io++){iq=ij[io];iq.x-=ig;iq.y-=ie;ih=Math.max(ih,iq.r+Math.sqrt(iq.x*iq.x+iq.y*iq.y))}ik.r=ih;ij.forEach(eQ)}function aS(d3){d3._pack_next=d3._pack_prev=d3}function eQ(d3){delete d3._pack_next;delete d3._pack_prev}function fo(ic,d3,ie,h9){var ib=ic.children;ic.x=d3+=h9*ic.x;ic.y=ie+=h9*ic.y;ic.r*=h9;if(ib){var ia=-1,id=ib.length;while(++ia<id){fo(ib[ia],d3,ie,h9)}}}function be(ic,ia,d3){var ie=ic.r+d3.r,ii=ia.x-ic.x,ig=ia.y-ic.y;if(ie&&(ii||ig)){var ih=ia.r+d3.r,id=ii*ii+ig*ig;ih*=ih;ie*=ie;var ib=0.5+(ie-ih)/(2*id),h9=Math.sqrt(Math.max(0,2*ih*(ie+id)-(ie-=id)*ie-ih*ih))/(2*id);d3.x=ic.x+ib*ii+h9*ig;d3.y=ic.y+ib*ig-h9*ii}else{d3.x=ic.x+ie;d3.y=ic.y}}hm.layout.tree=function(){var ic=hm.layout.hierarchy().sort(null).value(null),h9=dz,ih=[1,1],id=null;function ii(ir,io){var ik=ic.call(this,ir,io),iu=ik[0],it=ig(iu);gM(it,ib),it.parent.m=-it.z;ev(it,ie);if(id){ev(iu,ia)}else{var il=iu,iv=iu,ij=iu;ev(iu,function(iw){if(iw.x<il.x){il=iw}if(iw.x>iv.x){iv=iw}if(iw.depth>ij.depth){ij=iw}});var im=h9(il,iv)/2-il.x,iq=ih[0]/(iv.x+h9(iv,il)/2+im),ip=ih[1]/(ij.depth||1);ev(iu,function(iw){iw.x=(iw.x+im)*iq;iw.y=iw.depth*ip})}return ik}function ig(im){var ik={A:null,children:[im]},ij=[ik],il;while((il=ij.pop())!=null){for(var ip=il.children,ir,io=0,iq=ip.length;io<iq;++io){ij.push((ip[io]=ir={_:ip[io],parent:il,children:(ir=ip[io].children)&&ir.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:io}).a=ir)}}return ik.children[0]}function ib(ik){var im=ik.children,io=ik.parent.children,ij=ik.i?io[ik.i-1]:null;if(im.length){dC(ik);var il=(im[0].z+im[im.length-1].z)/2;if(ij){ik.z=ij.z+h9(ik._,ij._);ik.m=ik.z-il}else{ik.z=il}}else{if(ij){ik.z=ij.z+h9(ik._,ij._)}}ik.parent.A=d3(ik,ij,ik.parent.A||io[0])}function ie(ij){ij._.x=ij.z+ij.parent.m;ij.m+=ij.parent.m}function d3(iw,iv,ip){if(iv){var il=iw,ik=iw,io=iv,im=il.parent.children[0],ir=il.m,iq=ik.m,iu=io.m,it=im.m,ij;while(io=aC(io),il=hV(il),io&&il){im=hV(im);ik=aC(ik);ik.a=iw;ij=io.z+iu-il.z-ir+h9(io._,il._);if(ij>0){hX(fY(io,iw,ip),iw,ij);ir+=ij;iq+=ij}iu+=io.m;ir+=il.m;it+=im.m;iq+=ik.m}if(io&&!aC(ik)){ik.t=io;ik.m+=iu-iq}if(il&&!hV(im)){im.t=il;im.m+=ir-it;ip=iw}}return ip}function ia(ij){ij.x*=ih[0];ij.y=ij.depth*ih[1]}ii.separation=function(ij){if(!arguments.length){return h9}h9=ij;return ii};ii.size=function(ij){if(!arguments.length){return id?null:ih}id=(ih=ij)==null?ia:null;return ii};ii.nodeSize=function(ij){if(!arguments.length){return id?ih:null}id=(ih=ij)==null?null:ia;return ii};return gs(ii,ic)};function dz(h9,d3){return h9.parent==d3.parent?1:2}function hV(d3){var h9=d3.children;return h9.length?h9[0]:d3.t}function aC(d3){var h9=d3.children,ia;return(ia=h9.length)?h9[ia-1]:d3.t}function hX(ia,h9,d3){var ib=d3/(h9.i-ia.i);h9.c-=ib;h9.s+=d3;ia.c+=ib;h9.z+=d3;h9.m+=d3}function dC(ia){var h9=0,id=0,ic=ia.children,ib=ic.length,d3;while(--ib>=0){d3=ic[ib];d3.z+=h9;d3.m+=h9;h9+=d3.s+(id+=d3.c)}}function fY(h9,d3,ia){return h9.a.parent===d3.parent?h9.a:ia}hm.layout.cluster=function(){var ia=hm.layout.hierarchy().sort(null).value(null),ic=dz,ib=[1,1],h9=false;function d3(ij,ii){var id=ia.call(this,ij,ii),ik=id[0],il,im=0;gM(ik,function(iq){var ip=iq.children;if(ip&&ip.length){iq.x=by(ip);iq.y=bx(ip)}else{iq.x=il?im+=ic(iq,il):0;iq.y=0;il=iq}});var ih=eD(ik),io=dF(ik),ig=ih.x-ic(ih,io)/2,ie=io.x+ic(io,ih)/2;gM(ik,h9?function(ip){ip.x=(ip.x-ik.x)*ib[0];ip.y=(ik.y-ip.y)*ib[1]}:function(ip){ip.x=(ip.x-ig)/(ie-ig)*ib[0];ip.y=(1-(ik.y?ip.y/ik.y:1))*ib[1]});return id}d3.separation=function(id){if(!arguments.length){return ic}ic=id;return d3};d3.size=function(id){if(!arguments.length){return h9?null:ib}h9=(ib=id)==null;return d3};d3.nodeSize=function(id){if(!arguments.length){return h9?ib:null}h9=(ib=id)!=null;return d3};return gs(d3,ia)};function bx(d3){return 1+hm.max(d3,function(h9){return h9.y})}function by(d3){return d3.reduce(function(h9,ia){return h9+ia.x},0)/d3.length}function eD(h9){var d3=h9.children;return d3&&d3.length?eD(d3[0]):h9}function dF(h9){var d3=h9.children,ia;return d3&&(ia=d3.length)?dF(d3[ia-1]):h9}hm.layout.treemap=function(){var ih=hm.layout.hierarchy(),il=Math.round,io=[1,1],ii=null,d3=e7,ij=false,ie,id="squarify",ig=0.5*(1+Math.sqrt(5));function h9(ir,ip){var iq=-1,iv=ir.length,iu,it;while(++iq<iv){it=(iu=ir[iq]).value*(ip<0?0:ip);iu.area=isNaN(it)||it<=0?0:it}}function ib(iu){var iq=iu.children;if(iq&&iq.length){var ix=d3(iu),iz=[],iw=iq.slice(),ip,iv=Infinity,it,iy=id==="slice"?ix.dx:id==="dice"?ix.dy:id==="slice-dice"?iu.depth&1?ix.dy:ix.dx:Math.min(ix.dx,ix.dy),ir;h9(iw,ix.dx*ix.dy/iu.value);iz.area=0;while((ir=iw.length)>0){iz.push(ip=iw[ir-1]);iz.area+=ip.area;if(id!=="squarify"||(it=ia(iz,iy))<=iv){iw.pop();iv=it}else{iz.area-=iz.pop().area;ic(iz,iy,ix,false);iy=Math.min(ix.dx,ix.dy);iz.length=iz.area=0;iv=Infinity}}if(iz.length){ic(iz,iy,ix,true);iz.length=iz.area=0}iq.forEach(ib)}}function im(it){var ip=it.children;if(ip&&ip.length){var ir=d3(it),iq=ip.slice(),iv,iu=[];h9(iq,ir.dx*ir.dy/it.value);iu.area=0;while(iv=iq.pop()){iu.push(iv);iu.area+=iv.area;if(iv.z!=null){ic(iu,iv.z?ir.dx:ir.dy,ir,!iq.length);iu.length=iu.area=0}}ip.forEach(im)}}function ia(iv,iq){var it=iv.area,iu,ix=0,ip=Infinity,ir=-1,iw=iv.length;while(++ir<iw){if(!(iu=iv[ir].area)){continue}if(iu<ip){ip=iu}if(iu>ix){ix=iu}}it*=it;iq*=iq;return it?Math.max(iq*ix*ig/it,it/(iq*ip*ig)):Infinity}function ic(iz,iy,iu,ix){var ir=-1,iq=iz.length,iv=iu.x,it=iu.y,iw=iy?il(iz.area/iy):0,ip;if(iy==iu.dx){if(ix||iw>iu.dy){iw=iu.dy}while(++ir<iq){ip=iz[ir];ip.x=iv;ip.y=it;ip.dy=iw;iv+=ip.dx=Math.min(iu.x+iu.dx-iv,iw?il(ip.area/iw):0)}ip.z=true;ip.dx+=iu.x+iu.dx-iv;iu.y+=iw;iu.dy-=iw}else{if(ix||iw>iu.dx){iw=iu.dx}while(++ir<iq){ip=iz[ir];ip.x=iv;ip.y=it;ip.dx=iw;it+=ip.dy=Math.min(iu.y+iu.dy-it,iw?il(ip.area/iw):0)}ip.z=false;ip.dy+=iu.y+iu.dy-it;iu.x+=iw;iu.dx-=iw}}function ik(ir){var iq=ie||ih(ir),ip=iq[0];ip.x=0;ip.y=0;ip.dx=io[0];ip.dy=io[1];if(ie){ih.revalue(ip)}h9([ip],ip.dx*ip.dy/ip.value);(ie?im:ib)(ip);if(ij){ie=iq}return iq}ik.size=function(ip){if(!arguments.length){return io}io=ip;return ik};ik.padding=function(ip){if(!arguments.length){return ii}function it(iu){var iv=ip.call(ik,iu,iu.depth);return iv==null?e7(iu):a0(iu,typeof iv==="number"?[iv,iv,iv,iv]:iv)}function ir(iu){return a0(iu,ip)}var iq;d3=(ii=ip)==null?e7:(iq=typeof ip)==="function"?it:iq==="number"?(ip=[ip,ip,ip,ip],ir):ir;return ik};ik.round=function(ip){if(!arguments.length){return il!=Number}il=ip?Math.round:Number;return ik};ik.sticky=function(ip){if(!arguments.length){return ij}ij=ip;ie=null;return ik};ik.ratio=function(ip){if(!arguments.length){return ig}ig=ip;return ik};ik.mode=function(ip){if(!arguments.length){return id}id=ip+"";return ik};return gs(ik,ih)};function e7(d3){return{x:d3.x,y:d3.y,dx:d3.dx,dy:d3.dy}}function a0(ib,ic){var d3=ib.x+ic[3],id=ib.y+ic[0],ia=ib.dx-ic[1]-ic[3],h9=ib.dy-ic[0]-ic[2];if(ia<0){d3+=ia/2;ia=0}if(h9<0){id+=h9/2;h9=0}return{x:d3,y:id,dx:ia,dy:h9}}hm.random={normal:function(h9,d3){var ia=arguments.length;if(ia<2){d3=1}if(ia<1){h9=0}return function(){var ib,id,ic;do{ib=Math.random()*2-1;id=Math.random()*2-1;ic=ib*ib+id*id}while(!ic||ic>1);return h9+d3*ib*Math.sqrt(-2*Math.log(ic)/ic)}},logNormal:function(){var d3=hm.random.normal.apply(hm,arguments);return function(){return Math.exp(d3())}},bates:function(d3){var h9=hm.random.irwinHall(d3);return function(){return h9()/d3}},irwinHall:function(d3){return function(){for(var ia=0,h9=0;h9<d3;h9++){ia+=Math.random()}return ia}}};hm.scale={};function es(h9){var ia=h9[0],d3=h9[h9.length-1];return ia<d3?[ia,d3]:[d3,ia]}function aZ(d3){return d3.rangeExtent?d3.rangeExtent():es(d3.range())}function aH(ic,d3,id,ia){var h9=id(ic[0],ic[1]),ib=ia(d3[0],d3[1]);return function(ie){return ib(h9(ie))}}function gi(ie,ic){var id=0,ib=ie.length-1,ia=ie[id],h9=ie[ib],d3;if(h9<ia){d3=id,id=ib,ib=d3;d3=ia,ia=h9,h9=d3}ie[id]=ic.floor(ia);ie[ib]=ic.ceil(h9);return ie}function a7(d3){return d3?{floor:function(h9){return Math.floor(h9/d3)*d3},ceil:function(h9){return Math.ceil(h9/d3)*d3}}:eC}var eC={floor:gl,ceil:gl};function N(ie,h9,ig,ic){var ib=[],id=[],ia=0,d3=Math.min(ie.length,h9.length)-1;if(ie[d3]<ie[0]){ie=ie.slice().reverse();h9=h9.slice().reverse()}while(++ia<=d3){ib.push(ig(ie[ia-1],ie[ia]));id.push(ic(h9[ia-1],h9[ia]))}return function(ih){var ii=hm.bisect(ie,ih,1,d3)-1;return id[ii](ib[ii](ih))}}hm.scale.linear=function(){return ei([0,1],[0,1],fD,false)};function ei(id,ib,ic,ig){var ia,h9;function d3(){var ih=Math.min(id.length,ib.length)>2?N:aH,ii=ig?aA:hu;ia=ih(id,ib,ii,ic);h9=ih(ib,id,ii,fD);return ie}function ie(ih){return ia(ih)}ie.invert=function(ih){return h9(ih)};ie.domain=function(ih){if(!arguments.length){return id}id=ih.map(Number);return d3()};ie.range=function(ih){if(!arguments.length){return ib}ib=ih;return d3()};ie.rangeRound=function(ih){return ie.range(ih).interpolate(fy)};ie.clamp=function(ih){if(!arguments.length){return ig}ig=ih;return d3()};ie.interpolate=function(ih){if(!arguments.length){return ic}ic=ih;return d3()};ie.ticks=function(ih){return e2(id,ih)};ie.tickFormat=function(ih,ii){return fa(id,ih,ii)};ie.nice=function(ih){aN(id,ih);return d3()};ie.copy=function(){return ei(id,ib,ic,ig)};return d3()}function ga(h9,d3){return hm.rebind(h9,d3,"range","rangeRound","interpolate","clamp")}function aN(h9,d3){return gi(h9,a7(r(h9,d3)[2]))}function r(id,d3){if(d3==null){d3=10}var ia=es(id),h9=ia[1]-ia[0],ic=Math.pow(10,Math.floor(Math.log(h9/d3)/Math.LN10)),ib=d3/h9*ic;if(ib<=0.15){ic*=10}else{if(ib<=0.35){ic*=5}else{if(ib<=0.75){ic*=2}}}ia[0]=Math.ceil(ia[0]/ic)*ic;ia[1]=Math.floor(ia[1]/ic)*ic+ic*0.5;ia[2]=ic;return ia}function e2(h9,d3){return hm.range.apply(hm,r(h9,d3))}function fa(ic,d3,id){var h9=r(ic,d3);if(id){var ia=cA.exec(id);ia.shift();if(ia[8]==="s"){var ib=hm.formatPrefix(Math.max(cH(h9[0]),cH(h9[1])));if(!ia[7]){ia[7]="."+gX(ib.scale(h9[2]))}ia[8]="f";id=hm.format(ia.join(""));return function(ie){return id(ib.scale(ie))+ib.symbol}}if(!ia[7]){ia[7]="."+z(ia[8],h9)}id=ia.join("")}else{id=",."+gX(h9[2])+"f"}return hm.format(id)}var hU={s:1,g:1,p:1,r:1,e:1};function gX(d3){return -Math.floor(Math.log(d3)/Math.LN10+0.01)}function z(h9,d3){var ia=gX(d3[2]);return h9 in hU?Math.abs(ia-gX(Math.max(cH(d3[0]),cH(d3[1]))))+ +(h9!=="e"):ia-(h9==="%")*2}hm.scale.log=function(){return gG(hm.scale.linear().domain([0,1]),10,true,[1,10])};function gG(h9,id,d3,ic){function ia(ig){return(d3?Math.log(ig<0?0:ig):-Math.log(ig>0?0:-ig))/Math.log(id)}function ib(ig){return d3?Math.pow(id,ig):-Math.pow(id,-ig)}function ie(ig){return h9(ia(ig))}ie.invert=function(ig){return ib(h9.invert(ig))};ie.domain=function(ig){if(!arguments.length){return ic}d3=ig[0]>=0;h9.domain((ic=ig.map(Number)).map(ia));return ie};ie.base=function(ig){if(!arguments.length){return id}id=+ig;h9.domain(ic.map(ia));return ie};ie.nice=function(){var ig=gi(ic.map(ia),d3?Math:gL);h9.domain(ig);ic=ig.map(ib);return ie};ie.ticks=function(){var il=es(ic),im=[],ij=il[0],ih=il[1],ik=Math.floor(ia(ij)),ii=Math.ceil(ia(ih)),io=id%1?2:id;if(isFinite(ii-ik)){if(d3){for(;ik<ii;ik++){for(var ig=1;ig<io;ig++){im.push(ib(ik)*ig)}}im.push(ib(ik))}else{im.push(ib(ik));for(;ik++<ii;){for(var ig=io-1;ig>0;ig--){im.push(ib(ik)*ig)}}}for(ik=0;im[ik]<ij;ik++){}for(ii=im.length;im[ii-1]>ih;ii--){}im=im.slice(ik,ii)}return im};ie.tickFormat=function(ik,ij){if(!arguments.length){return dt}if(arguments.length<2){ij=dt}else{if(typeof ij!=="function"){ij=hm.format(ij)}}var ig=Math.max(0.1,ik/ie.ticks().length),ih=d3?(ii=1e-12,Math.ceil):(ii=-1e-12,Math.floor),ii;return function(il){return il/ib(ih(ia(il)+ii))<=ig?ij(il):""}};ie.copy=function(){return gG(h9.copy(),id,d3,ic)};return ga(ie,h9)}var dt=hm.format(".0e"),gL={floor:function(d3){return -Math.ceil(-d3)},ceil:function(d3){return -Math.floor(-d3)}};hm.scale.pow=function(){return gr(hm.scale.linear(),1,[0,1])};function gr(d3,ib,ia){var h9=fT(ib),ic=fT(1/ib);function id(ie){return d3(h9(ie))}id.invert=function(ie){return ic(d3.invert(ie))};id.domain=function(ie){if(!arguments.length){return ia}d3.domain((ia=ie.map(Number)).map(h9));return id};id.ticks=function(ie){return e2(ia,ie)};id.tickFormat=function(ie,ig){return fa(ia,ie,ig)};id.nice=function(ie){return id.domain(aN(ia,ie))};id.exponent=function(ie){if(!arguments.length){return ib}h9=fT(ib=ie);ic=fT(1/ib);d3.domain(ia.map(h9));return id};id.copy=function(){return gr(d3.copy(),ib,ia)};return ga(id,d3)}function fT(d3){return function(h9){return h9<0?-Math.pow(-h9,d3):Math.pow(h9,d3)}}hm.scale.sqrt=function(){return hm.scale.pow().exponent(0.5)};hm.scale.ordinal=function(){return ct([],{t:"range",a:[[]]})};function ct(id,ia){var ic,h9,ib;function ie(ig){return h9[((ic.get(ig)||(ia.t==="range"?ic.set(ig,id.push(ig)):NaN))-1)%h9.length]}function d3(ih,ig){return hm.range(id.length).map(function(ii){return ih+ig*ii})}ie.domain=function(ig){if(!arguments.length){return id}id=[];ic=new aJ();var ii=-1,ij=ig.length,ih;while(++ii<ij){if(!ic.has(ih=ig[ii])){ic.set(ih,id.push(ih))}}return ie[ia.t].apply(ie,ia.a)};ie.range=function(ig){if(!arguments.length){return h9}h9=ig;ib=0;ia={t:"range",a:arguments};return ie};ie.rangePoints=function(ig,ij){if(arguments.length<2){ij=0}var ik=ig[0],ih=ig[1],ii=id.length<2?(ik=(ik+ih)/2,0):(ih-ik)/(id.length-1+ij);h9=d3(ik+ii*ij/2,ii);ib=0;ia={t:"rangePoints",a:arguments};return ie};ie.rangeRoundPoints=function(ig,ij){if(arguments.length<2){ij=0}var ik=ig[0],ih=ig[1],ii=id.length<2?(ik=ih=Math.round((ik+ih)/2),0):(ih-ik)/(id.length-1+ij)|0;h9=d3(ik+Math.round(ii*ij/2+(ih-ik-(id.length-1+ij)*ii)/2),ii);ib=0;ia={t:"rangeRoundPoints",a:arguments};return ie};ie.rangeBands=function(ih,il,ig){if(arguments.length<2){il=0}if(arguments.length<3){ig=il}var ii=ih[1]<ih[0],im=ih[ii-0],ij=ih[1-ii],ik=(ij-im)/(id.length-il+2*ig);h9=d3(im+ik*ig,ik);if(ii){h9.reverse()}ib=ik*(1-il);ia={t:"rangeBands",a:arguments};return ie};ie.rangeRoundBands=function(ih,il,ig){if(arguments.length<2){il=0}if(arguments.length<3){ig=il}var ii=ih[1]<ih[0],im=ih[ii-0],ij=ih[1-ii],ik=Math.floor((ij-im)/(id.length-il+2*ig));h9=d3(im+Math.round((ij-im-(id.length-il)*ik)/2),ik);if(ii){h9.reverse()}ib=Math.round(ik*(1-il));ia={t:"rangeRoundBands",a:arguments};return ie};ie.rangeBand=function(){return ib};ie.rangeExtent=function(){return es(ia.a[0])};ie.copy=function(){return ct(id,ia)};return ie.domain(id)}hm.scale.category10=function(){return hm.scale.ordinal().range(cB)};hm.scale.category20=function(){return hm.scale.ordinal().range(cj)};hm.scale.category20b=function(){return hm.scale.ordinal().range(ha)};hm.scale.category20c=function(){return hm.scale.ordinal().range(g8)};var cB=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dw);var cj=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dw);var ha=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dw);var g8=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dw);hm.scale.quantile=function(){return D([],[])};function D(ia,h9){var ib;function d3(){var id=0,ie=h9.length;ib=[];while(++id<ie){ib[id-1]=hm.quantile(ia,id/ie)}return ic}function ic(id){if(!isNaN(id=+id)){return h9[hm.bisect(ib,id)]}}ic.domain=function(id){if(!arguments.length){return ia}ia=id.map(hr).filter(bc).sort(fj);return d3()};ic.range=function(id){if(!arguments.length){return h9}h9=id;return d3()};ic.quantiles=function(){return ib};ic.invertExtent=function(id){id=h9.indexOf(id);return id<0?[NaN,NaN]:[id>0?ib[id-1]:ia[0],id<ib.length?ib[id]:ia[ia.length-1]]};ic.copy=function(){return D(ia,h9)};return d3()}hm.scale.quantize=function(){return dE(0,1,[0,1])};function dE(ic,ia,h9){var id,ib;function ie(ig){return h9[Math.max(0,Math.min(ib,Math.floor(id*(ig-ic))))]}function d3(){id=h9.length/(ia-ic);ib=h9.length-1;return ie}ie.domain=function(ig){if(!arguments.length){return[ic,ia]}ic=+ig[0];ia=+ig[ig.length-1];return d3()};ie.range=function(ig){if(!arguments.length){return h9}h9=ig;return d3()};ie.invertExtent=function(ig){ig=h9.indexOf(ig);ig=ig<0?NaN:ig/id+ic;return[ig,ig+1/id]};ie.copy=function(){return dE(ic,ia,h9)};return d3()}hm.scale.threshold=function(){return f5([0.5],[0,1])};function f5(h9,d3){function ia(ib){if(ib<=ib){return d3[hm.bisect(h9,ib)]}}ia.domain=function(ib){if(!arguments.length){return h9}h9=ib;return ia};ia.range=function(ib){if(!arguments.length){return d3}d3=ib;return ia};ia.invertExtent=function(ib){ib=d3.indexOf(ib);return[h9[ib-1],h9[ib]]};ia.copy=function(){return f5(h9,d3)};return ia}hm.scale.identity=function(){return eU([0,1])};function eU(h9){function d3(ia){return +ia}d3.invert=d3;d3.domain=d3.range=function(ia){if(!arguments.length){return h9}h9=ia.map(d3);return d3};d3.ticks=function(ia){return e2(h9,ia)};d3.tickFormat=function(ia,ib){return fa(h9,ia,ib)};d3.copy=function(){return eU(h9)};return d3}hm.svg={};function dp(){return 0}hm.svg.arc=function(){var ig=bC,ib=cT,ic=dp,ih=fU,ie=gg,h9=ap,ia=bM;function d3(){var it=Math.max(0,+ig.apply(this,arguments)),ir=Math.max(0,+ib.apply(this,arguments)),iO=ie.apply(this,arguments)-ep,iN=h9.apply(this,arguments)-ep,iy=Math.abs(iN-iO),iB=iO>iN?0:1;if(ir<it){iL=ir,ir=it,it=iL}if(iy>=gF){return id(ir,iB)+(it?id(it,1-iB):"")+"Z"}var iL,iC,iF,io,iQ=0,iP=0,ix,ii,iw,iV,iv,iU,iu,iS,iM=[];if(io=(+ia.apply(this,arguments)||0)/2){iF=ih===fU?Math.sqrt(it*it+ir*ir):+ih.apply(this,arguments);if(!iB){iP*=-1}if(ir){iP=cg(iF/ir*Math.sin(io))}if(it){iQ=cg(iF/it*Math.sin(io))}}if(ir){ix=ir*Math.cos(iO+iP);ii=ir*Math.sin(iO+iP);iw=ir*Math.cos(iN-iP);iV=ir*Math.sin(iN-iP);var ip=Math.abs(iN-iO-2*iP)<=ge?0:1;if(iP&&hC(ix,ii,iw,iV)===iB^ip){var iD=(iO+iN)/2;ix=ir*Math.cos(iD);ii=ir*Math.sin(iD);iw=iV=null}}else{ix=ii=0}if(it){iv=it*Math.cos(iN-iQ);iU=it*Math.sin(iN-iQ);iu=it*Math.cos(iO+iQ);iS=it*Math.sin(iO+iQ);var iq=Math.abs(iO-iN+2*iQ)<=ge?0:1;if(iQ&&hC(iv,iU,iu,iS)===1-iB^iq){var iE=(iO+iN)/2;iv=it*Math.cos(iE);iU=it*Math.sin(iE);iu=iS=null}}else{iv=iU=0}if((iL=Math.min(Math.abs(ir-it)/2,+ic.apply(this,arguments)))>0.001){iC=it<ir^iB?0:1;var iI=iu==null?[iv,iU]:iw==null?[ix,ii]:gj([ix,ii],[iu,iS],[iw,iV],[iv,iU]),im=ix-iI[0],il=ii-iI[1],iK=iw-iI[0],iJ=iV-iI[1],ij=1/Math.sin(Math.acos((im*iK+il*iJ)/(Math.sqrt(im*im+il*il)*Math.sqrt(iK*iK+iJ*iJ)))/2),iG=Math.sqrt(iI[0]*iI[0]+iI[1]*iI[1]);if(iw!=null){var iR=Math.min(iL,(ir-iG)/(ij+1)),iA=ff(iu==null?[iv,iU]:[iu,iS],[ix,ii],ir,iR,iB),ik=ff([iw,iV],[iv,iU],ir,iR,iB);if(iL===iR){iM.push("M",iA[0],"A",iR,",",iR," 0 0,",iC," ",iA[1],"A",ir,",",ir," 0 ",1-iB^hC(iA[1][0],iA[1][1],ik[1][0],ik[1][1]),",",iB," ",ik[1],"A",iR,",",iR," 0 0,",iC," ",ik[0])}else{iM.push("M",iA[0],"A",iR,",",iR," 0 1,",iC," ",ik[0])}}else{iM.push("M",ix,",",ii)}if(iu!=null){var iT=Math.min(iL,(it-iG)/(ij-1)),iz=ff([ix,ii],[iu,iS],it,-iT,iB),iH=ff([iv,iU],iw==null?[ix,ii]:[iw,iV],it,-iT,iB);if(iL===iT){iM.push("L",iH[0],"A",iT,",",iT," 0 0,",iC," ",iH[1],"A",it,",",it," 0 ",iB^hC(iH[1][0],iH[1][1],iz[1][0],iz[1][1]),",",1-iB," ",iz[1],"A",iT,",",iT," 0 0,",iC," ",iz[0])}else{iM.push("L",iH[0],"A",iT,",",iT," 0 0,",iC," ",iz[0])}}else{iM.push("L",iv,",",iU)}}else{iM.push("M",ix,",",ii);if(iw!=null){iM.push("A",ir,",",ir," 0 ",ip,",",iB," ",iw,",",iV)}iM.push("L",iv,",",iU);if(iu!=null){iM.push("A",it,",",it," 0 ",iq,",",1-iB," ",iu,",",iS)}}iM.push("Z");return iM.join("")}function id(ij,ii){return"M0,"+ij+"A"+ij+","+ij+" 0 1,"+ii+" 0,"+-ij+"A"+ij+","+ij+" 0 1,"+ii+" 0,"+ij}d3.innerRadius=function(ii){if(!arguments.length){return ig}ig=S(ii);return d3};d3.outerRadius=function(ii){if(!arguments.length){return ib}ib=S(ii);return d3};d3.cornerRadius=function(ii){if(!arguments.length){return ic}ic=S(ii);return d3};d3.padRadius=function(ii){if(!arguments.length){return ih}ih=ii==fU?fU:S(ii);return d3};d3.startAngle=function(ii){if(!arguments.length){return ie}ie=S(ii);return d3};d3.endAngle=function(ii){if(!arguments.length){return h9}h9=S(ii);return d3};d3.padAngle=function(ii){if(!arguments.length){return ia}ia=S(ii);return d3};d3.centroid=function(){var ij=(+ig.apply(this,arguments)+ +ib.apply(this,arguments))/2,ii=(+ie.apply(this,arguments)+ +h9.apply(this,arguments))/2-ep;return[Math.cos(ii)*ij,Math.sin(ii)*ij]};return d3};var fU="auto";function bC(d3){return d3.innerRadius}function cT(d3){return d3.outerRadius}function gg(d3){return d3.startAngle}function ap(d3){return d3.endAngle}function bM(d3){return d3&&d3.padAngle}function hC(h9,ib,d3,ia){return(h9-d3)*ib-(ib-ia)*h9>0?0:1}function ff(h9,d3,ix,iw,ig){var iv=h9[0]-d3[0],ii=h9[1]-d3[1],ik=(ig?iw:-iw)/Math.sqrt(iv*iv+ii*ii),ij=ik*ii,ih=-ik*iv,iA=h9[0]+ij,ie=h9[1]+ih,iz=d3[0]+ij,ic=d3[1]+ih,iy=(iA+iz)/2,ia=(ie+ic)/2,ip=iz-iA,im=ic-ie,iE=ip*ip+im*im,it=ix-iw,iq=iA*ic-iz*ie,iB=(im<0?-1:1)*Math.sqrt(it*it*iE-iq*iq),iu=(iq*im-ip*iB)/iE,iD=(-iq*ip-im*iB)/iE,ir=(iq*im+ip*iB)/iE,iC=(-iq*ip+im*iB)/iE,id=iu-iy,io=iD-ia,ib=ir-iy,il=iC-ia;if(id*id+io*io>ib*ib+il*il){iu=ir,iD=iC}return[[iu-ij,iD-ih],[iu*ix/it,iD*ix/it]]}function e9(h9){var d3=hS,ig=hR,ie=ai,ib=hP,id=ib.key,ic=0.7;function ia(ik){var im=[],iq=[],il=-1,ih=ik.length,ip,ij=S(d3),ii=S(ig);function io(){im.push("M",ib(h9(iq),ic))}while(++il<ih){if(ie.call(this,ip=ik[il],il)){iq.push([+ij.call(this,ip,il),+ii.call(this,ip,il)])}else{if(iq.length){io();iq=[]}}}if(iq.length){io()}return im.length?im.join(""):null}ia.x=function(ih){if(!arguments.length){return d3}d3=ih;return ia};ia.y=function(ih){if(!arguments.length){return ig}ig=ih;return ia};ia.defined=function(ih){if(!arguments.length){return ie}ie=ih;return ia};ia.interpolate=function(ih){if(!arguments.length){return id}if(typeof ih==="function"){id=ib=ih}else{id=(ib=cf.get(ih)||hP).key}return ia};ia.tension=function(ih){if(!arguments.length){return ic}ic=ih;return ia};return ia}hm.svg.line=function(){return e9(gl)};var cf=hm.map({linear:hP,"linear-closed":aa,step:da,"step-before":bm,"step-after":hw,basis:fe,"basis-open":bj,"basis-closed":cO,bundle:cR,cardinal:dR,"cardinal-open":b5,"cardinal-closed":t,monotone:dj});cf.forEach(function(d3,h9){h9.key=d3;h9.closed=/-closed$/.test(d3)});function hP(d3){return d3.join("L")}function aa(d3){return hP(d3)+"Z"}function da(h9){var d3=0,ic=h9.length,ib=h9[0],ia=[ib[0],",",ib[1]];while(++d3<ic){ia.push("H",(ib[0]+(ib=h9[d3])[0])/2,"V",ib[1])}if(ic>1){ia.push("H",ib[0])}return ia.join("")}function bm(h9){var d3=0,ic=h9.length,ib=h9[0],ia=[ib[0],",",ib[1]];while(++d3<ic){ia.push("V",(ib=h9[d3])[1],"H",ib[0])}return ia.join("")}function hw(h9){var d3=0,ic=h9.length,ib=h9[0],ia=[ib[0],",",ib[1]];while(++d3<ic){ia.push("H",(ib=h9[d3])[0],"V",ib[1])}return ia.join("")}function b5(h9,d3){return h9.length<4?hP(h9):h9[1]+cY(h9.slice(1,-1),bX(h9,d3))}function t(h9,d3){return h9.length<3?hP(h9):h9[0]+cY((h9.push(h9[0]),h9),bX([h9[h9.length-2]].concat(h9,[h9[1]]),d3))}function dR(h9,d3){return h9.length<3?hP(h9):h9[0]+cY(h9,bX(h9,d3))}function cY(ie,id){if(id.length<1||ie.length!=id.length&&ie.length!=id.length+2){return hP(ie)}var ig=ie.length!=id.length,ij="",ih=ie[0],d3=ie[1],ic=id[0],ii=ic,ia=1;if(ig){ij+="Q"+(d3[0]-ic[0]*2/3)+","+(d3[1]-ic[1]*2/3)+","+d3[0]+","+d3[1];ih=ie[1];ia=2}if(id.length>1){ii=id[1];d3=ie[ia];ia++;ij+="C"+(ih[0]+ic[0])+","+(ih[1]+ic[1])+","+(d3[0]-ii[0])+","+(d3[1]-ii[1])+","+d3[0]+","+d3[1];for(var h9=2;h9<id.length;h9++,ia++){d3=ie[ia];ii=id[h9];ij+="S"+(d3[0]-ii[0])+","+(d3[1]-ii[1])+","+d3[0]+","+d3[1]}}if(ig){var ib=ie[ia];ij+="Q"+(d3[0]+ii[0]*2/3)+","+(d3[1]+ii[1]*2/3)+","+ib[0]+","+ib[1]}return ij}function bX(ie,ic){var ia=[],ib=(1-ic)/2,ih,ig=ie[0],id=ie[1],h9=1,d3=ie.length;while(++h9<d3){ih=ig;ig=id;id=ie[h9];ia.push([ib*(id[0]-ih[0]),ib*(id[1]-ih[1])])}return ia}function fe(ig){if(ig.length<3){return hP(ig)}var ia=1,h9=ig.length,ib=ig[0],d3=ib[0],id=ib[1],ie=[d3,d3,d3,(ib=ig[1])[0]],ic=[id,id,id,ib[1]],ih=[d3,",",id,"L",gm(hl,ie),",",gm(hl,ic)];ig.push(ig[h9-1]);while(++ia<=h9){ib=ig[ia];ie.shift();ie.push(ib[0]);ic.shift();ic.push(ib[1]);bQ(ih,ie,ic)}ig.pop();ih.push("L",ib);return ih.join("")}function bj(ib){if(ib.length<4){return hP(ib)}var id=[],ia=-1,ie=ib.length,ic,h9=[0],d3=[0];while(++ia<3){ic=ib[ia];h9.push(ic[0]);d3.push(ic[1])}id.push(gm(hl,h9)+","+gm(hl,d3));--ia;while(++ia<ie){ic=ib[ia];h9.shift();h9.push(ic[0]);d3.shift();d3.push(ic[1]);bQ(id,h9,d3)}return id.join("")}function cO(ic){var ie,ib=-1,ig=ic.length,d3=ig+4,id,ia=[],h9=[];while(++ib<4){id=ic[ib%ig];ia.push(id[0]);h9.push(id[1])}ie=[gm(hl,ia),",",gm(hl,h9)];--ib;while(++ib<d3){id=ic[ib%ig];ia.shift();ia.push(id[0]);h9.shift();h9.push(id[1]);bQ(ie,ia,h9)}return ie.join("")}function cR(ie,id){var ia=ie.length-1;if(ia){var h9=ie[0][0],ic=ie[0][1],ii=ie[ia][0]-h9,ih=ie[ia][1]-ic,ib=-1,d3,ig;while(++ib<=ia){d3=ie[ib];ig=ib/ia;d3[0]=id*d3[0]+(1-id)*(h9+ig*ii);d3[1]=id*d3[1]+(1-id)*(ic+ig*ih)}}return fe(ie)}function gm(h9,d3){return h9[0]*d3[0]+h9[1]*d3[1]+h9[2]*d3[2]+h9[3]*d3[3]}var hp=[0,2/3,1/3,0],hn=[0,1/3,2/3,0],hl=[0,1/6,2/3,1/6];function bQ(h9,d3,ia){h9.push("C",gm(hp,d3),",",gm(hp,ia),",",gm(hn,d3),",",gm(hn,ia),",",gm(hl,d3),",",gm(hl,ia))}function h2(h9,d3){return(d3[1]-h9[1])/(d3[0]-h9[0])}function d8(ib){var ia=0,h9=ib.length-1,d3=[],ie=ib[0],id=ib[1],ic=d3[0]=h2(ie,id);while(++ia<h9){d3[ia]=(ic+(ic=h2(ie=id,id=ib[ia+1])))/2}d3[ia]=ic;return d3}function av(ig){var ic=[],ib,ie,id,ih,d3=d8(ig),ia=-1,h9=ig.length-1;while(++ia<h9){ib=h2(ig[ia],ig[ia+1]);if(cH(ib)<gn){d3[ia]=d3[ia+1]=0}else{ie=d3[ia]/ib;id=d3[ia+1]/ib;ih=ie*ie+id*id;if(ih>9){ih=ib*3/Math.sqrt(ih);d3[ia]=ih*ie;d3[ia+1]=ih*id}}}ia=-1;while(++ia<=h9){ih=(ig[Math.min(h9,ia+1)][0]-ig[Math.max(0,ia-1)][0])/(6*(1+d3[ia]*d3[ia]));ic.push([ih||0,d3[ia]*ih||0])}return ic}function dj(d3){return d3.length<3?hP(d3):d3[0]+cY(d3,av(d3))}hm.svg.line.radial=function(){var d3=e9(Q);d3.radius=d3.x,delete d3.x;d3.angle=d3.y,delete d3.y;return d3};function Q(ib){var d3,ia=-1,id=ib.length,ic,h9;while(++ia<id){d3=ib[ia];ic=d3[0];h9=d3[1]-ep;d3[0]=ic*Math.cos(h9);d3[1]=ic*Math.sin(h9)}return ib}function h4(ic){var ia=hS,h9=hS,ij=0,ih=hR,ib=ai,id=hP,ik=id.key,ig=id,ie="L",ii=0.7;function d3(iq){var it=[],il=[],iA=[],ir=-1,im=iq.length,iv,ip=S(ia),iz=S(ij),io=ia===h9?function(){return ix}:S(h9),iy=ij===ih?function(){return iw}:S(ih),ix,iw;function iu(){it.push("M",id(ic(iA),ii),ie,ig(ic(il.reverse()),ii),"Z")}while(++ir<im){if(ib.call(this,iv=iq[ir],ir)){il.push([ix=+ip.call(this,iv,ir),iw=+iz.call(this,iv,ir)]);iA.push([+io.call(this,iv,ir),+iy.call(this,iv,ir)])}else{if(il.length){iu();il=[];iA=[]}}}if(il.length){iu()}return it.length?it.join(""):null}d3.x=function(il){if(!arguments.length){return h9}ia=h9=il;return d3};d3.x0=function(il){if(!arguments.length){return ia}ia=il;return d3};d3.x1=function(il){if(!arguments.length){return h9}h9=il;return d3};d3.y=function(il){if(!arguments.length){return ih}ij=ih=il;return d3};d3.y0=function(il){if(!arguments.length){return ij}ij=il;return d3};d3.y1=function(il){if(!arguments.length){return ih}ih=il;return d3};d3.defined=function(il){if(!arguments.length){return ib}ib=il;return d3};d3.interpolate=function(il){if(!arguments.length){return ik}if(typeof il==="function"){ik=id=il}else{ik=(id=cf.get(il)||hP).key}ig=id.reverse||id;ie=id.closed?"M":"L";return d3};d3.tension=function(il){if(!arguments.length){return ii}ii=il;return d3};return d3}bm.reverse=hw;hw.reverse=bm;hm.svg.area=function(){return h4(gl)};hm.svg.area.radial=function(){var d3=h4(Q);d3.radius=d3.x,delete d3.x;d3.innerRadius=d3.x0,delete d3.x0;d3.outerRadius=d3.x1,delete d3.x1;d3.angle=d3.y,delete d3.y;d3.startAngle=d3.y0,delete d3.y0;d3.endAngle=d3.y1,delete d3.y1;return d3};hm.svg.chord=function(){var d3=hH,ig=hO,ie=I,ih=gg,ic=ap;function id(im,ik){var il=ii(this,d3,im,ik),ij=ii(this,ig,im,ik);return"M"+il.p0+h9(il.r,il.p1,il.a1-il.a0)+(ia(il,ij)?ib(il.r,il.p1,il.r,il.p0):ib(il.r,il.p1,ij.r,ij.p0)+h9(ij.r,ij.p1,ij.a1-ij.a0)+ib(ij.r,ij.p1,il.r,il.p0))+"Z"}function ii(im,iq,ir,io){var il=iq.call(im,ir,io),ip=ie.call(im,il,io),ik=ih.call(im,il,io)-ep,ij=ic.call(im,il,io)-ep;return{r:ip,a0:ik,a1:ij,p0:[ip*Math.cos(ik),ip*Math.sin(ik)],p1:[ip*Math.cos(ij),ip*Math.sin(ij)]}}function ia(ik,ij){return ik.a0==ij.a0&&ik.a1==ij.a1}function h9(ik,il,ij){return"A"+ik+","+ik+" 0 "+ +(ij>ge)+",1 "+il}function ib(ik,im,ij,il){return"Q 0,0 "+il}id.radius=function(ij){if(!arguments.length){return ie}ie=S(ij);return id};id.source=function(ij){if(!arguments.length){return d3}d3=S(ij);return id};id.target=function(ij){if(!arguments.length){return ig}ig=S(ij);return id};id.startAngle=function(ij){if(!arguments.length){return ih}ih=S(ij);return id};id.endAngle=function(ij){if(!arguments.length){return ic}ic=S(ij);return id};return id};function I(d3){return d3.radius}hm.svg.diagonal=function(){var ia=hH,ib=hO,d3=o;function h9(ih,id){var ii=ia.call(this,ih,id),ie=ib.call(this,ih,id),ic=(ii.y+ie.y)/2,ig=[ii,{x:ii.x,y:ic},{x:ie.x,y:ic},ie];ig=ig.map(d3);return"M"+ig[0]+"C"+ig[1]+" "+ig[2]+" "+ig[3]}h9.source=function(ic){if(!arguments.length){return ia}ia=S(ic);return h9};h9.target=function(ic){if(!arguments.length){return ib}ib=S(ic);return h9};h9.projection=function(ic){if(!arguments.length){return d3}d3=ic;return h9};return h9};function o(d3){return[d3.x,d3.y]}hm.svg.diagonal.radial=function(){var ia=hm.svg.diagonal(),d3=o,h9=ia.projection;ia.projection=function(ib){return arguments.length?h9(p(d3=ib)):d3};return ia};function p(d3){return function(){var ib=d3.apply(this,arguments),ia=ib[0],h9=ib[1]-ep;return[ia*Math.cos(h9),ia*Math.sin(h9)]}}hm.svg.symbol=function(){var h9=aV,d3=e5;function ia(ic,ib){return(hM.get(h9.call(this,ic,ib))||ch)(d3.call(this,ic,ib))}ia.type=function(ib){if(!arguments.length){return h9}h9=S(ib);return ia};ia.size=function(ib){if(!arguments.length){return d3}d3=S(ib);return ia};return ia};function e5(){return 64}function aV(){return"circle"}function ch(d3){var h9=Math.sqrt(d3/ge);return"M0,"+h9+"A"+h9+","+h9+" 0 1,1 0,"+-h9+"A"+h9+","+h9+" 0 1,1 0,"+h9+"Z"}var hM=hm.map({circle:ch,cross:function(d3){var h9=Math.sqrt(d3/5)/2;return"M"+-3*h9+","+-h9+"H"+-h9+"V"+-3*h9+"H"+h9+"V"+-h9+"H"+3*h9+"V"+h9+"H"+h9+"V"+3*h9+"H"+-h9+"V"+h9+"H"+-3*h9+"Z"},diamond:function(d3){var h9=Math.sqrt(d3/(2*cn)),ia=h9*cn;return"M0,"+-h9+"L"+ia+",0 0,"+h9+" "+-ia+",0Z"},square:function(d3){var h9=Math.sqrt(d3)/2;return"M"+-h9+","+-h9+"L"+h9+","+-h9+" "+h9+","+h9+" "+-h9+","+h9+"Z"},"triangle-down":function(d3){var ia=Math.sqrt(d3/b9),h9=ia*b9/2;return"M0,"+h9+"L"+ia+","+-h9+" "+-ia+","+-h9+"Z"},"triangle-up":function(d3){var ia=Math.sqrt(d3/b9),h9=ia*b9/2;return"M0,"+-h9+"L"+ia+","+h9+" "+-ia+","+h9+"Z"}});hm.svg.symbolTypes=hM.keys();var b9=Math.sqrt(3),cn=Math.tan(30*K);function gR(d3,h9,ia){h3(d3,ew);d3.namespace=h9;d3.id=ia;return d3}var ew=[],g9=0,at,d4;ew.call=dY.call;ew.empty=dY.empty;ew.node=dY.node;ew.size=dY.size;hm.transition=function(d3){return arguments.length?at?d3.transition():d3:gT.transition()};hm.transition.prototype=ew;ew.select=function(ig){var d3=this.id,ij=this.namespace,ib=[],il,h9,ie;ig=A(ig);for(var ih=-1,ic=this.length;++ih<ic;){ib.push(il=[]);for(var ik=this[ih],ii=-1,ia=ik.length;++ii<ia;){if((ie=ik[ii])&&(h9=ig.call(ie,ie.__data__,ii,ih))){if("__data__" in ie){h9.__data__=ie.__data__}fC(h9,ii,ij,d3,ie[ij][d3]);il.push(h9)}else{il.push(null)}}}return gR(ib,ij,d3)};ew.selectAll=function(ii){var h9=this.id,io=this.namespace,ie=[],iq,d3,ih,ia,im;ii=c2(ii);for(var ik=-1,ig=this.length;++ik<ig;){for(var ip=this[ik],il=-1,ic=ip.length;++il<ic;){if(ih=ip[il]){im=ih[io][h9];d3=ii.call(ih,ih.__data__,il,ik);ie.push(iq=[]);for(var ij=-1,ib=d3.length;++ij<ib;){if(ia=d3[ij]){fC(ia,ij,io,h9,im)}iq.push(ia)}}}}return gR(ie,io,h9)};ew.filter=function(d3){var ia=[],ih,ig,ib;if(typeof d3!=="function"){d3=a9(d3)}for(var id=0,ic=this.length;id<ic;id++){ia.push(ih=[]);for(var ig=this[id],ie=0,h9=ig.length;ie<h9;ie++){if((ib=ig[ie])&&d3.call(ib,ib.__data__,ie,id)){ih.push(ib)}}}return gR(ia,this.namespace,this.id)};ew.tween=function(d3,h9){var ib=this.id,ia=this.namespace;if(arguments.length<2){return this.node()[ia][ib].tween.get(d3)}return cJ(this,h9==null?function(ic){ic[ia][ib].tween.remove(d3)}:function(ic){ic[ia][ib].tween.set(d3,h9)})};function hL(d3,h9,ic,ia){var ie=d3.id,ib=d3.namespace;return cJ(d3,typeof ic==="function"?function(ih,ig,id){ih[ib][ie].tween.set(h9,ia(ic.call(ih,ih.__data__,ig,id)))}:(ic=ia(ic),function(id){id[ib][ie].tween.set(h9,ic)}))}ew.attr=function(d3,id){if(arguments.length<2){for(id in d3){this.attr(id,d3[id])}return this}var ib=d3=="transform"?eg:fD,ia=hm.ns.qualify(d3);function h9(){this.removeAttribute(ia)}function ig(){this.removeAttributeNS(ia.space,ia.local)}function ic(ih){return ih==null?h9:(ih+="",function(){var ii=this.getAttribute(ia),ij;return ii!==ih&&(ij=ib(ii,ih),function(ik){this.setAttribute(ia,ij(ik))})})}function ie(ih){return ih==null?ig:(ih+="",function(){var ii=this.getAttributeNS(ia.space,ia.local),ij;return ii!==ih&&(ij=ib(ii,ih),function(ik){this.setAttributeNS(ia.space,ia.local,ij(ik))})})}return hL(this,"attr."+d3,id,ia.local?ie:ic)};ew.attrTween=function(d3,ia){var h9=hm.ns.qualify(d3);function ib(ig,id){var ie=ia.call(this,ig,id,this.getAttribute(h9));return ie&&function(ih){this.setAttribute(h9,ie(ih))}}function ic(ig,id){var ie=ia.call(this,ig,id,this.getAttributeNS(h9.space,h9.local));return ie&&function(ih){this.setAttributeNS(h9.space,h9.local,ie(ih))}}return this.tween("attr."+d3,h9.local?ic:ib)};ew.style=function(ia,ic,ib){var id=arguments.length;if(id<3){if(typeof ia!=="string"){if(id<2){ic=""}for(ib in ia){this.style(ib,ia[ib],ic)}return this}ib=""}function h9(){this.style.removeProperty(ia)}function d3(ie){return ie==null?h9:(ie+="",function(){var ig=fz.getComputedStyle(this,null).getPropertyValue(ia),ih;return ig!==ie&&(ih=fD(ig,ie),function(ii){this.style.setProperty(ia,ih(ii),ib)})})}return hL(this,"style."+ia,ic,d3)};ew.styleTween=function(d3,ia,h9){if(arguments.length<3){h9=""}function ib(ie,ic){var id=ia.call(this,ie,ic,fz.getComputedStyle(this,null).getPropertyValue(d3));return id&&function(ig){this.style.setProperty(d3,id(ig),h9)}}return this.tween("style."+d3,ib)};ew.text=function(d3){return hL(this,"text",d3,h8)};function h8(d3){if(d3==null){d3=""}return function(){this.textContent=d3}}ew.remove=function(){var d3=this.namespace;return this.each("end.transition",function(){var h9;if(this[d3].count<2&&(h9=this.parentNode)){h9.removeChild(this)}})};ew.ease=function(h9){var ia=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ia].ease}if(typeof h9!=="function"){h9=hm.ease.apply(hm,arguments)}return cJ(this,function(ib){ib[d3][ia].ease=h9})};ew.delay=function(h9){var ia=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ia].delay}return cJ(this,typeof h9==="function"?function(id,ic,ib){id[d3][ia].delay=+h9.call(id,id.__data__,ic,ib)}:(h9=+h9,function(ib){ib[d3][ia].delay=h9}))};ew.duration=function(h9){var ia=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ia].duration}return cJ(this,typeof h9==="function"?function(id,ic,ib){id[d3][ia].duration=Math.max(1,h9.call(id,id.__data__,ic,ib))}:(h9=Math.max(1,h9),function(ib){ib[d3][ia].duration=h9}))};ew.each=function(ia,ib){var ie=this.id,h9=this.namespace;if(arguments.length<2){var d3=d4,ic=at;at=ie;cJ(this,function(ih,ig,id){d4=ih[h9][ie];ia.call(ih,ih.__data__,ig,id)});d4=d3;at=ic}else{cJ(this,function(id){var ig=id[h9][ie];(ig.event||(ig.event=hm.dispatch("start","end","interrupt"))).on(ia,ib)})}return this};ew.transition=function(){var ik=this.id,ij=++g9,ig=this.namespace,h9=[],ii,ih,ib,ie;for(var ic=0,ia=this.length;ic<ia;ic++){h9.push(ii=[]);for(var ih=this[ic],id=0,d3=ih.length;id<d3;id++){if(ib=ih[id]){ie=ib[ig][ik];fC(ib,id,ig,ij,{time:ie.time,ease:ie.ease,delay:ie.delay+ie.duration,duration:ie.duration})}ii.push(ib)}}return gR(h9,ig,ij)};function gz(d3){return d3==null?"__transition__":"__transition_"+d3+"__"}function fC(ic,ia,ib,ih,d3){var h9=ic[ib]||(ic[ib]={active:0,count:0}),ig=h9[ih];if(!ig){var ie=d3.time;ig=h9[ih]={tween:new aJ(),time:ie,delay:d3.delay,duration:d3.duration,ease:d3.ease};d3=null;++h9.count;hm.timer(function(ir){var io=ic.__data__,il=ig.delay,ik,ij,id=dk,iq=[];id.t=il+ie;if(il<=ir){return ii(ir-il)}id.c=ii;function ii(it){if(h9.active>ih){return ip(false)}h9.active=ih;ig.event&&ig.event.start.call(ic,io,ia);ig.tween.forEach(function(iu,iv){if(iv=iv.call(ic,io,ia)){iq.push(iv)}});ij=ig.ease;ik=ig.duration;hm.timer(function(){id.c=im(it||1)?ai:im;return 1},0,ie)}function im(it){if(h9.active!==ih){return ip(false)}var iu=it/ik,iv=ij(iu),iw=iq.length;while(iw>0){iq[--iw].call(ic,iv)}if(iu>=1){return ip(true)}}function ip(it){if(ig.event){ig.event[it?"end":"interrupt"].call(ic,io,ia)}if(--h9.count){delete h9[ih]}else{delete ic[ib]}return 1}},0,ie)}}hm.svg.axis=function(){var ia=hm.scale.linear(),ic=hT,d3=6,id=6,ih=3,ig=[10],ib=null,ie;function h9(ii){ii.each(function(){var iG=hm.select(this);var iB=this.__chart__||ia,iA=this.__chart__=ia.copy();var iJ=ib==null?iA.ticks?iA.ticks.apply(iA,ig):iA.domain():ib,iz=ie==null?iA.tickFormat?iA.tickFormat.apply(iA,ig):gl:ie,iD=iG.selectAll(".tick").data(iJ,iA),iw=iD.enter().insert("g",".domain").attr("class","tick").style("opacity",gn),iy=hm.transition(iD.exit()).style("opacity",gn).remove(),iq=hm.transition(iD.order()).style("opacity",1),ij=Math.max(d3,0)+ih,ik;var iv=aZ(iA),ix=iG.selectAll(".domain").data([0]),iK=(ix.enter().append("path").attr("class","domain"),hm.transition(ix));iw.append("line");iw.append("text");var io=iw.select("line"),iI=iq.select("line"),iu=iD.select("text").text(iz),ip=iw.select("text"),iF=iq.select("text"),iH=ic==="top"||ic==="left"?-1:1,iE,iC,im,il;if(ic==="bottom"||ic==="top"){ik=fn,iE="x",im="y",iC="x2",il="y2";iu.attr("dy",iH<0?"0em":".71em").style("text-anchor","middle");iK.attr("d","M"+iv[0]+","+iH*id+"V0H"+iv[1]+"V"+iH*id)}else{ik=fm,iE="y",im="x",iC="y2",il="x2";iu.attr("dy",".32em").style("text-anchor",iH<0?"end":"start");iK.attr("d","M"+iH*id+","+iv[0]+"H0V"+iv[1]+"H"+iH*id)}io.attr(il,iH*d3);ip.attr(im,iH*ij);iI.attr(iC,0).attr(il,iH*d3);iF.attr(iE,0).attr(im,iH*ij);if(iA.rangeBand){var ir=iA,it=ir.rangeBand()/2;iB=iA=function(iL){return ir(iL)+it}}else{if(iB.rangeBand){iB=iA}else{iy.call(ik,iA,iB)}}iw.call(ik,iB,iA);iq.call(ik,iA,iA)})}h9.scale=function(ii){if(!arguments.length){return ia}ia=ii;return h9};h9.orient=function(ii){if(!arguments.length){return ic}ic=ii in e3?ii+"":hT;return h9};h9.ticks=function(){if(!arguments.length){return ig}ig=arguments;return h9};h9.tickValues=function(ii){if(!arguments.length){return ib}ib=ii;return h9};h9.tickFormat=function(ii){if(!arguments.length){return ie}ie=ii;return h9};h9.tickSize=function(ii){var ij=arguments.length;if(!ij){return d3}d3=+ii;id=+arguments[ij-1];return h9};h9.innerTickSize=function(ii){if(!arguments.length){return d3}d3=+ii;return h9};h9.outerTickSize=function(ii){if(!arguments.length){return id}id=+ii;return h9};h9.tickPadding=function(ii){if(!arguments.length){return ih}ih=+ii;return h9};h9.tickSubdivide=function(){return arguments.length&&h9};return h9};var hT="bottom",e3={top:1,right:1,bottom:1,left:1};function fn(ia,h9,d3){ia.attr("transform",function(ic){var ib=h9(ic);return"translate("+(isFinite(ib)?ib:d3(ic))+",0)"})}function fm(h9,ia,d3){h9.attr("transform",function(ic){var ib=ia(ic);return"translate(0,"+(isFinite(ib)?ib:d3(ic))+")"})}hm.svg.brush=function(){var h9=hg(ih,"brushstart","brush","brushend"),ik=null,ii=null,ia=[0,0],ig=[0,0],ij,ic,d3=true,ie=true,il=au[0];function ih(ip){ip.each(function(){var iw=hm.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",im).on("touchstart.brush",im);var iv=iw.selectAll(".background").data([0]);iv.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");iw.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var iu=iw.selectAll(".resize").data(il,gl);iu.exit().remove();iu.enter().append("g").attr("class",function(ix){return"resize "+ix}).style("cursor",function(ix){return eW[ix]}).append("rect").attr("x",function(ix){return/[ew]$/.test(ix)?-3:null}).attr("y",function(ix){return/^[ns]/.test(ix)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");iu.style("display",ih.empty()?"none":null);var it=hm.transition(iw),iq=hm.transition(iv),ir;if(ik){ir=aZ(ik);iq.attr("x",ir[0]).attr("width",ir[1]-ir[0]);id(it)}if(ii){ir=aZ(ii);iq.attr("y",ir[0]).attr("height",ir[1]-ir[0]);ib(it)}io(it)})}ih.event=function(ip){ip.each(function(){var iq=h9.of(this,arguments),ir={x:ia,y:ig,i:ij,j:ic},it=this.__chart__||ir;this.__chart__=ir;if(at){hm.select(this).transition().each("start.brush",function(){ij=it.i;ic=it.j;ia=it.x;ig=it.y;iq({type:"brushstart"})}).tween("brush:brush",function(){var iu=eP(ia,ir.x),iv=eP(ig,ir.y);ij=ic=null;return function(iw){ia=ir.x=iu(iw);ig=ir.y=iv(iw);iq({type:"brush",mode:"resize"})}}).each("end.brush",function(){ij=ir.i;ic=ir.j;iq({type:"brush",mode:"resize"});iq({type:"brushend"})})}else{iq({type:"brushstart"});iq({type:"brush",mode:"resize"});iq({type:"brushend"})}})};function io(ip){ip.selectAll(".resize").attr("transform",function(iq){return"translate("+ia[+/e$/.test(iq)]+","+ig[+/^s/.test(iq)]+")"})}function id(ip){ip.select(".extent").attr("x",ia[0]);ip.selectAll(".extent,.n>rect,.s>rect").attr("width",ia[1]-ia[0])}function ib(ip){ip.select(".extent").attr("y",ig[0]);ip.selectAll(".extent,.e>rect,.w>rect").attr("height",ig[1]-ig[0])}function im(){var iJ=this,iq=hm.select(hm.event.target),iy=h9.of(iJ,arguments),iE=hm.select(iJ),iG=iq.datum(),iC=!/^(n|s)$/.test(iG)&&ik,iA=!/^(e|w)$/.test(iG)&&ii,iB=iq.classed("extent"),it=bL(),iH,iI=hm.mouse(iJ),ir;var iw=hm.select(fz).on("keydown.brush",iz).on("keyup.brush",iv);if(hm.event.changedTouches){iw.on("touchmove.brush",ix).on("touchend.brush",ip)}else{iw.on("mousemove.brush",ix).on("mouseup.brush",ip)}iE.interrupt().selectAll("*").interrupt();if(iB){iI[0]=ia[0]-iI[0];iI[1]=ig[0]-iI[1]}else{if(iG){var iF=+/w$/.test(iG),iD=+/^n/.test(iG);ir=[ia[1-iF]-iI[0],ig[1-iD]-iI[1]];iI[0]=ia[iF];iI[1]=ig[iD]}else{if(hm.event.altKey){iH=iI.slice()}}}iE.style("pointer-events","none").selectAll(".resize").style("display",null);hm.select("body").style("cursor",iq.style("cursor"));iy({type:"brushstart"});ix();function iz(){if(hm.event.keyCode==32){if(!iB){iH=null;iI[0]-=ia[1];iI[1]-=ig[1];iB=2}x()}}function iv(){if(hm.event.keyCode==32&&iB==2){iI[0]+=ia[1];iI[1]+=ig[1];iB=0;x()}}function ix(){var iK=hm.mouse(iJ),iL=false;if(ir){iK[0]+=ir[0];iK[1]+=ir[1]}if(!iB){if(hm.event.altKey){if(!iH){iH=[(ia[0]+ia[1])/2,(ig[0]+ig[1])/2]}iI[0]=ia[+(iK[0]<iH[0])];iI[1]=ig[+(iK[1]<iH[1])]}else{iH=null}}if(iC&&iu(iK,ik,0)){id(iE);iL=true}if(iA&&iu(iK,ii,1)){ib(iE);iL=true}if(iL){io(iE);iy({type:"brush",mode:iB?"move":"resize"})}}function iu(iS,iM,iO){var iP=aZ(iM),iL=iP[0],iK=iP[1],iQ=iI[iO],iT=iO?ig:ia,iU=iT[1]-iT[0],iN,iR;if(iB){iL-=iQ;iK-=iU+iQ}iN=(iO?ie:d3)?Math.max(iL,Math.min(iK,iS[iO])):iS[iO];if(iB){iR=(iN+=iQ)+iU}else{if(iH){iQ=Math.max(iL,Math.min(iK,2*iH[iO]-iN))}if(iQ<iN){iR=iN;iN=iQ}else{iR=iQ}}if(iT[0]!=iN||iT[1]!=iR){if(iO){ic=null}else{ij=null}iT[0]=iN;iT[1]=iR;return true}}function ip(){ix();iE.style("pointer-events","all").selectAll(".resize").style("display",ih.empty()?"none":null);hm.select("body").style("cursor",null);iw.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);it();iy({type:"brushend"})}}ih.x=function(ip){if(!arguments.length){return ik}ik=ip;il=au[!ik<<1|!ii];return ih};ih.y=function(ip){if(!arguments.length){return ii}ii=ip;il=au[!ik<<1|!ii];return ih};ih.clamp=function(ip){if(!arguments.length){return ik&&ii?[d3,ie]:ik?d3:ii?ie:null}if(ik&&ii){d3=!!ip[0],ie=!!ip[1]}else{if(ik){d3=!!ip}else{if(ii){ie=!!ip}}}return ih};ih.extent=function(iv){var ir,ip,iu,it,iq;if(!arguments.length){if(ik){if(ij){ir=ij[0],ip=ij[1]}else{ir=ia[0],ip=ia[1];if(ik.invert){ir=ik.invert(ir),ip=ik.invert(ip)}if(ip<ir){iq=ir,ir=ip,ip=iq}}}if(ii){if(ic){iu=ic[0],it=ic[1]}else{iu=ig[0],it=ig[1];if(ii.invert){iu=ii.invert(iu),it=ii.invert(it)}if(it<iu){iq=iu,iu=it,it=iq}}}return ik&&ii?[[ir,iu],[ip,it]]:ik?[ir,ip]:ii&&[iu,it]}if(ik){ir=iv[0],ip=iv[1];if(ii){ir=ir[0],ip=ip[0]}ij=[ir,ip];if(ik.invert){ir=ik(ir),ip=ik(ip)}if(ip<ir){iq=ir,ir=ip,ip=iq}if(ir!=ia[0]||ip!=ia[1]){ia=[ir,ip]}}if(ii){iu=iv[0],it=iv[1];if(ik){iu=iu[1],it=it[1]}ic=[iu,it];if(ii.invert){iu=ii(iu),it=ii(it)}if(it<iu){iq=iu,iu=it,it=iq}if(iu!=ig[0]||it!=ig[1]){ig=[iu,it]}}return ih};ih.clear=function(){if(!ih.empty()){ia=[0,0],ig=[0,0];ij=ic=null}return ih};ih.empty=function(){return !!ik&&ia[0]==ia[1]||!!ii&&ig[0]==ig[1]};return hm.rebind(ih,h9,"on")};var eW={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var au=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var h7=fH.format=di.timeFormat;var dg=h7.utc;var dP=dg("%Y-%m-%dT%H:%M:%S.%LZ");h7.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dx:dP;function dx(d3){return d3.toISOString()}dx.parse=function(h9){var d3=new Date(h9);return isNaN(d3)?null:d3};dx.toString=dP.toString;fH.second=c1(function(d3){return new hq(Math.floor(d3/1000)*1000)},function(d3,h9){d3.setTime(d3.getTime()+Math.floor(h9)*1000)},function(d3){return d3.getSeconds()});fH.seconds=fH.second.range;fH.seconds.utc=fH.second.utc.range;fH.minute=c1(function(d3){return new hq(Math.floor(d3/60000)*60000)},function(d3,h9){d3.setTime(d3.getTime()+Math.floor(h9)*60000)},function(d3){return d3.getMinutes()});fH.minutes=fH.minute.range;fH.minutes.utc=fH.minute.utc.range;fH.hour=c1(function(d3){var h9=d3.getTimezoneOffset()/60;return new hq((Math.floor(d3/3600000-h9)+h9)*3600000)},function(d3,h9){d3.setTime(d3.getTime()+Math.floor(h9)*3600000)},function(d3){return d3.getHours()});fH.hours=fH.hour.range;fH.hours.utc=fH.hour.utc.range;fH.month=c1(function(d3){d3=fH.day(d3);d3.setDate(1);return d3},function(d3,h9){d3.setMonth(d3.getMonth()+h9)},function(d3){return d3.getMonth()});fH.months=fH.month.range;fH.months.utc=fH.month.utc.range;function br(d3,h9,ia){function ib(id){return d3(id)}ib.invert=function(id){return f0(d3.invert(id))};ib.domain=function(id){if(!arguments.length){return d3.domain().map(f0)}d3.domain(id);return ib};function ic(ig,ih){var ie=ig[1]-ig[0],ii=ie/ih,id=hm.bisect(fb,ii);return id==fb.length?[h9.year,r(ig.map(function(ij){return ij/31536000000}),ih)[2]]:!id?[cz,r(ig,ih)[2]]:h9[ii/fb[id-1]<fb[id]/ii?id-1:id]}ib.nice=function(ie,ih){var ii=ib.domain(),ig=es(ii),ij=ie==null?ic(ig,10):typeof ie==="number"&&ic(ig,ie);if(ij){ie=ij[0],ih=ij[1]}function id(ik){return !isNaN(ik)&&!ie.range(ik,f0(+ik+1),ih).length}return ib.domain(gi(ii,ih>1?{floor:function(ik){while(id(ik=ie.floor(ik))){ik=f0(ik-1)}return ik},ceil:function(ik){while(id(ik=ie.ceil(ik))){ik=f0(+ik+1)}return ik}}:ie))};ib.ticks=function(id,ig){var ie=es(ib.domain()),ih=id==null?ic(ie,10):typeof id==="number"?ic(ie,id):!id.range&&[{range:id},ig];if(ih){id=ih[0],ig=ih[1]}return id.range(ie[0],f0(+ie[1]+1),ig<1?1:ig)};ib.tickFormat=function(){return ia};ib.copy=function(){return br(d3.copy(),h9,ia)};return ga(ib,d3)}function f0(d3){return new Date(d3)}var fb=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cD=[[fH.second,1],[fH.second,5],[fH.second,15],[fH.second,30],[fH.minute,1],[fH.minute,5],[fH.minute,15],[fH.minute,30],[fH.hour,1],[fH.hour,3],[fH.hour,6],[fH.hour,12],[fH.day,1],[fH.day,2],[fH.week,1],[fH.month,1],[fH.month,3],[fH.year,1]];var T=h7.multi([[".%L",function(d3){return d3.getMilliseconds()}],[":%S",function(d3){return d3.getSeconds()}],["%I:%M",function(d3){return d3.getMinutes()}],["%I %p",function(d3){return d3.getHours()}],["%a %d",function(d3){return d3.getDay()&&d3.getDate()!=1}],["%b %d",function(d3){return d3.getDate()!=1}],["%B",function(d3){return d3.getMonth()}],["%Y",ai]]);var cz={range:function(ia,d3,h9){return hm.range(Math.ceil(ia/h9)*h9,+d3,h9).map(f0)},floor:gl,ceil:gl};cD.year=fH.year;fH.scale=function(){return br(hm.scale.linear(),cD,T)};var f3=cD.map(function(d3){return[d3[0].utc,d3[1]]});var fs=dg.multi([[".%L",function(d3){return d3.getUTCMilliseconds()}],[":%S",function(d3){return d3.getUTCSeconds()}],["%I:%M",function(d3){return d3.getUTCMinutes()}],["%I %p",function(d3){return d3.getUTCHours()}],["%a %d",function(d3){return d3.getUTCDay()&&d3.getUTCDate()!=1}],["%b %d",function(d3){return d3.getUTCDate()!=1}],["%B",function(d3){return d3.getUTCMonth()}],["%Y",ai]]);f3.year=fH.year.utc;fH.scale.utc=function(){return br(hm.scale.linear(),f3,fs)};hm.text=Y(function(d3){return d3.responseText});hm.json=function(d3,h9){return hW(d3,"application/json",dL,h9)};function dL(d3){return JSON.parse(d3.responseText)}hm.html=function(d3,h9){return hW(d3,"text/html",h6,h9)};function h6(h9){var d3=bO.createRange();d3.selectNode(bO.body);return d3.createContextualFragment(h9.responseText)}hm.xml=Y(function(d3){return d3.responseXML});if(typeof define==="function"&&define.amd){define(hm)}else{if(typeof c==="object"&&c.exports){c.exports=hm}}this.d3=hm}()},{}],30:[function(b,c,a){!function(){var ho={version:"3.5.16"};var bP=[].slice,dP=function(d3){return bP.call(d3)};var bO=this.document;function d8(d3){return d3&&(d3.ownerDocument||d3.document||d3).documentElement}function fy(d3){return d3&&(d3.ownerDocument&&d3.ownerDocument.defaultView||d3.document&&d3||d3.defaultView)}if(bO){try{dP(bO.documentElement.childNodes)[0].nodeType}catch(hd){dP=function(ic){var d3=ic.length,id=new Array(d3);while(d3--){id[d3]=ic[d3]}return id}}}if(!Date.now){Date.now=function(){return +new Date()}}if(bO){try{bO.createElement("DIV").style.setProperty("opacity",0,"")}catch(fw){var dN=this.Element.prototype,b3=dN.setAttribute,g6=dN.setAttributeNS,dB=this.CSSStyleDeclaration.prototype,gO=dB.setProperty;dN.setAttribute=function(d3,ic){b3.call(this,d3,ic+"")};dN.setAttributeNS=function(id,d3,ic){g6.call(this,id,d3,ic+"")};dB.setProperty=function(d3,id,ic){gO.call(this,d3,id+"",ic)}}}ho.ascending=fi;function fi(ic,d3){return ic<d3?-1:ic>d3?1:ic>=d3?0:NaN}ho.descending=function(ic,d3){return d3<ic?-1:d3>ic?1:d3>=ic?0:NaN};ho.min=function(ih,ie){var id=-1,ig=ih.length,ic,d3;if(arguments.length===1){while(++id<ig){if((d3=ih[id])!=null&&d3>=d3){ic=d3;break}}while(++id<ig){if((d3=ih[id])!=null&&ic>d3){ic=d3}}}else{while(++id<ig){if((d3=ie.call(ih,ih[id],id))!=null&&d3>=d3){ic=d3;break}}while(++id<ig){if((d3=ie.call(ih,ih[id],id))!=null&&ic>d3){ic=d3}}}return ic};ho.max=function(ih,ie){var id=-1,ig=ih.length,ic,d3;if(arguments.length===1){while(++id<ig){if((d3=ih[id])!=null&&d3>=d3){ic=d3;break}}while(++id<ig){if((d3=ih[id])!=null&&d3>ic){ic=d3}}}else{while(++id<ig){if((d3=ie.call(ih,ih[id],id))!=null&&d3>=d3){ic=d3;break}}while(++id<ig){if((d3=ie.call(ih,ih[id],id))!=null&&d3>ic){ic=d3}}}return ic};ho.extent=function(ii,ie){var id=-1,ih=ii.length,ic,d3,ig;if(arguments.length===1){while(++id<ih){if((d3=ii[id])!=null&&d3>=d3){ic=ig=d3;break}}while(++id<ih){if((d3=ii[id])!=null){if(ic>d3){ic=d3}if(ig<d3){ig=d3}}}}else{while(++id<ih){if((d3=ie.call(ii,ii[id],id))!=null&&d3>=d3){ic=ig=d3;break}}while(++id<ih){if((d3=ie.call(ii,ii[id],id))!=null){if(ic>d3){ic=d3}if(ig<d3){ig=d3}}}}return[ic,ig]};function ht(d3){return d3===null?NaN:+d3}function bc(d3){return !isNaN(d3)}ho.sum=function(ih,ie){var id=0,ig=ih.length,d3,ic=-1;if(arguments.length===1){while(++ic<ig){if(bc(d3=+ih[ic])){id+=d3}}}else{while(++ic<ig){if(bc(d3=+ie.call(ih,ih[ic],ic))){id+=d3}}}return id};ho.mean=function(ii,ig){var ie=0,ih=ii.length,d3,id=-1,ic=ih;if(arguments.length===1){while(++id<ih){if(bc(d3=ht(ii[id]))){ie+=d3}else{--ic}}}else{while(++id<ih){if(bc(d3=ht(ig.call(ii,ii[id],id)))){ie+=d3}else{--ic}}}if(ic){return ie/ic}};ho.quantile=function(ic,ih){var id=(ic.length-1)*ih+1,ie=Math.floor(id),d3=+ic[ie-1],ig=id-ie;return ig?d3+ig*(ic[ie]-d3):d3};ho.median=function(ih,ie){var ic=[],ig=ih.length,d3,id=-1;if(arguments.length===1){while(++id<ig){if(bc(d3=ht(ih[id]))){ic.push(d3)}}}else{while(++id<ig){if(bc(d3=ht(ie.call(ih,ih[id],id)))){ic.push(d3)}}}if(ic.length){return ho.quantile(ic.sort(fi),0.5)}};ho.variance=function(ih,ig){var d3=ih.length,ic=0,ij,ii,ik=0,ie=-1,id=0;if(arguments.length===1){while(++ie<d3){if(bc(ij=ht(ih[ie]))){ii=ij-ic;ic+=ii/++id;ik+=ii*(ij-ic)}}}else{while(++ie<d3){if(bc(ij=ht(ig.call(ih,ih[ie],ie)))){ii=ij-ic;ic+=ii/++id;ik+=ii*(ij-ic)}}}if(id>1){return ik/(id-1)}};ho.deviation=function(){var d3=ho.variance.apply(this,arguments);return d3?Math.sqrt(d3):d3};function go(d3){return{left:function(id,ic,ih,ig){if(arguments.length<3){ih=0}if(arguments.length<4){ig=id.length}while(ih<ig){var ie=ih+ig>>>1;if(d3(id[ie],ic)<0){ih=ie+1}else{ig=ie}}return ih},right:function(id,ic,ih,ig){if(arguments.length<3){ih=0}if(arguments.length<4){ig=id.length}while(ih<ig){var ie=ih+ig>>>1;if(d3(id[ie],ic)>0){ig=ie}else{ih=ie+1}}return ih}}}var c0=go(fi);ho.bisectLeft=c0.left;ho.bisect=ho.bisectRight=c0.right;ho.bisector=function(d3){return go(d3.length===1?function(id,ic){return fi(d3(id),ic)}:d3)};ho.shuffle=function(ih,ig,ie){if((d3=arguments.length)<3){ie=ih.length;if(d3<2){ig=0}}var d3=ie-ig,id,ic;while(d3){ic=Math.random()*d3--|0;id=ih[d3+ig],ih[d3+ig]=ih[ic+ig],ih[ic+ig]=id}return ih};ho.permute=function(ie,ic){var id=ic.length,d3=new Array(id);while(id--){d3[id]=ie[ic[id]]}return d3};ho.pairs=function(ih){var d3=0,ig=ih.length-1,ie,id=ih[0],ic=new Array(ig<0?0:ig);while(d3<ig){ic[d3]=[ie=id,id=ih[++d3]]}return ic};ho.transpose=function(ic){if(!(ii=ic.length)){return[]}for(var ie=-1,d3=ho.min(ic,bU),ig=new Array(d3);++ie<d3;){for(var id=-1,ii,ih=ig[ie]=new Array(ii);++id<ii;){ih[id]=ic[id][ie]}}return ig};function bU(d3){return d3.length}ho.zip=function(){return ho.transpose(arguments)};ho.keys=function(id){var ic=[];for(var d3 in id){ic.push(d3)}return ic};ho.values=function(id){var d3=[];for(var ic in id){d3.push(id[ic])}return d3};ho.entries=function(id){var d3=[];for(var ic in id){d3.push({key:ic,value:id[ic]})}return d3};ho.merge=function(ig){var ii=ig.length,ic,ie=-1,id=0,d3,ih;while(++ie<ii){id+=ig[ie].length}d3=new Array(id);while(--ii>=0){ih=ig[ii];ic=ih.length;while(--ic>=0){d3[--id]=ih[ic]}}return d3};var cH=Math.abs;ho.range=function(ii,ig,ih){if(arguments.length<3){ih=1;if(arguments.length<2){ig=ii;ii=0}}if((ig-ii)/ih===Infinity){throw new Error("infinite range")}var ic=[],d3=gk(cH(ih)),ie=-1,id;ii*=d3,ig*=d3,ih*=d3;if(ih<0){while((id=ii+ih*++ie)>ig){ic.push(id/d3)}}else{while((id=ii+ih*++ie)<ig){ic.push(id/d3)}}return ic};function gk(d3){var ic=1;while(d3*ic%1){ic*=10}return ic}function h4(id,ic){for(var d3 in ic){Object.defineProperty(id.prototype,d3,{value:ic[d3],enumerable:false})}}ho.map=function(d3,ie){var ig=new aI();if(d3 instanceof aI){d3.forEach(function(ij,ik){ig.set(ij,ik)})}else{if(Array.isArray(d3)){var id=-1,ii=d3.length,ih;if(arguments.length===1){while(++id<ii){ig.set(id,d3[id])}}else{while(++id<ii){ig.set(ie.call(d3,ih=d3[id],id),ih)}}}else{for(var ic in d3){ig.set(ic,d3[ic])}}}return ig};function aI(){this._=Object.create(null)}var dc="__proto__",cG="\x00";h4(aI,{has:gI,get:function(d3){return this._[a1(d3)]},set:function(d3,ic){return this._[a1(d3)]=ic},remove:cX,keys:fv,values:function(){var d3=[];for(var ic in this._){d3.push(this._[ic])}return d3},entries:function(){var d3=[];for(var ic in this._){d3.push({key:a2(ic),value:this._[ic]})}return d3},size:hG,empty:aA,forEach:function(ic){for(var d3 in this._){ic.call(this,a2(d3),this._[d3])}}});function a1(d3){return(d3+="")===dc||d3[0]===cG?cG+d3:d3}function a2(d3){return(d3+="")[0]===cG?d3.slice(1):d3}function gI(d3){return a1(d3) in this._}function cX(d3){return(d3=a1(d3)) in this._&&delete this._[d3]}function fv(){var ic=[];for(var d3 in this._){ic.push(a2(d3))}return ic}function hG(){var ic=0;for(var d3 in this._){++ic}return ic}function aA(){for(var d3 in this._){return false}return true}ho.nest=function(){var ie={},id=[],ii=[],ic,ig;function ih(ik,it,iq){if(iq>=id.length){return ig?ig.call(ie,it):ic?it.sort(ic):it}var ir=-1,ij=it.length,iv=id[iq++],ip,io,im,il=new aI(),iu;while(++ir<ij){if(iu=il.get(ip=iv(io=it[ir]))){iu.push(io)}else{il.set(ip,[io])}}if(ik){io=ik();im=function(ix,iw){io.set(ix,ih(ik,iw,iq))}}else{io={};im=function(ix,iw){io[ix]=ih(ik,iw,iq)}}il.forEach(im);return io}function d3(ik,il){if(il>=id.length){return ik}var im=[],ij=ii[il++];ik.forEach(function(io,ip){im.push({key:io,values:d3(ip,il)})});return ij?im.sort(function(ip,io){return ij(ip.key,io.key)}):im}ie.map=function(ik,ij){return ih(ij,ik,0)};ie.entries=function(ij){return d3(ih(ho.map,ij,0),0)};ie.key=function(ij){id.push(ij);return ie};ie.sortKeys=function(ij){ii[id.length-1]=ij;return ie};ie.sortValues=function(ij){ic=ij;return ie};ie.rollup=function(ij){ig=ij;return ie};return ie};ho.set=function(ie){var id=new ds();if(ie){for(var d3=0,ic=ie.length;d3<ic;++d3){id.add(ie[d3])}}return id};function ds(){this._=Object.create(null)}h4(ds,{has:gI,add:function(d3){this._[a1(d3+="")]=true;return d3},remove:cX,values:fv,size:hG,empty:aA,forEach:function(ic){for(var d3 in this._){ic.call(this,a2(d3))}}});ho.behavior={};function gl(d3){return d3}ho.rebind=function(id,ic){var d3=1,ig=arguments.length,ie;while(++d3<ig){id[ie=arguments[d3]]=eA(id,ic,ic[ie])}return id};function eA(ic,d3,id){return function(){var ie=id.apply(d3,arguments);return ie===d3?ic:ie}}function dh(id,ic){if(ic in id){return ic}ic=ic.charAt(0).toUpperCase()+ic.slice(1);for(var ie=0,ig=K.length;ie<ig;++ie){var d3=K[ie]+ic;if(d3 in id){return d3}}}var K=["webkit","ms","moz","Moz","o","O"];function aH(){}ho.dispatch=function(){var d3=new eV(),ic=-1,id=arguments.length;while(++ic<id){d3[arguments[ic]]=fg(d3)}return d3};function eV(){}eV.prototype.on=function(id,ie){var ic=id.indexOf("."),d3="";if(ic>=0){d3=id.slice(ic+1);id=id.slice(0,ic)}if(id){return arguments.length<2?this[id].on(d3):this[id].on(d3,ie)}if(arguments.length===2){if(ie==null){for(id in this){if(this.hasOwnProperty(id)){this[id].on(d3,null)}}}return this}};function fg(d3){var id=[],ic=new aI();function ie(){var ii=id,ih=-1,ij=ii.length,ig;while(++ih<ij){if(ig=ii[ih].on){ig.apply(this,arguments)}}return d3}ie.on=function(ih,ij){var ig=ic.get(ih),ii;if(arguments.length<2){return ig&&ig.on}if(ig){ig.on=null;id=id.slice(0,ii=id.indexOf(ig)).concat(id.slice(ii+1));ic.remove(ih)}if(ij){id.push(ic.set(ih,{on:ij}))}return d3};return ie}ho.event=null;function w(){ho.event.preventDefault()}function ae(){var ic=ho.event,d3;while(d3=ic.sourceEvent){ic=d3}return ic}function hi(id){var d3=new eV(),ic=0,ie=arguments.length;while(++ic<ie){d3[arguments[ic]]=fg(d3)}d3.of=function(ih,ig){return function(ii){try{var ij=ii.sourceEvent=ho.event;ii.target=id;ho.event=ii;d3[ii.type].apply(ih,ig)}finally{ho.event=ij}}};return d3}ho.requote=function(d3){return d3.replace(c9,"\\$&")};var c9=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var h6={}.__proto__?function(ic,d3){ic.__proto__=d3}:function(ic,d3){for(var id in d3){ic[id]=d3[id]}};function d0(d3){h6(d3,dZ);return d3}var dr=function(d3,ic){return ic.querySelector(d3)},f7=function(d3,ic){return ic.querySelectorAll(d3)},d=function(id,d3){var ic=id.matches||id[dh(id,"matchesSelector")];d=function(ig,ie){return ic.call(ig,ie)};return d(id,d3)};if(typeof Sizzle==="function"){dr=function(d3,ic){return Sizzle(d3,ic)[0]||null};f7=Sizzle;d=Sizzle.matchesSelector}ho.selection=function(){return ho.select(bO.documentElement)};var dZ=ho.selection.prototype=[];dZ.select=function(ih){var id=[],il,d3,ik,ie;ih=z(ih);for(var ii=-1,ig=this.length;++ii<ig;){id.push(il=[]);il.parentNode=(ik=this[ii]).parentNode;for(var ij=-1,ic=ik.length;++ij<ic;){if(ie=ik[ij]){il.push(d3=ih.call(ie,ie.__data__,ij,ii));if(d3&&"__data__" in ie){d3.__data__=ie.__data__}}else{il.push(null)}}}return d0(id)};function z(d3){return typeof d3==="function"?d3:function(){return dr(d3,this)}}dZ.selectAll=function(ig){var ic=[],ik,id;ig=c2(ig);for(var ih=-1,ie=this.length;++ih<ie;){for(var ij=this[ih],ii=-1,d3=ij.length;++ii<d3;){if(id=ij[ii]){ic.push(ik=dP(ig.call(id,id.__data__,ii,ih)));ik.parentNode=id}}}return d0(ic)};function c2(d3){return typeof d3==="function"?d3:function(){return f7(d3,this)}}var fR="http://www.w3.org/1999/xhtml";var ee={svg:"http://www.w3.org/2000/svg",xhtml:fR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ho.ns={prefix:ee,qualify:function(d3){var ic=d3.indexOf(":"),id=d3;if(ic>=0&&(id=d3.slice(0,ic))!=="xmlns"){d3=d3.slice(ic+1)}return ee.hasOwnProperty(id)?{space:ee[id],local:d3}:d3}};dZ.attr=function(d3,id){if(arguments.length<2){if(typeof d3==="string"){var ic=this.node();d3=ho.ns.qualify(d3);return d3.local?ic.getAttributeNS(d3.space,d3.local):ic.getAttribute(d3)}for(id in d3){this.each(bv(id,d3[id]))}return this}return this.each(bv(d3,id))};function bv(id,ii){id=ho.ns.qualify(id);function ic(){this.removeAttribute(id)}function ij(){this.removeAttributeNS(id.space,id.local)}function ih(){this.setAttribute(id,ii)}function ig(){this.setAttributeNS(id.space,id.local,ii)}function d3(){var ik=ii.apply(this,arguments);if(ik==null){this.removeAttribute(id)}else{this.setAttribute(id,ik)}}function ie(){var ik=ii.apply(this,arguments);if(ik==null){this.removeAttributeNS(id.space,id.local)}else{this.setAttributeNS(id.space,id.local,ik)}}return ii==null?id.local?ij:ic:typeof ii==="function"?id.local?ie:d3:id.local?ig:ih}function cI(d3){return d3.trim().replace(/\s+/g," ")}dZ.classed=function(d3,ie){if(arguments.length<2){if(typeof d3==="string"){var id=this.node(),ig=(d3=gv(d3)).length,ic=-1;if(ie=id.classList){while(++ic<ig){if(!ie.contains(d3[ic])){return false}}}else{ie=id.getAttribute("class");while(++ic<ig){if(!gQ(d3[ic]).test(ie)){return false}}}return true}for(ie in d3){this.each(gE(ie,d3[ie]))}return this}return this.each(gE(d3,ie))};function gQ(d3){return new RegExp("(?:^|\\s+)"+ho.requote(d3)+"(?:\\s+|$)","g")}function gv(d3){return(d3+"").trim().split(/^|\s+/)}function gE(ic,ie){ic=gv(ic).map(h2);var ig=ic.length;function d3(){var ih=-1;while(++ih<ig){ic[ih](this,ie)}}function id(){var ii=-1,ih=ie.apply(this,arguments);while(++ii<ig){ic[ii](this,ih)}}return typeof ie==="function"?id:d3}function h2(d3){var ic=gQ(d3);return function(id,ie){if(ig=id.classList){return ie?ig.add(d3):ig.remove(d3)}var ig=id.getAttribute("class")||"";if(ie){ic.lastIndex=0;if(!ic.test(ig)){id.setAttribute("class",cI(ig+" "+d3))}}else{id.setAttribute("class",cI(ig.replace(ic," ")))}}}dZ.style=function(d3,ie,ic){var ig=arguments.length;if(ig<3){if(typeof d3!=="string"){if(ig<2){ie=""}for(ic in d3){this.each(fL(ic,d3[ic],ie))}return this}if(ig<2){var id=this.node();return fy(id).getComputedStyle(id,null).getPropertyValue(d3)}ic=""}return this.each(fL(d3,ie,ic))};function fL(id,ih,ie){function ic(){this.style.removeProperty(id)}function ig(){this.style.setProperty(id,ih,ie)}function d3(){var ii=ih.apply(this,arguments);if(ii==null){this.style.removeProperty(id)}else{this.style.setProperty(id,ii,ie)}}return ih==null?ic:typeof ih==="function"?d3:ig}dZ.property=function(d3,ic){if(arguments.length<2){if(typeof d3==="string"){return this.node()[d3]}for(ic in d3){this.each(hI(ic,d3[ic]))}return this}return this.each(hI(d3,ic))};function hI(ic,ie){function d3(){delete this[ic]}function id(){this[ic]=ie}function ig(){var ih=ie.apply(this,arguments);if(ih==null){delete this[ic]}else{this[ic]=ih}}return ie==null?d3:typeof ie==="function"?ig:id}dZ.text=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var ic=d3.apply(this,arguments);this.textContent=ic==null?"":ic}:d3==null?function(){this.textContent=""}:function(){this.textContent=d3}):this.node().textContent};dZ.html=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var ic=d3.apply(this,arguments);this.innerHTML=ic==null?"":ic}:d3==null?function(){this.innerHTML=""}:function(){this.innerHTML=d3}):this.node().innerHTML};dZ.append=function(d3){d3=aD(d3);return this.select(function(){return this.appendChild(d3.apply(this,arguments))})};function aD(d3){function ic(){var ie=this.ownerDocument,ig=this.namespaceURI;return ig===fR&&ie.documentElement.namespaceURI===fR?ie.createElement(d3):ie.createElementNS(ig,d3)}function id(){return this.ownerDocument.createElementNS(d3.space,d3.local)}return typeof d3==="function"?d3:(d3=ho.ns.qualify(d3)).local?id:ic}dZ.insert=function(d3,ic){d3=aD(d3);ic=z(ic);return this.select(function(){return this.insertBefore(d3.apply(this,arguments),ic.apply(this,arguments)||null)})};dZ.remove=function(){return this.each(ek)};function ek(){var d3=this.parentNode;if(d3){d3.removeChild(this)}}dZ.data=function(ij,il){var ig=-1,ic=this.length,ik,id;if(!arguments.length){ij=new Array(ic=(ik=this[0]).length);while(++ig<ic){if(id=ik[ig]){ij[ig]=id.__data__}}return ij}function ih(ix,ir){var iu,io=ix.length,iq=ir.length,iw=Math.min(io,iq),iA=new Array(iq),iy=new Array(iq),iv=new Array(io),ip,im;if(il){var iB=new aI(),iz=new Array(io),it;for(iu=-1;++iu<io;){if(ip=ix[iu]){if(iB.has(it=il.call(ip,ip.__data__,iu))){iv[iu]=ip}else{iB.set(it,ip)}iz[iu]=it}}for(iu=-1;++iu<iq;){if(!(ip=iB.get(it=il.call(ir,im=ir[iu],iu)))){iy[iu]=L(im)}else{if(ip!==true){iA[iu]=ip;ip.__data__=im}}iB.set(it,true)}for(iu=-1;++iu<io;){if(iu in iz&&iB.get(iz[iu])!==true){iv[iu]=ix[iu]}}}else{for(iu=-1;++iu<iw;){ip=ix[iu];im=ir[iu];if(ip){ip.__data__=im;iA[iu]=ip}else{iy[iu]=L(im)}}for(;iu<iq;++iu){iy[iu]=L(ir[iu])}for(;iu<io;++iu){iv[iu]=ix[iu]}}iy.update=iA;iy.parentNode=iA.parentNode=iv.parentNode=ix.parentNode;ii.push(iy);ie.push(iA);d3.push(iv)}var ii=bW([]),ie=d0([]),d3=d0([]);if(typeof ij==="function"){while(++ig<ic){ih(ik=this[ig],ij.call(ik,ik.parentNode.__data__,ig))}}else{while(++ig<ic){ih(ik=this[ig],ij)}}ie.enter=function(){return ii};ie.exit=function(){return d3};return ie};function L(d3){return{__data__:d3}}dZ.datum=function(d3){return arguments.length?this.property("__data__",d3):this.property("__data__")};dZ.filter=function(d3){var id=[],ik,ij,ie;if(typeof d3!=="function"){d3=a9(d3)}for(var ih=0,ig=this.length;ih<ig;ih++){id.push(ik=[]);ik.parentNode=(ij=this[ih]).parentNode;for(var ii=0,ic=ij.length;ii<ic;ii++){if((ie=ij[ii])&&d3.call(ie,ie.__data__,ii,ih)){ik.push(ie)}}}return d0(id)};function a9(d3){return function(){return d(this,d3)}}dZ.order=function(){for(var ic=-1,d3=this.length;++ic<d3;){for(var ih=this[ic],id=ih.length-1,ie=ih[id],ig;--id>=0;){if(ig=ih[id]){if(ie&&ie!==ig.nextSibling){ie.parentNode.insertBefore(ig,ie)}ie=ig}}}return this};dZ.sort=function(ic){ic=gN.apply(this,arguments);for(var id=-1,d3=this.length;++id<d3;){this[id].sort(ic)}return this.order()};function gN(d3){if(!arguments.length){d3=fi}return function(id,ic){return id&&ic?d3(id.__data__,ic.__data__):!id-!ic}}dZ.each=function(d3){return cJ(this,function(ie,id,ic){d3.call(ie,ie.__data__,id,ic)})};function cJ(ic,ij){for(var id=0,d3=ic.length;id<d3;id++){for(var ih=ic[id],ie=0,ii=ih.length,ig;ie<ii;ie++){if(ig=ih[ie]){ij(ig,ie,id)}}}return ic}dZ.call=function(ic){var d3=dP(arguments);ic.apply(d3[0]=this,d3);return this};dZ.empty=function(){return !this.node()};dZ.node=function(){for(var ic=0,d3=this.length;ic<d3;ic++){for(var ig=this[ic],id=0,ih=ig.length;id<ih;id++){var ie=ig[id];if(ie){return ie}}}return null};dZ.size=function(){var d3=0;cJ(this,function(){++d3});return d3};function bW(d3){h6(d3,e4);return d3}var e4=[];ho.selection.enter=bW;ho.selection.enter.prototype=e4;e4.append=dZ.append;e4.empty=dZ.empty;e4.node=dZ.node;e4.call=dZ.call;e4.size=dZ.size;e4.select=function(ih){var id=[],im,d3,ik,il,ig;for(var ii=-1,ie=this.length;++ii<ie;){ik=(il=this[ii]).update;id.push(im=[]);im.parentNode=il.parentNode;for(var ij=-1,ic=il.length;++ij<ic;){if(ig=il[ij]){im.push(ik[ij]=d3=ih.call(il.parentNode,ig.__data__,ij,ii));d3.__data__=ig.__data__}else{im.push(null)}}}return d0(id)};e4.insert=function(d3,ic){if(arguments.length<2){ic=gu(this)}return dZ.insert.call(this,d3,ic)};function gu(id){var d3,ic;return function(ij,ig,ie){var ii=id[ie].update,ik=ii.length,ih;if(ie!=ic){ic=ie,d3=0}if(ig>=d3){d3=ig+1}while(!(ih=ii[d3])&&++d3<ik){}return ih}}ho.select=function(d3){var ic;if(typeof d3==="string"){ic=[dr(d3,bO)];ic.parentNode=bO.documentElement}else{ic=[d3];ic.parentNode=d8(d3)}return d0([ic])};ho.selectAll=function(d3){var ic;if(typeof d3==="string"){ic=dP(f7(d3,bO));ic.parentNode=bO.documentElement}else{ic=dP(d3);ic.parentNode=null}return d0([ic])};dZ.on=function(ic,id,d3){var ie=arguments.length;if(ie<3){if(typeof ic!=="string"){if(ie<2){id=false}for(d3 in ic){this.each(m(d3,ic[d3],id))}return this}if(ie<2){return(ie=this.node()["__on"+ic])&&ie._}d3=false}return this.each(m(ic,id,d3))};function m(ik,ie,il){var d3="__on"+ik,ih=ik.indexOf("."),ic=fq;if(ih>0){ik=ik.slice(0,ih)}var id=bK.get(ik);if(id){ik=id,ic=ap}function ig(){var im=this[d3];if(im){this.removeEventListener(ik,im,im.$);delete this[d3]}}function ij(){var im=ic(ie,dP(arguments));ig.call(this);this.addEventListener(ik,this[d3]=im,im.$=il);im._=ie}function ii(){var iq=new RegExp("^__on([^.]+)"+ho.requote(ik)+"$"),ip;for(var io in this){if(ip=io.match(iq)){var im=this[io];this.removeEventListener(ip[1],im,im.$);delete this[io]}}}return ih?ie?ij:ig:ie?aH:ii}var bK=ho.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(bO){bK.forEach(function(d3){if("on"+d3 in bO){bK.remove(d3)}})}function fq(ic,d3){return function(id){var ie=ho.event;ho.event=id;d3[0]=this.__data__;try{ic.apply(this,d3)}finally{ho.event=ie}}}function ap(id,d3){var ic=fq(id,d3);return function(ih){var ig=this,ie=ih.relatedTarget;if(!ie||ie!==ig&&!(ie.compareDocumentPosition(ig)&8)){ic.call(ig,ih)}}}var cd,gK=0;function bL(ih){var id=".dragsuppress-"+ ++gK,ig="click"+id,ic=ho.select(fy(ih)).on("touchmove"+id,w).on("dragstart"+id,w).on("selectstart"+id,w);if(cd==null){cd="onselectstart" in ih?false:dh(ih.style,"userSelect")}if(cd){var ie=d8(ih).style,d3=ie[cd];ie[cd]="none"}return function(ii){ic.on(id,null);if(cd){ie[cd]=d3}if(ii){var ij=function(){ic.on(ig,null)};ic.on(ig,function(){w();ij()},true);setTimeout(ij,0)}}}ho.mouse=function(d3){return aY(d3,ae())};var cE=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function aY(id,ii){if(ii.changedTouches){ii=ii.changedTouches[0]}var ie=id.ownerSVGElement||id;if(ie.createSVGPoint){var d3=ie.createSVGPoint();if(cE<0){var ih=fy(id);if(ih.scrollX||ih.scrollY){ie=ho.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ic=ie[0][0].getScreenCTM();cE=!(ic.f||ic.e);ie.remove()}}if(cE){d3.x=ii.pageX,d3.y=ii.pageY}else{d3.x=ii.clientX,d3.y=ii.clientY}d3=d3.matrixTransform(id.getScreenCTM().inverse());return[d3.x,d3.y]}var ig=id.getBoundingClientRect();return[ii.clientX-ig.left-id.clientLeft,ii.clientY-ig.top-id.clientTop]}ho.touch=function(d3,ie,ic){if(arguments.length<3){ic=ie,ie=ae().changedTouches}if(ie){for(var id=0,ih=ie.length,ig;id<ih;++id){if((ig=ie[id]).identifier===ic){return aY(d3,ig)}}}};ho.behavior.drag=function(){var ig=hi(ie,"drag","dragstart","dragend"),d3=null,ic=id(aH,ho.mouse,fy,"mousemove","mouseup"),ih=id(hm,ho.touch,gl,"touchmove","touchend");function ie(){this.on("mousedown.drag",ic).on("touchstart.drag",ih)}function id(im,ii,il,ik,ij){return function(){var iv=this,iw=ho.event.target.correspondingElement||ho.event.target,iB=iv.parentNode,ix=ig.of(iv,arguments),iz=0,ip=im(),io=".drag"+(ip==null?"":"-"+ip),it,iq=ho.select(il(iw)).on(ik+io,iy).on(ij+io,iA),iu=bL(iw),ir=ii(iB,ip);if(d3){it=d3.apply(iv,arguments);it=[it.x-ir[0],it.y-ir[1]]}else{it=[0,0]}ix({type:"dragstart"});function iy(){var iD=ii(iB,ip),iE,iC;if(!iD){return}iE=iD[0]-ir[0];iC=iD[1]-ir[1];iz|=iE|iC;ir=iD;ix({type:"drag",x:iD[0]+it[0],y:iD[1]+it[1],dx:iE,dy:iC})}function iA(){if(!ii(iB,ip)){return}iq.on(ik+io,null).on(ij+io,null);iu(iz);ix({type:"dragend"})}}}ie.origin=function(ii){if(!arguments.length){return d3}d3=ii;return ie};return ho.rebind(ie,ig,"on")};function hm(){return ho.event.changedTouches[0].identifier}ho.touches=function(d3,ic){if(arguments.length<2){ic=ae().touches}return ic?dP(ic).map(function(ie){var id=aY(d3,ie);id.identifier=ie.identifier;return id}):[]};var gn=0.000001,eE=gn*gn,ge=Math.PI,f8=2*ge,gF=f8-gn,eq=ge/2,J=ge/180,hF=180/ge;function ca(d3){return d3>0?1:d3<0?-1:0}function e0(ic,d3,id){return(d3[0]-ic[0])*(id[1]-ic[1])-(d3[1]-ic[1])*(id[0]-ic[0])}function ad(d3){return d3>1?0:d3<-1?ge:Math.acos(d3)}function cg(d3){return d3>1?eq:d3<-1?-eq:Math.asin(d3)}function dX(d3){return((d3=Math.exp(d3))-1/d3)/2}function bF(d3){return((d3=Math.exp(d3))+1/d3)/2}function fs(d3){return((d3=Math.exp(2*d3))-1)/(d3+1)}function aE(d3){return(d3=Math.sin(d3/2))*d3}var gb=Math.SQRT2,aa=2,Y=4;ho.interpolateZoom=function(ic,d3){var im=ic[0],it=ic[1],ik=ic[2],il=d3[0],ir=d3[1],ii=d3[2],ij=il-im,ih=ir-it,iu=ij*ij+ih*ih,ip,id;if(iu<eE){id=Math.log(ii/ik)/gb;ip=function(iw){return[im+iw*ij,it+iw*ih,ik*Math.exp(gb*iw*id)]}}else{var iv=Math.sqrt(iu),ig=(ii*ii-ik*ik+Y*iu)/(2*ik*aa*iv),ie=(ii*ii-ik*ik-Y*iu)/(2*ii*aa*iv),iq=Math.log(Math.sqrt(ig*ig+1)-ig),io=Math.log(Math.sqrt(ie*ie+1)-ie);id=(io-iq)/gb;ip=function(ix){var iy=ix*id,iz=bF(iq),iw=ik/(aa*iv)*(iz*fs(gb*iy+iq)-dX(iq));return[im+iw*ij,it+iw*ih,ik*iz/bF(gb*iy+iq)]}}ip.duration=id*1000;return ip};ho.behavior.zoom=function(){var iq={x:0,y:0,k:1},iH,im,iJ,iw=[960,500],ie=fV,d3=250,iG=0,iA="mousedown.zoom",iI="mousemove.zoom",iB="mouseup.zoom",ix,iE="touchstart.zoom",il,iC=hi(id,"zoomstart","zoom","zoomend"),iF,iD,ij,ih;if(!g5){g5="onwheel" in bO?(cy=function(){return -ho.event.deltaY*(ho.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bO?(cy=function(){return ho.event.wheelDelta},"mousewheel"):(cy=function(){return -ho.event.detail},"MozMousePixelScroll")}function id(iL){iL.on(iA,ig).on(g5+".zoom",ir).on("dblclick.zoom",io).on(iE,ii)}id.event=function(iL){iL.each(function(){var iN=iC.of(this,arguments),iM=iq;if(ar){ho.select(this).transition().each("start.zoom",function(){iq=this.__chart__||{x:0,y:0,k:1};iy(iN)}).tween("zoom:zoom",function(){var iQ=iw[0],iP=iw[1],iO=im?im[0]:iQ/2,iS=im?im[1]:iP/2,iR=ho.interpolateZoom([(iO-iq.x)/iq.k,(iS-iq.y)/iq.k,iQ/iq.k],[(iO-iM.x)/iM.k,(iS-iM.y)/iM.k,iQ/iM.k]);return function(iV){var iT=iR(iV),iU=iQ/iT[2];this.__chart__=iq={x:iO-iT[0]*iU,y:iS-iT[1]*iU,k:iU};iv(iN)}}).each("interrupt.zoom",function(){iu(iN)}).each("end.zoom",function(){iu(iN)})}else{this.__chart__=iq;iy(iN);iv(iN);iu(iN)}})};id.translate=function(iL){if(!arguments.length){return[iq.x,iq.y]}iq={x:+iL[0],y:+iL[1],k:iq.k};ip();return id};id.scale=function(iL){if(!arguments.length){return iq.k}iq={x:iq.x,y:iq.y,k:null};ik(+iL);ip();return id};id.scaleExtent=function(iL){if(!arguments.length){return ie}ie=iL==null?fV:[+iL[0],+iL[1]];return id};id.center=function(iL){if(!arguments.length){return iJ}iJ=iL&&[+iL[0],+iL[1]];return id};id.size=function(iL){if(!arguments.length){return iw}iw=iL&&[+iL[0],+iL[1]];return id};id.duration=function(iL){if(!arguments.length){return d3}d3=+iL;return id};id.x=function(iL){if(!arguments.length){return iD}iD=iL;iF=iL.copy();iq={x:0,y:0,k:1};return id};id.y=function(iL){if(!arguments.length){return ih}ih=iL;ij=iL.copy();iq={x:0,y:0,k:1};return id};function ic(iL){return[(iL[0]-iq.x)/iq.k,(iL[1]-iq.y)/iq.k]}function iz(iL){return[iL[0]*iq.k+iq.x,iL[1]*iq.k+iq.y]}function ik(iL){iq.k=Math.max(ie[0],Math.min(ie[1],iL))}function iK(iM,iL){iL=iz(iL);iq.x+=iM[0]-iL[0];iq.y+=iM[1]-iL[1]}function it(iN,iO,iL,iM){iN.__chart__={x:iq.x,y:iq.y,k:iq.k};ik(Math.pow(2,iM));iK(im=iO,iL);iN=ho.select(iN);if(d3>0){iN=iN.transition().duration(d3)}iN.call(id.event)}function ip(){if(iD){iD.domain(iF.range().map(function(iL){return(iL-iq.x)/iq.k}).map(iF.invert))}if(ih){ih.domain(ij.range().map(function(iL){return(iL-iq.y)/iq.k}).map(ij.invert))}}function iy(iL){if(!iG++){iL({type:"zoomstart"})}}function iv(iL){ip();iL({type:"zoom",scale:iq.k,translate:[iq.x,iq.y]})}function iu(iL){if(!--iG){iL({type:"zoomend"}),im=null}}function ig(){var iR=this,iN=iC.of(iR,arguments),iL=0,iO=ho.select(fy(iR)).on(iI,iP).on(iB,iS),iM=ic(ho.mouse(iR)),iQ=bL(iR);cV.call(iR);iy(iN);function iP(){iL=1;iK(ho.mouse(iR),iM);iv(iN)}function iS(){iO.on(iI,null).on(iB,null);iQ(iL);iu(iN)}}function ii(){var iR=this,iT=iC.of(iR,arguments),iP={},iV=0,iS,iM=".zoom-"+ho.event.changedTouches[0].identifier,iN="touchmove"+iM,iZ="touchend"+iM,iQ=[],iW=ho.select(iR),iO=bL(iR);iU();iy(iT);iW.on(iA,null).on(iE,iU);function iL(){var i0=ho.touches(iR);iS=iq.k;i0.forEach(function(i1){if(i1.identifier in iP){iP[i1.identifier]=ic(i1)}});return i0}function iU(){var i7=ho.event.target;ho.select(i7).on(iN,iX).on(iZ,iY);iQ.push(i7);var i4=ho.event.changedTouches;for(var i5=0,i3=i4.length;i5<i3;++i5){iP[i4[i5].identifier]=null}var i6=iL(),i2=Date.now();if(i6.length===1){if(i2-il<500){var i1=i6[0];it(iR,i1,iP[i1.identifier],Math.floor(Math.log(iq.k)/Math.LN2)+1);w()}il=i2}else{if(i6.length>1){var i1=i6[0],i0=i6[1],i9=i1[0]-i0[0],i8=i1[1]-i0[1];iV=i9*i9+i8*i8}}}function iX(){var i4=ho.touches(iR),i8,i2,i7,i1;cV.call(iR);for(var i3=0,i0=i4.length;i3<i0;++i3,i1=null){i7=i4[i3];if(i1=iP[i7.identifier]){if(i2){break}i8=i7,i2=i1}}if(i1){var i6=(i6=i7[0]-i8[0])*i6+(i6=i7[1]-i8[1])*i6,i5=iV&&Math.sqrt(i6/iV);i8=[(i8[0]+i7[0])/2,(i8[1]+i7[1])/2];i2=[(i2[0]+i1[0])/2,(i2[1]+i1[1])/2];ik(i5*iS)}il=null;iK(i8,i2);iv(iT)}function iY(){if(ho.event.touches.length){var i2=ho.event.changedTouches;for(var i1=0,i3=i2.length;i1<i3;++i1){delete iP[i2[i1].identifier]}for(var i0 in iP){return void iL()}}ho.selectAll(iQ).on(iM,null);iW.on(iA,ig).on(iE,ii);iO();iu(iT)}}function ir(){var iL=iC.of(this,arguments);if(ix){clearTimeout(ix)}else{cV.call(this),iH=ic(im=iJ||ho.mouse(this)),iy(iL)}ix=setTimeout(function(){ix=null;iu(iL)},50);w();ik(Math.pow(2,cy()*0.002)*iq.k);iK(im,iH);iv(iL)}function io(){var iM=ho.mouse(this),iL=Math.log(iq.k)/Math.LN2;it(this,iM,ic(iM),ho.event.shiftKey?Math.ceil(iL)-1:Math.floor(iL)+1)}return ho.rebind(id,iC,"on")};var fV=[0,Infinity],cy,g5;ho.color=gV;function gV(){}gV.prototype.toString=function(){return this.rgb()+""};ho.hsl=eI;function eI(id,ic,d3){return this instanceof eI?void (this.h=+id,this.s=+ic,this.l=+d3):arguments.length<2?id instanceof eI?new eI(id.h,id.s,id.l):aX(""+id,gx,eI):new eI(id,ic,d3)}var ey=eI.prototype=new gV();ey.brighter=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eI(this.h,this.s,this.l/d3)};ey.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eI(this.h,this.s,d3*this.l)};ey.rgb=function(){return bh(this.h,this.s,this.l)};function bh(ih,ig,d3){var ie,id;ih=isNaN(ih)?0:(ih%=360)<0?ih+360:ih;ig=isNaN(ig)?0:ig<0?0:ig>1?1:ig;d3=d3<0?0:d3>1?1:d3;id=d3<=0.5?d3*(1+ig):d3+ig-d3*ig;ie=2*d3-id;function ic(ij){if(ij>360){ij-=360}else{if(ij<0){ij+=360}}if(ij<60){return ie+(id-ie)*ij/60}if(ij<180){return id}if(ij<240){return ie+(id-ie)*(240-ij)/60}return ie}function ii(ij){return Math.round(ic(ij)*255)}return new es(ii(ih+120),ii(ih),ii(ih-120))}ho.hcl=bD;function bD(ic,id,d3){return this instanceof bD?void (this.h=+ic,this.c=+id,this.l=+d3):arguments.length<2?ic instanceof bD?new bD(ic.h,ic.c,ic.l):ic instanceof co?gH(ic.l,ic.a,ic.b):gH((ic=d1((ic=ho.rgb(ic)).r,ic.g,ic.b)).l,ic.a,ic.b):new bD(ic,id,d3)}var hg=bD.prototype=new gV();hg.brighter=function(d3){return new bD(this.h,this.c,Math.min(100,this.l+bt*(arguments.length?d3:1)))};hg.darker=function(d3){return new bD(this.h,this.c,Math.max(0,this.l-bt*(arguments.length?d3:1)))};hg.rgb=function(){return bE(this.h,this.c,this.l).rgb()};function bE(ic,id,d3){if(isNaN(ic)){ic=0}if(isNaN(id)){id=0}return new co(d3,Math.cos(ic*=J)*id,Math.sin(ic)*id)}ho.lab=co;function co(id,ic,d3){return this instanceof co?void (this.l=+id,this.a=+ic,this.b=+d3):arguments.length<2?id instanceof co?new co(id.l,id.a,id.b):id instanceof bD?bE(id.h,id.c,id.l):d1((id=es(id)).r,id.g,id.b):new co(id,ic,d3)}var bt=18;var bi=0.95047,bg=1,bd=1.08883;var gy=co.prototype=new gV();gy.brighter=function(d3){return new co(Math.min(100,this.l+bt*(arguments.length?d3:1)),this.a,this.b)};gy.darker=function(d3){return new co(Math.max(0,this.l-bt*(arguments.length?d3:1)),this.a,this.b)};gy.rgb=function(){return aC(this.l,this.a,this.b)};function aC(ie,id,ic){var ih=(ie+16)/116,d3=ih+id/500,ig=ih-ic/200;d3=g1(d3)*bi;ih=g1(ih)*bg;ig=g1(ig)*bd;return new es(g(3.2404542*d3-1.5371385*ih-0.4985314*ig),g(-0.969266*d3+1.8760108*ih+0.041556*ig),g(0.0556434*d3-0.2040259*ih+1.0572252*ig))}function gH(id,ic,d3){return id>0?new bD(Math.atan2(d3,ic)*hF,Math.sqrt(ic*ic+d3*d3),id):new bD(NaN,NaN,id)}function g1(d3){return d3>0.206893034?d3*d3*d3:(d3-4/29)/7.787037}function gq(d3){return d3>0.008856?Math.pow(d3,1/3):7.787037*d3+4/29}function g(d3){return Math.round(255*(d3<=0.00304?12.92*d3:1.055*Math.pow(d3,1/2.4)-0.055))}ho.rgb=es;function es(id,ic,d3){return this instanceof es?void (this.r=~~id,this.g=~~ic,this.b=~~d3):arguments.length<2?id instanceof es?new es(id.r,id.g,id.b):aX(""+id,es,bh):new es(id,ic,d3)}function df(d3){return new es(d3>>16,d3>>8&255,d3&255)}function dx(d3){return df(d3)+""}var eJ=es.prototype=new gV();eJ.brighter=function(ic){ic=Math.pow(0.7,arguments.length?ic:1);var ig=this.r,ie=this.g,d3=this.b,id=30;if(!ig&&!ie&&!d3){return new es(id,id,id)}if(ig&&ig<id){ig=id}if(ie&&ie<id){ie=id}if(d3&&d3<id){d3=id}return new es(Math.min(255,ig/ic),Math.min(255,ie/ic),Math.min(255,d3/ic))};eJ.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new es(d3*this.r,d3*this.g,d3*this.b)};eJ.hsl=function(){return gx(this.r,this.g,this.b)};eJ.toString=function(){return"#"+cw(this.r)+cw(this.g)+cw(this.b)};function cw(d3){return d3<16?"0"+Math.max(0,d3).toString(16):Math.min(255,d3).toString(16)}function aX(ih,ie,ii){var d3=0,id=0,ig=0,ik,ij,ic;ik=/([a-z]+)\((.*)\)/.exec(ih=ih.toLowerCase());if(ik){ij=ik[2].split(",");switch(ik[1]){case"hsl":return ii(parseFloat(ij[0]),parseFloat(ij[1])/100,parseFloat(ij[2])/100);case"rgb":return ie(eX(ij[0]),eX(ij[1]),eX(ij[2]))}}if(ic=am.get(ih)){return ie(ic.r,ic.g,ic.b)}if(ih!=null&&ih.charAt(0)==="#"&&!isNaN(ic=parseInt(ih.slice(1),16))){if(ih.length===4){d3=(ic&3840)>>4;d3=d3>>4|d3;id=ic&240;id=id>>4|id;ig=ic&15;ig=ig<<4|ig}else{if(ih.length===7){d3=(ic&16711680)>>16;id=(ic&65280)>>8;ig=ic&255}}}return ie(d3,id,ig)}function gx(d3,ig,ii){var id=Math.min(d3/=255,ig/=255,ii/=255),ij=Math.max(d3,ig,ii),ih=ij-id,ie,ik,ic=(ij+id)/2;if(ih){ik=ic<0.5?ih/(ij+id):ih/(2-ij-id);if(d3==ij){ie=(ig-ii)/ih+(ig<ii?6:0)}else{if(ig==ij){ie=(ii-d3)/ih+2}else{ie=(d3-ig)/ih+4}}ie*=60}else{ie=NaN;ik=ic>0&&ic<1?0:ie}return new eI(ie,ik,ic)}function d1(ie,id,ic){ie=dE(ie);id=dE(id);ic=dE(ic);var d3=gq((0.4124564*ie+0.3575761*id+0.1804375*ic)/bi),ih=gq((0.2126729*ie+0.7151522*id+0.072175*ic)/bg),ig=gq((0.0193339*ie+0.119192*id+0.9503041*ic)/bd);return co(116*ih-16,500*(d3-ih),200*(ih-ig))}function dE(d3){return(d3/=255)<=0.04045?d3/12.92:Math.pow((d3+0.055)/1.055,2.4)}function eX(ic){var d3=parseFloat(ic);return ic.charAt(ic.length-1)==="%"?Math.round(d3*2.55):d3}var am=ho.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});am.forEach(function(d3,ic){am.set(d3,df(ic))});function R(d3){return typeof d3==="function"?d3:function(){return d3}}ho.functor=R;ho.xhr=X(gl);function X(d3){return function(ic,id,ie){if(arguments.length===2&&typeof id==="function"){ie=id,id=null}return hZ(ic,id,d3,ie)}}function hZ(d3,id,ig,ik){var il={},ij=ho.dispatch("beforesend","progress","load","error"),ie={},ih=new XMLHttpRequest(),ii=null;if(this.XDomainRequest&&!("withCredentials" in ih)&&/^(http(s)?:)?\/\//.test(d3)){ih=new XDomainRequest()}"onload" in ih?ih.onload=ih.onerror=ic:ih.onreadystatechange=function(){ih.readyState>3&&ic()};function ic(){var io=ih.status,im;if(!io&&fI(ih)||io>=200&&io<300||io===304){try{im=ig.call(il,ih)}catch(ip){ij.error.call(il,ip);return}ij.load.call(il,im)}else{ij.error.call(il,ih)}}ih.onprogress=function(im){var io=ho.event;ho.event=im;try{ij.progress.call(il,ih)}finally{ho.event=io}};il.header=function(im,io){im=(im+"").toLowerCase();if(arguments.length<2){return ie[im]}if(io==null){delete ie[im]}else{ie[im]=io+""}return il};il.mimeType=function(im){if(!arguments.length){return id}id=im==null?null:im+"";return il};il.responseType=function(im){if(!arguments.length){return ii}ii=im;return il};il.response=function(im){ig=im;return il};["get","post"].forEach(function(im){il[im]=function(){return il.send.apply(il,[im].concat(dP(arguments)))}});il.send=function(iq,io,ip){if(arguments.length===2&&typeof io==="function"){ip=io,io=null}ih.open(iq,d3,true);if(id!=null&&!("accept" in ie)){ie.accept=id+",*/*"}if(ih.setRequestHeader){for(var im in ie){ih.setRequestHeader(im,ie[im])}}if(id!=null&&ih.overrideMimeType){ih.overrideMimeType(id)}if(ii!=null){ih.responseType=ii}if(ip!=null){il.on("error",ip).on("load",function(ir){ip(null,ir)})}ij.beforesend.call(il,ih);ih.send(io==null?null:io);return il};il.abort=function(){ih.abort();return il};ho.rebind(il,ij,"on");return ik==null?il:il.get(d7(ik))}function d7(d3){return d3.length===1?function(ic,id){d3(ic==null?id:null)}:d3}function fI(ic){var d3=ic.responseType;return d3&&d3!=="text"?ic.response:ic.responseText}ho.dsv=function(d3,ic){var ie=new RegExp('["'+d3+"\n]"),ih=d3.charCodeAt(0);function ij(il,io,ip){if(arguments.length<3){ip=io,io=null}var im=hZ(il,ic,io==null?ig:id(io),ip);im.row=function(iq){return arguments.length?im.response((io=iq)==null?ig:id(iq)):io};return im}function ig(il){return ij.parse(il.responseText)}function id(il){return function(im){return ij.parse(im.responseText,il)}}ij.parse=function(io,il){var im;return ij.parseRows(io,function(ir,iq){if(im){return im(ir,iq-1)}var ip=new Function("d","return {"+ir.map(function(it,iu){return JSON.stringify(it)+": d["+iu+"]"}).join(",")+"}");im=il?function(iu,it){return il(ip(iu),it)}:ip})};ij.parseRows=function(iw,iq){var im={},ip={},iy=[],ir=iw.length,iv=0,il=0,ix,it;function io(){if(iv>=ir){return ip}if(it){return it=false,im}var iA=iv;if(iw.charCodeAt(iA)===34){var iB=iA;while(iB++<ir){if(iw.charCodeAt(iB)===34){if(iw.charCodeAt(iB+1)!==34){break}++iB}}iv=iB+2;var iC=iw.charCodeAt(iB+1);if(iC===13){it=true;if(iw.charCodeAt(iB+2)===10){++iv}}else{if(iC===10){it=true}}return iw.slice(iA+1,iB).replace(/""/g,'"')}while(iv<ir){var iC=iw.charCodeAt(iv++),iz=1;if(iC===10){it=true}else{if(iC===13){it=true;if(iw.charCodeAt(iv)===10){++iv,++iz}}else{if(iC!==ih){continue}}}return iw.slice(iA,iv-iz)}return iw.slice(iA)}while((ix=io())!==ip){var iu=[];while(ix!==im&&ix!==ip){iu.push(ix);ix=io()}if(iq&&(iu=iq(iu,il++))==null){continue}iy.push(iu)}return iy};ij.format=function(io){if(Array.isArray(io[0])){return ij.formatRows(io)}var im=new ds(),il=[];io.forEach(function(iq){for(var ip in iq){if(!im.has(ip)){il.push(im.add(ip))}}});return[il.map(ii).join(d3)].concat(io.map(function(ip){return il.map(function(iq){return ii(ip[iq])}).join(d3)})).join("\n")};ij.formatRows=function(il){return il.map(ik).join("\n")};function ik(il){return il.map(ii).join(d3)}function ii(il){return ie.test(il)?'"'+il.replace(/\"/g,'""')+'"':il}return ij};ho.csv=ho.dsv(",","text/csv");ho.tsv=ho.dsv("	","text/tab-separated-values");var d2,af,cr,ff,hu=this[dh(this,"requestAnimationFrame")]||function(d3){setTimeout(d3,17)};ho.timer=function(){g3.apply(this,arguments)};function g3(ih,d3,id){var ig=arguments.length;if(ig<2){d3=0}if(ig<3){id=Date.now()}var ic=id+d3,ie={c:ih,t:ic,n:null};if(af){af.n=ie}else{d2=ie}af=ie;if(!cr){ff=clearTimeout(ff);cr=1;hu(hv)}return ie}function hv(){var ic=bG(),d3=ac()-ic;if(d3>24){if(isFinite(d3)){clearTimeout(ff);ff=setTimeout(hv,d3)}cr=0}else{cr=1;hu(hv)}}ho.timer.flush=function(){bG();ac()};function bG(){var d3=Date.now(),ic=d2;while(ic){if(d3>=ic.t&&ic.c(d3-ic.t)){ic.c=null}ic=ic.n}return d3}function ac(){var ic,d3=d2,id=Infinity;while(d3){if(d3.c){if(d3.t<id){id=d3.t}d3=(ic=d3).n}else{d3=ic?ic.n=d3.n:d2=d3.n}}af=ic;return id}function eg(d3,ic){return ic-(d3?Math.ceil(Math.log(d3)/Math.LN10):1)}ho.round=function(d3,ic){return ic?Math.round(d3*(ic=Math.pow(10,ic)))/ic:Math.round(d3)};var cv=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(dO);ho.formatPrefix=function(id,d3){var ic=0;if(id=+id){if(id<0){id*=-1}if(d3){id=ho.round(id,eg(id,d3))}ic=1+Math.floor(1e-12+Math.log(id)/Math.LN10);ic=Math.max(-24,Math.min(24,Math.floor((ic-1)/3)*3))}return cv[8+ic/3]};function dO(id,ic){var d3=Math.pow(10,cH(8-ic)*3);return{scale:ic>8?function(ie){return ie/d3}:function(ie){return ie*d3},symbol:id}}function bp(d3){var ie=d3.decimal,ih=d3.thousands,ig=d3.grouping,id=d3.currency,ic=ig&&ih?function(ip,il){var ik=ip.length,ij=[],ii=0,io=ig[0],im=0;while(ik>0&&io>0){if(im+io+1>il){io=Math.max(1,il-im)}ij.push(ip.substring(ik-=io,ik+io));if((im+=io+1)>il){break}io=ig[ii=(ii+1)%ig.length]}return ij.reverse().join(ih)}:gl;return function(ix){var ir=cA.exec(ix),iz=ir[1]||" ",iu=ir[2]||">",ij=ir[3]||"-",il=ir[4]||"",im=ir[5],ii=+ir[6],iA=ir[7],iq=ir[8],iv=ir[9],ik=1,it="",iy="",ip=false,iw=true;if(iq){iq=+iq.substring(1)}if(im||iz==="0"&&iu==="="){im=iz="0";iu="="}switch(iv){case"n":iA=true;iv="g";break;case"%":ik=100;iy="%";iv="f";break;case"p":ik=100;iy="%";iv="r";break;case"b":case"o":case"x":case"X":if(il==="#"){it="0"+iv.toLowerCase()}case"c":iw=false;case"d":ip=true;iq=0;break;case"s":ik=-1;iv="r";break}if(il==="$"){it=id[0],iy=id[1]}if(iv=="r"&&!iq){iv="g"}if(iq!=null){if(iv=="g"){iq=Math.max(1,Math.min(21,iq))}else{if(iv=="e"||iv=="f"){iq=Math.max(0,Math.min(20,iq))}}}iv=x.get(iv)||bo;var io=im&&iA;return function(iJ){var iH=iy;if(ip&&iJ%1){return""}var iD=iJ<0||iJ===0&&1/iJ<0?(iJ=-iJ,"-"):ij==="-"?"":ij;if(ik<0){var iK=ho.formatPrefix(iJ,iq);iJ=iK.scale(iJ);iH=iK.symbol+iy}else{iJ*=ik}iJ=iv(iJ,iq);var iF=iJ.lastIndexOf("."),iI,iB;if(iF<0){var iE=iw?iJ.lastIndexOf("e"):-1;if(iE<0){iI=iJ,iB=""}else{iI=iJ.substring(0,iE),iB=iJ.substring(iE)}}else{iI=iJ.substring(0,iF);iB=ie+iJ.substring(iF+1)}if(!im&&iA){iI=ic(iI,Infinity)}var iC=it.length+iI.length+iB.length+(io?0:iD.length),iG=iC<ii?new Array(iC=ii-iC+1).join(iz):"";if(io){iI=ic(iG+iI,iG.length?ii-iB.length:Infinity)}iD+=it;iJ=iI+iB;return(iu==="<"?iD+iJ+iG:iu===">"?iG+iD+iJ:iu==="^"?iG.substring(0,iC>>=1)+iD+iJ+iG.substring(iC):iD+(io?iJ:iG+iJ))+iH}}}var cA=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var x=ho.map({b:function(d3){return d3.toString(2)},c:function(d3){return String.fromCharCode(d3)},o:function(d3){return d3.toString(8)},x:function(d3){return d3.toString(16)},X:function(d3){return d3.toString(16).toUpperCase()},g:function(d3,ic){return d3.toPrecision(ic)},e:function(d3,ic){return d3.toExponential(ic)},f:function(d3,ic){return d3.toFixed(ic)},r:function(d3,ic){return(d3=ho.round(d3,eg(d3,ic))).toFixed(Math.max(0,Math.min(20,eg(d3*(1+1e-15),ic))))}});function bo(d3){return d3+""}var fG=ho.time={},hs=Date;function cm(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}cm.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){f1.setUTCDate.apply(this._,arguments)},setDay:function(){f1.setUTCDay.apply(this._,arguments)},setFullYear:function(){f1.setUTCFullYear.apply(this._,arguments)},setHours:function(){f1.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){f1.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){f1.setUTCMinutes.apply(this._,arguments)},setMonth:function(){f1.setUTCMonth.apply(this._,arguments)},setSeconds:function(){f1.setUTCSeconds.apply(this._,arguments)},setTime:function(){f1.setTime.apply(this._,arguments)}};var f1=Date.prototype;function c1(ih,d3,ic){function ik(il){var io=ih(il),im=ie(io,1);return il-io<im-il?io:im}function ij(il){d3(il=ih(new hs(il-1)),1);return il}function ie(im,il){d3(im=new hs(+im),il);return im}function ig(io,im,il){var ip=ij(io),iq=[];if(il>1){while(ip<im){if(!(ic(ip)%il)){iq.push(new Date(+ip))}d3(ip,1)}}else{while(ip<im){iq.push(new Date(+ip)),d3(ip,1)}}return iq}function id(ip,io,im){try{hs=cm;var il=new cm();il._=ip;return ig(il,io,im)}finally{hs=Date}}ih.floor=ih;ih.round=ik;ih.ceil=ij;ih.offset=ie;ih.range=ig;var ii=ih.utc=dT(ih);ii.floor=ii;ii.round=dT(ik);ii.ceil=dT(ij);ii.offset=dT(ie);ii.range=id;return ih}function dT(d3){return function(id,ic){try{hs=cm;var ie=new cm();ie._=id;return d3(ie,ic)._}finally{hs=Date}}}fG.year=c1(function(d3){d3=fG.day(d3);d3.setMonth(0,1);return d3},function(d3,ic){d3.setFullYear(d3.getFullYear()+ic)},function(d3){return d3.getFullYear()});fG.years=fG.year.range;fG.years.utc=fG.year.utc.range;fG.day=c1(function(ic){var d3=new hs(2000,0);d3.setFullYear(ic.getFullYear(),ic.getMonth(),ic.getDate());return d3},function(d3,ic){d3.setDate(d3.getDate()+ic)},function(d3){return d3.getDate()-1});fG.days=fG.day.range;fG.days.utc=fG.day.utc.range;fG.dayOfYear=function(d3){var ic=fG.year(d3);return Math.floor((d3-ic-(d3.getTimezoneOffset()-ic.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(ic,id){id=7-id;var d3=fG[ic]=c1(function(ie){(ie=fG.day(ie)).setDate(ie.getDate()-(ie.getDay()+id)%7);return ie},function(ie,ig){ie.setDate(ie.getDate()+Math.floor(ig)*7)},function(ig){var ie=fG.year(ig).getDay();return Math.floor((fG.dayOfYear(ig)+(ie+id)%7)/7)-(ie!==id)});fG[ic+"s"]=d3.range;fG[ic+"s"].utc=d3.utc.range;fG[ic+"OfYear"]=function(ig){var ie=fG.year(ig).getDay();return Math.floor((fG.dayOfYear(ig)+(ie+id)%7)/7)}});fG.week=fG.sunday;fG.weeks=fG.sunday.range;fG.weeks.utc=fG.sunday.utc.range;fG.weekOfYear=fG.sundayOfYear;function aq(iw){var iB=iw.dateTime,iq=iw.date,ic=iw.time,ik=iw.periods,d3=iw.days,il=iw.shortDays,ip=iw.months,ig=iw.shortMonths;function iA(iI){var iK=iI.length;function iJ(iN){var iM=[],iO=-1,iL=0,iR,iQ,iP;while(++iO<iK){if(iI.charCodeAt(iO)===37){iM.push(iI.slice(iL,iO));if((iQ=aO[iR=iI.charAt(++iO)])!=null){iR=iI.charAt(++iO)}if(iP=iy[iR]){iR=iP(iN,iQ==null?iR==="e"?" ":"0":iQ)}iM.push(iR);iL=iO+1}}iM.push(iI.slice(iL,iO));return iM.join("")}iJ.parse=function(iN){var iP={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},iO=iu(iP,iI,iN,0);if(iO!=iN.length){return null}if("p" in iP){iP.H=iP.H%12+iP.p*12}var iL=iP.Z!=null&&hs!==cm,iM=new (iL?cm:hs)();if("j" in iP){iM.setFullYear(iP.y,0,iP.j)}else{if("W" in iP||"U" in iP){if(!("w" in iP)){iP.w="W" in iP?1:0}iM.setFullYear(iP.y,0,1);iM.setFullYear(iP.y,0,"W" in iP?(iP.w+6)%7+iP.W*7-(iM.getDay()+5)%7:iP.w+iP.U*7-(iM.getDay()+6)%7)}else{iM.setFullYear(iP.y,iP.m,iP.d)}}iM.setHours(iP.H+(iP.Z/100|0),iP.M+iP.Z%100,iP.S,iP.L);return iL?iM._:iM};iJ.toString=function(){return iI};return iJ}function iu(iL,iQ,iO,iM){var iP,iI,iR,iN=0,iJ=iQ.length,iK=iO.length;while(iN<iJ){if(iM>=iK){return -1}iP=iQ.charCodeAt(iN++);if(iP===37){iR=iQ.charAt(iN++);iI=ix[iR in aO?iQ.charAt(iN++):iR];if(!iI||(iM=iI(iL,iO,iM))<0){return -1}}else{if(iP!=iO.charCodeAt(iM++)){return -1}}}return iM}iA.utc=function(iJ){var iI=iA(iJ);function iK(iL){try{hs=cm;var iM=new hs();iM._=iL;return iI(iM)}finally{hs=Date}}iK.parse=function(iM){try{hs=cm;var iL=iI.parse(iM);return iL&&iL._}finally{hs=Date}};iK.toString=iI.toString;return iK};iA.multi=iA.utc.multi=gp;var ir=ho.map(),iE=cL(d3),iF=gU(d3),iD=cL(il),ih=gU(il),iG=cL(ip),iH=gU(ip),im=cL(ig),ie=gU(ig);ik.forEach(function(iJ,iI){ir.set(iJ.toLowerCase(),iI)});var iy={a:function(iI){return il[iI.getDay()]},A:function(iI){return d3[iI.getDay()]},b:function(iI){return ig[iI.getMonth()]},B:function(iI){return ip[iI.getMonth()]},c:iA(iB),d:function(iJ,iI){return dz(iJ.getDate(),iI,2)},e:function(iJ,iI){return dz(iJ.getDate(),iI,2)},H:function(iJ,iI){return dz(iJ.getHours(),iI,2)},I:function(iJ,iI){return dz(iJ.getHours()%12||12,iI,2)},j:function(iJ,iI){return dz(1+fG.dayOfYear(iJ),iI,3)},L:function(iJ,iI){return dz(iJ.getMilliseconds(),iI,3)},m:function(iJ,iI){return dz(iJ.getMonth()+1,iI,2)},M:function(iJ,iI){return dz(iJ.getMinutes(),iI,2)},p:function(iI){return ik[+(iI.getHours()>=12)]},S:function(iJ,iI){return dz(iJ.getSeconds(),iI,2)},U:function(iJ,iI){return dz(fG.sundayOfYear(iJ),iI,2)},w:function(iI){return iI.getDay()},W:function(iJ,iI){return dz(fG.mondayOfYear(iJ),iI,2)},x:iA(iq),X:iA(ic),y:function(iJ,iI){return dz(iJ.getFullYear()%100,iI,2)},Y:function(iJ,iI){return dz(iJ.getFullYear()%10000,iI,4)},Z:fW,"%":function(){return"%"}};var ix={a:io,A:id,b:iC,B:iv,c:ij,d:b4,e:b4,H:aQ,I:aQ,j:F,L:gX,m:gJ,M:cW,p:it,S:dY,U:bu,w:dV,W:dI,x:iz,X:ii,y:O,Y:bB,Z:a5,"%":ft};function io(iJ,iI,iK){iD.lastIndex=0;var iL=iD.exec(iI.slice(iK));return iL?(iJ.w=ih.get(iL[0].toLowerCase()),iK+iL[0].length):-1}function id(iJ,iI,iK){iE.lastIndex=0;var iL=iE.exec(iI.slice(iK));return iL?(iJ.w=iF.get(iL[0].toLowerCase()),iK+iL[0].length):-1}function iC(iJ,iI,iK){im.lastIndex=0;var iL=im.exec(iI.slice(iK));return iL?(iJ.m=ie.get(iL[0].toLowerCase()),iK+iL[0].length):-1}function iv(iJ,iI,iK){iG.lastIndex=0;var iL=iG.exec(iI.slice(iK));return iL?(iJ.m=iH.get(iL[0].toLowerCase()),iK+iL[0].length):-1}function ij(iJ,iI,iK){return iu(iJ,iy.c.toString(),iI,iK)}function iz(iJ,iI,iK){return iu(iJ,iy.x.toString(),iI,iK)}function ii(iJ,iI,iK){return iu(iJ,iy.X.toString(),iI,iK)}function it(iJ,iI,iK){var iL=ir.get(iI.slice(iK,iK+=2).toLowerCase());return iL==null?-1:(iJ.p=iL,iK)}return iA}var aO={"-":"",_:" ","0":"0"},f6=/^\s*\d+/,e8=/^%/;function dz(ig,ih,id){var d3=ig<0?"-":"",ic=(d3?-ig:ig)+"",ie=ic.length;return d3+(ie<id?new Array(id-ie+1).join(ih)+ic:ic)}function cL(d3){return new RegExp("^(?:"+d3.map(ho.requote).join("|")+")","i")}function gU(id){var ic=new aI(),d3=-1,ie=id.length;while(++d3<ie){ic.set(id[d3].toLowerCase(),d3)}return ic}function dV(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+1));return ie?(ic.w=+ie[0],id+ie[0].length):-1}function bu(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id));return ie?(ic.U=+ie[0],id+ie[0].length):-1}function dI(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id));return ie?(ic.W=+ie[0],id+ie[0].length):-1}function bB(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+4));return ie?(ic.y=+ie[0],id+ie[0].length):-1}function O(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.y=c3(+ie[0]),id+ie[0].length):-1}function a5(ic,d3,id){return/^[+-]\d{4}$/.test(d3=d3.slice(id,id+5))?(ic.Z=-d3,id+5):-1}function c3(d3){return d3+(d3>68?1900:2000)}function gJ(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.m=ie[0]-1,id+ie[0].length):-1}function b4(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.d=+ie[0],id+ie[0].length):-1}function F(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+3));return ie?(ic.j=+ie[0],id+ie[0].length):-1}function aQ(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.H=+ie[0],id+ie[0].length):-1}function cW(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.M=+ie[0],id+ie[0].length):-1}function dY(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.S=+ie[0],id+ie[0].length):-1}function gX(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+3));return ie?(ic.L=+ie[0],id+ie[0].length):-1}function fW(ig){var ie=ig.getTimezoneOffset(),id=ie>0?"-":"+",ic=cH(ie)/60|0,d3=cH(ie)%60;return id+dz(ic,"0",2)+dz(d3,"0",2)}function ft(ic,d3,id){e8.lastIndex=0;var ie=e8.exec(d3.slice(id,id+1));return ie?id+ie[0].length:-1}function gp(d3){var id=d3.length,ic=-1;while(++ic<id){d3[ic][0]=this(d3[ic][0])}return function(ie){var ig=0,ih=d3[ig];while(!ih[1](ie)){ih=d3[++ig]}return ih[0](ie)}}ho.locale=function(d3){return{numberFormat:bp(d3),timeFormat:aq(d3)}};var di=ho.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ho.format=di.numberFormat;ho.geo={};function fc(){}fc.prototype={s:0,t:0,add:function(d3){dq(d3,this.t,hP);dq(hP.s,this.s,this);if(this.s){this.t+=hP.t}else{this.s=hP.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hP=new fc();function dq(ie,id,ih){var ic=ih.s=ie+id,d3=ic-ie,ig=ic-d3;ih.t=ie-ig+(id-d3)}ho.geo.stream=function(d3,ic){if(d3&&A.hasOwnProperty(d3.type)){A[d3.type](d3,ic)}else{aP(d3,ic)}};function aP(ic,d3){if(ic&&eS.hasOwnProperty(ic.type)){eS[ic.type](ic,d3)}}var A={Feature:function(d3,ic){aP(d3.geometry,ic)},FeatureCollection:function(d3,ie){var id=d3.features,ic=-1,ig=id.length;while(++ic<ig){aP(id[ic].geometry,ie)}}};var eS={Sphere:function(d3,ic){ic.sphere()},Point:function(d3,ic){d3=d3.coordinates;ic.point(d3[0],d3[1],d3[2])},MultiPoint:function(d3,id){var ie=d3.coordinates,ic=-1,ig=ie.length;while(++ic<ig){d3=ie[ic],id.point(d3[0],d3[1],d3[2])}},LineString:function(d3,ic){cp(d3.coordinates,ic,0)},MultiLineString:function(d3,id){var ie=d3.coordinates,ic=-1,ig=ie.length;while(++ic<ig){cp(ie[ic],id,0)}},Polygon:function(d3,ic){hf(d3.coordinates,ic)},MultiPolygon:function(d3,id){var ie=d3.coordinates,ic=-1,ig=ie.length;while(++ic<ig){hf(ie[ic],id)}},GeometryCollection:function(d3,ie){var id=d3.geometries,ic=-1,ig=id.length;while(++ic<ig){aP(id[ic],ie)}}};function cp(ie,id,d3){var ic=-1,ih=ie.length-d3,ig;id.lineStart();while(++ic<ih){ig=ie[ic],id.point(ig[0],ig[1],ig[2])}id.lineEnd()}function hf(id,ic){var d3=-1,ie=id.length;ic.polygonStart();while(++d3<ie){cp(id[d3],ic,1)}ic.polygonEnd()}ho.geo.area=function(d3){ba=0;ho.geo.stream(d3,hl);return ba};var ba,fP=new fc();var hl={sphere:function(){ba+=4*ge},point:aH,lineStart:aH,lineEnd:aH,polygonStart:function(){fP.reset();hl.lineStart=b7},polygonEnd:function(){var d3=2*fP;ba+=d3<0?4*ge+d3:d3;hl.lineStart=hl.lineEnd=hl.point=aH}};function b7(){var ic,d3,ie,id,ig;hl.point=function(ij,ii){hl.point=ih;ie=(ic=ij)*J,id=Math.cos(ii=(d3=ii)*J/2+ge/4),ig=Math.sin(ii)};function ih(ik,it){ik*=J;it=it*J/2+ge/4;var io=ik-ie,im=io>=0?1:-1,ip=im*io,ii=Math.cos(it),il=Math.sin(it),ij=ig*il,ir=id*ii+ij*Math.cos(ip),iq=ij*im*Math.sin(ip);fP.add(Math.atan2(iq,ir));ie=ik,id=ii,ig=il}hl.lineEnd=function(){ih(ic,d3)}}function av(d3){var id=d3[0],ic=d3[1],ie=Math.cos(ic);return[ie*Math.cos(id),ie*Math.sin(id),Math.sin(ic)]}function ay(ic,d3){return ic[0]*d3[0]+ic[1]*d3[1]+ic[2]*d3[2]}function cZ(ic,d3){return[ic[1]*d3[2]-ic[2]*d3[1],ic[2]*d3[0]-ic[0]*d3[2],ic[0]*d3[1]-ic[1]*d3[0]]}function cC(ic,d3){ic[0]+=d3[0];ic[1]+=d3[1];ic[2]+=d3[2]}function gf(d3,ic){return[d3[0]*ic,d3[1]*ic,d3[2]*ic]}function fk(ic){var d3=Math.sqrt(ic[0]*ic[0]+ic[1]*ic[1]+ic[2]*ic[2]);ic[0]/=d3;ic[1]/=d3;ic[2]/=d3}function h8(d3){return[Math.atan2(d3[1],d3[0]),cg(d3[2])]}function eT(ic,d3){return cH(ic[0]-d3[0])<gn&&cH(ic[1]-d3[1])<gn}ho.geo.bounds=function(){var ie,ix,ic,iv,ig,io,iq,ih,ik,ii,il;var d3={point:ir,lineStart:im,lineEnd:iu,polygonStart:function(){d3.point=it;d3.lineStart=ij;d3.lineEnd=ip;ik=0;hl.polygonStart()},polygonEnd:function(){hl.polygonEnd();d3.point=ir;d3.lineStart=im;d3.lineEnd=iu;if(fP<0){ie=-(ic=180),ix=-(iv=90)}else{if(ik>gn){iv=90}else{if(ik<-gn){ix=-90}}}il[0]=ie,il[1]=ic}};function ir(iB,iA){ii.push(il=[ie=iB,ic=iB]);if(iA<ix){ix=iA}if(iA>iv){iv=iA}}function id(iE,iK){var iA=av([iE*J,iK*J]);if(ih){var iG=cZ(ih,iA),iH=[iG[1],-iG[0],0],iF=cZ(iH,iG);fk(iF);iF=h8(iF);var iI=iE-ig,iJ=iI>0?1:-1,iB=iF[0]*hF*iJ,iD=cH(iI)>180;if(iD^(iJ*ig<iB&&iB<iJ*iE)){var iC=iF[1]*hF;if(iC>iv){iv=iC}}else{if(iB=(iB+360)%360-180,iD^(iJ*ig<iB&&iB<iJ*iE)){var iC=-iF[1]*hF;if(iC<ix){ix=iC}}else{if(iK<ix){ix=iK}if(iK>iv){iv=iK}}}if(iD){if(iE<ig){if(iw(ie,iE)>iw(ie,ic)){ic=iE}}else{if(iw(iE,ic)>iw(ie,ic)){ie=iE}}}else{if(ic>=ie){if(iE<ie){ie=iE}if(iE>ic){ic=iE}}else{if(iE>ig){if(iw(ie,iE)>iw(ie,ic)){ic=iE}}else{if(iw(iE,ic)>iw(ie,ic)){ie=iE}}}}}else{ir(iE,iK)}ih=iA,ig=iE}function im(){d3.point=id}function iu(){il[0]=ie,il[1]=ic;d3.point=ir;ih=null}function it(iB,iA){if(ih){var iC=iB-ig;ik+=cH(iC)>180?iC+(iC>0?360:-360):iC}else{io=iB,iq=iA}hl.point(iB,iA);id(iB,iA)}function ij(){hl.lineStart()}function ip(){it(io,iq);hl.lineEnd();if(cH(ik)>gn){ie=-(ic=180)}il[0]=ie,il[1]=ic;ih=null}function iw(iB,iA){return(iA-=iB)<0?iA+360:iA}function iz(iB,iA){return iB[0]-iA[0]}function iy(iA,iB){return iB[0]<=iB[1]?iB[0]<=iA&&iA<=iB[1]:iA<iB[0]||iB[1]<iA}return function(iF){iv=ic=-(ie=ix=Infinity);ii=[];ho.geo.stream(iF,d3);var iH=ii.length;if(iH){ii.sort(iz);for(var iE=1,iC=ii[0],iB,iA=[iC];iE<iH;++iE){iB=ii[iE];if(iy(iB[0],iC)||iy(iB[1],iC)){if(iw(iC[0],iB[1])>iw(iC[0],iC[1])){iC[1]=iB[1]}if(iw(iB[0],iC[1])>iw(iC[0],iC[1])){iC[0]=iB[0]}}else{iA.push(iC=iB)}}var iG=-Infinity,iD;for(var iH=iA.length-1,iE=0,iC=iA[iH],iB;iE<=iH;iC=iB,++iE){iB=iA[iE];if((iD=iw(iC[1],iB[0]))>iG){iG=iD,ie=iB[0],ic=iC[1]}}}ii=il=null;return ie===Infinity||ix===Infinity?[[NaN,NaN],[NaN,NaN]]:[[ie,ix],[ic,iv]]}}();ho.geo.centroid=function(id){ec=ea=dL=dm=c7=dK=dl=c5=dJ=dk=c4=0;ho.geo.stream(id,gh);var ic=dJ,ig=dk,ie=c4,d3=ic*ic+ig*ig+ie*ie;if(d3<eE){ic=dK,ig=dl,ie=c5;if(ea<gn){ic=dL,ig=dm,ie=c7}d3=ic*ic+ig*ig+ie*ie;if(d3<eE){return[NaN,NaN]}}return[Math.atan2(ig,ic)*hF,cg(ie/Math.sqrt(d3))*hF]};var ec,ea,dL,dm,c7,dK,dl,c5,dJ,dk,c4;var gh={sphere:aH,point:cb,lineStart:fj,lineEnd:aF,polygonStart:function(){gh.lineStart=bs},polygonEnd:function(){gh.lineStart=fj}};function cb(ic,d3){ic*=J;var id=Math.cos(d3*=J);gt(id*Math.cos(ic),id*Math.sin(ic),Math.sin(d3))}function gt(d3,id,ic){++ec;dL+=(d3-dL)/ec;dm+=(id-dm)/ec;c7+=(ic-c7)/ec}function fj(){var d3,ic,ie;gh.point=function(ih,ig){ih*=J;var ii=Math.cos(ig*=J);d3=ii*Math.cos(ih);ic=ii*Math.sin(ih);ie=Math.sin(ig);gh.point=id;gt(d3,ic,ie)};function id(ij,ii){ij*=J;var ik=Math.cos(ii*=J),ig=ik*Math.cos(ij),im=ik*Math.sin(ij),il=Math.sin(ii),ih=Math.atan2(Math.sqrt((ih=ic*il-ie*im)*ih+(ih=ie*ig-d3*il)*ih+(ih=d3*im-ic*ig)*ih),d3*ig+ic*im+ie*il);ea+=ih;dK+=ih*(d3+(d3=ig));dl+=ih*(ic+(ic=im));c5+=ih*(ie+(ie=il));gt(d3,ic,ie)}}function aF(){gh.point=cb}function bs(){var ic,d3,id,ie,ih;gh.point=function(ij,ii){ic=ij,d3=ii;gh.point=ig;ij*=J;var ik=Math.cos(ii*=J);id=ik*Math.cos(ij);ie=ik*Math.sin(ij);ih=Math.sin(ii);gt(id,ie,ih)};gh.lineEnd=function(){ig(ic,d3);gh.lineEnd=aF;gh.point=cb};function ig(io,iw){io*=J;var il=Math.cos(iw*=J),ir=il*Math.cos(io),iq=il*Math.sin(io),ip=Math.sin(iw),im=ie*ip-ih*iq,ik=ih*ir-id*ip,ij=id*iq-ie*ir,ii=Math.sqrt(im*im+ik*ik+ij*ij),iv=id*ir+ie*iq+ih*ip,iu=ii&&-ad(iv)/ii,it=Math.atan2(ii,iv);dJ+=iu*im;dk+=iu*ik;c4+=iu*ij;ea+=it;dK+=it*(id+(id=ir));dl+=it*(ie+(ie=iq));c5+=it*(ih+(ih=ip));gt(id,ie,ih)}}function e6(ic,d3){function id(ie,ig){return ie=ic(ie,ig),d3(ie[0],ie[1])}if(ic.invert&&d3.invert){id.invert=function(ie,ig){return ie=d3.invert(ie,ig),ie&&ic.invert(ie[0],ie[1])}}return id}function ah(){return true}function cs(ii,ic,im,ik,ie){var il=[],ig=[];ii.forEach(function(iw){if((iz=iw.length-1)<=0){return}var iz,iy=iw[0],ix=iw[iz];if(eT(iy,ix)){ie.lineStart();for(var iv=0;iv<iz;++iv){ie.point((iy=iw[iv])[0],iy[1])}ie.lineEnd();return}var iu=new f(iy,iw,null,true),it=new f(iy,null,iu,false);iu.o=it;il.push(iu);ig.push(it);iu=new f(ix,iw,null,false);it=new f(ix,null,iu,true);iu.o=it;il.push(iu);ig.push(it)});ig.sort(ic);hK(il);hK(ig);if(!il.length){return}for(var ih=0,ip=im,id=ig.length;ih<id;++ih){ig[ih].e=ip=!ip}var d3=il[0],iq,io;while(1){var ij=d3,ir=true;while(ij.v){if((ij=ij.n)===d3){return}}iq=ij.z;ie.lineStart();do{ij.v=ij.o.v=true;if(ij.e){if(ir){for(var ih=0,id=iq.length;ih<id;++ih){ie.point((io=iq[ih])[0],io[1])}}else{ik(ij.x,ij.n.x,1,ie)}ij=ij.n}else{if(ir){iq=ij.p.z;for(var ih=iq.length-1;ih>=0;--ih){ie.point((io=iq[ih])[0],io[1])}}else{ik(ij.x,ij.p.x,-1,ie)}ij=ij.p}ij=ij.o;iq=ij.z;ir=!ir}while(!ij.v);ie.lineEnd()}}function hK(ig){if(!(ie=ig.length)){return}var ie,id=0,ic=ig[0],d3;while(++id<ie){ic.n=d3=ig[id];d3.p=ic;ic=d3}ic.n=d3=ig[0];d3.p=ic}function f(ic,id,d3,ie){this.x=ic;this.z=id;this.o=d3;this.e=ie;this.v=false;this.n=this.p=null}function ei(d3,ie,ic,id){return function(ix,ik){var ip=ie(ik),ij=ix.invert(id[0],id[1]);var iz={point:iu,lineStart:ir,lineEnd:iy,polygonStart:function(){iz.point=ih;iz.lineStart=il;iz.lineEnd=it;iv=[];iq=[]},polygonEnd:function(){iz.point=iu;iz.lineStart=ir;iz.lineEnd=iy;iv=ho.merge(iv);var iA=fM(ij,iq);if(iv.length){if(!ii){ik.polygonStart(),ii=true}cs(iv,dW,iA,ic,ik)}else{if(iA){if(!ii){ik.polygonStart(),ii=true}ik.lineStart();ic(null,null,1,ik);ik.lineEnd()}}if(ii){ik.polygonEnd(),ii=false}iv=iq=null},sphere:function(){ik.polygonStart();ik.lineStart();ic(null,null,1,ik);ik.lineEnd();ik.polygonEnd()}};function iu(iC,iB){var iA=ix(iC,iB);if(d3(iC=iA[0],iB=iA[1])){ik.point(iC,iB)}}function im(iC,iB){var iA=ix(iC,iB);ip.point(iA[0],iA[1])}function ir(){iz.point=im;ip.lineStart()}function iy(){iz.point=iu;ip.lineEnd()}var iv;var iw=Q(),ig=ie(iw),ii=false,iq,io;function ih(iC,iB){io.push([iC,iB]);var iA=ix(iC,iB);ig.point(iA[0],iA[1])}function il(){ig.lineStart();io=[]}function it(){ih(io[0][0],io[0][1]);ig.lineEnd();var iC=ig.clean(),iE=iw.buffer(),iD,iF=iE.length;io.pop();iq.push(io);io=null;if(!iF){return}if(iC&1){iD=iE[0];var iF=iD.length-1,iB=-1,iA;if(iF>0){if(!ii){ik.polygonStart(),ii=true}ik.lineStart();while(++iB<iF){ik.point((iA=iD[iB])[0],iA[1])}ik.lineEnd()}return}if(iF>1&&iC&2){iE.push(iE.pop().concat(iE.shift()))}iv.push(iE.filter(eO))}return iz}}function eO(d3){return d3.length>1}function Q(){var ic=[],d3;return{lineStart:function(){ic.push(d3=[])},point:function(ie,id){d3.push([ie,id])},lineEnd:aH,buffer:function(){var id=ic;ic=[];d3=null;return id},rejoin:function(){if(ic.length>1){ic.push(ic.pop().concat(ic.shift()))}}}}function dW(ic,d3){return((ic=ic.x)[0]<0?ic[1]-eq-gn:eq-ic[1])-((d3=d3.x)[0]<0?d3[1]-eq-gn:eq-d3[1])}var l=ei(ah,eF,dd,[-ge,-ge/2]);function eF(ig){var ic=NaN,d3=NaN,ie=NaN,id;return{lineStart:function(){ig.lineStart();id=1},point:function(ii,ih){var ik=ii>0?ge:-ge,ij=cH(ii-ic);if(cH(ij-ge)<gn){ig.point(ic,d3=(d3+ih)/2>0?eq:-eq);ig.point(ie,d3);ig.lineEnd();ig.lineStart();ig.point(ik,d3);ig.point(ii,d3);id=0}else{if(ie!==ik&&ij>=ge){if(cH(ic-ie)<gn){ic-=ie*gn}if(cH(ii-ik)<gn){ii-=ik*gn}d3=v(ic,d3,ii,ih);ig.point(ie,d3);ig.lineEnd();ig.lineStart();ig.point(ik,d3);id=0}}ig.point(ic=ii,d3=ih);ie=ik},lineEnd:function(){ig.lineEnd();ic=d3=NaN},clean:function(){return 2-id}}}function v(ih,ig,ie,id){var ic,d3,ii=Math.sin(ih-ie);return cH(ii)>gn?Math.atan((Math.sin(ig)*(d3=Math.cos(id))*Math.sin(ie)-Math.sin(id)*(ic=Math.cos(ig))*Math.sin(ih))/(ic*d3*ii)):(ig+id)/2}function dd(ih,ig,ie,id){var d3;if(ih==null){d3=ie*eq;id.point(-ge,d3);id.point(0,d3);id.point(ge,d3);id.point(ge,0);id.point(ge,-d3);id.point(0,-d3);id.point(-ge,-d3);id.point(-ge,0);id.point(-ge,d3)}else{if(cH(ih[0]-ig[0])>gn){var ic=ih[0]<ig[0]?ge:-ge;d3=ie*ic/2;id.point(-ic,d3);id.point(0,d3);id.point(ic,d3)}else{id.point(ig[0],ig[1])}}}function fM(ix,it){var iF=ix[0],iG=ix[1],d3=[Math.sin(iF),-Math.cos(iF),0],ir=0,iD=0;fP.reset();for(var iC=0,iu=it.length;iC<iu;++iC){var ik=it[iC],iw=ik.length;if(!iw){continue}var ih=ik[0],id=ih[0],iE=ih[1]/2+ge/4,ij=Math.sin(iE),ic=Math.cos(iE),iB=1;while(true){if(iB===iw){iB=0}ix=ik[iB];var iv=ix[0],iq=ix[1]/2+ge/4,ie=Math.sin(iq),iA=Math.cos(iq),iz=iv-id,il=iz>=0?1:-1,io=il*iz,ig=io>ge,iy=ij*ie;fP.add(Math.atan2(iy*il*Math.sin(io),ic*iA+iy*Math.cos(io)));ir+=ig?iz+il*f8:iz;if(ig^id>=iF^iv>=iF){var im=cZ(av(ih),av(ix));fk(im);var ip=cZ(d3,im);fk(ip);var ii=(ig^iz>=0?-1:1)*cg(ip[2]);if(iG>ii||iG===ii&&(im[0]||im[1])){iD+=ig^iz>=0?1:-1}}if(!iB++){break}id=iv,ij=ie,ic=iA,ih=ix}}return(ir<-gn||ir<gn&&fP<0)^iD&1}function aL(ig){var ih=Math.cos(ig),ie=ih>0,ii=cH(ih)>gn,ij=b6(ig,6*J);return ei(id,ik,ij,ie?[0,-ig]:[-ge,ig-ge]);function id(im,il){return Math.cos(im)*Math.cos(il)>ih}function ik(ir){var iq,ip,il,io,im;return{lineStart:function(){io=il=false;im=1},point:function(iu,it){var iy=[iu,it],ix,iv=id(iu,it),iz=ie?iv?0:d3(iu,it):iv?d3(iu+(iu<0?ge:-ge),it):0;if(!iq&&(io=il=iv)){ir.lineStart()}if(iv!==il){ix=ic(iq,iy);if(eT(iq,ix)||eT(iy,ix)){iy[0]+=gn;iy[1]+=gn;iv=id(iy[0],iy[1])}}if(iv!==il){im=0;if(iv){ir.lineStart();ix=ic(iy,iq);ir.point(ix[0],ix[1])}else{ix=ic(iq,iy);ir.point(ix[0],ix[1]);ir.lineEnd()}iq=ix}else{if(ii&&iq&&ie^iv){var iw;if(!(iz&ip)&&(iw=ic(iy,iq,true))){im=0;if(ie){ir.lineStart();ir.point(iw[0][0],iw[0][1]);ir.point(iw[1][0],iw[1][1]);ir.lineEnd()}else{ir.point(iw[1][0],iw[1][1]);ir.lineEnd();ir.lineStart();ir.point(iw[0][0],iw[0][1])}}}}if(iv&&(!iq||!eT(iq,iy))){ir.point(iy[0],iy[1])}iq=iy,il=iv,ip=iz},lineEnd:function(){if(il){ir.lineEnd()}iq=null},clean:function(){return im|(io&&il)<<1}}}function ic(iO,iN,iq){var io=av(iO),il=av(iN);var iw=[1,0,0],it=cZ(io,il),iz=ay(it,it),iM=it[0],iF=iz-iM*iM;if(!iF){return !iq&&iO}var iI=ih*iz/iF,iH=-ih*iM/iF,iP=cZ(iw,it),iG=gf(iw,iI),iE=gf(it,iH);cC(iG,iE);var iB=iP,iA=ay(iG,iB),ir=ay(iB,iB),iy=iA*iA-ir*(ay(iG,iG)-1);if(iy<0){return}var iC=Math.sqrt(iy),iD=gf(iB,(-iA-iC)/ir);cC(iD,iG);iD=h8(iD);if(!iq){return iD}var ip=iO[0],im=iN[0],iK=iO[1],iJ=iN[1],iv;if(im<ip){iv=ip,ip=im,im=iv}var iu=im-ip,iQ=cH(iu-ge)<gn,iL=iQ||iu<gn;if(!iQ&&iJ<iK){iv=iK,iK=iJ,iJ=iv}if(iL?iQ?iK+iJ>0^iD[1]<(cH(iD[0]-ip)<gn?iK:iJ):iK<=iD[1]&&iD[1]<=iJ:iu>ge^(ip<=iD[0]&&iD[0]<=im)){var ix=gf(iB,(-iA+iC)/ir);cC(ix,iG);return[iD,h8(ix)]}}function d3(im,il){var ip=ie?ig:ge-ig,io=0;if(im<-ip){io|=1}else{if(im>ip){io|=2}}if(il<-ip){io|=4}else{if(il>ip){io|=8}}return io}}function ak(ic,ie,d3,id){return function(it){var io=it.a,im=it.b,ih=io.x,ir=io.y,il=im.x,ik=im.y,ij=0,ii=1,iq=il-ih,ip=ik-ir,ig;ig=ic-ih;if(!iq&&ig>0){return}ig/=iq;if(iq<0){if(ig<ij){return}if(ig<ii){ii=ig}}else{if(iq>0){if(ig>ii){return}if(ig>ij){ij=ig}}}ig=d3-ih;if(!iq&&ig<0){return}ig/=iq;if(iq<0){if(ig>ii){return}if(ig>ij){ij=ig}}else{if(iq>0){if(ig<ij){return}if(ig<ii){ii=ig}}}ig=ie-ir;if(!ip&&ig>0){return}ig/=ip;if(ip<0){if(ig<ij){return}if(ig<ii){ii=ig}}else{if(ip>0){if(ig>ii){return}if(ig>ij){ij=ig}}}ig=id-ir;if(!ip&&ig<0){return}ig/=ip;if(ip<0){if(ig>ii){return}if(ig>ij){ij=ig}}else{if(ip>0){if(ig<ij){return}if(ig<ii){ii=ig}}}if(ij>0){it.a={x:ih+ij*iq,y:ir+ij*ip}}if(ii<1){it.b={x:ih+ii*iq,y:ir+ii*ip}}return it}}var cK=1000000000;ho.geo.clipExtent=function(){var id,ih,ic,ie,ii,ig,d3={stream:function(ij){if(ii){ii.valid=false}ii=ig(ij);ii.valid=true;return ii},extent:function(ij){if(!arguments.length){return[[id,ih],[ic,ie]]}ig=ef(id=+ij[0][0],ih=+ij[0][1],ic=+ij[1][0],ie=+ij[1][1]);if(ii){ii.valid=false,ii=null}return d3}};return d3.extent([[0,0],[960,500]])};function ef(ic,ig,d3,id){return function(ip){var ik=ip,iv=Q(),il=ak(ic,ig,d3,id),iD,iw,it;var iH={point:iC,lineStart:iz,lineEnd:iF,polygonStart:function(){ip=iv;iD=[];iw=[];iE=true},polygonEnd:function(){ip=ik;iD=ho.merge(iD);var iJ=iy([ic,id]),iI=iE&&iJ,iK=iD.length;if(iI||iK){ip.polygonStart();if(iI){ip.lineStart();iu(null,null,1,ip);ip.lineEnd()}if(iK){cs(iD,ih,iJ,iu,ip)}ip.polygonEnd()}iD=iw=it=null}};function iy(iI){var iQ=0,iJ=iw.length,iO=iI[1];for(var iM=0;iM<iJ;++iM){for(var iL=1,iR=iw[iM],iK=iR.length,iP=iR[0],iN;iL<iK;++iL){iN=iR[iL];if(iP[1]<=iO){if(iN[1]>iO&&e0(iP,iN,iI)>0){++iQ}}else{if(iN[1]<=iO&&e0(iP,iN,iI)<0){--iQ}}iP=iN}}return iQ!==0}function iu(iN,iM,iL,iK){var iJ=0,iI=0;if(iN==null||(iJ=ie(iN,iL))!==(iI=ie(iM,iL))||ii(iN,iM)<0^iL>0){do{iK.point(iJ===0||iJ===3?ic:d3,iJ>1?id:ig)}while((iJ=(iJ+iL+4)%4)!==iI)}else{iK.point(iM[0],iM[1])}}function ix(iI,iJ){return ic<=iI&&iI<=d3&&ig<=iJ&&iJ<=id}function iC(iI,iJ){if(ix(iI,iJ)){ip.point(iI,iJ)}}var iB,iq,iA,iG,io,im,ir,iE;function iz(){iH.point=ij;if(iw){iw.push(it=[])}ir=true;im=false;iG=io=NaN}function iF(){if(iD){ij(iB,iq);if(iA&&im){iv.rejoin()}iD.push(iv.buffer())}iH.point=iC;if(im){ip.lineEnd()}}function ij(iI,iL){iI=Math.max(-cK,Math.min(cK,iI));iL=Math.max(-cK,Math.min(cK,iL));var iK=ix(iI,iL);if(iw){it.push([iI,iL])}if(ir){iB=iI,iq=iL,iA=iK;ir=false;if(iK){ip.lineStart();ip.point(iI,iL)}}else{if(iK&&im){ip.point(iI,iL)}else{var iJ={a:{x:iG,y:io},b:{x:iI,y:iL}};if(il(iJ)){if(!im){ip.lineStart();ip.point(iJ.a.x,iJ.a.y)}ip.point(iJ.b.x,iJ.b.y);if(!iK){ip.lineEnd()}iE=false}else{if(iK){ip.lineStart();ip.point(iI,iL);iE=false}}}}iG=iI,io=iL,im=iK}return iH};function ie(ik,ij){return cH(ik[0]-ic)<gn?ij>0?0:3:cH(ik[0]-d3)<gn?ij>0?2:1:cH(ik[1]-ig)<gn?ij>0?1:0:ij>0?3:2}function ih(ik,ij){return ii(ik.x,ij.x)}function ii(im,ik){var il=ie(im,1),ij=ie(ik,1);return il!==ij?il-ij:il===0?ik[1]-im[1]:il===1?im[0]-ik[0]:il===2?im[1]-ik[1]:ik[0]-im[0]}}function b8(ie){var id=0,ic=ge/3,d3=fh(ie),ig=d3(id,ic);ig.parallels=function(ih){if(!arguments.length){return[id/ge*180,ic/ge*180]}return d3(id=ih[0]*ge/180,ic=ih[1]*ge/180)};return ig}function N(ic,d3){var ig=Math.sin(ic),ii=(ig+Math.sin(d3))/2,ih=1+ig*(2*ii-ig),ie=Math.sqrt(ih)/ii;function id(ik,ij){var il=Math.sqrt(ih-2*ii*Math.sin(ij))/ii;return[il*Math.sin(ik*=ii),ie-il*Math.cos(ik)]}id.invert=function(ij,il){var ik=ie-il;return[Math.atan2(ij,ik)/ii,cg((ih-(ij*ij+ik*ik)*ii*ii)/(2*ii))]};return id}(ho.geo.conicEqualArea=function(){return b8(N)}).raw=N;ho.geo.albers=function(){return ho.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};ho.geo.albersUsa=function(){var ic=ho.geo.albers();var ih=ho.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var id=ho.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var ij,d3={point:function(il,im){ij=[il,im]}},ig,ii,ie;function ik(im){var il=im[0],io=im[1];ij=null;(ig(il,io),ij)||(ii(il,io),ij)||ie(il,io);return ij}ik.invert=function(ip){var im=ic.scale(),io=ic.translate(),il=(ip[0]-io[0])/im,iq=(ip[1]-io[1])/im;return(iq>=0.12&&iq<0.234&&il>=-0.425&&il<-0.214?ih:iq>=0.166&&iq<0.234&&il>=-0.214&&il<-0.115?id:ic).invert(ip)};ik.stream=function(io){var im=ic.stream(io),ip=ih.stream(io),il=id.stream(io);return{point:function(iq,ir){im.point(iq,ir);ip.point(iq,ir);il.point(iq,ir)},sphere:function(){im.sphere();ip.sphere();il.sphere()},lineStart:function(){im.lineStart();ip.lineStart();il.lineStart()},lineEnd:function(){im.lineEnd();ip.lineEnd();il.lineEnd()},polygonStart:function(){im.polygonStart();ip.polygonStart();il.polygonStart()},polygonEnd:function(){im.polygonEnd();ip.polygonEnd();il.polygonEnd()}}};ik.precision=function(il){if(!arguments.length){return ic.precision()}ic.precision(il);ih.precision(il);id.precision(il);return ik};ik.scale=function(il){if(!arguments.length){return ic.scale()}ic.scale(il);ih.scale(il*0.35);id.scale(il);return ik.translate(ic.translate())};ik.translate=function(io){if(!arguments.length){return ic.translate()}var im=ic.scale(),il=+io[0],ip=+io[1];ig=ic.translate(io).clipExtent([[il-0.455*im,ip-0.238*im],[il+0.455*im,ip+0.238*im]]).stream(d3).point;ii=ih.translate([il-0.307*im,ip+0.201*im]).clipExtent([[il-0.425*im+gn,ip+0.12*im+gn],[il-0.214*im-gn,ip+0.234*im-gn]]).stream(d3).point;ie=id.translate([il-0.205*im,ip+0.212*im]).clipExtent([[il-0.214*im+gn,ip+0.166*im+gn],[il-0.115*im-gn,ip+0.234*im-gn]]).stream(d3).point;return ik};return ik.scale(1070)};var fN,B,dC={point:aH,lineStart:aH,lineEnd:aH,polygonStart:function(){B=0;dC.lineStart=cM},polygonEnd:function(){dC.lineStart=dC.lineEnd=dC.point=aH;fN+=cH(B/2)}};function cM(){var ie,d3,ic,id;dC.point=function(ih,ii){dC.point=ig;ie=ic=ih,d3=id=ii};function ig(ih,ii){B+=id*ih-ic*ii;ic=ih,id=ii}dC.lineEnd=function(){ig(ie,d3)}}var eM,ep,eK,eo;var ax={point:cU,lineStart:aH,lineEnd:aH,polygonStart:aH,polygonEnd:aH};function cU(d3,ic){if(d3<eM){eM=d3}if(d3>eK){eK=d3}if(ic<ep){ep=ic}if(ic>eo){eo=ic}}function ck(){var id=g8(4.5),ic=[];var ij={point:d3,lineStart:function(){ij.point=ii},lineEnd:ih,polygonStart:function(){ij.lineEnd=ie},polygonEnd:function(){ij.lineEnd=ih;ij.point=d3},pointRadius:function(ik){id=g8(ik);return ij},result:function(){if(ic.length){var ik=ic.join("");ic=[];return ik}}};function d3(ik,il){ic.push("M",ik,",",il,id)}function ii(ik,il){ic.push("M",ik,",",il);ij.point=ig}function ig(ik,il){ic.push("L",ik,",",il)}function ih(){ij.point=d3}function ie(){ic.push("Z")}return ij}function g8(d3){return"m0,"+d3+"a"+d3+","+d3+" 0 1,1 0,"+-2*d3+"a"+d3+","+d3+" 0 1,1 0,"+2*d3+"z"}var g7={point:cQ,lineStart:fS,lineEnd:cP,polygonStart:function(){g7.lineStart=b1},polygonEnd:function(){g7.point=cQ;g7.lineStart=fS;g7.lineEnd=cP}};function cQ(d3,ic){dL+=d3;dm+=ic;++c7}function fS(){var d3,ic;g7.point=function(ie,ig){g7.point=id;cQ(d3=ie,ic=ig)};function id(ie,ij){var ih=ie-d3,ig=ij-ic,ii=Math.sqrt(ih*ih+ig*ig);dK+=ii*(d3+ie)/2;dl+=ii*(ic+ij)/2;c5+=ii;cQ(d3=ie,ic=ij)}}function cP(){g7.point=cQ}function b1(){var ie,d3,ic,id;g7.point=function(ih,ii){g7.point=ig;cQ(ie=ic=ih,d3=id=ii)};function ig(ih,il){var ij=ih-ic,ii=il-id,ik=Math.sqrt(ij*ij+ii*ii);dK+=ik*(ic+ih)/2;dl+=ik*(id+il)/2;c5+=ik;ik=id*ih-ic*il;dJ+=ik*(ic+ih);dk+=ik*(id+il);c4+=ik*3;cQ(ic=ih,id=il)}g7.lineEnd=function(){ig(ie,d3)}}function cF(ic){var ig=4.5;var ij={point:d3,lineStart:function(){ij.point=ii},lineEnd:ih,polygonStart:function(){ij.lineEnd=id},polygonEnd:function(){ij.lineEnd=ih;ij.point=d3},pointRadius:function(ik){ig=ik;return ij},result:aH};function d3(ik,il){ic.moveTo(ik+ig,il);ic.arc(ik,il,ig,0,f8)}function ii(ik,il){ic.moveTo(ik,il);ij.point=ie}function ie(ik,il){ic.lineTo(ik,il)}function ih(){ij.point=d3}function id(){ic.closePath()}return ij}function fO(ii){var ig=0.5,ih=Math.cos(30*J),ij=16;function id(ik){return(ij?ie:d3)(ik)}function d3(ik){return eH(ik,function(il,im){il=ii(il,im);ik.point(il[0],il[1])})}function ie(ir){var ix,iD,iC,it,iG,iv,il,im,iF,io,iH,iu,iy;var ip={point:iB,lineStart:iw,lineEnd:iE,polygonStart:function(){ir.polygonStart();ip.lineStart=iq},polygonEnd:function(){ir.polygonEnd();ip.lineStart=iw}};function iB(iI,iJ){iI=ii(iI,iJ);ir.point(iI[0],iI[1])}function iw(){iF=NaN;ip.point=ik;ir.lineStart()}function ik(iJ,iI){var iL=av([iJ,iI]),iK=ii(iJ,iI);ic(iF,io,im,iH,iu,iy,iF=iK[0],io=iK[1],im=iJ,iH=iL[0],iu=iL[1],iy=iL[2],ij,ir);ir.point(iF,io)}function iE(){ip.point=iB;ir.lineEnd()}function iq(){iw();ip.point=iA;ip.lineEnd=iz}function iA(iJ,iI){ik(ix=iJ,iD=iI),iC=iF,it=io,iG=iH,iv=iu,il=iy;ip.point=ik}function iz(){ic(iF,io,im,iH,iu,iy,iC,it,ix,iG,iv,il,ij,ir);ip.lineEnd=iE;iE()}return ip}function ic(iH,ir,im,iO,iv,iD,iG,iq,il,iM,iu,iB,iL,it){var iz=iG-iH,iy=iq-ir,iN=iz*iz+iy*iy;if(iN>4*ig&&iL--){var iK=iO+iM,iJ=iv+iu,iI=iD+iB,iC=Math.sqrt(iK*iK+iJ*iJ+iI*iI),iF=Math.asin(iI/=iC),ik=cH(cH(iI)-1)<gn||cH(im-il)<gn?(im+il)/2:Math.atan2(iJ,iK),iA=ii(ik,iF),iE=iA[0],ip=iA[1],io=iE-iH,ix=ip-ir,iw=iy*io-iz*ix;if(iw*iw/iN>ig||cH((iz*io+iy*ix)/iN-0.5)>0.3||iO*iM+iv*iu+iD*iB<ih){ic(iH,ir,im,iO,iv,iD,iE,ip,ik,iK/=iC,iJ/=iC,iI,iL,it);it.point(iE,ip);ic(iE,ip,ik,iK,iJ,iI,iG,iq,il,iM,iu,iB,iL,it)}}}id.precision=function(ik){if(!arguments.length){return Math.sqrt(ig)}ij=(ig=ik*ik)>0&&16;return id};return id}ho.geo.path=function(){var ii=4.5,ic,ie,ig,d3,id;function ij(ik){if(ik){if(typeof ii==="function"){d3.pointRadius(+ii.apply(this,arguments))}if(!id||!id.valid){id=ig(d3)}ho.geo.stream(ik,id)}return d3.result()}ij.area=function(ik){fN=0;ho.geo.stream(ik,ig(dC));return fN};ij.centroid=function(ik){dL=dm=c7=dK=dl=c5=dJ=dk=c4=0;ho.geo.stream(ik,ig(g7));return c4?[dJ/c4,dk/c4]:c5?[dK/c5,dl/c5]:c7?[dL/c7,dm/c7]:[NaN,NaN]};ij.bounds=function(ik){eK=eo=-(eM=ep=Infinity);ho.geo.stream(ik,ig(ax));return[[eM,ep],[eK,eo]]};ij.projection=function(ik){if(!arguments.length){return ic}ig=(ic=ik)?ik.stream||hh(ik):gl;return ih()};ij.context=function(ik){if(!arguments.length){return ie}d3=(ie=ik)==null?new ck():new cF(ik);if(typeof ii!=="function"){d3.pointRadius(ii)}return ih()};ij.pointRadius=function(ik){if(!arguments.length){return ii}ii=typeof ik==="function"?ik:(d3.pointRadius(+ik),+ik);return ij};function ih(){id=null;return ij}return ij.projection(ho.geo.albersUsa()).context(null)};function hh(ic){var d3=fO(function(id,ie){return ic([id*hF,ie*hF])});return function(id){return ci(d3(id))}}ho.geo.transform=function(d3){return{stream:function(ie){var id=new eb(ie);for(var ic in d3){id[ic]=d3[ic]}return id}}};function eb(d3){this.stream=d3}eb.prototype={point:function(d3,ic){this.stream.point(d3,ic)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function eH(ic,d3){return{point:d3,sphere:function(){ic.sphere()},lineStart:function(){ic.lineStart()},lineEnd:function(){ic.lineEnd()},polygonStart:function(){ic.polygonStart()},polygonEnd:function(){ic.polygonEnd()}}}ho.geo.projection=fA;ho.geo.projectionMutator=fh;function fA(d3){return fh(function(){return d3})()}function fh(ir){var ie,ix,ij,iu=fO(function(iC,iD){iC=ie(iC,iD);return[iC[0]*iw+ih,id-iC[1]*iw]}),iw=150,ip=480,im=250,iv=0,io=0,ik=0,ig=0,it=0,ih,id,iB=l,iy=gl,d3=null,ic=null,ii;function iA(iC){iC=ij(iC[0]*J,iC[1]*J);return[iC[0]*iw+ih,id-iC[1]*iw]}function iq(iC){iC=ij.invert((iC[0]-ih)/iw,(id-iC[1])/iw);return iC&&[iC[0]*hF,iC[1]*hF]}iA.stream=function(iC){if(ii){ii.valid=false}ii=ci(iB(ix,iu(iy(iC))));ii.valid=true;return ii};iA.clipAngle=function(iC){if(!arguments.length){return d3}iB=iC==null?(d3=iC,l):aL((d3=+iC)*J);return il()};iA.clipExtent=function(iC){if(!arguments.length){return ic}ic=iC;iy=iC?ef(iC[0][0],iC[0][1],iC[1][0],iC[1][1]):gl;return il()};iA.scale=function(iC){if(!arguments.length){return iw}iw=+iC;return iz()};iA.translate=function(iC){if(!arguments.length){return[ip,im]}ip=+iC[0];im=+iC[1];return iz()};iA.center=function(iC){if(!arguments.length){return[iv*hF,io*hF]}iv=iC[0]%360*J;io=iC[1]%360*J;return iz()};iA.rotate=function(iC){if(!arguments.length){return[ik*hF,ig*hF,it*hF]}ik=iC[0]%360*J;ig=iC[1]%360*J;it=iC.length>2?iC[2]%360*J:0;return iz()};ho.rebind(iA,iu,"precision");function iz(){ij=e6(ix=dH(ik,ig,it),ie);var iC=ie(iv,io);ih=ip-iC[0]*iw;id=im+iC[1]*iw;return il()}function il(){if(ii){ii.valid=false,ii=null}return iA}return function(){ie=ir.apply(this,arguments);iA.invert=ie.invert&&iq;return iz()}}function ci(d3){return eH(d3,function(ic,id){d3.point(ic*J,id*J)})}function bA(ic,d3){return[ic,d3]}(ho.geo.equirectangular=function(){return fA(bA)}).raw=bA.invert=bA;ho.geo.rotation=function(ic){ic=dH(ic[0]%360*J,ic[1]*J,ic.length>2?ic[2]*J:0);function d3(id){id=ic(id[0]*J,id[1]*J);return id[0]*=hF,id[1]*=hF,id}d3.invert=function(id){id=ic.invert(id[0]*J,id[1]*J);return id[0]*=hF,id[1]*=hF,id};return d3};function bJ(ic,d3){return[ic>ge?ic-f8:ic<-ge?ic+f8:ic,d3]}bJ.invert=bA;function dH(id,ic,d3){return id?ic||d3?e6(e1(id),bV(ic,d3)):e1(id):ic||d3?bV(ic,d3):bJ}function gZ(d3){return function(id,ic){return id+=d3,[id>ge?id-f8:id<-ge?id+f8:id,ic]}}function e1(ic){var d3=gZ(ic);d3.invert=gZ(-ic);return d3}function bV(ih,ic){var ig=Math.cos(ih),ii=Math.sin(ih),d3=Math.cos(ic),id=Math.sin(ic);function ie(il,ik){var io=Math.cos(ik),ij=Math.cos(il)*io,iq=Math.sin(il)*io,ip=Math.sin(ik),im=ip*ig+ij*ii;return[Math.atan2(iq*d3-im*id,ij*ig-ip*ii),cg(im*d3+iq*id)]}ie.invert=function(il,ik){var io=Math.cos(ik),ij=Math.cos(il)*io,iq=Math.sin(il)*io,ip=Math.sin(ik),im=ip*d3-iq*id;return[Math.atan2(iq*d3+ip*id,ij*ig+im*ii),cg(im*ig-ij*ii)]};return ie}ho.geo.circle=function(){var ic=[0,0],ig,d3=6,id;function ie(){var ih=typeof ic==="function"?ic.apply(this,arguments):ic,ij=dH(-ih[0]*J,-ih[1]*J,0).invert,ii=[];id(null,null,1,{point:function(ik,il){ii.push(ik=ij(ik,il));ik[0]*=hF,ik[1]*=hF}});return{type:"Polygon",coordinates:[ii]}}ie.origin=function(ih){if(!arguments.length){return ic}ic=ih;return ie};ie.angle=function(ih){if(!arguments.length){return ig}id=b6((ig=+ih)*J,d3*J);return ie};ie.precision=function(ih){if(!arguments.length){return d3}id=b6(ig*J,(d3=+ih)*J);return ie};return ie.angle(90)};function b6(d3,ic){var ie=Math.cos(d3),id=Math.sin(d3);return function(im,il,ik,ij){var ii=ik*ic;if(im!=null){im=hS(ie,im);il=hS(ie,il);if(ik>0?im<il:im>il){im+=ik*f8}}else{im=d3+ik*f8;il=d3-0.5*ii}for(var ig,ih=im;ik>0?ih>il:ih<il;ih-=ii){ij.point((ig=h8([ie,-id*Math.cos(ih),-id*Math.sin(ih)]))[0],ig[1])}}}function hS(id,d3){var ic=av(d3);ic[0]-=id;fk(ic);var ie=ad(-ic[1]);return((-ic[2]<0?-ie:ie)+2*Math.PI-gn)%(2*Math.PI)}ho.geo.distance=function(ij,ii){var ik=(ii[0]-ij[0])*J,im=ij[1]*J,il=ii[1]*J,ig=Math.sin(ik),ic=Math.cos(ik),ih=Math.sin(im),id=Math.cos(im),ie=Math.sin(il),d3=Math.cos(il),io;return Math.atan2(Math.sqrt((io=d3*ig)*io+(io=id*ie-ih*d3*ic)*io),ih*ie+id*d3*ic)};ho.geo.graticule=function(){var ir,iu,iv,iw,ie,ig,ih,ij,ip=10,io=ip,ik=90,ii=360,im,il,id,ic,iq=2.5;function it(){return{type:"MultiLineString",coordinates:d3()}}function d3(){return ho.range(Math.ceil(iw/ik)*ik,iv,ik).map(id).concat(ho.range(Math.ceil(ij/ii)*ii,ih,ii).map(ic)).concat(ho.range(Math.ceil(iu/ip)*ip,ir,ip).filter(function(ix){return cH(ix%ik)>gn}).map(im)).concat(ho.range(Math.ceil(ig/io)*io,ie,io).filter(function(ix){return cH(ix%ii)>gn}).map(il))}it.lines=function(){return d3().map(function(ix){return{type:"LineString",coordinates:ix}})};it.outline=function(){return{type:"Polygon",coordinates:[id(iw).concat(ic(ih).slice(1),id(iv).reverse().slice(1),ic(ij).reverse().slice(1))]}};it.extent=function(ix){if(!arguments.length){return it.minorExtent()}return it.majorExtent(ix).minorExtent(ix)};it.majorExtent=function(ix){if(!arguments.length){return[[iw,ij],[iv,ih]]}iw=+ix[0][0],iv=+ix[1][0];ij=+ix[0][1],ih=+ix[1][1];if(iw>iv){ix=iw,iw=iv,iv=ix}if(ij>ih){ix=ij,ij=ih,ih=ix}return it.precision(iq)};it.minorExtent=function(ix){if(!arguments.length){return[[iu,ig],[ir,ie]]}iu=+ix[0][0],ir=+ix[1][0];ig=+ix[0][1],ie=+ix[1][1];if(iu>ir){ix=iu,iu=ir,ir=ix}if(ig>ie){ix=ig,ig=ie,ie=ix}return it.precision(iq)};it.step=function(ix){if(!arguments.length){return it.minorStep()}return it.majorStep(ix).minorStep(ix)};it.majorStep=function(ix){if(!arguments.length){return[ik,ii]}ik=+ix[0],ii=+ix[1];return it};it.minorStep=function(ix){if(!arguments.length){return[ip,io]}ip=+ix[0],io=+ix[1];return it};it.precision=function(ix){if(!arguments.length){return iq}iq=+ix;im=aK(ig,ie,90);il=aJ(iu,ir,iq);id=aK(ij,ih,90);ic=aJ(iw,iv,iq);return it};return it.majorExtent([[-180,-90+gn],[180,90-gn]]).minorExtent([[-180,-80-gn],[180,80+gn]])};function aK(id,ic,d3){var ie=ho.range(id,ic-gn,d3).concat(ic);return function(ig){return ie.map(function(ih){return[ig,ih]})}}function aJ(ie,id,ic){var d3=ho.range(ie,id-gn,ic).concat(id);return function(ig){return d3.map(function(ih){return[ih,ig]})}}function hJ(d3){return d3.source}function hQ(d3){return d3.target}ho.geo.greatArc=function(){var id=hJ,ic,ie=hQ,ig;function d3(){return{type:"LineString",coordinates:[ic||id.apply(this,arguments),ig||ie.apply(this,arguments)]}}d3.distance=function(){return ho.geo.distance(ic||id.apply(this,arguments),ig||ie.apply(this,arguments))};d3.source=function(ih){if(!arguments.length){return id}id=ih,ic=typeof ih==="function"?null:ih;return d3};d3.target=function(ih){if(!arguments.length){return ie}ie=ih,ig=typeof ih==="function"?null:ih;return d3};d3.precision=function(){return arguments.length?d3:0};return d3};ho.geo.interpolate=function(d3,ic){return h(d3[0]*J,d3[1]*J,ic[0]*J,ic[1]*J)};function h(ie,ir,id,ip){var ii=Math.cos(ir),iq=Math.sin(ir),ig=Math.cos(ip),io=Math.sin(ip),ik=ii*Math.cos(ie),ic=ii*Math.sin(ie),ij=ig*Math.cos(id),d3=ig*Math.sin(id),im=2*Math.asin(Math.sqrt(aE(ip-ir)+ii*ig*aE(id-ie))),ih=1/Math.sin(im);var il=im?function(iv){var iy=Math.sin(iv*=im)*ih,iu=Math.sin(im-iv)*ih,it=iu*ik+iy*ij,ix=iu*ic+iy*d3,iw=iu*iq+iy*io;return[Math.atan2(ix,it)*hF,Math.atan2(iw,Math.sqrt(it*it+ix*ix))*hF]}:function(){return[ie*hF,ir*hF]};il.distance=im;return il}ho.geo.length=function(d3){dU=0;ho.geo.stream(d3,fX);return dU};var dU;var fX={sphere:aH,point:aH,lineStart:hM,lineEnd:aH,polygonStart:aH,polygonEnd:aH};function hM(){var ic,id,d3;fX.point=function(ih,ig){ic=ih*J,id=Math.sin(ig*=J),d3=Math.cos(ig);fX.point=ie};fX.lineEnd=function(){fX.point=fX.lineEnd=aH};function ie(ih,ig){var ik=Math.sin(ig*=J),il=Math.cos(ig),ii=cH((ih*=J)-ic),ij=Math.cos(ii);dU+=Math.atan2(Math.sqrt((ii=il*Math.sin(ii))*ii+(ii=d3*ik-id*il*ij)*ii),id*ik+d3*il*ij);ic=ih,id=ik,d3=il}}function ez(id,ic){function d3(ig,ie){var ij=Math.cos(ig),ii=Math.cos(ie),ih=id(ij*ii);return[ih*ii*Math.sin(ig),ih*Math.sin(ie)]}d3.invert=function(ie,ik){var ii=Math.sqrt(ie*ie+ik*ik),ij=ic(ii),ig=Math.sin(ij),ih=Math.cos(ij);return[Math.atan2(ie*ig,ii*ih),Math.asin(ii&&ik*ig/ii)]};return d3}var bw=ez(function(d3){return Math.sqrt(2/(1+d3))},function(d3){return 2*Math.asin(d3/2)});(ho.geo.azimuthalEqualArea=function(){return fA(bw)}).raw=bw;var bI=ez(function(d3){var ic=Math.acos(d3);return ic&&ic/Math.sin(ic)},gl);(ho.geo.azimuthalEquidistant=function(){return fA(bI)}).raw=bI;function fJ(id,ic){var d3=Math.cos(id),ig=function(ij){return Math.tan(ge/4+ij/2)},ii=id===ic?Math.sin(id):Math.log(d3/Math.cos(ic))/Math.log(ig(ic)/ig(id)),ih=d3*Math.pow(ig(id),ii)/ii;if(!ii){return aT}function ie(ik,ij){if(ih>0){if(ij<-eq+gn){ij=-eq+gn}}else{if(ij>eq-gn){ij=eq-gn}}var il=ih/Math.pow(ig(ij),ii);return[il*Math.sin(ii*ik),ih-il*Math.cos(ii*ik)]}ie.invert=function(ij,im){var il=ih-im,ik=ca(ii)*Math.sqrt(ij*ij+il*il);return[Math.atan2(ij,il)/ii,2*Math.atan(Math.pow(ih/ik,1/ii))-eq]};return ie}(ho.geo.conicConformal=function(){return b8(fJ)}).raw=fJ;function hB(id,ic){var d3=Math.cos(id),ih=id===ic?Math.sin(id):(d3-Math.cos(ic))/(ic-id),ig=d3/ih+id;if(cH(ih)<gn){return bA}function ie(ij,ii){var ik=ig-ii;return[ik*Math.sin(ih*ij),ig-ik*Math.cos(ih*ij)]}ie.invert=function(ii,ik){var ij=ig-ik;return[Math.atan2(ii,ij)/ih,ig-ca(ih)*Math.sqrt(ii*ii+ij*ij)]};return ie}(ho.geo.conicEquidistant=function(){return b8(hB)}).raw=hB;var eG=ez(function(d3){return 1/d3},Math.atan);(ho.geo.gnomonic=function(){return fA(eG)}).raw=eG;function aT(ic,d3){return[ic,Math.log(Math.tan(ge/4+d3/2))]}aT.invert=function(d3,ic){return[d3,2*Math.atan(Math.exp(ic))-eq]};function c6(ih){var d3=fA(ih),ig=d3.scale,ie=d3.translate,ic=d3.clipExtent,id;d3.scale=function(){var ii=ig.apply(d3,arguments);return ii===d3?id?d3.clipExtent(null):d3:ii};d3.translate=function(){var ii=ie.apply(d3,arguments);return ii===d3?id?d3.clipExtent(null):d3:ii};d3.clipExtent=function(ik){var ij=ic.apply(d3,arguments);if(ij===d3){if(id=ik==null){var ii=ge*ig(),il=ie();ic([[il[0]-ii,il[1]-ii],[il[0]+ii,il[1]+ii]])}}else{if(id){ij=null}}return ij};return d3.clipExtent(null)}(ho.geo.mercator=function(){return c6(aT)}).raw=aT;var fZ=ez(function(){return 1},Math.asin);(ho.geo.orthographic=function(){return fA(fZ)}).raw=fZ;var ce=ez(function(d3){return 1/(1+d3)},function(d3){return 2*Math.atan(d3)});(ho.geo.stereographic=function(){return fA(ce)}).raw=ce;function aj(ic,d3){return[Math.log(Math.tan(ge/4+d3/2)),-ic]}aj.invert=function(d3,ic){return[-ic,2*Math.atan(Math.exp(d3))-eq]};(ho.geo.transverseMercator=function(){var ic=c6(aj),d3=ic.center,id=ic.rotate;ic.center=function(ie){return ie?d3([-ie[1],ie[0]]):(ie=d3(),[ie[1],-ie[0]])};ic.rotate=function(ie){return ie?id([ie[0],ie[1],ie.length>2?ie[2]+90:90]):(ie=id(),[ie[0],ie[1],ie[2]-90])};return id([0,0,90])}).raw=aj;ho.geom={};function hV(d3){return d3[0]}function hU(d3){return d3[1]}ho.geom.hull=function(ic){var d3=hV,ie=hU;if(arguments.length){return id(ic)}function id(im){if(im.length<3){return[]}var ii=R(d3),ih=R(ie),io,ig=im.length,iq=[],ir=[];for(io=0;io<ig;io++){iq.push([+ii.call(this,im[io],io),+ih.call(this,im[io],io),io])}iq.sort(h3);for(io=0;io<ig;io++){ir.push([iq[io][0],-iq[io][1]])}var it=bq(iq),il=bq(ir);var ij=il[0]===it[0],ik=il[il.length-1]===it[it.length-1],ip=[];for(io=it.length-1;io>=0;--io){ip.push(im[iq[it[io]][2]])}for(io=+ij;io<il.length-ik;++io){ip.push(im[iq[il[io]][2]])}return ip}id.x=function(ig){return arguments.length?(d3=ig,id):d3};id.y=function(ig){return arguments.length?(ie=ig,id):ie};return id};function bq(id){var ig=id.length,ie=[0,1],ic=2;for(var d3=2;d3<ig;d3++){while(ic>1&&e0(id[ie[ic-2]],id[ie[ic-1]],id[d3])<=0){--ic}ie[ic++]=d3}return ie.slice(0,ic)}function h3(ic,d3){return ic[0]-d3[0]||ic[1]-d3[1]}ho.geom.polygon=function(d3){h6(d3,er);return d3};var er=ho.geom.polygon.prototype=[];er.area=function(){var id=-1,ig=this.length,ic,d3=this[ig-1],ie=0;while(++id<ig){ic=d3;d3=this[id];ie+=ic[1]*d3[0]-ic[0]*d3[1]}return ie*0.5};er.centroid=function(ie){var ig=-1,ij=this.length,ic=0,ii=0,id,d3=this[ij-1],ih;if(!arguments.length){ie=-1/(6*this.area())}while(++ig<ij){id=d3;d3=this[ig];ih=id[0]*d3[1]-d3[0]*id[1];ic+=(id[0]+d3[0])*ih;ii+=(id[1]+d3[1])*ih}return[ic*ie,ii*ie]};er.clip=function(ij){var il,ig=gT(ij),ie=-1,d3=this.length-gT(this),id,ic,im=this[d3-1],ik,ii,ih;while(++ie<d3){il=ij.slice();ij.length=0;ik=this[ie];ii=il[(ic=il.length-ig)-1];id=-1;while(++id<ic){ih=il[id];if(E(ih,im,ik)){if(!E(ii,im,ik)){ij.push(gj(ii,ih,im,ik))}ij.push(ih)}else{if(E(ii,im,ik)){ij.push(gj(ii,ih,im,ik))}}ii=ih}if(ig){ij.push(ij[0])}im=ik}return ij};function E(id,ic,d3){return(d3[0]-ic[0])*(id[1]-ic[1])<(d3[1]-ic[1])*(id[0]-ic[0])}function gj(ii,ig,im,ij){var id=ii[0],d3=im[0],ie=ig[0]-id,io=ij[0]-d3,il=ii[1],ih=im[1],ik=ig[1]-il,ip=ij[1]-ih,ic=(io*(il-ih)-ip*(id-d3))/(ip*ie-io*ik);return[id+ic*ie,il+ic*ik]}function gT(id){var ic=id[0],d3=id[id.length-1];return !(ic[0]-d3[0]||ic[1]-d3[1])}var gP,ex,cS,de=[],he,d4,eu=[];function gD(){t(this);this.edge=this.site=this.circle=null}function eY(ic){var d3=de.pop()||new gD();d3.site=ic;return d3}function gC(d3){eN(d3);cS.remove(d3);de.push(d3);t(d3)}function hq(ic){var d3=ic.circle,il=d3.x,ii=d3.cy,ig={x:il,y:ii},ih=ic.P,ie=ic.N,ik=[ic];gC(ic);var io=ih;while(io.circle&&cH(il-io.circle.x)<gn&&cH(ii-io.circle.cy)<gn){ih=io.P;ik.unshift(io);gC(io);io=ih}ik.unshift(io);eN(io);var id=ie;while(id.circle&&cH(il-id.circle.x)<gn&&cH(ii-id.circle.cy)<gn){ie=id.N;ik.push(id);gC(id);id=ie}ik.push(id);eN(id);var im=ik.length,ij;for(ij=1;ij<im;++ij){id=ik[ij];io=ik[ij-1];cq(id.edge,io.site,id.site,ig)}io=ik[0];id=ik[im-1];id.edge=hk(io.site,id.site,null,ig);W(io);W(id)}function dv(im){var ik=im.x,ip=im.y,ir,io,iy,it,iq=cS._;while(iq){iy=c8(iq,ip)-ik;if(iy>gn){iq=iq.L}else{it=ik-gd(iq,ip);if(it>gn){if(!iq.R){ir=iq;break}iq=iq.R}else{if(iy>-gn){ir=iq.P;io=iq}else{if(it>-gn){ir=iq;io=iq.N}else{ir=io=iq}}break}}}var ie=eY(im);cS.insert(ir,ie);if(!ir&&!io){return}if(ir===io){eN(ir);io=eY(ir.site);cS.insert(ie,io);ie.edge=io.edge=hk(ir.site,ie.site);W(ir);W(io);return}if(!io){ie.edge=hk(ir.site,ie.site);return}eN(ir);eN(io);var ii=ir.site,il=ii.x,ij=ii.y,iw=im.x-il,iu=im.y-ij,d3=io.site,id=d3.x-il,ic=d3.y-ij,ix=2*(iw*ic-iu*id),ih=iw*iw+iu*iu,ig=id*id+ic*ic,iv={x:(ic*ih-iu*ig)/ix+il,y:(iw*ig-id*ih)/ix+ij};cq(io.edge,ii,d3,iv);ie.edge=hk(ii,im,null,iv);io.edge=hk(im,d3,null,iv);W(ir);W(io)}function c8(ie,ig){var d3=ie.site,io=d3.x,im=d3.y,il=im-ig;if(!il){return io}var ip=ie.P;if(!ip){return -Infinity}d3=ip.site;var ii=d3.x,ih=d3.y,id=ih-ig;if(!id){return ii}var ic=ii-io,ik=1/il-1/id,ij=ic/id;if(ik){return(-ij+Math.sqrt(ij*ij-2*ik*(ic*ic/(-2*id)-ih+id/2+im-il/2)))/ik+io}return(io+ii)/2}function gd(ic,id){var ie=ic.N;if(ie){return c8(ie,id)}var d3=ic.site;return d3.y===id?d3.x:Infinity}function bZ(d3){this.site=d3;this.edges=[]}bZ.prototype.prepare=function(){var id=this.edges,d3=id.length,ic;while(d3--){ic=id[d3].edge;if(!ic.b||!ic.a){id.splice(d3,1)}}id.sort(u);return id.length};function bz(iu){var ii=iu[0][0],ih=iu[1][0],ip=iu[0][1],io=iu[1][1],ie,im,d3,il,it=ex,id=it.length,ir,iq,ik,ic,ig,ij;while(id--){ir=it[id];if(!ir||!ir.prepare()){continue}ik=ir.edges;ic=ik.length;iq=0;while(iq<ic){ij=ik[iq].end(),d3=ij.x,il=ij.y;ig=ik[++iq%ic].start(),ie=ig.x,im=ig.y;if(cH(d3-ie)>gn||cH(il-im)>gn){ik.splice(iq,0,new h1(g9(ir.site,ij,cH(d3-ii)<gn&&io-il>gn?{x:ii,y:cH(ie-ii)<gn?im:io}:cH(il-io)<gn&&ih-d3>gn?{x:cH(im-io)<gn?ie:ih,y:io}:cH(d3-ih)<gn&&il-ip>gn?{x:ih,y:cH(ie-ih)<gn?im:ip}:cH(il-ip)<gn&&d3-ii>gn?{x:cH(im-ip)<gn?ie:ii,y:ip}:null),ir.site,null));++ic}}}}function u(ic,d3){return d3.angle-ic.angle}function aW(){t(this);this.x=this.y=this.arc=this.site=this.cy=null}function W(ii){var it=ii.P,iq=ii.N;if(!it||!iq){return}var ik=it.site,iw=ii.site,d3=iq.site;if(ik===d3){return}var iv=iw.x,iu=iw.y,io=ik.x-iv,il=ik.y-iu,id=d3.x-iv,ic=d3.y-iu;var ix=2*(io*ic-il*id);if(ix>=-eE){return}var ih=io*io+il*il,ig=id*id+ic*ic,im=(ic*ih-il*ig)/ix,ij=(io*ig-id*ih)/ix,ic=ij+iu;var ie=eu.pop()||new aW();ie.arc=ii;ie.site=iw;ie.x=im+iv;ie.y=ic+Math.sqrt(im*im+ij*ij);ie.cy=ic;ii.circle=ie;var ip=null,ir=d4._;while(ir){if(ie.y<ir.y||ie.y===ir.y&&ie.x<=ir.x){if(ir.L){ir=ir.L}else{ip=ir.P;break}}else{if(ir.R){ir=ir.R}else{ip=ir;break}}}d4.insert(ip,ie);if(!ip){he=ie}}function eN(d3){var ic=d3.circle;if(ic){if(!ic.P){he=ic.N}d4.remove(ic);eu.push(ic);t(ic);d3.circle=null}}function hD(id){var d3=gP,ie=ak(id[0][0],id[0][1],id[1][0],id[1][1]),ic=d3.length,ig;while(ic--){ig=d3[ic];if(!bn(ig,id)||!ie(ig)||cH(ig.a.x-ig.b.x)<gn&&cH(ig.a.y-ig.b.y)<gn){ig.a=ig.b=null;d3.splice(ic,1)}}}function bn(io,ir){var d3=io.b;if(d3){return true}var ic=io.a,iv=ir[0][0],iu=ir[1][0],ih=ir[0][1],ie=ir[1][1],iq=io.l,id=io.r,ik=iq.x,ij=iq.y,im=id.x,il=id.y,ii=(ik+im)/2,ig=(ij+il)/2,ip,it;if(il===ij){if(ii<iv||ii>=iu){return}if(ik>im){if(!ic){ic={x:ii,y:ih}}else{if(ic.y>=ie){return}}d3={x:ii,y:ie}}else{if(!ic){ic={x:ii,y:ie}}else{if(ic.y<ih){return}}d3={x:ii,y:ih}}}else{ip=(ik-im)/(il-ij);it=ig-ip*ii;if(ip<-1||ip>1){if(ik>im){if(!ic){ic={x:(ih-it)/ip,y:ih}}else{if(ic.y>=ie){return}}d3={x:(ie-it)/ip,y:ie}}else{if(!ic){ic={x:(ie-it)/ip,y:ie}}else{if(ic.y<ih){return}}d3={x:(ih-it)/ip,y:ih}}}else{if(ij<il){if(!ic){ic={x:iv,y:ip*iv+it}}else{if(ic.x>=iu){return}}d3={x:iu,y:ip*iu+it}}else{if(!ic){ic={x:iu,y:ip*iu+it}}else{if(ic.x<iv){return}}d3={x:iv,y:ip*iv+it}}}}io.a=ic;io.b=d3;return true}function G(ic,d3){this.l=ic;this.r=d3;this.a=this.b=null}function hk(ig,d3,ie,ic){var id=new G(ig,d3);gP.push(id);if(ie){cq(id,ig,d3,ie)}if(ic){cq(id,d3,ig,ic)}ex[ig.i].edges.push(new h1(id,ig,d3));ex[d3.i].edges.push(new h1(id,d3,ig));return id}function g9(ie,id,d3){var ic=new G(ie,null);ic.a=id;ic.b=d3;gP.push(ic);return ic}function cq(ic,ie,d3,id){if(!ic.a&&!ic.b){ic.a=id;ic.l=ie;ic.r=d3}else{if(ic.l===d3){ic.b=id}else{ic.a=id}}}function h1(ie,ig,d3){var id=ie.a,ic=ie.b;this.edge=ie;this.site=ig;this.angle=d3?Math.atan2(d3.y-ig.y,d3.x-ig.x):ie.l===ig?Math.atan2(ic.x-id.x,id.y-ic.y):Math.atan2(id.x-ic.x,ic.y-id.y)}h1.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function bb(){this._=null}function t(d3){d3.U=d3.C=d3.L=d3.R=d3.P=d3.N=null}bb.prototype={insert:function(ig,ie){var id,ic,d3;if(ig){ie.P=ig;ie.N=ig.N;if(ig.N){ig.N.P=ie}ig.N=ie;if(ig.R){ig=ig.R;while(ig.L){ig=ig.L}ig.L=ie}else{ig.R=ie}id=ig}else{if(this._){ig=db(this._);ie.P=null;ie.N=ig;ig.P=ig.L=ie;id=ig}else{ie.P=ie.N=null;this._=ie;id=null}}ie.L=ie.R=null;ie.U=id;ie.C=true;ig=ie;while(id&&id.C){ic=id.U;if(id===ic.L){d3=ic.R;if(d3&&d3.C){id.C=d3.C=false;ic.C=true;ig=ic}else{if(ig===id.R){ai(this,id);ig=id;id=ig.U}id.C=false;ic.C=true;eR(this,ic)}}else{d3=ic.L;if(d3&&d3.C){id.C=d3.C=false;ic.C=true;ig=ic}else{if(ig===id.L){eR(this,id);ig=id;id=ig.U}id.C=false;ic.C=true;ai(this,ic)}}id=ig.U}this._.C=false},remove:function(ig){if(ig.N){ig.N.P=ig.P}if(ig.P){ig.P.N=ig.N}ig.N=ig.P=null;var ie=ig.U,id,ii=ig.L,d3=ig.R,ic,ih;if(!ii){ic=d3}else{if(!d3){ic=ii}else{ic=db(d3)}}if(ie){if(ie.L===ig){ie.L=ic}else{ie.R=ic}}else{this._=ic}if(ii&&d3){ih=ic.C;ic.C=ig.C;ic.L=ii;ii.U=ic;if(ic!==d3){ie=ic.U;ic.U=ig.U;ig=ic.R;ie.L=ig;ic.R=d3;d3.U=ic}else{ic.U=ie;ie=ic;ig=ic.R}}else{ih=ig.C;ig=ic}if(ig){ig.U=ie}if(ih){return}if(ig&&ig.C){ig.C=false;return}do{if(ig===this._){break}if(ig===ie.L){id=ie.R;if(id.C){id.C=false;ie.C=true;ai(this,ie);id=ie.R}if(id.L&&id.L.C||id.R&&id.R.C){if(!id.R||!id.R.C){id.L.C=false;id.C=true;eR(this,id);id=ie.R}id.C=ie.C;ie.C=id.R.C=false;ai(this,ie);ig=this._;break}}else{id=ie.L;if(id.C){id.C=false;ie.C=true;eR(this,ie);id=ie.L}if(id.L&&id.L.C||id.R&&id.R.C){if(!id.L||!id.L.C){id.R.C=false;id.C=true;ai(this,id);id=ie.L}id.C=ie.C;ie.C=id.L.C=false;eR(this,ie);ig=this._;break}}id.C=true;ig=ie;ie=ie.U}while(!ig.C);if(ig){ig.C=false}}};function ai(d3,id){var ig=id,ie=id.R,ic=ig.U;if(ic){if(ic.L===ig){ic.L=ie}else{ic.R=ie}}else{d3._=ie}ie.U=ic;ig.U=ie;ig.R=ie.L;if(ig.R){ig.R.U=ig}ie.L=ig}function eR(d3,id){var ig=id,ie=id.L,ic=ig.U;if(ic){if(ic.L===ig){ic.L=ie}else{ic.R=ie}}else{d3._=ie}ie.U=ic;ig.U=ie;ig.L=ie.R;if(ig.L){ig.L.U=ig}ie.R=ig}function db(d3){while(d3.L){d3=d3.L}return d3}function g2(ih,ii){var ic=ih.sort(bl).pop(),id,ie,ig;gP=[];ex=new Array(ih.length);cS=new bb();d4=new bb();while(true){ig=he;if(ic&&(!ig||ic.y<ig.y||ic.y===ig.y&&ic.x<ig.x)){if(ic.x!==id||ic.y!==ie){ex[ic.i]=new bZ(ic);dv(ic);id=ic.x,ie=ic.y}ic=ih.pop()}else{if(ig){hq(ig.arc)}else{break}}}if(ii){hD(ii),bz(ii)}var d3={cells:ex,edges:gP};cS=d4=gP=ex=null;return d3}function bl(ic,d3){return d3.y-ic.y||d3.x-ic.x}ho.geom.voronoi=function(ie){var d3=hV,ij=hU,ig=d3,id=ij,ic=hH;if(ie){return ii(ie)}function ii(iq){var ik=new Array(iq.length),im=ic[0][0],ip=ic[0][1],il=ic[1][0],io=ic[1][1];g2(ih(iq),ic).cells.forEach(function(ir,iw){var it=ir.edges,iu=ir.site,iv=ik[iw]=it.length?it.map(function(iy){var ix=iy.start();return[ix.x,ix.y]}):iu.x>=im&&iu.x<=il&&iu.y>=ip&&iu.y<=io?[[im,io],[il,io],[il,ip],[im,ip]]:[];iv.point=iq[iw]});return ik}function ih(ik){return ik.map(function(im,il){return{x:Math.round(ig(im,il)/gn)*gn,y:Math.round(id(im,il)/gn)*gn,i:il}})}ii.links=function(ik){return g2(ih(ik)).edges.filter(function(il){return il.l&&il.r}).map(function(il){return{source:ik[il.l.i],target:ik[il.r.i]}})};ii.triangles=function(il){var ik=[];g2(ih(il)).cells.forEach(function(iw,ir){var im=iw.site,iq=iw.edges.sort(u),ip=-1,io=iq.length,iu,ix,it=iq[io-1].edge,iv=it.l===im?it.r:it.l;while(++ip<io){iu=it;ix=iv;it=iq[ip].edge;iv=it.l===im?it.r:it.l;if(ir<ix.i&&ir<iv.i&&gB(im,ix,iv)<0){ik.push([il[ir],il[ix.i],il[iv.i]])}}});return ik};ii.x=function(ik){return arguments.length?(ig=R(d3=ik),ii):d3};ii.y=function(ik){return arguments.length?(id=R(ij=ik),ii):ij};ii.clipExtent=function(ik){if(!arguments.length){return ic===hH?null:ic}ic=ik==null?hH:ik;return ii};ii.size=function(ik){if(!arguments.length){return ic===hH?null:ic&&ic[1]}return ii.clipExtent(ik&&[[0,0],ik])};return ii};var hH=[[-1000000,-1000000],[1000000,1000000]];function gB(ic,d3,id){return(ic.x-id.x)*(d3.y-ic.y)-(ic.x-d3.x)*(id.y-ic.y)}ho.geom.delaunay=function(d3){return ho.geom.voronoi().triangles(d3)};ho.geom.quadtree=function(ij,ic,ih,d3,ig){var ii=hV,ie=hU,ik;if(ik=arguments.length){ii=f4;ie=f2;if(ik===3){ig=ih;d3=ic;ih=ic=0}return id(ij)}function id(iF){var iC,iq=R(ii),io=R(ie),it,iz,iA,ix,il,iw,ir,iE;if(ic!=null){il=ic,iw=ih,ir=d3,iE=ig}else{ir=iE=-(il=iw=Infinity);it=[],iz=[];ix=iF.length;if(ik){for(iA=0;iA<ix;++iA){iC=iF[iA];if(iC.x<il){il=iC.x}if(iC.y<iw){iw=iC.y}if(iC.x>ir){ir=iC.x}if(iC.y>iE){iE=iC.y}it.push(iC.x);iz.push(iC.y)}}else{for(iA=0;iA<ix;++iA){var iB=+iq(iC=iF[iA],iA),ip=+io(iC,iA);if(iB<il){il=iB}if(ip<iw){iw=ip}if(iB>ir){ir=iB}if(ip>iE){iE=ip}it.push(iB);iz.push(ip)}}}var iv=ir-il,iu=iE-iw;if(iv>iu){iE=iw+iv}else{ir=il+iu}function im(iI,iM,iQ,iN,iH,iP,iG,iO){if(isNaN(iQ)||isNaN(iN)){return}if(iI.leaf){var iL=iI.x,iK=iI.y;if(iL!=null){if(cH(iL-iQ)+cH(iK-iN)<0.01){iD(iI,iM,iQ,iN,iH,iP,iG,iO)}else{var iJ=iI.point;iI.x=iI.y=iI.point=null;iD(iI,iJ,iL,iK,iH,iP,iG,iO);iD(iI,iM,iQ,iN,iH,iP,iG,iO)}}else{iI.x=iQ,iI.y=iN,iI.point=iM}}else{iD(iI,iM,iQ,iN,iH,iP,iG,iO)}}function iD(iJ,iM,iQ,iN,iH,iP,iG,iO){var iL=(iH+iG)*0.5,iI=(iP+iO)*0.5,iS=iQ>=iL,iR=iN>=iI,iK=iR<<1|iS;iJ.leaf=false;iJ=iJ.nodes[iK]||(iJ.nodes[iK]=fH());if(iS){iH=iL}else{iG=iL}if(iR){iP=iI}else{iO=iI}im(iJ,iM,iQ,iN,iH,iP,iG,iO)}var iy=fH();iy.add=function(iG){im(iy,iG,+iq(iG,++iA),+io(iG,iA),il,iw,ir,iE)};iy.visit=function(iG){cN(iG,iy,il,iw,ir,iE)};iy.find=function(iG){return el(iy,iG[0],iG[1],il,iw,ir,iE)};iA=-1;if(ic==null){while(++iA<ix){im(iy,iF[iA],it[iA],iz[iA],il,iw,ir,iE)}--iA}else{iF.forEach(iy.add)}it=iz=iF=iC=null;return iy}id.x=function(il){return arguments.length?(ii=il,id):ii};id.y=function(il){return arguments.length?(ie=il,id):ie};id.extent=function(il){if(!arguments.length){return ic==null?null:[[ic,ih],[d3,ig]]}if(il==null){ic=ih=d3=ig=null}else{ic=+il[0][0],ih=+il[0][1],d3=+il[1][0],ig=+il[1][1]}return id};id.size=function(il){if(!arguments.length){return ic==null?null:[d3-ic,ig-ih]}if(il==null){ic=ih=d3=ig=null}else{ic=ih=0,d3=+il[0],ig=+il[1]}return id};return id};function f4(d3){return d3.x}function f2(d3){return d3.y}function fH(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cN(ig,ie,ic,ik,d3,ii){if(!ig(ie,ic,ik,d3,ii)){var ij=(ic+d3)*0.5,ih=(ik+ii)*0.5,id=ie.nodes;if(id[0]){cN(ig,id[0],ic,ik,ij,ih)}if(id[1]){cN(ig,id[1],ij,ik,d3,ih)}if(id[2]){cN(ig,id[2],ic,ih,ij,ii)}if(id[3]){cN(ig,id[3],ij,ih,d3,ii)}}}function el(ii,ik,ih,id,il,d3,ig){var ij=Infinity,ic;(function ie(it,ip,iz,io,iy){if(ip>d3||iz>ig||io<id||iy<il){return}if(iB=it.point){var iB,iE=ik-it.x,iD=ih-it.y,ix=iE*iE+iD*iD;if(ix<ij){var im=Math.sqrt(ij=ix);id=ik-im,il=ih-im;d3=ik+im,ig=ih+im;ic=iB}}var ir=it.nodes,iw=(ip+io)*0.5,iq=(iz+iy)*0.5,iC=ik>=iw,iA=ih>=iq;for(var iv=iA<<1|iC,iu=iv+4;iv<iu;++iv){if(it=ir[iv&3]){switch(iv&3){case 0:ie(it,ip,iz,iw,iq);break;case 1:ie(it,iw,iz,io,iq);break;case 2:ie(it,ip,iq,iw,iy);break;case 3:ie(it,iw,iq,io,iy);break}}}})(ii,id,il,d3,ig);return ic}ho.interpolateRgb=aN;function aN(ic,d3){ic=ho.rgb(ic);d3=ho.rgb(d3);var ie=ic.r,id=ic.g,ii=ic.b,ih=d3.r-ie,ig=d3.g-id,ij=d3.b-ii;return function(ik){return"#"+cw(Math.round(ie+ih*ik))+cw(Math.round(id+ig*ik))+cw(Math.round(ii+ij*ik))}}ho.interpolateObject=bN;function bN(ic,d3){var ie={},ig={},id;for(id in ic){if(id in d3){ie[id]=fC(ic[id],d3[id])}else{ig[id]=ic[id]}}for(id in d3){if(!(id in ic)){ig[id]=d3[id]}}return function(ih){for(id in ie){ig[id]=ie[id](ih)}return ig}}ho.interpolateNumber=bH;function bH(ic,d3){ic=+ic,d3=+d3;return function(id){return ic*(1-id)+d3*id}}ho.interpolateString=b2;function b2(ii,ih){var id=hC.lastIndex=hA.lastIndex=0,ig,ic,ij,ie=-1,ik=[],d3=[];ii=ii+"",ih=ih+"";while((ig=hC.exec(ii))&&(ic=hA.exec(ih))){if((ij=ic.index)>id){ij=ih.slice(id,ij);if(ik[ie]){ik[ie]+=ij}else{ik[++ie]=ij}}if((ig=ig[0])===(ic=ic[0])){if(ik[ie]){ik[ie]+=ic}else{ik[++ie]=ic}}else{ik[++ie]=null;d3.push({i:ie,x:bH(ig,ic)})}id=hA.lastIndex}if(id<ih.length){ij=ih.slice(id);if(ik[ie]){ik[ie]+=ij}else{ik[++ie]=ij}}return ik.length<2?d3[0]?(ih=d3[0].x,function(il){return ih(il)+""}):function(){return ih}:(ih=d3.length,function(im){for(var il=0,io;il<ih;++il){ik[(io=d3[il]).i]=io.x(im)}return ik.join("")})}var hC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hA=new RegExp(hC.source,"g");ho.interpolate=fC;function fC(ic,d3){var id=ho.interpolators.length,ie;while(--id>=0&&!(ie=ho.interpolators[id](ic,d3))){}return ie}ho.interpolators=[function(ic,d3){var id=typeof d3;return(id==="string"?am.has(d3.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(d3)?aN:b2:d3 instanceof gV?aN:Array.isArray(d3)?eP:id==="object"&&isNaN(d3)?bN:bH)(ic,d3)}];ho.interpolateArray=eP;function eP(ig,id){var ic=[],ij=[],ie=ig.length,d3=id.length,ii=Math.min(ig.length,id.length),ih;for(ih=0;ih<ii;++ih){ic.push(fC(ig[ih],id[ih]))}for(;ih<ie;++ih){ij[ih]=ig[ih]}for(;ih<d3;++ih){ij[ih]=id[ih]}return function(ik){for(ih=0;ih<ii;++ih){ij[ih]=ic[ih](ik)}return ij}}var hj=function(){return gl};var ab=ho.map({linear:hj,poly:aS,quad:function(){return b0},cubic:function(){return I},sin:function(){return gc},exp:function(){return fu},circle:function(){return d6},elastic:V,back:g0,bounce:function(){return cl}});var k=ho.map({"in":gl,out:D,"in-out":a3,"out-in":function(d3){return a3(D(d3))}});ho.ease=function(ic){var ie=ic.indexOf("-"),id=ie>=0?ic.slice(0,ie):ic,d3=ie>=0?ic.slice(ie+1):"in";id=ab.get(id)||hj;d3=k.get(d3)||gl;return fz(d3(id.apply(null,bP.call(arguments,1))))};function fz(d3){return function(ic){return ic<=0?0:ic>=1?1:d3(ic)}}function D(d3){return function(ic){return 1-d3(1-ic)}}function a3(d3){return function(ic){return 0.5*(ic<0.5?d3(2*ic):2-d3(2-2*ic))}}function b0(d3){return d3*d3}function I(d3){return d3*d3*d3}function aw(ic){if(ic<=0){return 0}if(ic>=1){return 1}var id=ic*ic,d3=id*ic;return 4*(ic<0.5?d3:3*(ic-id)+d3-0.75)}function aS(d3){return function(ic){return Math.pow(ic,d3)}}function gc(d3){return 1-Math.cos(d3*eq)}function fu(d3){return Math.pow(2,10*(d3-1))}function d6(d3){return 1-Math.sqrt(1-d3*d3)}function V(d3,id){var ic;if(arguments.length<2){id=0.45}if(arguments.length){ic=id/f8*Math.asin(1/d3)}else{d3=1,ic=id/4}return function(ie){return 1+d3*Math.pow(2,-10*ie)*Math.sin((ie-ic)*f8/id)}}function g0(d3){if(!d3){d3=1.70158}return function(ic){return ic*ic*((d3+1)*ic-d3)}}function cl(d3){return d3<1/2.75?7.5625*d3*d3:d3<2/2.75?7.5625*(d3-=1.5/2.75)*d3+0.75:d3<2.5/2.75?7.5625*(d3-=2.25/2.75)*d3+0.9375:7.5625*(d3-=2.625/2.75)*d3+0.984375}ho.interpolateHcl=gS;function gS(id,d3){id=ho.hcl(id);d3=ho.hcl(d3);var ic=id.h,ig=id.c,ii=id.l,ie=d3.h-ic,ih=d3.c-ig,ij=d3.l-ii;if(isNaN(ih)){ih=0,ig=isNaN(ig)?d3.c:ig}if(isNaN(ie)){ie=0,ic=isNaN(ic)?d3.h:ic}else{if(ie>180){ie-=360}else{if(ie<-180){ie+=360}}}return function(ik){return bE(ic+ie*ik,ig+ih*ik,ii+ij*ik)+""}}ho.interpolateHsl=a4;function a4(ie,d3){ie=ho.hsl(ie);d3=ho.hsl(d3);var id=ie.h,ic=ie.s,ii=ie.l,ih=d3.h-id,ig=d3.s-ic,ij=d3.l-ii;if(isNaN(ig)){ig=0,ic=isNaN(ic)?d3.s:ic}if(isNaN(ih)){ih=0,id=isNaN(id)?d3.h:id}else{if(ih>180){ih-=360}else{if(ih<-180){ih+=360}}}return function(ik){return bh(id+ih*ik,ic+ig*ik,ii+ij*ik)+""}}ho.interpolateLab=hz;function hz(ic,d3){ic=ho.lab(ic);d3=ho.lab(d3);var ig=ic.l,ie=ic.a,id=ic.b,ij=d3.l-ig,ii=d3.a-ie,ih=d3.b-id;return function(ik){return aC(ig+ij*ik,ie+ii*ik,id+ih*ik)+""}}ho.interpolateRound=fx;function fx(ic,d3){d3-=ic;return function(id){return Math.round(ic+d3*id)}}ho.transform=function(d3){var ic=bO.createElementNS(ho.ns.prefix.svg,"g");return(ho.transform=function(id){if(id!=null){ic.setAttribute("transform",id);var ie=ic.transform.baseVal.consolidate()}return new p(ie?ie.matrix:f9)})(d3)};function p(d3){var ie=[d3.a,d3.b],ic=[d3.c,d3.d],ih=fp(ie),id=eZ(ie,ic),ig=fp(bT(ic,ie,-id))||0;if(ie[0]*ic[1]<ic[0]*ie[1]){ie[0]*=-1;ie[1]*=-1;ih*=-1;id*=-1}this.rotate=(ih?Math.atan2(ie[1],ie[0]):Math.atan2(-ic[0],ic[1]))*hF;this.translate=[d3.e,d3.f];this.scale=[ih,ig];this.skew=ig?Math.atan2(id,ig)*hF:0}p.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eZ(ic,d3){return ic[0]*d3[0]+ic[1]*d3[1]}function fp(d3){var ic=Math.sqrt(eZ(d3,d3));if(ic){d3[0]/=ic;d3[1]/=ic}return ic}function bT(ic,d3,id){ic[0]+=id*d3[0];ic[1]+=id*d3[1];return ic}var f9={a:1,b:0,c:0,d:1,e:0,f:0};ho.interpolateTransform=eh;function aU(d3){return d3.length?d3.pop()+",":""}function hT(ic,d3,ie,ig){if(ic[0]!==d3[0]||ic[1]!==d3[1]){var id=ie.push("translate(",null,",",null,")");ig.push({i:id-4,x:bH(ic[0],d3[0])},{i:id-2,x:bH(ic[1],d3[1])})}else{if(d3[0]||d3[1]){ie.push("translate("+d3+")")}}}function g4(ie,id,d3,ic){if(ie!==id){if(ie-id>180){id+=360}else{if(id-ie>180){ie+=360}}ic.push({i:d3.push(aU(d3)+"rotate(",null,")")-2,x:bH(ie,id)})}else{if(id){d3.push(aU(d3)+"rotate("+id+")")}}}function dn(ie,id,d3,ic){if(ie!==id){ic.push({i:d3.push(aU(d3)+"skewX(",null,")")-2,x:bH(ie,id)})}else{if(id){d3.push(aU(d3)+"skewX("+id+")")}}}function gY(ie,id,ic,ig){if(ie[0]!==id[0]||ie[1]!==id[1]){var d3=ic.push(aU(ic)+"scale(",null,",",null,")");ig.push({i:d3-4,x:bH(ie[0],id[0])},{i:d3-2,x:bH(ie[1],id[1])})}else{if(id[0]!==1||id[1]!==1){ic.push(aU(ic)+"scale("+id+")")}}}function eh(ic,d3){var id=[],ie=[];ic=ho.transform(ic),d3=ho.transform(d3);hT(ic.translate,d3.translate,id,ie);g4(ic.rotate,d3.rotate,id,ie);dn(ic.skew,d3.skew,id,ie);gY(ic.scale,d3.scale,id,ie);ic=d3=null;return function(ih){var ig=-1,ij=ie.length,ii;while(++ig<ij){id[(ii=ie[ig]).i]=ii.x(ih)}return id.join("")}}function hw(ic,d3){d3=(d3-=ic=+ic)||1/d3;return function(id){return(id-ic)/d3}}function az(ic,d3){d3=(d3-=ic=+ic)||1/d3;return function(id){return Math.max(0,Math.min(1,(id-ic)/d3))}}ho.layout={};ho.layout.bundle=function(){return function(d3){var id=[],ic=-1,ie=d3.length;while(++ic<ie){id.push(eL(d3[ic]))}return id}};function eL(ie){var ih=ie.source,d3=ie.target,ig=fK(ih,d3),id=[ih];while(ih!==ig){ih=ih.parent;id.push(ih)}var ic=id.length;while(d3!==ig){id.splice(ic,0,d3);d3=d3.parent}return id}function fo(id){var ic=[],d3=id.parent;while(d3!=null){ic.push(id);id=d3;d3=d3.parent}ic.push(id);return ic}function fK(ie,ic){if(ie===ic){return ie}var id=fo(ie),d3=fo(ic),ig=id.pop(),ih=d3.pop(),ii=null;while(ig===ih){ii=ig;ig=id.pop();ih=d3.pop()}return ii}ho.layout.chord=function(){var ih={},ii,ie,im,id,il=0,d3,ic,ig;function ik(){var it={},iw=[],iE=ho.range(id),iA=[],iu,iC,ir,ix,iv;ii=[];ie=[];iu=0,ix=-1;while(++ix<id){iC=0,iv=-1;while(++iv<id){iC+=im[ix][iv]}iw.push(iC);iA.push(ho.range(id));iu+=iC}if(d3){iE.sort(function(iG,iF){return d3(iw[iG],iw[iF])})}if(ic){iA.forEach(function(iG,iF){iG.sort(function(iI,iH){return ic(im[iF][iI],im[iF][iH])})})}iu=(f8-il*id)/iu;iC=0,ix=-1;while(++ix<id){ir=iC,iv=-1;while(++iv<id){var iB=iE[ix],iz=iA[iB][iv],iD=im[iB][iz],iq=iC,ip=iC+=iD*iu;it[iB+"-"+iz]={index:iB,subindex:iz,startAngle:iq,endAngle:ip,value:iD}}ie[iB]={index:iB,startAngle:ir,endAngle:iC,value:iw[iB]};iC+=il}ix=-1;while(++ix<id){iv=ix-1;while(++iv<id){var io=it[ix+"-"+iv],iy=it[iv+"-"+ix];if(io.value||iy.value){ii.push(io.value<iy.value?{source:iy,target:io}:{source:io,target:iy})}}}if(ig){ij()}}function ij(){ii.sort(function(ip,io){return ig((ip.source.value+ip.target.value)/2,(io.source.value+io.target.value)/2)})}ih.matrix=function(io){if(!arguments.length){return im}id=(im=io)&&im.length;ii=ie=null;return ih};ih.padding=function(io){if(!arguments.length){return il}il=io;ii=ie=null;return ih};ih.sortGroups=function(io){if(!arguments.length){return d3}d3=io;ii=ie=null;return ih};ih.sortSubgroups=function(io){if(!arguments.length){return ic}ic=io;ii=null;return ih};ih.sortChords=function(io){if(!arguments.length){return ig}ig=io;if(ii){ij()}return ih};ih.chords=function(){if(!ii){ik()}return ii};ih.groups=function(){if(!ie){ik()}return ie};return ih};ho.layout.force=function(){var ic={},iu=ho.dispatch("start","tick","end"),ik,im=[1,1],iw,ig,ij=0.9,ix=fQ,ie=cu,it=-30,iq=cc,ih=0.1,io=0.64,ir=[],id=[],ii,d3,il;function iv(iy){return function(iF,iB,iE,iA){if(iF.point!==iy){var iH=iF.cx-iy.x,iG=iF.cy-iy.y,iz=iA-iB,iD=iH*iH+iG*iG;if(iz*iz/io<iD){if(iD<iq){var iC=iF.charge/iD;iy.px-=iH*iC;iy.py-=iG*iC}return true}if(iF.point&&iD&&iD<iq){var iC=iF.pointCharge/iD;iy.px-=iH*iC;iy.py-=iG*iC}}return !iF.charge}}ic.tick=function(){if((ig*=0.99)<0.005){ik=null;iu.end({type:"end",alpha:ig=0});return true}var iA=ir.length,iB=id.length,iy,iE,iz,iI,iH,iC,iD,iG,iF;for(iE=0;iE<iB;++iE){iz=id[iE];iI=iz.source;iH=iz.target;iG=iH.x-iI.x;iF=iH.y-iI.y;if(iC=iG*iG+iF*iF){iC=ig*d3[iE]*((iC=Math.sqrt(iC))-ii[iE])/iC;iG*=iC;iF*=iC;iH.x-=iG*(iD=iI.weight+iH.weight?iI.weight/(iI.weight+iH.weight):0.5);iH.y-=iF*iD;iI.x+=iG*(iD=1-iD);iI.y+=iF*iD}}if(iD=ig*ih){iG=im[0]/2;iF=im[1]/2;iE=-1;if(iD){while(++iE<iA){iz=ir[iE];iz.x+=(iG-iz.x)*iD;iz.y+=(iF-iz.y)*iD}}}if(it){gA(iy=ho.geom.quadtree(ir),ig,il);iE=-1;while(++iE<iA){if(!(iz=ir[iE]).fixed){iy.visit(iv(iz))}}}iE=-1;while(++iE<iA){iz=ir[iE];if(iz.fixed){iz.x=iz.px;iz.y=iz.py}else{iz.x-=(iz.px-(iz.px=iz.x))*ij;iz.y-=(iz.py-(iz.py=iz.y))*ij}}iu.tick({type:"tick",alpha:ig})};ic.nodes=function(iy){if(!arguments.length){return ir}ir=iy;return ic};ic.links=function(iy){if(!arguments.length){return id}id=iy;return ic};ic.size=function(iy){if(!arguments.length){return im}im=iy;return ic};ic.linkDistance=function(iy){if(!arguments.length){return ix}ix=typeof iy==="function"?iy:+iy;return ic};ic.distance=ic.linkDistance;ic.linkStrength=function(iy){if(!arguments.length){return ie}ie=typeof iy==="function"?iy:+iy;return ic};ic.friction=function(iy){if(!arguments.length){return ij}ij=+iy;return ic};ic.charge=function(iy){if(!arguments.length){return it}it=typeof iy==="function"?iy:+iy;return ic};ic.chargeDistance=function(iy){if(!arguments.length){return Math.sqrt(iq)}iq=iy*iy;return ic};ic.gravity=function(iy){if(!arguments.length){return ih}ih=+iy;return ic};ic.theta=function(iy){if(!arguments.length){return Math.sqrt(io)}io=iy*iy;return ic};ic.alpha=function(iy){if(!arguments.length){return ig}iy=+iy;if(ig){if(iy>0){ig=iy}else{ik.c=null,ik.t=NaN,ik=null;iu.end({type:"end",alpha:ig=0})}}else{if(iy>0){iu.start({type:"start",alpha:ig=iy});ik=g3(ic.tick)}}return ic};ic.start=function(){var iC,iF=ir.length,iz=id.length,iA=im[0],iD=im[1],iB,iE;for(iC=0;iC<iF;++iC){(iE=ir[iC]).index=iC;iE.weight=0}for(iC=0;iC<iz;++iC){iE=id[iC];if(typeof iE.source=="number"){iE.source=ir[iE.source]}if(typeof iE.target=="number"){iE.target=ir[iE.target]}++iE.source.weight;++iE.target.weight}for(iC=0;iC<iF;++iC){iE=ir[iC];if(isNaN(iE.x)){iE.x=iy("x",iA)}if(isNaN(iE.y)){iE.y=iy("y",iD)}if(isNaN(iE.px)){iE.px=iE.x}if(isNaN(iE.py)){iE.py=iE.y}}ii=[];if(typeof ix==="function"){for(iC=0;iC<iz;++iC){ii[iC]=+ix.call(this,id[iC],iC)}}else{for(iC=0;iC<iz;++iC){ii[iC]=ix}}d3=[];if(typeof ie==="function"){for(iC=0;iC<iz;++iC){d3[iC]=+ie.call(this,id[iC],iC)}}else{for(iC=0;iC<iz;++iC){d3[iC]=ie}}il=[];if(typeof it==="function"){for(iC=0;iC<iF;++iC){il[iC]=+it.call(this,ir[iC],iC)}}else{for(iC=0;iC<iF;++iC){il[iC]=it}}function iy(iL,iJ){if(!iB){iB=new Array(iF);for(iI=0;iI<iF;++iI){iB[iI]=[]}for(iI=0;iI<iz;++iI){var iM=id[iI];iB[iM.source.index].push(iM.target);iB[iM.target.index].push(iM.source)}}var iK=iB[iC],iI=-1,iH=iK.length,iG;while(++iI<iH){if(!isNaN(iG=iK[iI][iL])){return iG}}return Math.random()*iJ}return ic.resume()};ic.resume=function(){return ic.alpha(0.1)};ic.stop=function(){return ic.alpha(0)};ic.drag=function(){if(!iw){iw=ho.behavior.drag().origin(gl).on("dragstart.force",r).on("drag.force",ip).on("dragend.force",ed)}if(!arguments.length){return iw}this.on("mouseover.force",cx).on("mouseout.force",em).call(iw)};function ip(iy){iy.px=ho.event.x,iy.py=ho.event.y;ic.resume()}return ho.rebind(ic,iu,"on")};function r(d3){d3.fixed|=2}function ed(d3){d3.fixed&=~6}function cx(d3){d3.fixed|=4;d3.px=d3.x,d3.py=d3.y}function em(d3){d3.fixed&=~4}function gA(il,ig,ik){var ih=0,id=0;il.charge=0;if(!il.leaf){var d3=il.nodes,ic=d3.length,ii=-1,ij;while(++ii<ic){ij=d3[ii];if(ij==null){continue}gA(ij,ig,ik);il.charge+=ij.charge;ih+=ij.charge*ij.cx;id+=ij.charge*ij.cy}}if(il.point){if(!il.leaf){il.point.x+=Math.random()-0.5;il.point.y+=Math.random()-0.5}var ie=ig*ik[il.point.index];il.charge+=il.pointCharge=ie;ih+=ie*il.point.x;id+=ie*il.point.y}il.cx=ih/il.charge;il.cy=id/il.charge}var fQ=20,cu=1,cc=Infinity;ho.layout.hierarchy=function(){var id=dR,ic=a8,ie=hL;function d3(ih){var ig=[ih],ii=[],ij;ih.depth=0;while((ij=ig.pop())!=null){ii.push(ij);if((ik=ic.call(d3,ij,ij.depth))&&(im=ik.length)){var im,ik,il;while(--im>=0){ig.push(il=ik[im]);il.parent=ij;il.depth=ij.depth+1}if(ie){ij.value=0}ij.children=ik}else{if(ie){ij.value=+ie.call(d3,ij,ij.depth)||0}delete ij.children}}gM(ih,function(ip){var iq,io;if(id&&(iq=ip.children)){iq.sort(id)}if(ie&&(io=ip.parent)){io.value+=ip.value}});return ii}d3.sort=function(ig){if(!arguments.length){return id}id=ig;return d3};d3.children=function(ig){if(!arguments.length){return ic}ic=ig;return d3};d3.value=function(ig){if(!arguments.length){return ie}ie=ig;return d3};d3.revalue=function(ig){if(ie){ev(ig,function(ih){if(ih.children){ih.value=0}});gM(ig,function(ii){var ih;if(!ii.children){ii.value=+ie.call(d3,ii,ii.depth)||0}if(ih=ii.parent){ih.value+=ii.value}})}return ig};return d3};function gs(ic,d3){ho.rebind(ic,d3,"sort","children","value");ic.nodes=ic;ic.links=gw;return ic}function ev(id,ig){var d3=[id];while((id=d3.pop())!=null){ig(id);if((ic=id.children)&&(ie=ic.length)){var ie,ic;while(--ie>=0){d3.push(ic[ie])}}}}function gM(ig,ii){var ic=[ig],d3=[];while((ig=ic.pop())!=null){d3.push(ig);if((id=ig.children)&&(ih=id.length)){var ie=-1,ih,id;while(++ie<ih){ic.push(id[ie])}}}while((ig=d3.pop())!=null){ii(ig)}}function a8(d3){return d3.children}function hL(d3){return d3.value}function dR(ic,d3){return d3.value-ic.value}function gw(d3){return ho.merge(d3.map(function(ic){return(ic.children||[]).map(function(id){return{source:ic,target:id}})}))}ho.layout.partition=function(){var id=ho.layout.hierarchy(),ie=[1,1];function d3(ij,io,iq,ip){var ih=ij.children;ij.x=io;ij.y=ij.depth*ip;ij.dx=iq;ij.dy=ip;if(ih&&(ii=ih.length)){var ik=-1,ii,im,il;iq=ij.value?iq/ij.value:0;while(++ik<ii){d3(im=ih[ik],io,il=im.value*iq,ip);io+=il}}}function ig(ij){var ii=ij.children,ik=0;if(ii&&(il=ii.length)){var ih=-1,il;while(++ih<il){ik=Math.max(ik,ig(ii[ih]))}}return 1+ik}function ic(ij,ii){var ih=id.call(this,ij,ii);d3(ih[0],0,ie[0],ie[1]/ig(ih[0]));return ih}ic.size=function(ih){if(!arguments.length){return ie}ie=ih;return ic};return gs(ic,id)};ho.layout.pie=function(){var ih=Number,ie=U,id=0,ic=f8,ig=0;function d3(im){var ik=im.length,iu=im.map(function(ix,iw){return +ih.call(d3,ix,iw)}),iq=+(typeof id==="function"?id.apply(this,arguments):id),iv=(typeof ic==="function"?ic.apply(this,arguments):ic)-iq,ij=Math.min(Math.abs(iv)/ik,+(typeof ig==="function"?ig.apply(this,arguments):ig)),ir=ij*(iv<0?-1:1),ip=ho.sum(iu),il=ip?(iv-ik*ir)/ip:0,io=ho.range(ik),ii=[],it;if(ie!=null){io.sort(ie===U?function(ix,iw){return iu[iw]-iu[ix]}:function(ix,iw){return ie(im[ix],im[iw])})}io.forEach(function(iw){ii[iw]={data:im[iw],value:it=iu[iw],startAngle:iq,endAngle:iq+=it*il+ir,padAngle:ij}});return ii}d3.value=function(ii){if(!arguments.length){return ih}ih=ii;return d3};d3.sort=function(ii){if(!arguments.length){return ie}ie=ii;return d3};d3.startAngle=function(ii){if(!arguments.length){return id}id=ii;return d3};d3.endAngle=function(ii){if(!arguments.length){return ic}ic=ii;return d3};d3.padAngle=function(ii){if(!arguments.length){return ig}ig=ii;return d3};return d3};var U={};ho.layout.stack=function(){var ie=gl,id=bS,ih=fE,ig=fF,ic=an,ii=al;function d3(ir,iu){if(!(ik=ir.length)){return ir}var it=ir.map(function(ix,iw){return ie.call(d3,ix,iw)});var iv=it.map(function(iw){return iw.map(function(ix,iy){return[ic.call(d3,ix,iy),ii.call(d3,ix,iy)]})});var io=id.call(d3,iv,iu);it=ho.permute(it,io);iv=ho.permute(iv,io);var im=ih.call(d3,iv,iu);var il=it[0].length,ik,iq,ip,ij;for(ip=0;ip<il;++ip){ig.call(d3,it[0][ip],ij=im[ip],iv[0][ip][1]);for(iq=1;iq<ik;++iq){ig.call(d3,it[iq][ip],ij+=iv[iq-1][ip][1],iv[iq][ip][1])}}return ir}d3.values=function(ij){if(!arguments.length){return ie}ie=ij;return d3};d3.order=function(ij){if(!arguments.length){return id}id=typeof ij==="function"?ij:a6.get(ij)||bS;return d3};d3.offset=function(ij){if(!arguments.length){return ih}ih=typeof ij==="function"?ij:ag.get(ij)||fE;return d3};d3.x=function(ij){if(!arguments.length){return ic}ic=ij;return d3};d3.y=function(ij){if(!arguments.length){return ii}ii=ij;return d3};d3.out=function(ij){if(!arguments.length){return ig}ig=ij;return d3};return d3};function an(d3){return d3.x}function al(d3){return d3.y}function fF(ic,d3,id){ic.y0=d3;ic.y=id}var a6=ho.map({"inside-out":function(ig){var id=ig.length,ih,ie,il=ig.map(bY),ii=ig.map(du),ij=ho.range(id).sort(function(ip,io){return il[ip]-il[io]}),ik=0,d3=0,im=[],ic=[];for(ih=0;ih<id;++ih){ie=ij[ih];if(ik<d3){ik+=ii[ie];im.push(ie)}else{d3+=ii[ie];ic.push(ie)}}return ic.reverse().concat(im)},reverse:function(d3){return ho.range(d3.length).reverse()},"default":bS});var ag=ho.map({silhouette:function(ig){var ic=ig.length,id=ig[0].length,ii=[],ij=0,ih,ie,d3,ik=[];for(ie=0;ie<id;++ie){for(ih=0,d3=0;ih<ic;ih++){d3+=ig[ih][ie][1]}if(d3>ij){ij=d3}ii.push(d3)}for(ie=0;ie<id;++ie){ik[ie]=(ij-ii[ie])/2}return ik},wiggle:function(ii){var ic=ii.length,il=ii[0],id=il.length,ij,ih,ig,ip,io,ik,iq,d3,ie,im=[];im[0]=d3=ie=0;for(ih=1;ih<id;++ih){for(ij=0,ip=0;ij<ic;++ij){ip+=ii[ij][ih][1]}for(ij=0,io=0,iq=il[ih][0]-il[ih-1][0];ij<ic;++ij){for(ig=0,ik=(ii[ij][ih][1]-ii[ij][ih-1][1])/(2*iq);ig<ij;++ig){ik+=(ii[ig][ih][1]-ii[ig][ih-1][1])/iq}io+=ik*ii[ij][ih][1]}im[ih]=d3-=ip?io/ip*iq:0;if(d3<ie){ie=d3}}for(ih=0;ih<id;++ih){im[ih]-=ie}return im},expand:function(ih){var ij=ih.length,d3=ih[0].length,ic=1/ij,ie,id,ii,ig=[];for(id=0;id<d3;++id){for(ie=0,ii=0;ie<ij;ie++){ii+=ih[ie][id][1]}if(ii){for(ie=0;ie<ij;ie++){ih[ie][id][1]/=ii}}else{for(ie=0;ie<ij;ie++){ih[ie][id][1]=ic}}}for(id=0;id<d3;++id){ig[id]=0}return ig},zero:fE});function bS(d3){return ho.range(d3.length)}function fE(ie){var ic=-1,d3=ie[0].length,id=[];while(++ic<d3){id[ic]=0}return id}function bY(ih){var ie=1,id=0,ic=ih[0][1],d3,ig=ih.length;for(;ie<ig;++ie){if((d3=ih[ie][1])>ic){id=ie;ic=d3}}return id}function du(d3){return d3.reduce(fD,0)}function fD(d3,ic){return d3+ic[1]}ho.layout.histogram=function(){var ig=true,ic=Number,d3=bk,id=hx;function ie(ik,il){var ir=[],ip=ik.map(ic,this),im=d3.call(this,ip,il),iq=id.call(this,im,ip,il),it,il=-1,ih=ip.length,ii=iq.length-1,ij=ig?1:1/ih,io;while(++il<ii){it=ir[il]=[];it.dx=iq[il+1]-(it.x=iq[il]);it.y=0}if(ii>0){il=-1;while(++il<ih){io=ip[il];if(io>=im[0]&&io<=im[1]){it=ir[ho.bisect(iq,io,1,ii)-1];it.y+=ij;it.push(ik[il])}}}return ir}ie.value=function(ih){if(!arguments.length){return ic}ic=ih;return ie};ie.range=function(ih){if(!arguments.length){return d3}d3=R(ih);return ie};ie.bins=function(ih){if(!arguments.length){return id}id=typeof ih==="number"?function(ii){return j(ii,ih)}:R(ih);return ie};ie.frequency=function(ih){if(!arguments.length){return ig}ig=!!ih;return ie};return ie};function hx(ic,d3){return j(ic,Math.ceil(Math.log(d3.length)/Math.LN2+1))}function j(ie,ih){var id=-1,ic=+ie[0],d3=(ie[1]-ic)/ih,ig=[];while(++id<=ih){ig[id]=d3*id+ic}return ig}function bk(d3){return[ho.min(d3),ho.max(d3)]}ho.layout.pack=function(){var ic=ho.layout.hierarchy().sort(eB),ig=0,ie=[1,1],d3;function id(ip,ik){var ij=ic.call(this,ip,ik),ii=ij[0],ih=ie[0],il=ie[1],im=d3==null?Math.sqrt:typeof d3==="function"?d3:function(){return d3};ii.x=ii.y=0;gM(ii,function(iq){iq.r=+im(iq.value)});gM(ii,T);if(ig){var io=ig*(d3?1:Math.max(2*ii.r/ih,2*ii.r/il))/2;gM(ii,function(iq){iq.r+=io});gM(ii,T);gM(ii,function(iq){iq.r-=io})}fn(ii,ih/2,il/2,d3?1:1/Math.max(2*ii.r/ih,2*ii.r/il));return ij}id.size=function(ih){if(!arguments.length){return ie}ie=ih;return id};id.radius=function(ih){if(!arguments.length){return d3}d3=ih==null||typeof ih==="function"?ih:+ih;return id};id.padding=function(ih){if(!arguments.length){return ig}ig=+ih;return id};return gs(id,ic)};function eB(ic,d3){return ic.value-d3.value}function bR(ic,d3){var id=ic._pack_next;ic._pack_next=d3;d3._pack_prev=ic;d3._pack_next=id;id._pack_prev=d3}function bf(ic,d3){ic._pack_next=d3;d3._pack_prev=ic}function en(id,d3){var ie=d3.x-id.x,ic=d3.y-id.y,ig=id.r+d3.r;return 0.999*ig*ig>ie*ie+ic*ic}function T(io){if(!(im=io.children)||!(il=im.length)){return}var im,it=Infinity,ix=-Infinity,d3=Infinity,ig=-Infinity,iw,iv,iu,ir,iq,ip,il;function id(iy){it=Math.min(iy.x-iy.r,it);ix=Math.max(iy.x+iy.r,ix);d3=Math.min(iy.y-iy.r,d3);ig=Math.max(iy.y+iy.r,ig)}im.forEach(aR);iw=im[0];iw.x=-iw.r;iw.y=0;id(iw);if(il>1){iv=im[1];iv.x=iv.r;iv.y=0;id(iv);if(il>2){iu=im[2];be(iw,iv,iu);id(iu);bR(iw,iu);iw._pack_prev=iu;bR(iu,iv);iv=iw._pack_next;for(ir=3;ir<il;ir++){be(iw,iv,iu=im[ir]);var ic=0,ih=1,ie=1;for(iq=iv._pack_next;iq!==iv;iq=iq._pack_next,ih++){if(en(iq,iu)){ic=1;break}}if(ic==1){for(ip=iw._pack_prev;ip!==iq._pack_prev;ip=ip._pack_prev,ie++){if(en(ip,iu)){break}}}if(ic){if(ih<ie||ih==ie&&iv.r<iw.r){bf(iw,iv=iq)}else{bf(iw=ip,iv)}ir--}else{bR(iw,iu);iv=iu;id(iu)}}}}var ij=(it+ix)/2,ii=(d3+ig)/2,ik=0;for(ir=0;ir<il;ir++){iu=im[ir];iu.x-=ij;iu.y-=ii;ik=Math.max(ik,iu.r+Math.sqrt(iu.x*iu.x+iu.y*iu.y))}io.r=ik;im.forEach(eQ)}function aR(d3){d3._pack_next=d3._pack_prev=d3}function eQ(d3){delete d3._pack_next;delete d3._pack_prev}function fn(ig,d3,ii,ic){var ie=ig.children;ig.x=d3+=ic*ig.x;ig.y=ii+=ic*ig.y;ig.r*=ic;if(ie){var id=-1,ih=ie.length;while(++id<ih){fn(ie[id],d3,ii,ic)}}}function be(ig,id,d3){var ii=ig.r+d3.r,il=id.x-ig.x,ij=id.y-ig.y;if(ii&&(il||ij)){var ik=id.r+d3.r,ih=il*il+ij*ij;ik*=ik;ii*=ii;var ie=0.5+(ii-ik)/(2*ih),ic=Math.sqrt(Math.max(0,2*ik*(ii+ih)-(ii-=ih)*ii-ik*ik))/(2*ih);d3.x=ig.x+ie*il+ic*ij;d3.y=ig.y+ie*ij-ic*il}else{d3.x=ig.x+ii;d3.y=ig.y}}ho.layout.tree=function(){var ig=ho.layout.hierarchy().sort(null).value(null),ic=dA,ik=[1,1],ih=null;function il(iv,ir){var io=ig.call(this,iv,ir),ix=io[0],iw=ij(ix);gM(iw,ie),iw.parent.m=-iw.z;ev(iw,ii);if(ih){ev(ix,id)}else{var ip=ix,iy=ix,im=ix;ev(ix,function(iz){if(iz.x<ip.x){ip=iz}if(iz.x>iy.x){iy=iz}if(iz.depth>im.depth){im=iz}});var iq=ic(ip,iy)/2-ip.x,iu=ik[0]/(iy.x+ic(iy,ip)/2+iq),it=ik[1]/(im.depth||1);ev(ix,function(iz){iz.x=(iz.x+iq)*iu;iz.y=iz.depth*it})}return io}function ij(iq){var io={A:null,children:[iq]},im=[io],ip;while((ip=im.pop())!=null){for(var it=ip.children,iv,ir=0,iu=it.length;ir<iu;++ir){im.push((it[ir]=iv={_:it[ir],parent:ip,children:(iv=it[ir].children)&&iv.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ir}).a=iv)}}return io.children[0]}function ie(io){var iq=io.children,ir=io.parent.children,im=io.i?ir[io.i-1]:null;if(iq.length){dD(io);var ip=(iq[0].z+iq[iq.length-1].z)/2;if(im){io.z=im.z+ic(io._,im._);io.m=io.z-ip}else{io.z=ip}}else{if(im){io.z=im.z+ic(io._,im._)}}io.parent.A=d3(io,im,io.parent.A||ir[0])}function ii(im){im._.x=im.z+im.parent.m;im.m+=im.parent.m}function d3(iz,iy,it){if(iy){var ip=iz,io=iz,ir=iy,iq=ip.parent.children[0],iv=ip.m,iu=io.m,ix=ir.m,iw=iq.m,im;while(ir=aB(ir),ip=hY(ip),ir&&ip){iq=hY(iq);io=aB(io);io.a=iz;im=ir.z+ix-ip.z-iv+ic(ir._,ip._);if(im>0){h0(fY(ir,iz,it),iz,im);iv+=im;iu+=im}ix+=ir.m;iv+=ip.m;iw+=iq.m;iu+=io.m}if(ir&&!aB(io)){io.t=ir;io.m+=ix-iu}if(ip&&!hY(iq)){iq.t=ip;iq.m+=iv-iw;it=iz}}return it}function id(im){im.x*=ik[0];im.y=im.depth*ik[1]}il.separation=function(im){if(!arguments.length){return ic}ic=im;return il};il.size=function(im){if(!arguments.length){return ih?null:ik}ih=(ik=im)==null?id:null;return il};il.nodeSize=function(im){if(!arguments.length){return ih?ik:null}ih=(ik=im)==null?null:id;return il};return gs(il,ig)};function dA(ic,d3){return ic.parent==d3.parent?1:2}function hY(d3){var ic=d3.children;return ic.length?ic[0]:d3.t}function aB(d3){var ic=d3.children,id;return(id=ic.length)?ic[id-1]:d3.t}function h0(id,ic,d3){var ie=d3/(ic.i-id.i);ic.c-=ie;ic.s+=d3;id.c+=ie;ic.z+=d3;ic.m+=d3}function dD(id){var ic=0,ih=0,ig=id.children,ie=ig.length,d3;while(--ie>=0){d3=ig[ie];d3.z+=ic;d3.m+=ic;ic+=d3.s+(ih+=d3.c)}}function fY(ic,d3,id){return ic.a.parent===d3.parent?ic.a:id}ho.layout.cluster=function(){var id=ho.layout.hierarchy().sort(null).value(null),ig=dA,ie=[1,1],ic=false;function d3(im,il){var ih=id.call(this,im,il),io=ih[0],ip,iq=0;gM(io,function(iu){var it=iu.children;if(it&&it.length){iu.x=by(it);iu.y=bx(it)}else{iu.x=ip?iq+=ig(iu,ip):0;iu.y=0;ip=iu}});var ik=eD(io),ir=dG(io),ij=ik.x-ig(ik,ir)/2,ii=ir.x+ig(ir,ik)/2;gM(io,ic?function(it){it.x=(it.x-io.x)*ie[0];it.y=(io.y-it.y)*ie[1]}:function(it){it.x=(it.x-ij)/(ii-ij)*ie[0];it.y=(1-(io.y?it.y/io.y:1))*ie[1]});return ih}d3.separation=function(ih){if(!arguments.length){return ig}ig=ih;return d3};d3.size=function(ih){if(!arguments.length){return ic?null:ie}ic=(ie=ih)==null;return d3};d3.nodeSize=function(ih){if(!arguments.length){return ic?ie:null}ic=(ie=ih)!=null;return d3};return gs(d3,id)};function bx(d3){return 1+ho.max(d3,function(ic){return ic.y})}function by(d3){return d3.reduce(function(ic,id){return ic+id.x},0)/d3.length}function eD(ic){var d3=ic.children;return d3&&d3.length?eD(d3[0]):ic}function dG(ic){var d3=ic.children,id;return d3&&(id=d3.length)?dG(d3[id-1]):ic}ho.layout.treemap=function(){var ik=ho.layout.hierarchy(),ip=Math.round,ir=[1,1],il=null,d3=e7,im=false,ii,ih="squarify",ij=0.5*(1+Math.sqrt(5));function ic(iv,it){var iu=-1,iy=iv.length,ix,iw;while(++iu<iy){iw=(ix=iv[iu]).value*(it<0?0:it);ix.area=isNaN(iw)||iw<=0?0:iw}}function ie(ix){var iu=ix.children;if(iu&&iu.length){var iA=d3(ix),iC=[],iz=iu.slice(),it,iy=Infinity,iw,iB=ih==="slice"?iA.dx:ih==="dice"?iA.dy:ih==="slice-dice"?ix.depth&1?iA.dy:iA.dx:Math.min(iA.dx,iA.dy),iv;ic(iz,iA.dx*iA.dy/ix.value);iC.area=0;while((iv=iz.length)>0){iC.push(it=iz[iv-1]);iC.area+=it.area;if(ih!=="squarify"||(iw=id(iC,iB))<=iy){iz.pop();iy=iw}else{iC.area-=iC.pop().area;ig(iC,iB,iA,false);iB=Math.min(iA.dx,iA.dy);iC.length=iC.area=0;iy=Infinity}}if(iC.length){ig(iC,iB,iA,true);iC.length=iC.area=0}iu.forEach(ie)}}function iq(iw){var it=iw.children;if(it&&it.length){var iv=d3(iw),iu=it.slice(),iy,ix=[];ic(iu,iv.dx*iv.dy/iw.value);ix.area=0;while(iy=iu.pop()){ix.push(iy);ix.area+=iy.area;if(iy.z!=null){ig(ix,iy.z?iv.dx:iv.dy,iv,!iu.length);ix.length=ix.area=0}}it.forEach(iq)}}function id(iy,iu){var iw=iy.area,ix,iA=0,it=Infinity,iv=-1,iz=iy.length;while(++iv<iz){if(!(ix=iy[iv].area)){continue}if(ix<it){it=ix}if(ix>iA){iA=ix}}iw*=iw;iu*=iu;return iw?Math.max(iu*iA*ij/iw,iw/(iu*it*ij)):Infinity}function ig(iC,iB,ix,iA){var iv=-1,iu=iC.length,iy=ix.x,iw=ix.y,iz=iB?ip(iC.area/iB):0,it;if(iB==ix.dx){if(iA||iz>ix.dy){iz=ix.dy}while(++iv<iu){it=iC[iv];it.x=iy;it.y=iw;it.dy=iz;iy+=it.dx=Math.min(ix.x+ix.dx-iy,iz?ip(it.area/iz):0)}it.z=true;it.dx+=ix.x+ix.dx-iy;ix.y+=iz;ix.dy-=iz}else{if(iA||iz>ix.dx){iz=ix.dx}while(++iv<iu){it=iC[iv];it.x=iy;it.y=iw;it.dx=iz;iw+=it.dy=Math.min(ix.y+ix.dy-iw,iz?ip(it.area/iz):0)}it.z=false;it.dy+=ix.y+ix.dy-iw;ix.x+=iz;ix.dx-=iz}}function io(iv){var iu=ii||ik(iv),it=iu[0];it.x=it.y=0;if(it.value){it.dx=ir[0],it.dy=ir[1]}else{it.dx=it.dy=0}if(ii){ik.revalue(it)}ic([it],it.dx*it.dy/it.value);(ii?iq:ie)(it);if(im){ii=iu}return iu}io.size=function(it){if(!arguments.length){return ir}ir=it;return io};io.padding=function(it){if(!arguments.length){return il}function iw(ix){var iy=it.call(io,ix,ix.depth);return iy==null?e7(ix):a0(ix,typeof iy==="number"?[iy,iy,iy,iy]:iy)}function iv(ix){return a0(ix,it)}var iu;d3=(il=it)==null?e7:(iu=typeof it)==="function"?iw:iu==="number"?(it=[it,it,it,it],iv):iv;return io};io.round=function(it){if(!arguments.length){return ip!=Number}ip=it?Math.round:Number;return io};io.sticky=function(it){if(!arguments.length){return im}im=it;ii=null;return io};io.ratio=function(it){if(!arguments.length){return ij}ij=it;return io};io.mode=function(it){if(!arguments.length){return ih}ih=it+"";return io};return gs(io,ik)};function e7(d3){return{x:d3.x,y:d3.y,dx:d3.dx,dy:d3.dy}}function a0(ie,ig){var d3=ie.x+ig[3],ih=ie.y+ig[0],id=ie.dx-ig[1]-ig[3],ic=ie.dy-ig[0]-ig[2];if(id<0){d3+=id/2;id=0}if(ic<0){ih+=ic/2;ic=0}return{x:d3,y:ih,dx:id,dy:ic}}ho.random={normal:function(ic,d3){var id=arguments.length;if(id<2){d3=1}if(id<1){ic=0}return function(){var ie,ih,ig;do{ie=Math.random()*2-1;ih=Math.random()*2-1;ig=ie*ie+ih*ih}while(!ig||ig>1);return ic+d3*ie*Math.sqrt(-2*Math.log(ig)/ig)}},logNormal:function(){var d3=ho.random.normal.apply(ho,arguments);return function(){return Math.exp(d3())}},bates:function(d3){var ic=ho.random.irwinHall(d3);return function(){return ic()/d3}},irwinHall:function(d3){return function(){for(var id=0,ic=0;ic<d3;ic++){id+=Math.random()}return id}}};ho.scale={};function et(ic){var id=ic[0],d3=ic[ic.length-1];return id<d3?[id,d3]:[d3,id]}function aZ(d3){return d3.rangeExtent?d3.rangeExtent():et(d3.range())}function aG(ig,d3,ih,id){var ic=ih(ig[0],ig[1]),ie=id(d3[0],d3[1]);return function(ii){return ie(ic(ii))}}function gi(ii,ig){var ih=0,ie=ii.length-1,id=ii[ih],ic=ii[ie],d3;if(ic<id){d3=ih,ih=ie,ie=d3;d3=id,id=ic,ic=d3}ii[ih]=ig.floor(id);ii[ie]=ig.ceil(ic);return ii}function a7(d3){return d3?{floor:function(ic){return Math.floor(ic/d3)*d3},ceil:function(ic){return Math.ceil(ic/d3)*d3}}:eC}var eC={floor:gl,ceil:gl};function M(ii,ic,ij,ig){var ie=[],ih=[],id=0,d3=Math.min(ii.length,ic.length)-1;if(ii[d3]<ii[0]){ii=ii.slice().reverse();ic=ic.slice().reverse()}while(++id<=d3){ie.push(ij(ii[id-1],ii[id]));ih.push(ig(ic[id-1],ic[id]))}return function(ik){var il=ho.bisect(ii,ik,1,d3)-1;return ih[il](ie[il](ik))}}ho.scale.linear=function(){return ej([0,1],[0,1],fC,false)};function ej(ih,ie,ig,ij){var id,ic;function d3(){var ik=Math.min(ih.length,ie.length)>2?M:aG,il=ij?az:hw;id=ik(ih,ie,il,ig);ic=ik(ie,ih,il,fC);return ii}function ii(ik){return id(ik)}ii.invert=function(ik){return ic(ik)};ii.domain=function(ik){if(!arguments.length){return ih}ih=ik.map(Number);return d3()};ii.range=function(ik){if(!arguments.length){return ie}ie=ik;return d3()};ii.rangeRound=function(ik){return ii.range(ik).interpolate(fx)};ii.clamp=function(ik){if(!arguments.length){return ij}ij=ik;return d3()};ii.interpolate=function(ik){if(!arguments.length){return ig}ig=ik;return d3()};ii.ticks=function(ik){return e2(ih,ik)};ii.tickFormat=function(ik,il){return fa(ih,ik,il)};ii.nice=function(ik){aM(ih,ik);return d3()};ii.copy=function(){return ej(ih,ie,ig,ij)};return d3()}function ga(ic,d3){return ho.rebind(ic,d3,"range","rangeRound","interpolate","clamp")}function aM(ic,d3){gi(ic,a7(q(ic,d3)[2]));gi(ic,a7(q(ic,d3)[2]));return ic}function q(ih,d3){if(d3==null){d3=10}var id=et(ih),ic=id[1]-id[0],ig=Math.pow(10,Math.floor(Math.log(ic/d3)/Math.LN10)),ie=d3/ic*ig;if(ie<=0.15){ig*=10}else{if(ie<=0.35){ig*=5}else{if(ie<=0.75){ig*=2}}}id[0]=Math.ceil(id[0]/ig)*ig;id[1]=Math.floor(id[1]/ig)*ig+ig*0.5;id[2]=ig;return id}function e2(ic,d3){return ho.range.apply(ho,q(ic,d3))}function fa(ig,d3,ih){var ic=q(ig,d3);if(ih){var id=cA.exec(ih);id.shift();if(id[8]==="s"){var ie=ho.formatPrefix(Math.max(cH(ic[0]),cH(ic[1])));if(!id[7]){id[7]="."+gW(ie.scale(ic[2]))}id[8]="f";ih=ho.format(id.join(""));return function(ii){return ih(ie.scale(ii))+ie.symbol}}if(!id[7]){id[7]="."+y(id[8],ic)}ih=id.join("")}else{ih=",."+gW(ic[2])+"f"}return ho.format(ih)}var hX={s:1,g:1,p:1,r:1,e:1};function gW(d3){return -Math.floor(Math.log(d3)/Math.LN10+0.01)}function y(ic,d3){var id=gW(d3[2]);return ic in hX?Math.abs(id-gW(Math.max(cH(d3[0]),cH(d3[1]))))+ +(ic!=="e"):id-(ic==="%")*2}ho.scale.log=function(){return gG(ho.scale.linear().domain([0,1]),10,true,[1,10])};function gG(ic,ih,d3,ig){function id(ij){return(d3?Math.log(ij<0?0:ij):-Math.log(ij>0?0:-ij))/Math.log(ih)}function ie(ij){return d3?Math.pow(ih,ij):-Math.pow(ih,-ij)}function ii(ij){return ic(id(ij))}ii.invert=function(ij){return ie(ic.invert(ij))};ii.domain=function(ij){if(!arguments.length){return ig}d3=ij[0]>=0;ic.domain((ig=ij.map(Number)).map(id));return ii};ii.base=function(ij){if(!arguments.length){return ih}ih=+ij;ic.domain(ig.map(id));return ii};ii.nice=function(){var ij=gi(ig.map(id),d3?Math:gL);ic.domain(ij);ig=ij.map(ie);return ii};ii.ticks=function(){var ip=et(ig),iq=[],im=ip[0],ik=ip[1],io=Math.floor(id(im)),il=Math.ceil(id(ik)),ir=ih%1?2:ih;if(isFinite(il-io)){if(d3){for(;io<il;io++){for(var ij=1;ij<ir;ij++){iq.push(ie(io)*ij)}}iq.push(ie(io))}else{iq.push(ie(io));for(;io++<il;){for(var ij=ir-1;ij>0;ij--){iq.push(ie(io)*ij)}}}for(io=0;iq[io]<im;io++){}for(il=iq.length;iq[il-1]>ik;il--){}iq=iq.slice(io,il)}return iq};ii.tickFormat=function(il,ik){if(!arguments.length){return dt}if(arguments.length<2){ik=dt}else{if(typeof ik!=="function"){ik=ho.format(ik)}}var ij=Math.max(1,ih*il/ii.ticks().length);return function(io){var im=io/ie(Math.round(id(io)));if(im*ih<ih-0.5){im*=ih}return im<=ij?ik(io):""}};ii.copy=function(){return gG(ic.copy(),ih,d3,ig)};return ga(ii,ic)}var dt=ho.format(".0e"),gL={floor:function(d3){return -Math.ceil(-d3)},ceil:function(d3){return -Math.floor(-d3)}};ho.scale.pow=function(){return gr(ho.scale.linear(),1,[0,1])};function gr(d3,ie,id){var ic=fT(ie),ig=fT(1/ie);function ih(ii){return d3(ic(ii))}ih.invert=function(ii){return ig(d3.invert(ii))};ih.domain=function(ii){if(!arguments.length){return id}d3.domain((id=ii.map(Number)).map(ic));return ih};ih.ticks=function(ii){return e2(id,ii)};ih.tickFormat=function(ii,ij){return fa(id,ii,ij)};ih.nice=function(ii){return ih.domain(aM(id,ii))};ih.exponent=function(ii){if(!arguments.length){return ie}ic=fT(ie=ii);ig=fT(1/ie);d3.domain(id.map(ic));return ih};ih.copy=function(){return gr(d3.copy(),ie,id)};return ga(ih,d3)}function fT(d3){return function(ic){return ic<0?-Math.pow(-ic,d3):Math.pow(ic,d3)}}ho.scale.sqrt=function(){return ho.scale.pow().exponent(0.5)};ho.scale.ordinal=function(){return ct([],{t:"range",a:[[]]})};function ct(ih,id){var ig,ic,ie;function ii(ij){return ic[((ig.get(ij)||(id.t==="range"?ig.set(ij,ih.push(ij)):NaN))-1)%ic.length]}function d3(ik,ij){return ho.range(ih.length).map(function(il){return ik+ij*il})}ii.domain=function(ij){if(!arguments.length){return ih}ih=[];ig=new aI();var il=-1,im=ij.length,ik;while(++il<im){if(!ig.has(ik=ij[il])){ig.set(ik,ih.push(ik))}}return ii[id.t].apply(ii,id.a)};ii.range=function(ij){if(!arguments.length){return ic}ic=ij;ie=0;id={t:"range",a:arguments};return ii};ii.rangePoints=function(ij,im){if(arguments.length<2){im=0}var io=ij[0],ik=ij[1],il=ih.length<2?(io=(io+ik)/2,0):(ik-io)/(ih.length-1+im);ic=d3(io+il*im/2,il);ie=0;id={t:"rangePoints",a:arguments};return ii};ii.rangeRoundPoints=function(ij,im){if(arguments.length<2){im=0}var io=ij[0],ik=ij[1],il=ih.length<2?(io=ik=Math.round((io+ik)/2),0):(ik-io)/(ih.length-1+im)|0;ic=d3(io+Math.round(il*im/2+(ik-io-(ih.length-1+im)*il)/2),il);ie=0;id={t:"rangeRoundPoints",a:arguments};return ii};ii.rangeBands=function(ik,ip,ij){if(arguments.length<2){ip=0}if(arguments.length<3){ij=ip}var il=ik[1]<ik[0],iq=ik[il-0],im=ik[1-il],io=(im-iq)/(ih.length-ip+2*ij);ic=d3(iq+io*ij,io);if(il){ic.reverse()}ie=io*(1-ip);id={t:"rangeBands",a:arguments};return ii};ii.rangeRoundBands=function(ik,ip,ij){if(arguments.length<2){ip=0}if(arguments.length<3){ij=ip}var il=ik[1]<ik[0],iq=ik[il-0],im=ik[1-il],io=Math.floor((im-iq)/(ih.length-ip+2*ij));ic=d3(iq+Math.round((im-iq-(ih.length-ip)*io)/2),io);if(il){ic.reverse()}ie=Math.round(io*(1-ip));id={t:"rangeRoundBands",a:arguments};return ii};ii.rangeBand=function(){return ie};ii.rangeExtent=function(){return et(id.a[0])};ii.copy=function(){return ct(ih,id)};return ii.domain(ih)}ho.scale.category10=function(){return ho.scale.ordinal().range(cB)};ho.scale.category20=function(){return ho.scale.ordinal().range(cj)};ho.scale.category20b=function(){return ho.scale.ordinal().range(hc)};ho.scale.category20c=function(){return ho.scale.ordinal().range(ha)};var cB=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dx);var cj=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dx);var hc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dx);var ha=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dx);ho.scale.quantile=function(){return C([],[])};function C(id,ic){var ie;function d3(){var ih=0,ii=ic.length;ie=[];while(++ih<ii){ie[ih-1]=ho.quantile(id,ih/ii)}return ig}function ig(ih){if(!isNaN(ih=+ih)){return ic[ho.bisect(ie,ih)]}}ig.domain=function(ih){if(!arguments.length){return id}id=ih.map(ht).filter(bc).sort(fi);return d3()};ig.range=function(ih){if(!arguments.length){return ic}ic=ih;return d3()};ig.quantiles=function(){return ie};ig.invertExtent=function(ih){ih=ic.indexOf(ih);return ih<0?[NaN,NaN]:[ih>0?ie[ih-1]:id[0],ih<ie.length?ie[ih]:id[id.length-1]]};ig.copy=function(){return C(id,ic)};return d3()}ho.scale.quantize=function(){return dF(0,1,[0,1])};function dF(ig,id,ic){var ih,ie;function ii(ij){return ic[Math.max(0,Math.min(ie,Math.floor(ih*(ij-ig))))]}function d3(){ih=ic.length/(id-ig);ie=ic.length-1;return ii}ii.domain=function(ij){if(!arguments.length){return[ig,id]}ig=+ij[0];id=+ij[ij.length-1];return d3()};ii.range=function(ij){if(!arguments.length){return ic}ic=ij;return d3()};ii.invertExtent=function(ij){ij=ic.indexOf(ij);ij=ij<0?NaN:ij/ih+ig;return[ij,ij+1/ih]};ii.copy=function(){return dF(ig,id,ic)};return d3()}ho.scale.threshold=function(){return f5([0.5],[0,1])};function f5(ic,d3){function id(ie){if(ie<=ie){return d3[ho.bisect(ic,ie)]}}id.domain=function(ie){if(!arguments.length){return ic}ic=ie;return id};id.range=function(ie){if(!arguments.length){return d3}d3=ie;return id};id.invertExtent=function(ie){ie=d3.indexOf(ie);return[ic[ie-1],ic[ie]]};id.copy=function(){return f5(ic,d3)};return id}ho.scale.identity=function(){return eU([0,1])};function eU(ic){function d3(id){return +id}d3.invert=d3;d3.domain=d3.range=function(id){if(!arguments.length){return ic}ic=id.map(d3);return d3};d3.ticks=function(id){return e2(ic,id)};d3.tickFormat=function(id,ie){return fa(ic,id,ie)};d3.copy=function(){return eU(ic)};return d3}ho.svg={};function dp(){return 0}ho.svg.arc=function(){var ij=bC,ie=cT,ig=dp,ik=fU,ii=gg,ic=ao,id=bM;function d3(){var iw=Math.max(0,+ij.apply(this,arguments)),iv=Math.max(0,+ie.apply(this,arguments)),iR=ii.apply(this,arguments)-eq,iQ=ic.apply(this,arguments)-eq,iB=Math.abs(iQ-iR),iE=iR>iQ?0:1;if(iv<iw){iO=iv,iv=iw,iw=iO}if(iB>=gF){return ih(iv,iE)+(iw?ih(iw,1-iE):"")+"Z"}var iO,iF,iI,ir,iT=0,iS=0,iA,il,iz,iY,iy,iX,ix,iV,iP=[];if(ir=(+id.apply(this,arguments)||0)/2){iI=ik===fU?Math.sqrt(iw*iw+iv*iv):+ik.apply(this,arguments);if(!iE){iS*=-1}if(iv){iS=cg(iI/iv*Math.sin(ir))}if(iw){iT=cg(iI/iw*Math.sin(ir))}}if(iv){iA=iv*Math.cos(iR+iS);il=iv*Math.sin(iR+iS);iz=iv*Math.cos(iQ-iS);iY=iv*Math.sin(iQ-iS);var it=Math.abs(iQ-iR-2*iS)<=ge?0:1;if(iS&&hE(iA,il,iz,iY)===iE^it){var iG=(iR+iQ)/2;iA=iv*Math.cos(iG);il=iv*Math.sin(iG);iz=iY=null}}else{iA=il=0}if(iw){iy=iw*Math.cos(iQ-iT);iX=iw*Math.sin(iQ-iT);ix=iw*Math.cos(iR+iT);iV=iw*Math.sin(iR+iT);var iu=Math.abs(iR-iQ+2*iT)<=ge?0:1;if(iT&&hE(iy,iX,ix,iV)===1-iE^iu){var iH=(iR+iQ)/2;iy=iw*Math.cos(iH);iX=iw*Math.sin(iH);ix=iV=null}}else{iy=iX=0}if(iB>gn&&(iO=Math.min(Math.abs(iv-iw)/2,+ig.apply(this,arguments)))>0.001){iF=iw<iv^iE?0:1;var iU=iO,iW=iO;if(iB<ge){var iL=ix==null?[iy,iX]:iz==null?[iA,il]:gj([iA,il],[ix,iV],[iz,iY],[iy,iX]),iq=iA-iL[0],ip=il-iL[1],iN=iz-iL[0],iM=iY-iL[1],im=1/Math.sin(Math.acos((iq*iN+ip*iM)/(Math.sqrt(iq*iq+ip*ip)*Math.sqrt(iN*iN+iM*iM)))/2),iJ=Math.sqrt(iL[0]*iL[0]+iL[1]*iL[1]);iW=Math.min(iO,(iw-iJ)/(im-1));iU=Math.min(iO,(iv-iJ)/(im+1))}if(iz!=null){var iD=fe(ix==null?[iy,iX]:[ix,iV],[iA,il],iv,iU,iE),io=fe([iz,iY],[iy,iX],iv,iU,iE);if(iO===iU){iP.push("M",iD[0],"A",iU,",",iU," 0 0,",iF," ",iD[1],"A",iv,",",iv," 0 ",1-iE^hE(iD[1][0],iD[1][1],io[1][0],io[1][1]),",",iE," ",io[1],"A",iU,",",iU," 0 0,",iF," ",io[0])}else{iP.push("M",iD[0],"A",iU,",",iU," 0 1,",iF," ",io[0])}}else{iP.push("M",iA,",",il)}if(ix!=null){var iC=fe([iA,il],[ix,iV],iw,-iW,iE),iK=fe([iy,iX],iz==null?[iA,il]:[iz,iY],iw,-iW,iE);if(iO===iW){iP.push("L",iK[0],"A",iW,",",iW," 0 0,",iF," ",iK[1],"A",iw,",",iw," 0 ",iE^hE(iK[1][0],iK[1][1],iC[1][0],iC[1][1]),",",1-iE," ",iC[1],"A",iW,",",iW," 0 0,",iF," ",iC[0])}else{iP.push("L",iK[0],"A",iW,",",iW," 0 0,",iF," ",iC[0])}}else{iP.push("L",iy,",",iX)}}else{iP.push("M",iA,",",il);if(iz!=null){iP.push("A",iv,",",iv," 0 ",it,",",iE," ",iz,",",iY)}iP.push("L",iy,",",iX);if(ix!=null){iP.push("A",iw,",",iw," 0 ",iu,",",1-iE," ",ix,",",iV)}}iP.push("Z");return iP.join("")}function ih(im,il){return"M0,"+im+"A"+im+","+im+" 0 1,"+il+" 0,"+-im+"A"+im+","+im+" 0 1,"+il+" 0,"+im}d3.innerRadius=function(il){if(!arguments.length){return ij}ij=R(il);return d3};d3.outerRadius=function(il){if(!arguments.length){return ie}ie=R(il);return d3};d3.cornerRadius=function(il){if(!arguments.length){return ig}ig=R(il);return d3};d3.padRadius=function(il){if(!arguments.length){return ik}ik=il==fU?fU:R(il);return d3};d3.startAngle=function(il){if(!arguments.length){return ii}ii=R(il);return d3};d3.endAngle=function(il){if(!arguments.length){return ic}ic=R(il);return d3};d3.padAngle=function(il){if(!arguments.length){return id}id=R(il);return d3};d3.centroid=function(){var im=(+ij.apply(this,arguments)+ +ie.apply(this,arguments))/2,il=(+ii.apply(this,arguments)+ +ic.apply(this,arguments))/2-eq;return[Math.cos(il)*im,Math.sin(il)*im]};return d3};var fU="auto";function bC(d3){return d3.innerRadius}function cT(d3){return d3.outerRadius}function gg(d3){return d3.startAngle}function ao(d3){return d3.endAngle}function bM(d3){return d3&&d3.padAngle}function hE(ic,ie,d3,id){return(ic-d3)*ie-(ie-id)*ic>0?0:1}function fe(ic,d3,iA,iz,ij){var iy=ic[0]-d3[0],il=ic[1]-d3[1],io=(ij?iz:-iz)/Math.sqrt(iy*iy+il*il),im=io*il,ik=-io*iy,iD=ic[0]+im,ii=ic[1]+ik,iC=d3[0]+im,ig=d3[1]+ik,iB=(iD+iC)/2,id=(ii+ig)/2,it=iC-iD,iq=ig-ii,iH=it*it+iq*iq,iw=iA-iz,iu=iD*ig-iC*ii,iE=(iq<0?-1:1)*Math.sqrt(Math.max(0,iw*iw*iH-iu*iu)),ix=(iu*iq-it*iE)/iH,iG=(-iu*it-iq*iE)/iH,iv=(iu*iq+it*iE)/iH,iF=(-iu*it+iq*iE)/iH,ih=ix-iB,ir=iG-id,ie=iv-iB,ip=iF-id;if(ih*ih+ir*ir>ie*ie+ip*ip){ix=iv,iG=iF}return[[ix-im,iG-ik],[ix*iA/iw,iG*iA/iw]]}function e9(ic){var d3=hV,ij=hU,ii=ah,ie=hR,ih=ie.key,ig=0.7;function id(io){var iq=[],iu=[],ip=-1,ik=io.length,it,im=R(d3),il=R(ij);function ir(){iq.push("M",ie(ic(iu),ig))}while(++ip<ik){if(ii.call(this,it=io[ip],ip)){iu.push([+im.call(this,it,ip),+il.call(this,it,ip)])}else{if(iu.length){ir();iu=[]}}}if(iu.length){ir()}return iq.length?iq.join(""):null}id.x=function(ik){if(!arguments.length){return d3}d3=ik;return id};id.y=function(ik){if(!arguments.length){return ij}ij=ik;return id};id.defined=function(ik){if(!arguments.length){return ii}ii=ik;return id};id.interpolate=function(ik){if(!arguments.length){return ih}if(typeof ik==="function"){ih=ie=ik}else{ih=(ie=cf.get(ik)||hR).key}return id};id.tension=function(ik){if(!arguments.length){return ig}ig=ik;return id};return id}ho.svg.line=function(){return e9(gl)};var cf=ho.map({linear:hR,"linear-closed":Z,step:da,"step-before":bm,"step-after":hy,basis:fd,"basis-open":bj,"basis-closed":cO,bundle:cR,cardinal:dS,"cardinal-open":b5,"cardinal-closed":s,monotone:dj});cf.forEach(function(d3,ic){ic.key=d3;ic.closed=/-closed$/.test(d3)});function hR(d3){return d3.length>1?d3.join("L"):d3+"Z"}function Z(d3){return d3.join("L")+"Z"}function da(ic){var d3=0,ig=ic.length,ie=ic[0],id=[ie[0],",",ie[1]];while(++d3<ig){id.push("H",(ie[0]+(ie=ic[d3])[0])/2,"V",ie[1])}if(ig>1){id.push("H",ie[0])}return id.join("")}function bm(ic){var d3=0,ig=ic.length,ie=ic[0],id=[ie[0],",",ie[1]];while(++d3<ig){id.push("V",(ie=ic[d3])[1],"H",ie[0])}return id.join("")}function hy(ic){var d3=0,ig=ic.length,ie=ic[0],id=[ie[0],",",ie[1]];while(++d3<ig){id.push("H",(ie=ic[d3])[0],"V",ie[1])}return id.join("")}function b5(ic,d3){return ic.length<4?hR(ic):ic[1]+cY(ic.slice(1,-1),bX(ic,d3))}function s(ic,d3){return ic.length<3?Z(ic):ic[0]+cY((ic.push(ic[0]),ic),bX([ic[ic.length-2]].concat(ic,[ic[1]]),d3))}function dS(ic,d3){return ic.length<3?hR(ic):ic[0]+cY(ic,bX(ic,d3))}function cY(ii,ih){if(ih.length<1||ii.length!=ih.length&&ii.length!=ih.length+2){return hR(ii)}var ij=ii.length!=ih.length,im="",ik=ii[0],d3=ii[1],ig=ih[0],il=ig,id=1;if(ij){im+="Q"+(d3[0]-ig[0]*2/3)+","+(d3[1]-ig[1]*2/3)+","+d3[0]+","+d3[1];ik=ii[1];id=2}if(ih.length>1){il=ih[1];d3=ii[id];id++;im+="C"+(ik[0]+ig[0])+","+(ik[1]+ig[1])+","+(d3[0]-il[0])+","+(d3[1]-il[1])+","+d3[0]+","+d3[1];for(var ic=2;ic<ih.length;ic++,id++){d3=ii[id];il=ih[ic];im+="S"+(d3[0]-il[0])+","+(d3[1]-il[1])+","+d3[0]+","+d3[1]}}if(ij){var ie=ii[id];im+="Q"+(d3[0]+il[0]*2/3)+","+(d3[1]+il[1]*2/3)+","+ie[0]+","+ie[1]}return im}function bX(ii,ig){var id=[],ie=(1-ig)/2,ik,ij=ii[0],ih=ii[1],ic=1,d3=ii.length;while(++ic<d3){ik=ij;ij=ih;ih=ii[ic];id.push([ie*(ih[0]-ik[0]),ie*(ih[1]-ik[1])])}return id}function fd(ij){if(ij.length<3){return hR(ij)}var id=1,ic=ij.length,ie=ij[0],d3=ie[0],ih=ie[1],ii=[d3,d3,d3,(ie=ij[1])[0]],ig=[ih,ih,ih,ie[1]],ik=[d3,",",ih,"L",gm(hn,ii),",",gm(hn,ig)];ij.push(ij[ic-1]);while(++id<=ic){ie=ij[id];ii.shift();ii.push(ie[0]);ig.shift();ig.push(ie[1]);bQ(ik,ii,ig)}ij.pop();ik.push("L",ie);return ik.join("")}function bj(ie){if(ie.length<4){return hR(ie)}var ih=[],id=-1,ii=ie.length,ig,ic=[0],d3=[0];while(++id<3){ig=ie[id];ic.push(ig[0]);d3.push(ig[1])}ih.push(gm(hn,ic)+","+gm(hn,d3));--id;while(++id<ii){ig=ie[id];ic.shift();ic.push(ig[0]);d3.shift();d3.push(ig[1]);bQ(ih,ic,d3)}return ih.join("")}function cO(ig){var ii,ie=-1,ij=ig.length,d3=ij+4,ih,id=[],ic=[];while(++ie<4){ih=ig[ie%ij];id.push(ih[0]);ic.push(ih[1])}ii=[gm(hn,id),",",gm(hn,ic)];--ie;while(++ie<d3){ih=ig[ie%ij];id.shift();id.push(ih[0]);ic.shift();ic.push(ih[1]);bQ(ii,id,ic)}return ii.join("")}function cR(ii,ih){var id=ii.length-1;if(id){var ic=ii[0][0],ig=ii[0][1],il=ii[id][0]-ic,ik=ii[id][1]-ig,ie=-1,d3,ij;while(++ie<=id){d3=ii[ie];ij=ie/id;d3[0]=ih*d3[0]+(1-ih)*(ic+ij*il);d3[1]=ih*d3[1]+(1-ih)*(ig+ij*ik)}}return fd(ii)}function gm(ic,d3){return ic[0]*d3[0]+ic[1]*d3[1]+ic[2]*d3[2]+ic[3]*d3[3]}var hr=[0,2/3,1/3,0],hp=[0,1/3,2/3,0],hn=[0,1/6,2/3,1/6];function bQ(ic,d3,id){ic.push("C",gm(hr,d3),",",gm(hr,id),",",gm(hp,d3),",",gm(hp,id),",",gm(hn,d3),",",gm(hn,id))}function h5(ic,d3){return(d3[1]-ic[1])/(d3[0]-ic[0])}function d9(ie){var id=0,ic=ie.length-1,d3=[],ii=ie[0],ih=ie[1],ig=d3[0]=h5(ii,ih);while(++id<ic){d3[id]=(ig+(ig=h5(ii=ih,ih=ie[id+1])))/2}d3[id]=ig;return d3}function au(ij){var ig=[],ie,ii,ih,ik,d3=d9(ij),id=-1,ic=ij.length-1;while(++id<ic){ie=h5(ij[id],ij[id+1]);if(cH(ie)<gn){d3[id]=d3[id+1]=0}else{ii=d3[id]/ie;ih=d3[id+1]/ie;ik=ii*ii+ih*ih;if(ik>9){ik=ie*3/Math.sqrt(ik);d3[id]=ik*ii;d3[id+1]=ik*ih}}}id=-1;while(++id<=ic){ik=(ij[Math.min(ic,id+1)][0]-ij[Math.max(0,id-1)][0])/(6*(1+d3[id]*d3[id]));ig.push([ik||0,d3[id]*ik||0])}return ig}function dj(d3){return d3.length<3?hR(d3):d3[0]+cY(d3,au(d3))}ho.svg.line.radial=function(){var d3=e9(P);d3.radius=d3.x,delete d3.x;d3.angle=d3.y,delete d3.y;return d3};function P(ie){var d3,id=-1,ih=ie.length,ig,ic;while(++id<ih){d3=ie[id];ig=d3[0];ic=d3[1]-eq;d3[0]=ig*Math.cos(ic);d3[1]=ig*Math.sin(ic)}return ie}function h7(ig){var id=hV,ic=hV,im=0,ik=hU,ie=ah,ih=hR,io=ih.key,ij=ih,ii="L",il=0.7;function d3(iu){var iw=[],ip=[],iD=[],iv=-1,iq=iu.length,iy,it=R(id),iC=R(im),ir=id===ic?function(){return iA}:R(ic),iB=im===ik?function(){return iz}:R(ik),iA,iz;function ix(){iw.push("M",ih(ig(iD),il),ii,ij(ig(ip.reverse()),il),"Z")}while(++iv<iq){if(ie.call(this,iy=iu[iv],iv)){ip.push([iA=+it.call(this,iy,iv),iz=+iC.call(this,iy,iv)]);iD.push([+ir.call(this,iy,iv),+iB.call(this,iy,iv)])}else{if(ip.length){ix();ip=[];iD=[]}}}if(ip.length){ix()}return iw.length?iw.join(""):null}d3.x=function(ip){if(!arguments.length){return ic}id=ic=ip;return d3};d3.x0=function(ip){if(!arguments.length){return id}id=ip;return d3};d3.x1=function(ip){if(!arguments.length){return ic}ic=ip;return d3};d3.y=function(ip){if(!arguments.length){return ik}im=ik=ip;return d3};d3.y0=function(ip){if(!arguments.length){return im}im=ip;return d3};d3.y1=function(ip){if(!arguments.length){return ik}ik=ip;return d3};d3.defined=function(ip){if(!arguments.length){return ie}ie=ip;return d3};d3.interpolate=function(ip){if(!arguments.length){return io}if(typeof ip==="function"){io=ih=ip}else{io=(ih=cf.get(ip)||hR).key}ij=ih.reverse||ih;ii=ih.closed?"M":"L";return d3};d3.tension=function(ip){if(!arguments.length){return il}il=ip;return d3};return d3}bm.reverse=hy;hy.reverse=bm;ho.svg.area=function(){return h7(gl)};ho.svg.area.radial=function(){var d3=h7(P);d3.radius=d3.x,delete d3.x;d3.innerRadius=d3.x0,delete d3.x0;d3.outerRadius=d3.x1,delete d3.x1;d3.angle=d3.y,delete d3.y;d3.startAngle=d3.y0,delete d3.y0;d3.endAngle=d3.y1,delete d3.y1;return d3};ho.svg.chord=function(){var d3=hJ,ij=hQ,ii=H,ik=gg,ig=ao;function ih(iq,io){var ip=il(this,d3,iq,io),im=il(this,ij,iq,io);return"M"+ip.p0+ic(ip.r,ip.p1,ip.a1-ip.a0)+(id(ip,im)?ie(ip.r,ip.p1,ip.r,ip.p0):ie(ip.r,ip.p1,im.r,im.p0)+ic(im.r,im.p1,im.a1-im.a0)+ie(im.r,im.p1,ip.r,ip.p0))+"Z"}function il(iq,iu,iv,ir){var ip=iu.call(iq,iv,ir),it=ii.call(iq,ip,ir),io=ik.call(iq,ip,ir)-eq,im=ig.call(iq,ip,ir)-eq;return{r:it,a0:io,a1:im,p0:[it*Math.cos(io),it*Math.sin(io)],p1:[it*Math.cos(im),it*Math.sin(im)]}}function id(io,im){return io.a0==im.a0&&io.a1==im.a1}function ic(io,ip,im){return"A"+io+","+io+" 0 "+ +(im>ge)+",1 "+ip}function ie(io,iq,im,ip){return"Q 0,0 "+ip}ih.radius=function(im){if(!arguments.length){return ii}ii=R(im);return ih};ih.source=function(im){if(!arguments.length){return d3}d3=R(im);return ih};ih.target=function(im){if(!arguments.length){return ij}ij=R(im);return ih};ih.startAngle=function(im){if(!arguments.length){return ik}ik=R(im);return ih};ih.endAngle=function(im){if(!arguments.length){return ig}ig=R(im);return ih};return ih};function H(d3){return d3.radius}ho.svg.diagonal=function(){var id=hJ,ie=hQ,d3=n;function ic(ik,ih){var il=id.call(this,ik,ih),ii=ie.call(this,ik,ih),ig=(il.y+ii.y)/2,ij=[il,{x:il.x,y:ig},{x:ii.x,y:ig},ii];ij=ij.map(d3);return"M"+ij[0]+"C"+ij[1]+" "+ij[2]+" "+ij[3]}ic.source=function(ig){if(!arguments.length){return id}id=R(ig);return ic};ic.target=function(ig){if(!arguments.length){return ie}ie=R(ig);return ic};ic.projection=function(ig){if(!arguments.length){return d3}d3=ig;return ic};return ic};function n(d3){return[d3.x,d3.y]}ho.svg.diagonal.radial=function(){var id=ho.svg.diagonal(),d3=n,ic=id.projection;id.projection=function(ie){return arguments.length?ic(o(d3=ie)):d3};return id};function o(d3){return function(){var ie=d3.apply(this,arguments),id=ie[0],ic=ie[1]-eq;return[id*Math.cos(ic),id*Math.sin(ic)]}}ho.svg.symbol=function(){var ic=aV,d3=e5;function id(ig,ie){return(hO.get(ic.call(this,ig,ie))||ch)(d3.call(this,ig,ie))}id.type=function(ie){if(!arguments.length){return ic}ic=R(ie);return id};id.size=function(ie){if(!arguments.length){return d3}d3=R(ie);return id};return id};function e5(){return 64}function aV(){return"circle"}function ch(d3){var ic=Math.sqrt(d3/ge);return"M0,"+ic+"A"+ic+","+ic+" 0 1,1 0,"+-ic+"A"+ic+","+ic+" 0 1,1 0,"+ic+"Z"}var hO=ho.map({circle:ch,cross:function(d3){var ic=Math.sqrt(d3/5)/2;return"M"+-3*ic+","+-ic+"H"+-ic+"V"+-3*ic+"H"+ic+"V"+-ic+"H"+3*ic+"V"+ic+"H"+ic+"V"+3*ic+"H"+-ic+"V"+ic+"H"+-3*ic+"Z"},diamond:function(d3){var ic=Math.sqrt(d3/(2*cn)),id=ic*cn;return"M0,"+-ic+"L"+id+",0 0,"+ic+" "+-id+",0Z"},square:function(d3){var ic=Math.sqrt(d3)/2;return"M"+-ic+","+-ic+"L"+ic+","+-ic+" "+ic+","+ic+" "+-ic+","+ic+"Z"},"triangle-down":function(d3){var id=Math.sqrt(d3/b9),ic=id*b9/2;return"M0,"+ic+"L"+id+","+-ic+" "+-id+","+-ic+"Z"},"triangle-up":function(d3){var id=Math.sqrt(d3/b9),ic=id*b9/2;return"M0,"+-ic+"L"+id+","+ic+" "+-id+","+ic+"Z"}});ho.svg.symbolTypes=hO.keys();var b9=Math.sqrt(3),cn=Math.tan(30*J);dZ.transition=function(d3){var ic=ar||++hb,im=gz(d3),ig=[],ip,ii,il=d5||{time:Date.now(),ease:aw,delay:0,duration:250};for(var ij=-1,ih=this.length;++ij<ih;){ig.push(ip=[]);for(var io=this[ij],ik=-1,ie=io.length;++ik<ie;){if(ii=io[ik]){fB(ii,ik,im,ic,il)}ip.push(ii)}}return gR(ig,im,ic)};dZ.interrupt=function(d3){return this.each(d3==null?cV:dw(gz(d3)))};var cV=dw(gz());function dw(d3){return function(){var id,ic,ie;if((id=this[d3])&&(ie=id[ic=id.active])){ie.timer.c=null;ie.timer.t=NaN;if(--id.count){delete id[ic]}else{delete this[d3]}id.active+=0.5;ie.event&&ie.event.interrupt.call(this,this.__data__,ie.index)}}}function gR(d3,ic,ie){h6(d3,ew);d3.namespace=ic;d3.id=ie;return d3}var ew=[],hb=0,ar,d5;ew.call=dZ.call;ew.empty=dZ.empty;ew.node=dZ.node;ew.size=dZ.size;ho.transition=function(ic,d3){return ic&&ic.transition?ar?ic.transition(d3):ic:ho.selection().transition(ic)};ho.transition.prototype=ew;ew.select=function(ij){var d3=this.id,im=this.namespace,ig=[],ip,ic,ii;ij=z(ij);for(var ik=-1,ih=this.length;++ik<ih;){ig.push(ip=[]);for(var io=this[ik],il=-1,ie=io.length;++il<ie;){if((ii=io[il])&&(ic=ij.call(ii,ii.__data__,il,ik))){if("__data__" in ii){ic.__data__=ii.__data__}fB(ic,il,im,d3,ii[im][d3]);ip.push(ic)}else{ip.push(null)}}}return gR(ig,im,d3)};ew.selectAll=function(il){var ic=this.id,ir=this.namespace,ii=[],iu,d3,ik,ie,iq;il=c2(il);for(var io=-1,ij=this.length;++io<ij;){for(var it=this[io],ip=-1,ih=it.length;++ip<ih;){if(ik=it[ip]){iq=ik[ir][ic];d3=il.call(ik,ik.__data__,ip,io);ii.push(iu=[]);for(var im=-1,ig=d3.length;++im<ig;){if(ie=d3[im]){fB(ie,im,ir,ic,iq)}iu.push(ie)}}}}return gR(ii,ir,ic)};ew.filter=function(d3){var id=[],ik,ij,ie;if(typeof d3!=="function"){d3=a9(d3)}for(var ih=0,ig=this.length;ih<ig;ih++){id.push(ik=[]);for(var ij=this[ih],ii=0,ic=ij.length;ii<ic;ii++){if((ie=ij[ii])&&d3.call(ie,ie.__data__,ii,ih)){ik.push(ie)}}}return gR(id,this.namespace,this.id)};ew.tween=function(d3,ic){var ig=this.id,ie=this.namespace;if(arguments.length<2){return this.node()[ie][ig].tween.get(d3)}return cJ(this,ic==null?function(id){id[ie][ig].tween.remove(d3)}:function(id){id[ie][ig].tween.set(d3,ic)})};function hN(d3,ic,ih,ie){var ii=d3.id,ig=d3.namespace;return cJ(d3,typeof ih==="function"?function(ik,ij,id){ik[ig][ii].tween.set(ic,ie(ih.call(ik,ik.__data__,ij,id)))}:(ih=ie(ih),function(id){id[ig][ii].tween.set(ic,ih)}))}ew.attr=function(d3,ih){if(arguments.length<2){for(ih in d3){this.attr(ih,d3[ih])}return this}var ie=d3=="transform"?eh:fC,id=ho.ns.qualify(d3);function ic(){this.removeAttribute(id)}function ij(){this.removeAttributeNS(id.space,id.local)}function ig(ik){return ik==null?ic:(ik+="",function(){var il=this.getAttribute(id),im;return il!==ik&&(im=ie(il,ik),function(io){this.setAttribute(id,im(io))})})}function ii(ik){return ik==null?ij:(ik+="",function(){var il=this.getAttributeNS(id.space,id.local),im;return il!==ik&&(im=ie(il,ik),function(io){this.setAttributeNS(id.space,id.local,im(io))})})}return hN(this,"attr."+d3,ih,id.local?ii:ig)};ew.attrTween=function(d3,id){var ic=ho.ns.qualify(d3);function ie(ij,ih){var ii=id.call(this,ij,ih,this.getAttribute(ic));return ii&&function(ik){this.setAttribute(ic,ii(ik))}}function ig(ij,ih){var ii=id.call(this,ij,ih,this.getAttributeNS(ic.space,ic.local));return ii&&function(ik){this.setAttributeNS(ic.space,ic.local,ii(ik))}}return this.tween("attr."+d3,ic.local?ig:ie)};ew.style=function(id,ig,ie){var ih=arguments.length;if(ih<3){if(typeof id!=="string"){if(ih<2){ig=""}for(ie in id){this.style(ie,id[ie],ig)}return this}ie=""}function ic(){this.style.removeProperty(id)}function d3(ii){return ii==null?ic:(ii+="",function(){var ij=fy(this).getComputedStyle(this,null).getPropertyValue(id),ik;return ij!==ii&&(ik=fC(ij,ii),function(il){this.style.setProperty(id,ik(il),ie)})})}return hN(this,"style."+id,ig,d3)};ew.styleTween=function(d3,id,ic){if(arguments.length<3){ic=""}function ie(ii,ig){var ih=id.call(this,ii,ig,fy(this).getComputedStyle(this,null).getPropertyValue(d3));return ih&&function(ij){this.style.setProperty(d3,ih(ij),ic)}}return this.tween("style."+d3,ie)};ew.text=function(d3){return hN(this,"text",d3,ib)};function ib(d3){if(d3==null){d3=""}return function(){this.textContent=d3}}ew.remove=function(){var d3=this.namespace;return this.each("end.transition",function(){var ic;if(this[d3].count<2&&(ic=this.parentNode)){ic.removeChild(this)}})};ew.ease=function(ic){var ie=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ie].ease}if(typeof ic!=="function"){ic=ho.ease.apply(ho,arguments)}return cJ(this,function(id){id[d3][ie].ease=ic})};ew.delay=function(ic){var ie=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ie].delay}return cJ(this,typeof ic==="function"?function(ih,ig,id){ih[d3][ie].delay=+ic.call(ih,ih.__data__,ig,id)}:(ic=+ic,function(id){id[d3][ie].delay=ic}))};ew.duration=function(ic){var ie=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ie].duration}return cJ(this,typeof ic==="function"?function(ih,ig,id){ih[d3][ie].duration=Math.max(1,ic.call(ih,ih.__data__,ig,id))}:(ic=Math.max(1,ic),function(id){id[d3][ie].duration=ic}))};ew.each=function(ie,ig){var ii=this.id,ic=this.namespace;if(arguments.length<2){var d3=d5,ih=ar;try{ar=ii;cJ(this,function(ik,ij,id){d5=ik[ic][ii];ie.call(ik,ik.__data__,ij,id)})}finally{d5=d3;ar=ih}}else{cJ(this,function(id){var ij=id[ic][ii];(ij.event||(ij.event=ho.dispatch("start","end","interrupt"))).on(ie,ig)})}return this};ew.transition=function(){var io=this.id,im=++hb,ij=this.namespace,ic=[],il,ik,ie,ii;for(var ig=0,id=this.length;ig<id;ig++){ic.push(il=[]);for(var ik=this[ig],ih=0,d3=ik.length;ih<d3;ih++){if(ie=ik[ih]){ii=ie[ij][io];fB(ie,ih,ij,im,{time:ii.time,ease:ii.ease,delay:ii.delay+ii.duration,duration:ii.duration})}il.push(ie)}}return gR(ic,ij,im)};function gz(d3){return d3==null?"__transition__":"__transition_"+d3+"__"}function fB(ih,ik,ir,ie,il){var it=ih[ir]||(ih[ir]={active:0,count:0}),iq=it[ie],ig,ic,ij,ii,ip;function io(id){var iu=iq.delay;ic.t=iu+ig;if(iu<=id){return d3(id-iu)}ic.c=d3}function d3(id){var iu=it.active,iw=it[iu];if(iw){iw.timer.c=null;iw.timer.t=NaN;--it.count;delete it[iu];iw.event&&iw.event.interrupt.call(ih,ih.__data__,iw.index)}for(var ix in it){if(+ix<ie){var iv=it[ix];iv.timer.c=null;iv.timer.t=NaN;--it.count;delete it[ix]}}ic.c=im;g3(function(){if(ic.c&&im(id||1)){ic.c=null;ic.t=NaN}return 1},0,ig);it.active=ie;iq.event&&iq.event.start.call(ih,ih.__data__,ik);ip=[];iq.tween.forEach(function(iy,iz){if(iz=iz.call(ih,ih.__data__,ik)){ip.push(iz)}});ii=iq.ease;ij=iq.duration}function im(id){var iu=id/ij,iv=ii(iu),iw=ip.length;while(iw>0){ip[--iw].call(ih,iv)}if(iu>=1){iq.event&&iq.event.end.call(ih,ih.__data__,ik);if(--it.count){delete it[ie]}else{delete ih[ir]}return 1}}if(!iq){ig=il.time;ic=g3(io,0,ig);iq=it[ie]={tween:new aI(),time:ig,timer:ic,delay:il.delay,duration:il.duration,ease:il.ease,index:ik};il=null;++it.count}}ho.svg.axis=function(){var id=ho.scale.linear(),ig=hW,d3=6,ih=6,ik=3,ij=[10],ie=null,ii;function ic(il){il.each(function(){var iJ=ho.select(this);var iE=this.__chart__||id,iD=this.__chart__=id.copy();var iM=ie==null?iD.ticks?iD.ticks.apply(iD,ij):iD.domain():ie,iC=ii==null?iD.tickFormat?iD.tickFormat.apply(iD,ij):gl:ii,iG=iJ.selectAll(".tick").data(iM,iD),iz=iG.enter().insert("g",".domain").attr("class","tick").style("opacity",gn),iB=ho.transition(iG.exit()).style("opacity",gn).remove(),iu=ho.transition(iG.order()).style("opacity",1),im=Math.max(d3,0)+ik,io;var iy=aZ(iD),iA=iJ.selectAll(".domain").data([0]),iN=(iA.enter().append("path").attr("class","domain"),ho.transition(iA));iz.append("line");iz.append("text");var ir=iz.select("line"),iL=iu.select("line"),ix=iG.select("text").text(iC),it=iz.select("text"),iI=iu.select("text"),iK=ig==="top"||ig==="left"?-1:1,iH,iF,iq,ip;if(ig==="bottom"||ig==="top"){io=fm,iH="x",iq="y",iF="x2",ip="y2";ix.attr("dy",iK<0?"0em":".71em").style("text-anchor","middle");iN.attr("d","M"+iy[0]+","+iK*ih+"V0H"+iy[1]+"V"+iK*ih)}else{io=fl,iH="y",iq="x",iF="y2",ip="x2";ix.attr("dy",".32em").style("text-anchor",iK<0?"end":"start");iN.attr("d","M"+iK*ih+","+iy[0]+"H0V"+iy[1]+"H"+iK*ih)}ir.attr(ip,iK*d3);it.attr(iq,iK*im);iL.attr(iF,0).attr(ip,iK*d3);iI.attr(iH,0).attr(iq,iK*im);if(iD.rangeBand){var iv=iD,iw=iv.rangeBand()/2;iE=iD=function(iO){return iv(iO)+iw}}else{if(iE.rangeBand){iE=iD}else{iB.call(io,iD,iE)}}iz.call(io,iE,iD);iu.call(io,iD,iD)})}ic.scale=function(il){if(!arguments.length){return id}id=il;return ic};ic.orient=function(il){if(!arguments.length){return ig}ig=il in e3?il+"":hW;return ic};ic.ticks=function(){if(!arguments.length){return ij}ij=dP(arguments);return ic};ic.tickValues=function(il){if(!arguments.length){return ie}ie=il;return ic};ic.tickFormat=function(il){if(!arguments.length){return ii}ii=il;return ic};ic.tickSize=function(il){var im=arguments.length;if(!im){return d3}d3=+il;ih=+arguments[im-1];return ic};ic.innerTickSize=function(il){if(!arguments.length){return d3}d3=+il;return ic};ic.outerTickSize=function(il){if(!arguments.length){return ih}ih=+il;return ic};ic.tickPadding=function(il){if(!arguments.length){return ik}ik=+il;return ic};ic.tickSubdivide=function(){return arguments.length&&ic};return ic};var hW="bottom",e3={top:1,right:1,bottom:1,left:1};function fm(id,ic,d3){id.attr("transform",function(ig){var ie=ic(ig);return"translate("+(isFinite(ie)?ie:d3(ig))+",0)"})}function fl(ic,id,d3){ic.attr("transform",function(ig){var ie=id(ig);return"translate(0,"+(isFinite(ie)?ie:d3(ig))+")"})}ho.svg.brush=function(){var ic=hi(ik,"brushstart","brush","brushend"),io=null,il=null,id=[0,0],ij=[0,0],im,ig,d3=true,ii=true,ip=at[0];function ik(it){it.each(function(){var iz=ho.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",iq).on("touchstart.brush",iq);var iy=iz.selectAll(".background").data([0]);iy.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");iz.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var ix=iz.selectAll(".resize").data(ip,gl);ix.exit().remove();ix.enter().append("g").attr("class",function(iA){return"resize "+iA}).style("cursor",function(iA){return eW[iA]}).append("rect").attr("x",function(iA){return/[ew]$/.test(iA)?-3:null}).attr("y",function(iA){return/^[ns]/.test(iA)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");ix.style("display",ik.empty()?"none":null);var iw=ho.transition(iz),iu=ho.transition(iy),iv;if(io){iv=aZ(io);iu.attr("x",iv[0]).attr("width",iv[1]-iv[0]);ih(iw)}if(il){iv=aZ(il);iu.attr("y",iv[0]).attr("height",iv[1]-iv[0]);ie(iw)}ir(iw)})}ik.event=function(it){it.each(function(){var iu=ic.of(this,arguments),iv={x:id,y:ij,i:im,j:ig},iw=this.__chart__||iv;this.__chart__=iv;if(ar){ho.select(this).transition().each("start.brush",function(){im=iw.i;ig=iw.j;id=iw.x;ij=iw.y;iu({type:"brushstart"})}).tween("brush:brush",function(){var ix=eP(id,iv.x),iy=eP(ij,iv.y);im=ig=null;return function(iz){id=iv.x=ix(iz);ij=iv.y=iy(iz);iu({type:"brush",mode:"resize"})}}).each("end.brush",function(){im=iv.i;ig=iv.j;iu({type:"brush",mode:"resize"});iu({type:"brushend"})})}else{iu({type:"brushstart"});iu({type:"brush",mode:"resize"});iu({type:"brushend"})}})};function ir(it){it.selectAll(".resize").attr("transform",function(iu){return"translate("+id[+/e$/.test(iu)]+","+ij[+/^s/.test(iu)]+")"})}function ih(it){it.select(".extent").attr("x",id[0]);it.selectAll(".extent,.n>rect,.s>rect").attr("width",id[1]-id[0])}function ie(it){it.select(".extent").attr("y",ij[0]);it.selectAll(".extent,.e>rect,.w>rect").attr("height",ij[1]-ij[0])}function iq(){var iM=this,iu=ho.select(ho.event.target),iB=ic.of(iM,arguments),iH=ho.select(iM),iJ=iu.datum(),iF=!/^(n|s)$/.test(iJ)&&io,iD=!/^(e|w)$/.test(iJ)&&il,iE=iu.classed("extent"),iw=bL(iM),iK,iL=ho.mouse(iM),iv;var iz=ho.select(fy(iM)).on("keydown.brush",iC).on("keyup.brush",iy);if(ho.event.changedTouches){iz.on("touchmove.brush",iA).on("touchend.brush",it)}else{iz.on("mousemove.brush",iA).on("mouseup.brush",it)}iH.interrupt().selectAll("*").interrupt();if(iE){iL[0]=id[0]-iL[0];iL[1]=ij[0]-iL[1]}else{if(iJ){var iI=+/w$/.test(iJ),iG=+/^n/.test(iJ);iv=[id[1-iI]-iL[0],ij[1-iG]-iL[1]];iL[0]=id[iI];iL[1]=ij[iG]}else{if(ho.event.altKey){iK=iL.slice()}}}iH.style("pointer-events","none").selectAll(".resize").style("display",null);ho.select("body").style("cursor",iu.style("cursor"));iB({type:"brushstart"});iA();function iC(){if(ho.event.keyCode==32){if(!iE){iK=null;iL[0]-=id[1];iL[1]-=ij[1];iE=2}w()}}function iy(){if(ho.event.keyCode==32&&iE==2){iL[0]+=id[1];iL[1]+=ij[1];iE=0;w()}}function iA(){var iN=ho.mouse(iM),iO=false;if(iv){iN[0]+=iv[0];iN[1]+=iv[1]}if(!iE){if(ho.event.altKey){if(!iK){iK=[(id[0]+id[1])/2,(ij[0]+ij[1])/2]}iL[0]=id[+(iN[0]<iK[0])];iL[1]=ij[+(iN[1]<iK[1])]}else{iK=null}}if(iF&&ix(iN,io,0)){ih(iH);iO=true}if(iD&&ix(iN,il,1)){ie(iH);iO=true}if(iO){ir(iH);iB({type:"brush",mode:iE?"move":"resize"})}}function ix(iV,iP,iR){var iS=aZ(iP),iO=iS[0],iN=iS[1],iT=iL[iR],iW=iR?ij:id,iX=iW[1]-iW[0],iQ,iU;if(iE){iO-=iT;iN-=iX+iT}iQ=(iR?ii:d3)?Math.max(iO,Math.min(iN,iV[iR])):iV[iR];if(iE){iU=(iQ+=iT)+iX}else{if(iK){iT=Math.max(iO,Math.min(iN,2*iK[iR]-iQ))}if(iT<iQ){iU=iQ;iQ=iT}else{iU=iT}}if(iW[0]!=iQ||iW[1]!=iU){if(iR){ig=null}else{im=null}iW[0]=iQ;iW[1]=iU;return true}}function it(){iA();iH.style("pointer-events","all").selectAll(".resize").style("display",ik.empty()?"none":null);ho.select("body").style("cursor",null);iz.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);iw();iB({type:"brushend"})}}ik.x=function(it){if(!arguments.length){return io}io=it;ip=at[!io<<1|!il];return ik};ik.y=function(it){if(!arguments.length){return il}il=it;ip=at[!io<<1|!il];return ik};ik.clamp=function(it){if(!arguments.length){return io&&il?[d3,ii]:io?d3:il?ii:null}if(io&&il){d3=!!it[0],ii=!!it[1]}else{if(io){d3=!!it}else{if(il){ii=!!it}}}return ik};ik.extent=function(iy){var iv,it,ix,iw,iu;if(!arguments.length){if(io){if(im){iv=im[0],it=im[1]}else{iv=id[0],it=id[1];if(io.invert){iv=io.invert(iv),it=io.invert(it)}if(it<iv){iu=iv,iv=it,it=iu}}}if(il){if(ig){ix=ig[0],iw=ig[1]}else{ix=ij[0],iw=ij[1];if(il.invert){ix=il.invert(ix),iw=il.invert(iw)}if(iw<ix){iu=ix,ix=iw,iw=iu}}}return io&&il?[[iv,ix],[it,iw]]:io?[iv,it]:il&&[ix,iw]}if(io){iv=iy[0],it=iy[1];if(il){iv=iv[0],it=it[0]}im=[iv,it];if(io.invert){iv=io(iv),it=io(it)}if(it<iv){iu=iv,iv=it,it=iu}if(iv!=id[0]||it!=id[1]){id=[iv,it]}}if(il){ix=iy[0],iw=iy[1];if(io){ix=ix[1],iw=iw[1]}ig=[ix,iw];if(il.invert){ix=il(ix),iw=il(iw)}if(iw<ix){iu=ix,ix=iw,iw=iu}if(ix!=ij[0]||iw!=ij[1]){ij=[ix,iw]}}return ik};ik.clear=function(){if(!ik.empty()){id=[0,0],ij=[0,0];im=ig=null}return ik};ik.empty=function(){return !!io&&id[0]==id[1]||!!il&&ij[0]==ij[1]};return ho.rebind(ik,ic,"on")};var eW={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var at=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var ia=fG.format=di.timeFormat;var dg=ia.utc;var dQ=dg("%Y-%m-%dT%H:%M:%S.%LZ");ia.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dy:dQ;function dy(d3){return d3.toISOString()}dy.parse=function(ic){var d3=new Date(ic);return isNaN(d3)?null:d3};dy.toString=dQ.toString;fG.second=c1(function(d3){return new hs(Math.floor(d3/1000)*1000)},function(d3,ic){d3.setTime(d3.getTime()+Math.floor(ic)*1000)},function(d3){return d3.getSeconds()});fG.seconds=fG.second.range;fG.seconds.utc=fG.second.utc.range;fG.minute=c1(function(d3){return new hs(Math.floor(d3/60000)*60000)},function(d3,ic){d3.setTime(d3.getTime()+Math.floor(ic)*60000)},function(d3){return d3.getMinutes()});fG.minutes=fG.minute.range;fG.minutes.utc=fG.minute.utc.range;fG.hour=c1(function(d3){var ic=d3.getTimezoneOffset()/60;return new hs((Math.floor(d3/3600000-ic)+ic)*3600000)},function(d3,ic){d3.setTime(d3.getTime()+Math.floor(ic)*3600000)},function(d3){return d3.getHours()});fG.hours=fG.hour.range;fG.hours.utc=fG.hour.utc.range;fG.month=c1(function(d3){d3=fG.day(d3);d3.setDate(1);return d3},function(d3,ic){d3.setMonth(d3.getMonth()+ic)},function(d3){return d3.getMonth()});fG.months=fG.month.range;fG.months.utc=fG.month.utc.range;function br(d3,ic,id){function ie(ih){return d3(ih)}ie.invert=function(ih){return f0(d3.invert(ih))};ie.domain=function(ih){if(!arguments.length){return d3.domain().map(f0)}d3.domain(ih);return ie};function ig(ij,ik){var ii=ij[1]-ij[0],il=ii/ik,ih=ho.bisect(fb,il);return ih==fb.length?[ic.year,q(ij.map(function(im){return im/31536000000}),ik)[2]]:!ih?[cz,q(ij,ik)[2]]:ic[il/fb[ih-1]<fb[ih]/il?ih-1:ih]}ie.nice=function(ii,ik){var il=ie.domain(),ij=et(il),im=ii==null?ig(ij,10):typeof ii==="number"&&ig(ij,ii);if(im){ii=im[0],ik=im[1]}function ih(io){return !isNaN(io)&&!ii.range(io,f0(+io+1),ik).length}return ie.domain(gi(il,ik>1?{floor:function(io){while(ih(io=ii.floor(io))){io=f0(io-1)}return io},ceil:function(io){while(ih(io=ii.ceil(io))){io=f0(+io+1)}return io}}:ii))};ie.ticks=function(ih,ij){var ii=et(ie.domain()),ik=ih==null?ig(ii,10):typeof ih==="number"?ig(ii,ih):!ih.range&&[{range:ih},ij];if(ik){ih=ik[0],ij=ik[1]}return ih.range(ii[0],f0(+ii[1]+1),ij<1?1:ij)};ie.tickFormat=function(){return id};ie.copy=function(){return br(d3.copy(),ic,id)};return ga(ie,d3)}function f0(d3){return new Date(d3)}var fb=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cD=[[fG.second,1],[fG.second,5],[fG.second,15],[fG.second,30],[fG.minute,1],[fG.minute,5],[fG.minute,15],[fG.minute,30],[fG.hour,1],[fG.hour,3],[fG.hour,6],[fG.hour,12],[fG.day,1],[fG.day,2],[fG.week,1],[fG.month,1],[fG.month,3],[fG.year,1]];var S=ia.multi([[".%L",function(d3){return d3.getMilliseconds()}],[":%S",function(d3){return d3.getSeconds()}],["%I:%M",function(d3){return d3.getMinutes()}],["%I %p",function(d3){return d3.getHours()}],["%a %d",function(d3){return d3.getDay()&&d3.getDate()!=1}],["%b %d",function(d3){return d3.getDate()!=1}],["%B",function(d3){return d3.getMonth()}],["%Y",ah]]);var cz={range:function(id,d3,ic){return ho.range(Math.ceil(id/ic)*ic,+d3,ic).map(f0)},floor:gl,ceil:gl};cD.year=fG.year;fG.scale=function(){return br(ho.scale.linear(),cD,S)};var f3=cD.map(function(d3){return[d3[0].utc,d3[1]]});var fr=dg.multi([[".%L",function(d3){return d3.getUTCMilliseconds()}],[":%S",function(d3){return d3.getUTCSeconds()}],["%I:%M",function(d3){return d3.getUTCMinutes()}],["%I %p",function(d3){return d3.getUTCHours()}],["%a %d",function(d3){return d3.getUTCDay()&&d3.getUTCDate()!=1}],["%b %d",function(d3){return d3.getUTCDate()!=1}],["%B",function(d3){return d3.getUTCMonth()}],["%Y",ah]]);f3.year=fG.year.utc;fG.scale.utc=function(){return br(ho.scale.linear(),f3,fr)};ho.text=X(function(d3){return d3.responseText});ho.json=function(d3,ic){return hZ(d3,"application/json",dM,ic)};function dM(d3){return JSON.parse(d3.responseText)}ho.html=function(d3,ic){return hZ(d3,"text/html",h9,ic)};function h9(ic){var d3=bO.createRange();d3.selectNode(bO.body);return d3.createContextualFragment(ic.responseText)}ho.xml=X(function(d3){return d3.responseXML});if(typeof define==="function"&&define.amd){this.d3=ho,define(ho)}else{if(typeof c==="object"&&c.exports){c.exports=ho}else{this.d3=ho}}}()},{}]},{},[14]);