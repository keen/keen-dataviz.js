(function e(b,g,d){function c(n,k){if(!g[n]){if(!b[n]){var j=typeof require=="function"&&require;if(!k&&j){return j(n,!0)}if(a){return a(n,!0)}var m=new Error("Cannot find module '"+n+"'");throw m.code="MODULE_NOT_FOUND",m}var h=g[n]={exports:{}};b[n][0].call(h.exports,function(l){var o=b[n][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[n].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(c,d,a){var f=c("./dataset");var h=c("./utils/extend");d.exports=function(j){if(!arguments.length){return this.dataset.data()}if(j instanceof f){this.dataset=j;return this}else{return g.call(this,j)}};function g(k){var o,l,q,j=[],n,p,m;l=this.indexBy()?this.indexBy():"timestamp.start";n=(typeof k.query!=="undefined")?k.query:{};n=h({analysis_type:null,event_collection:null,filters:[],group_by:null,interval:null,timeframe:null,timezone:null},n);if(n.analysis_type==="funnel"){q="funnel"}else{if(n.analysis_type==="extraction"){q="extraction"}else{if(n.analysis_type==="select_unique"){if(!n.group_by&&!n.interval){q="list"}}else{if(n.analysis_type){if(!n.group_by&&!n.interval){q="metric"}else{if(n.group_by&&!n.interval){if(n.group_by instanceof Array&&n.group_by.length>1){q="double-grouped-metric";j.push(n.group_by)}else{q="grouped-metric"}}else{if(n.interval&&!n.group_by){q="interval";j.push(l)}else{if(n.group_by&&n.interval){if(n.group_by instanceof Array&&n.group_by.length>1){q="double-grouped-interval";j.push(n.group_by);j.push(l)}else{q="grouped-interval";j.push(l)}}}}}}}}}if(!q){if(typeof k.result==="number"){q="metric"}if(k.result instanceof Array&&k.result.length>0){if(k.result[0].timeframe&&(typeof k.result[0].value=="number"||k.result[0].value==null)){q="interval";j.push(l)}if(typeof k.result[0].result=="number"){q="grouped-metric"}if(k.result[0].value instanceof Array){q="grouped-interval";j.push(l)}if(typeof k.result[0]==="number"&&typeof k.steps!=="undefined"){q="funnel";n.steps=k.steps}if((typeof k.result[0]==="string"||typeof k.result[0]=="number")&&typeof k.steps==="undefined"){q="list"}if(!q){q="extraction"}}}if(!this.title()){this.title(b(n))}if(!this.type()){switch(q){case"metric":m="metric";break;case"interval":m="area";break;case"grouped-metric":case"double-grouped-metric":m="bar";break;case"grouped-interval":case"double-grouped-interval":m="line";break;case"funnel":m="horizontal-bar";break;case"list":case"extraction":default:m="table"}this.type(m)}p=f.parser.apply(this,[q].concat(j));o=p(h(k,{query:n}));if(q.indexOf("interval")>-1){o.updateColumn(0,function(s,r){return new Date(s)})}this.dataset=o;return this}function b(j){var l=j.analysis_type?j.analysis_type.replace("_"," "):"",k;k=l.replace(/\b./g,function(m){return m.toUpperCase()});if(j.event_collection){k+=" - "+j.event_collection}return k}},{"./dataset":2,"./utils/extend":26}],2:[function(b,c,a){(function(d){(function(m){var h=b("./modifiers/append"),r=b("./modifiers/delete"),g=b("./modifiers/filter"),q=b("./modifiers/insert"),n=b("./modifiers/select"),k=b("./modifiers/sort"),j=b("./modifiers/update");var p=b("./utils/analyses"),l=b("../utils/extend"),o=b("./utils/parsers");function f(){if(this instanceof f===false){return new f()}this.matrix=[["Index"]];this.meta={type:undefined}}f.prototype.data=function(s){if(!arguments.length){return this.matrix}this.matrix=(s instanceof Array?s:null);return this};f.prototype.set=function(w,v){if(arguments.length<2||w.length<2){throw Error("Incorrect arguments provided for #set method")}var s="number"===typeof w[0]?w[0]:this.matrix[0].indexOf(w[0]),x="number"===typeof w[1]?w[1]:n.selectColumn.call(this,0).indexOf(w[1]);var u=n.selectColumn.call(this,w[0]),t=n.selectRow.call(this,w[1]);if(u.length<1){h.appendColumn.call(this,w[0]);s=this.matrix[0].length-1}if(t.length<1){h.appendRow.call(this,w[1]);x=this.matrix.length-1}this.matrix[x][s]=v;return this};f.prototype.type=function(s){if(!arguments.length){return this.meta.type}this.meta.type=(s?String(s):undefined);return this};l(f.prototype,h);l(f.prototype,r);l(f.prototype,g);l(f.prototype,q);l(f.prototype,n);l(f.prototype,k);l(f.prototype,j);l(f.prototype,p);f.parser=o(f);if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataset",[],function(){return f})}if(m.Keen){m.Keen.Dataset=f}m.Dataset=f;if(typeof d!=="undefined"){if(d.Keen){d.Keen.Dataset=f}d.Dataset=f}}(this))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../utils/extend":26,"./modifiers/append":3,"./modifiers/delete":4,"./modifiers/filter":5,"./modifiers/insert":6,"./modifiers/select":7,"./modifiers/sort":8,"./modifiers/update":9,"./utils/analyses":10,"./utils/parsers":13}],3:[function(d,f,c){var b=d("../utils/create-null-list"),h=d("../../utils/each");f.exports={appendColumn:g,appendRow:a};function g(n,k){var j=this,m=Array.prototype.slice.call(arguments,2),l=(n!==undefined)?n:null;if(typeof k==="function"){j.matrix[0].push(l);h(j.matrix,function(q,p){var o;if(p>0){o=k.call(j,q,p);if(typeof o==="undefined"){o=null}j.matrix[p].push(o)}})}else{if(!k||k instanceof Array){k=k||[];if(k.length<=j.matrix.length-1){k=k.concat(b(j.matrix.length-1-k.length))}else{h(k,function(p,o){if(j.matrix.length-1<k.length){a.call(j,String(j.matrix.length))}})}j.matrix[0].push(l);h(k,function(p,o){j.matrix[o+1][j.matrix[0].length-1]=p})}}return j}function a(o,k){var j=this,n=Array.prototype.slice.call(arguments,2),m=(o!==undefined)?o:null,l=[];l.push(m);if(typeof k==="function"){h(j.matrix[0],function(r,s){var q,p;if(s>0){q=j.selectColumn(s);p=k.call(j,q,s);if(typeof p==="undefined"){p=null}l.push(p)}});j.matrix.push(l)}else{if(!k||k instanceof Array){k=k||[];if(k.length<=j.matrix[0].length-1){k=k.concat(b(j.matrix[0].length-1-k.length))}else{h(k,function(q,p){if(j.matrix[0].length-1<k.length){g.call(j,String(j.matrix[0].length))}})}j.matrix.push(l.concat(k))}}return j}},{"../../utils/each":24,"../utils/create-null-list":11}],4:[function(d,f,c){var g=d("../../utils/each");f.exports={deleteColumn:a,deleteRow:b};function a(k){var h=this,j=(typeof k==="number")?k:this.matrix[0].indexOf(k);if(j>-1){g(h.matrix,function(m,l){h.matrix[l].splice(j,1)})}return h}function b(j){var h=(typeof j==="number")?j:this.selectColumn(0).indexOf(j);if(h>-1){this.matrix.splice(h,1)}return this}},{"../../utils/each":24}],5:[function(c,d,b){var f=c("../../utils/each");d.exports={filterColumns:a,filterRows:g};function a(j){var h=this,k=new Array();f(h.matrix,function(m,l){k.push([])});f(h.matrix[0],function(l,m){var n=h.selectColumn(m);if(m==0||j.call(h,n,m)){f(n,function(o,p){k[p].push(o)})}});h.data(k);return h}function g(j){var h=this,k=[];f(h.matrix,function(m,l){if(l==0||j.call(h,m,l)){k.push(m)}});h.data(k);return h}},{"../../utils/each":24}],6:[function(f,b,g){var j=f("../../utils/each");var h=f("../utils/create-null-list");var c=f("./append");var l=c.appendRow,d=c.appendColumn;b.exports={insertColumn:a,insertRow:k};function a(p,q,n){var m=this,o;o=(q!==undefined)?q:null;if(typeof n==="function"){m.matrix[0].splice(p,0,o);j(m.matrix,function(t,s){var r;if(s>0){r=n.call(m,t,s);if(typeof r==="undefined"){r=null}m.matrix[s].splice(p,0,r)}})}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.matrix.length-1){n=n.concat(h(m.matrix.length-1-n.length))}else{j(n,function(s,r){if(m.matrix.length-1<n.length){l.call(m,String(m.matrix.length))}})}m.matrix[0].splice(p,0,o);j(n,function(s,r){m.matrix[r+1].splice(p,0,s)})}}return m}function k(q,r,n){var m=this,p,o=[];p=(r!==undefined)?r:null;o.push(p);if(typeof n==="function"){j(m.matrix[0],function(u,v){var t,s;if(v>0){t=m.selectColumn(v);s=n.call(m,t,v);if(typeof s==="undefined"){s=null}o.push(s)}});m.matrix.splice(q,0,o)}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.matrix[0].length-1){n=n.concat(h(m.matrix[0].length-1-n.length))}else{j(n,function(t,s){if(m.matrix[0].length-1<n.length){d.call(m,String(m.matrix[0].length))}})}m.matrix.splice(q,0,o.concat(n))}}return m}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],7:[function(d,f,c){var g=d("../../utils/each");f.exports={selectColumn:b,selectRow:a};function b(k){var h=new Array(),j=(typeof k==="number")?k:this.matrix[0].indexOf(k);if(j>-1&&"undefined"!==typeof this.matrix[0][j]){g(this.matrix,function(m,l){h.push(m[j])})}return h}function a(k){var h=new Array(),j=(typeof k==="number")?k:this.selectColumn(0).indexOf(k);if(j>-1&&"undefined"!==typeof this.matrix[j]){h=this.matrix[j]}return h}},{"../../utils/each":24}],8:[function(d,f,c){var g=d("../../utils/each");f.exports={sortColumns:b,sortRows:a};function b(n,j){var h=this,k=this.matrix[0].slice(1),m=[],o=[],l=j||this.getColumnLabel;g(k,function(p,q){m.push(h.selectColumn(q+1).slice(0))});m.sort(function(q,p){var r=l.call(h,q)>l.call(h,p);if(r){return(n==="asc"?1:-1)}else{if(!r){return(n==="asc"?-1:1)}else{return 0}}});g(m,function(p,q){h.deleteColumn(q+1).insertColumn(q+1,p[0],p.slice(1))});return h}function a(n,k){var j=this,l=this.matrix.slice(0,1),h=this.matrix.slice(1),m=k||this.getRowIndex;h.sort(function(p,o){var q=m.call(j,p)>m.call(j,o);if(q){return(n==="asc"?1:-1)}else{if(!q){return(n==="asc"?-1:1)}else{return 0}}});j.data(l.concat(h));return j}},{"../../utils/each":24}],9:[function(f,a,g){var k=f("../../utils/each");var h=f("../utils/create-null-list");var b=f("./append");var l=b.appendRow,d=b.appendColumn;a.exports={updateColumn:j,updateRow:c};function j(p,n){var m=this,o=(typeof p==="number")?p:this.matrix[0].indexOf(p);if(o>-1){if(typeof n==="function"){k(m.data(),function(s,r){var q;if(r>0){q=n.call(m,s[o],r,s);if(typeof q!=="undefined"){m.matrix[r][o]=q}}})}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.data().length-1){n=n.concat(h(m.data().length-1-n.length))}else{k(n,function(r,q){if(m.matrix.length-1<n.length){l.call(m,String(m.matrix.length))}})}k(n,function(r,q){m.matrix[q+1][o]=r})}}}return m}function c(p,n){var m=this,o=(typeof p==="number")?p:this.selectColumn(0).indexOf(p);if(o>-1){if(typeof n==="function"){k(m.data()[o],function(t,s){var r=m.selectColumn(s),q=n.call(m,t,s,r);if(typeof q!=="undefined"){m.matrix[o][s]=q}})}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.matrix[0].length-1){n=n.concat(h(m.matrix[0].length-1-n.length))}else{k(n,function(r,q){if(m.matrix[0].length-1<n.length){d.call(m,String(m.matrix[0].length))}})}k(n,function(r,q){m.matrix[o][q+1]=r})}}}return m}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],10:[function(d,c,h){var m=d("../../utils/each"),l=d("../../utils/extend");var a={};var f={average:b,maximum:g,minimum:k,sum:j};function b(n,s,o){var r=n.slice(s||0,(o?o+1:n.length)),p=0,q=null;m(r,function(u,t){if(typeof u==="number"&&!isNaN(parseFloat(u))){p+=parseFloat(u)}});return p/r.length}function g(n,r,o){var q=n.slice(r||0,(o?o+1:n.length)),p=[];m(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){p.push(parseFloat(t))}});return Math.max.apply(Math,p)}function k(n,r,o){var q=n.slice(r||0,(o?o+1:n.length)),p=[];m(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){p.push(parseFloat(t))}});return Math.min.apply(Math,p)}function j(n,r,o){var q=n.slice(r||0,(o?o+1:n.length)),p=0;m(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){p+=parseFloat(t)}});return p}m(f,function(p,n){var o=n.charAt(0).toUpperCase()+n.slice(1);a["getColumn"+o]=a["getRow"+o]=function(q){return this[n](q,1)}});a.getColumnLabel=a.getRowIndex=function(n){return n[0]};l(f,a);c.exports=f},{"../../utils/each":24,"../../utils/extend":26}],11:[function(b,c,a){c.exports=function(d){var f=new Array();for(i=0;i<d;i++){f.push(null)}return f}},{}],12:[function(b,c,a){c.exports=d;function d(g){var k={};for(var h in g){if(!g.hasOwnProperty(h)){continue}if((typeof g[h])=="object"&&g[h]!==null){var j=d(g[h]);for(var f in j){if(!j.hasOwnProperty(f)){continue}k[h+"."+f]=j[f]}}else{k[h]=g[h]}}return k}},{}],13:[function(f,c,k){var b;var q=f("../../utils/each"),a=f("../utils/flatten");var r={metric:n,interval:j,"grouped-metric":p,"grouped-interval":s,"double-grouped-metric":h,"double-grouped-interval":g,funnel:o,list:l,extraction:d};c.exports=m;function m(t){b=t;return function(v){var u=Array.prototype.slice.call(arguments,1);if(!r[v]){throw"Requested parser does not exist"}else{return r[v].apply(this,u)}}}function n(){return function(t){return new b().set(["Value","Result"],t.result).type("metric")}}function j(){var t=Array.prototype.slice.call(arguments);return function(u){var v=new b().type("interval");q(u.result,function(w,y){var x=t[0]&&t[0]==="timeframe.end"?w.timeframe.end:w.timeframe.start;v.set(["Result",x],w.value)});return v}}function p(){return function(t){var u=new b().type("grouped-metric");q(t.result,function(v,x){var w;q(v,function(z,y){if(y!=="result"){w=y}});u.set(["Result",String(v[w])],v.result)});return u}}function s(){var t=Array.prototype.slice.call(arguments);return function(u){var v=new b().type("grouped-interval");q(u.result,function(w,y){var x=t[0]&&t[0]==="timeframe.end"?w.timeframe.end:w.timeframe.start;if(w.value.length){q(w.value,function(B,A){var z;q(B,function(D,C){if(C!=="result"){z=C}});v.set([B[z]||"",x],B.result)})}else{v.appendRow(x)}});return v}}function h(){var t=Array.prototype.slice.call(arguments);if(!t[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(u){var v=new b().type("double-grouped-metric");q(u.result,function(w,x){v.set(["Result",w[t[0][0]]+" "+w[t[0][1]]],w.result)});return v}}function g(){var t=Array.prototype.slice.call(arguments);if(!t[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(u){var v=new b().type("double-grouped-interval");q(u.result,function(w,y){var x=t[1]&&t[1]==="timeframe.end"?w.timeframe.end:w.timeframe.start;q(w.value,function(B,A){var z=String(B[t[0][0]])+" "+String(B[t[0][1]]);v.set([z,x],B.result)})});return v}}function o(){return function(v){var t,u,w;if(typeof v.steps!=="undefined"&&typeof v.result!=="undefined"&&v.result instanceof Array){t=v.result;u=v.steps}else{if(typeof v.result.steps!=="undefined"&&typeof v.result.result!=="undefined"&&v.result.result instanceof Array){t=v.result.result;u=v.result.steps}}w=new b().type("funnel");w.appendColumn("Step Value");q(t,function(y,x){if(typeof u!=="undefined"&&u[x]){w.appendRow(u[x].event_collection,[y])}});return w}}function l(){return function(t){var u=new b().type("list");q(t.result,function(w,v){u.set(["Value",v+1],w)});return u}}function d(){return function(t){var u=new b().type("extraction");q(t.result,function(v,w){q(a(v),function(y,x){u.set([x,w+1],y)})});u.deleteColumn(0);return u}}},{"../../utils/each":24,"../utils/flatten":12}],14:[function(b,c,a){(function(d){(function(q){var g=b("./dataset"),l=b("./data");var o={"default":b("./libraries")(f)};var r=b("./utils/each"),p=b("./utils/extend"),m=b("./utils/assert-date-string");function f(){if(this instanceof f===false){return new f()}this.dataset=new g();this.view={_prepared:false,_rendered:false,_artifacts:{},chartOptions:{},colors:["#00bbde","#fe6672","#eeb058","#8a8ad6","#ff855c","#00cfbb","#5a9eed","#73d483","#c879bb","#0099b6","#d74d58","#cb9141","#6b6bb6","#d86945","#00aa99","#4281c9","#57b566","#ac5c9e","#27cceb","#ff818b","#f6bf71","#9b9be1","#ff9b79","#26dfcd","#73aff4","#87e096","#d88bcb"],colorMapping:{},el:undefined,height:undefined,indexBy:"timeframe.start",labels:[],labelMapping:{},library:"default",notes:undefined,sortGroups:undefined,sortIntervals:undefined,stacked:false,theme:"keen-dataviz",title:undefined,type:undefined,width:undefined};f.visuals.push(this)}f.prototype.attributes=function(t){if(!arguments.length){return this.view}var s=this.view;r(t,function(v,u){if(u==="chartType"){u="type"}s[u]=v});return this};f.prototype.call=function(s){s.call(this);return this};f.prototype.chartOptions=function(t){var s=this;if(!arguments.length){return this.view.chartOptions}if(t===null){this.view.chartOptions={}}else{if(typeof t==="object"){r(t,function(v,u){s.view.chartOptions[u]=(v?v:null)})}}return this};f.prototype.colors=function(s){if(!arguments.length){return this.view.colors}this.view.colors=(s instanceof Array?s:[]);return this};f.prototype.colorMapping=function(t){var s=this;if(!arguments.length){return this.view.colorMapping}if(t===null){this.view.colorMapping={}}else{if(typeof t==="object"){r(t,function(v,u){s.view.colorMapping[u]=(v?v:null)})}}return this};f.prototype.data=l;f.prototype.destroy=function(){var s=this.library(),u=this.type(),t=this.el();if(!t){this.message("A DOM element is required. Check out the .el() method.");throw"A DOM element is required. Check out the .el() method.";return}if(!u){this.message("A chart type is required. Check out the .type() method.");throw"A chart type is required. Check out the .type() method.";return}if(f.libraries[s]){if(typeof f.libraries[s][u]==="undefined"){u=j(u)}if(f.libraries[s][u]&&f.libraries[s][u].destroy){f.libraries[s][u].destroy.call(this)}}t.innerHTML="";this.view._prepared=false;this.view._rendered=false;this.view._artifacts={};return this};f.prototype.el=function(t){var s=this;if(!arguments.length){return this.view.el}k(function(){if(t&&t!==null){if(t.nodeName){s.view.el=t}else{if(document.querySelector){s.view.el=document.querySelector(t)}}}else{s.view.el=undefined}});return this};f.prototype.height=function(s){if(!arguments.length){return this.view.height}this.view.height=(!isNaN(parseInt(s))?parseInt(s):null);return this};f.prototype.indexBy=function(s){if(!arguments.length){return this.view.indexBy}this.view.indexBy=(s?String(s):"timeframe.start");return this};f.prototype.labels=function(s){if(!arguments.length){return this.view.labels}this.view.labels=(s instanceof Array?s:[]);if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(u,t){if(this.view.labels[t-1]){return String(this.view.labels[t-1])}else{return u}}.bind(this))}else{this.dataset.updateRow(0,function(u,t){if(t>0&&this.view.labels[t-1]){return String(this.view.labels[t-1])}else{return u}}.bind(this))}return this};f.prototype.labelMapping=function(s){if(!arguments.length){return this.view.labelMapping}if(s===null){this.view.labelMapping={}}else{if(typeof s==="object"){r(s,function(u,t){this.view.labelMapping[t]=(u?u:null)}.bind(this))}}if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(t){if(this.view.labelMapping[t]){return String(this.view.labelMapping[t])}else{return t}}.bind(this))}else{this.dataset.updateRow(0,function(t){if(this.view.labelMapping[t]){return String(this.view.labelMapping[t])}else{return t}}.bind(this))}return this};f.prototype.library=function(s){if(!arguments.length){return this.view.library}this.view.library=(s?String(s):null);return this};f.prototype.message=function(){var s;if(this.view._rendered){this.destroy()}if(this.el()){this.el().innerHTML="";message=f.libraries["default"].message;if(message.render){message.render.apply(this,arguments)}}return this};f.prototype.notes=function(s){if(!arguments.length){return this.view.notes}this.view.notes=(s?String(s):null);return this};f.prototype.prepare=function(){var t=this,s;if(!this.el()){throw"A DOM element is required. Check out the .el() method.";return}k(function(){if(t.view._rendered){t.destroy()}if(t.el()){t.el().innerHTML="";s=f.libraries["default"].spinner;if(s.render){s.render.call(t)}t.view._prepared=true}});return this};f.prototype.render=function(){var u=this,s=f.libraries["default"].spinner,t=this.library(),w=this.type(),v=this.el();if(!this.el()){this.message("A DOM element is required. Check out the .el() method.");throw"A DOM element is required. Check out the .el() method.";return}if(!this.type()){this.message("A chart type is required. Check out the .type() method.");throw"A chart type is required. Check out the .type() method.";return}k(function(){if(u.view._prepared&&s.destroy){s.destroy.apply(u,arguments)}u.el().innerHTML="";if(f.libraries[t]){if(typeof f.libraries[t][w]==="undefined"){w=j(w)}if(f.libraries[t][w]&&f.libraries[t][w].render){n(u.el(),{notes:u.notes(),theme:u.theme(),title:u.title()});f.libraries[t][w].render.call(u);u.view._rendered=true}else{u.message("Incorrect chart type");throw"Incorrect chart type";return}}else{u.message("Incorrect library");throw"Incorrect library";return}});return this};f.prototype.sortGroups=function(s){if(!arguments.length){return this.view.sortGroups}this.view.sortGroups=(s?String(s):null);if(this.view.sortGroups&&this.data().length>1){if(m(this.data()[1][0])){this.dataset.sortColumns(this.view.sortGroups,this.dataset.getColumnSum)}else{this.dataset.sortRows(this.view.sortGroups,this.dataset.getRowSum)}}return this};f.prototype.sortIntervals=function(s){if(!arguments.length){return this.view.sortInterval}this.view.sortIntervals=(s?String(s):null);if(this.view.sortIntervals){this.dataset.sortRows(this.view.sortIntervals)}return this};f.prototype.stacked=function(s){if(!arguments.length){return this.view.stacked}this.view.stacked=s?true:false;return this};f.prototype.theme=function(s){if(!arguments.length){return this.view.theme}this.view.theme=(s?String(s):null);return this};f.prototype.title=function(s){if(!arguments.length){return this.view.title}this.view.title=(s?String(s):null);return this};f.prototype.type=function(s){if(!arguments.length){return this.view.type}this.view.type=(s?String(s):null);return this};f.prototype.update=function(){var s=this.library(),u=this.type(),t=this.el();if(s&&u&&t&&f.libraries[s][u].update){f.libraries[s][u].update.apply(this,arguments)}return};f.prototype.width=function(s){if(!arguments.length){return this.view.width}this.view.width=(!isNaN(parseInt(s))?parseInt(s):null);return this};f.prototype.chartType=f.prototype.type;f.prototype.error=f.prototype.message;f.prototype.parseRawData=f.prototype.data;f.prototype.parseRequest=function(){return this};f.prototype.initialize=function(){return this};p(f,{libraries:o,visuals:[]});f.register=function(s,t){f.libraries[s]=f.libraries[s]||{};r(t,function(v,u){f.libraries[s][u]=v})};f.find=function(u){if(!arguments.length){return f.visuals}var t=u.nodeName?u:document.querySelector(u),s=null;r(f.visuals,function(v){if(t==v.el()){s=v;return false}});return s};function n(u,s){var t="";t+='<div class="'+s.theme+'">';if(s.title){t+='<div class="'+s.theme+'-title">'+s.title+"</div>"}t+='<div class="'+s.theme+'-stage"><div class="'+s.theme+'-rendering"></div></div>';if(s.notes){t+='<div class="'+s.theme+'-notes">'+s.notes+"</div>"}t+="</div>";u.innerHTML=t}function j(t){var s={linechart:"line",barchart:"horizontal-bar",columnchart:"bar",areachart:"area",piechart:"pie"};return s[t]||t}function k(t){if("undefined"!==typeof document||"undefined"===typeof window){t();return}if(document.readyState==null&&document.addEventListener){document.addEventListener("DOMContentLoaded",function s(){document.removeEventListener("DOMContentLoaded",s,false);document.readyState="complete"},false);document.readyState="loading"}h(t)}function h(s){if(/in/.test(document.readyState)){setTimeout(function(){h(s)},9)}else{s()}}if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataviz",[],function(){return f})}if(q.Keen){q.Keen.Dataviz=f}q.Dataviz=f;if(typeof d!=="undefined"){if(d.Keen){d.Keen.Dataviz=f}d.Dataviz=f}}(this))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./data":1,"./dataset":2,"./libraries":22,"./utils/assert-date-string":23,"./utils/each":24,"./utils/extend":26}],15:[function(b,c,a){c.exports=function(h,g){var j=Math.abs(new Date(h).getTime()-new Date(g).getTime());var f=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];if(j>=2419200000){return function(k){var d=new Date(k);return f[d.getMonth()]+" "+d.getFullYear()}}else{if(j>=86400000){return function(k){var d=new Date(k);return f[d.getMonth()]+" "+d.getDate()}}else{if(j>=3600000){return"%I:%M %p"}else{return"%I:%M:%S %p"}}}}},{}],16:[function(c,d,a){var b=c("../../../utils/assert-date-string");d.exports=function(q){var v=this,o,g,h,t,m;o=this.view._artifacts.c3;g=[];h=this.el().querySelector("."+this.theme()+"-rendering");m=Math.round((h.offsetHeight-68)/20);t=this.view._artifacts.pagination={hidden:[],labels:[],position:0,range:m,total:0};for(var k=0;k<q.length;k++){if(q[k][0]!=="x"&&!b(q[k][1])){g.push(q[k][0])}}var l=d3.select(h).append("svg").attr("class","keen-c3-legend").attr("width",120).attr("height",h.offsetHeight).style("right","-120px");var j=l.append("g").attr("class","keen-c3-legend-items");var f=20*t.range;var p=l.append("g").attr("class","keen-c3-legend-pagination").attr("transform",function(){return"translate(2, "+f+")"});s();function s(){t.labels=g.slice(t.position,t.position+t.range);t.total=g.length;u.call(v,t.labels);if(t.total>t.range){r.call(v)}o.resize()}function u(){j.selectAll("g").remove();var w=j.selectAll("g").data(t.labels);w.enter().append("g").attr("transform",function(y,x){return"translate(0, "+(20*x)+")"}).attr("data-id",function(x){return x}).style("opacity",function(y){var x=t.hidden.indexOf(y);return x<0?1:0.35}).each(function(x){d3.select(this).append("text").attr("font-size",12).attr("pointer-events","none").attr("x",15).attr("y",9).text(x).text(function(y){if(d3.select(this).node().getBBox().width>105){return y.length<=15?y:y.substring(0,12)+"..."}else{return y}});d3.select(this).append("rect").attr("height",14).attr("width",110).attr("x",0).attr("y",0).style("fill-opacity",0).style("cursor","pointer");d3.select(this).append("rect").attr("fill",o.color(x)).attr("pointer-events","none").attr("height",10).attr("width",10).attr("rx",5).attr("ry",5).attr("x",0).attr("y",0)}).on("mouseover",function(y,x){o.focus(y);if(y.length>15){d3.select(h).append("div").attr("class","keen-c3-legend-label-overlay").style("right","-120px").style("top",(5+(x+1)*20)+"px").style("max-width","75%").html(y).append("div").attr("class","keen-c3-legend-label-overlay-pointer")}}).on("mouseout",function(x){o.revert();d3.select(v.el().querySelector("."+v.theme()+"-rendering .keen-c3-legend-label-overlay")).remove()}).on("click",function(x){d3.select(this).style("opacity",function(){var y=t.hidden.indexOf(x);if(y<0){t.hidden.push(x);return 0.35}else{t.hidden.splice(y,1);return 1}});o.toggle(x)});w.exit().remove()}function r(){p.selectAll("g").remove();p.selectAll("g").data([{direction:"reverse",path_d:"M0 10 L10 0 L20 10 Z"},{direction:"forward",path_d:"M0 0 L10 10 L20 0 Z"}]).enter().append("g").attr("transform",function(x,w){return"translate("+(w*20)+", 0)"}).each(function(w){d3.select(this).append("path").attr("d",function(x){return x.path_d}).style("cursor","pointer").style("fill","#D7D7D7").style("stroke","none").on("mouseover",function(x){d3.select(this).style("fill","#4D4D4D")}).on("mouseout",function(x){d3.select(this).style("fill","#D7D7D7")}).on("click",function(x){if(x.direction==="forward"){if(t.position+t.range<t.total){t.position=t.position+t.range}}else{if(t.position-t.range>=0){t.position=t.position-t.range}}s();n()})})}function n(){var w;if(document.selection&&document.selection.empty){w=document.selection;w.empty()}else{if(window.getSelection){w=window.getSelection();w.removeAllRanges()}}}}},{"../../../utils/assert-date-string":23}],17:[function(b,c,a){c.exports=function(p,g,j,l){var t=this,h=t.config,n=h.tooltip_format_title||g,k=h.tooltip_format_name||function(d){return d},o=h.tooltip_format_value||j,s,m,q,r,f,u;for(var m=0;m<p.length;m++){if(!(p[m]&&(p[m].value||p[m].value===0))){continue}if(!s){q=n?n(p[m].x):p[m].x;s="<table class='"+t.CLASS.tooltip+"'>"+(q||q===0?"<tr><th colspan='2'>"+q+"</th></tr>":"")}f=k(p[m].name);r=o(p[m].value,p[m].ratio,p[m].id,p[m].index);u=t.levelColor?t.levelColor(p[m].value):l(p[m].id);if(r){s+="<tr class='"+t.CLASS.tooltipName+"-"+p[m].id+"'>";s+="<td class='name'><span style='background-color:"+u+"'></span>"+f+"</td>";s+="<td class='value'>"+r+"</td>";s+="</tr>"}}return s+"</table>"}},{}],18:[function(b,c,a){c.exports={render:function(j){var g=document.createElement("div"),f=document.createElement("div"),h=document.createElement("span"),d=this.height()||140;g.className=this.theme();f.className=this.theme()+"-message";f.style.height=String(d+"px");f.style.paddingTop=(d/2-12)+"px";f.style.width=String(this.width()+"px");h.innerHTML=j||"";f.appendChild(h);g.appendChild(f);this.el().innerHTML="";this.el().appendChild(g)},update:function(){this.render()},destroy:function(){}}},{}],19:[function(c,d,b){var a=c("../../utils/pretty-number");d.exports={render:function(){var k=this.theme(),n=this.title(),o=this.data()[1][1]||"-",q=this.height()||140,h=this.width(),g=this.chartOptions(),l="",m="",p="",f,j;f=o;if((typeof g.prettyNumber==="undefined"||g.prettyNumber===true)&&!isNaN(parseInt(o))){f=a(o)}if(g.prefix){m='<span class="'+k+'-metric-prefix">'+g.prefix+"</span>"}if(g.suffix){p='<span class="'+k+'-metric-suffix">'+g.suffix+"</span>"}l+='<div class="'+k+'">';l+='<div class="'+k+'-metric" style="width: '+(h?h+"px":"auto")+';" title="'+o+'">';l+='<span class="'+k+'-metric-value">'+m+f+p+"</span>";if(n){l+='<span class="'+k+'-metric-title">'+n+"</span>"}l+="</div>";l+="</div>";this.el().innerHTML=l;j=this.el().querySelector("."+k+"-metric-value");j.style.paddingTop=((q-this.el().offsetHeight)/2)+"px";this.el().querySelector("."+k+"-metric").style.height=q+"px"},update:function(){this.render()},destroy:function(){}}},{"../../utils/pretty-number":27}],20:[function(b,c,a){var d=b("spin.js");var f={height:140,lines:10,length:8,width:3,radius:10,corners:1,rotate:0,direction:1,color:"#4D4D4D",speed:1.67,trail:60,shadow:false,hwaccel:false,className:"spinner",zIndex:2000000000,top:"50%",left:"50%"};c.exports={render:function(){var g=this.height()||f.height,h=document.createElement("div"),j=document.createElement("div");h.className=this.theme();j.className=this.theme()+"-spinner";j.style.height=String(g+"px");j.style.position="relative";j.style.width=String(this.width()+"px");h.appendChild(j);this.el().innerHTML="";this.el().appendChild(h);this.view._artifacts.spinner=new d(f).spin(j)},update:function(){this.render()},destroy:function(){if(this.view._artifacts.spinner){this.view._artifacts.spinner.stop();this.view._artifacts.spinner=null}}}},{"spin.js":28}],21:[function(b,c,a){var d=b("../../utils/each");var f={height:undefined,width:undefined,stickyHeader:true,stickyFooter:false};c.exports={render:function(){var m=this.data(),k=this.el(),r=(this.height()||f.height)-this.el().offsetHeight,o=this.theme(),h=this.width()||f.width;var p="",q=new Array(m[0].length),s=new Array(m[0].length),g;d(m,function(j){d(j,function(t,u){if(!s[u]){s[u]=0}q[u]=(typeof t==="number")?"right":"left";s[u]=(String(t).length>s[u])?String(t).length:s[u]})});p+='<div class="'+o+'-table" style="height: '+(r?r+"px":"auto")+"; width: "+(h?h+"px":"auto")+';">';p+='<table class="'+o+'-table-dataset">';p+="<thead>";p+="<tr>";for(var n=0;n<m[0].length;n++){p+='<th style="width: '+(10*s[n])+"px; text-align: "+q[n]+';">'+m[0][n]+"</th>"}p+="</tr>";p+="</thead>";p+="<tbody>";for(var n=0;n<m.length;n++){if(n>0){p+="<tr>";for(var l=0;l<m[n].length;l++){p+='<td style="min-width: '+(10*s[l])+"px; text-align: "+q[l]+';">'+m[n][l]+"</td>"}p+="</tr>"}}p+="</tbody>";p+="</table>";p+='<table class="'+o+'-table-fixed-header">';p+="<thead>";p+="<tr>";for(var n=0;n<m[0].length;n++){p+='<th style="min-width: '+(10*s[n])+"px; text-align: "+q[n]+';">'+m[0][n]+"</th>"}p+="</tr>";p+="</thead>";p+="</table>";p+="</div>";k.querySelector("."+o+"-rendering").innerHTML=p;g=k.querySelector("."+o+"-table-fixed-header");k.querySelector("."+o+"-table").onscroll=function(j){g.style.top=j.target.scrollTop+"px"}},update:function(){this.render()},destroy:function(){this.el().querySelector("."+theme+"-table").onscroll=undefined}}},{"../../utils/each":24}],22:[function(d,c,g){var q=d("../utils/each"),n=d("../utils/extend"),o=d("../utils/extend-deep"),j=d("../utils/assert-date-string");var k=d("./c3/extensions/default-date-format");var h=d("./c3/extensions/paginating-legend");var m=d("./c3/extensions/tooltip-contents");var l={message:d("./default/message"),metric:d("./default/metric"),table:d("./default/table"),spinner:d("./default/spinner")};c.exports=function(s){var t,r;f(function(){if(t){clearTimeout(t)}r=(s.visuals.length>12)?1000:250;t=setTimeout(function(){q(s.visuals,function(u){if(u.view._artifacts.c3){u.view._artifacts.c3.resize()}})},r)});p();return l};function p(){var s=["area","area-spline","area-step","bar","donut","gauge","line","pie","step","spline","horizontal-area","horizontal-area-spline","horizontal-area-step","horizontal-bar","horizontal-line","horizontal-step","horizontal-spline"];function r(){var v,t,u;v={axis:{},color:{},data:{order:null},legend:{position:"right",show:true},padding:{},point:{show:false},tooltip:{}};t={bindto:this.el().querySelector("."+this.theme()+"-rendering"),color:{pattern:this.colors()},data:{colors:n({},this.colorMapping()),columns:[],type:this.type().replace("horizontal-","")},size:{height:this.height()?this.height()-this.el().offsetHeight:400,width:this.width()},tooltip:{},transition:{duration:0}};u=o({},v,this.chartOptions());u=o(u,t);u.color.pattern=t.color.pattern;u.data.colors=t.data.colors;u.data.columns=t.data.columns;return u}q(s,function(u,t){l[u]={render:function(){var v=r.call(this);if(this.data()[0].length===1||this.data().length===1){this.message("No data to display");return}if(u==="gauge"){v.legend.position="bottom";v.data.columns=[[this.title()||this.data()[1][0],this.data()[1][1]]]}else{if(u==="pie"||u==="donut"){v.data.columns=this.data().slice(1)}else{if(u.indexOf("horizontal-")>-1){v.axis.rotated=u.indexOf("horizontal-")>-1}if(j(this.data()[1][0])){v.axis.x=v.axis.x||{};v.axis.x.type="timeseries";v.axis.x.tick=v.axis.x.tick||{format:k(this.data()[1][0],this.data()[2][0]),culling:{max:5}};v.data.columns[0]=[];q(this.dataset.selectColumn(0),function(x,y){if(y>0){x=new Date(x)}v.data.columns[0][y]=x});v.data.columns[0][0]="x";v.data.x="x";if(this.stacked()&&this.data()[0].length>2){v.data.groups=[this.dataset.selectRow(0).slice(1)]}}else{v.axis.x=v.axis.x||{};v.axis.x.type="category";v.axis.x.categories=this.dataset.selectColumn(0).slice(1);if(this.stacked()&&this.data()[0].length>2){v.data.groups=[this.dataset.selectRow(0).slice(1)]}}if(this.data()[0].length===2){v.legend.show=false}q(this.data()[0],function(x,y){if(y>0){v.data.columns.push(this.dataset.selectColumn(y))}}.bind(this))}}if(v.legend.show===true&&v.legend.position==="right"&&["gauge"].indexOf(u.replace("horizontal-",""))){v.data.color=b.bind(this);v.tooltip={contents:m,format:{value:a.bind(this)}};v.legend.show=false;var w=this.el().querySelector("."+this.theme()+"-rendering").offsetWidth-100;v.size.width=v.size.width||w;this.el().querySelector("."+this.theme()+"-rendering").setAttribute("style","margin-right: 120px;");this.view._artifacts.c3=c3.generate(v);h.call(this,v.data.columns)}else{v.legend.show=false;this.view._artifacts.c3=c3.generate(v)}},update:function(){this.render()},destroy:function(){if(this.view._artifacts.c3){this.view._artifacts.c3.destroy();this.view._artifacts.c3=null}}}})}function b(r,t){var s;if(this.view._artifacts.pagination&&this.type()!=="gauge"&&this.type()!=="pie"&&this.type()!=="donut"){s=this.view._artifacts.pagination.labels;if((t.id&&s.indexOf(t.id)>-1)||(t&&!t.id&&s.indexOf(t)>-1)){return r}else{return"rgba(0,0,0,.05)"}}else{return r}}function a(u,t,v,r){var s;if(this.view._artifacts.pagination&&this.type()!=="gauge"&&this.type()!=="pie"&&this.type()!=="donut"){s=this.view._artifacts.pagination.labels;if(s.indexOf(v)>-1){return u}}else{return u}}function f(r){if("undefined"===typeof window){return}window.onresize=window.resize=function(){};if(window.addEventListener){window.addEventListener("resize",r,true)}else{if(window.attachEvent){window.attachEvent("onresize",r)}}}},{"../utils/assert-date-string":23,"../utils/each":24,"../utils/extend":26,"../utils/extend-deep":25,"./c3/extensions/default-date-format":15,"./c3/extensions/paginating-legend":16,"./c3/extensions/tooltip-contents":17,"./default/message":18,"./default/metric":19,"./default/spinner":20,"./default/table":21}],23:[function(b,c,a){c.exports=function(d){if(typeof d==="object"&&typeof d.getTime==="function"&&!isNaN(d.getTime())){return true}else{if(typeof d==="string"&&!isNaN(d.split("-")[0])&&!isNaN(new Date(d).getTime())){return true}}return false}},{}],24:[function(b,c,a){c.exports=d;function d(h,f,g){var j;if(!h){return 0}g=!g?h:g;if(h instanceof Array){for(j=0;j<h.length;j++){if(f.call(g,h[j],j,h)===false){return 0}}}else{for(j in h){if(h.hasOwnProperty(j)){if(f.call(g,h[j],j,h)===false){return 0}}}}return 1}},{}],25:[function(b,c,a){var f=b("./each");c.exports=d;function d(h){for(var g=1;g<arguments.length;g++){f(arguments[g],function(k,j){if((typeof h[j]!=="undefined"&&typeof k!=="undefined")&&(typeof h[j]==="object"&&typeof k==="object")&&(h[j]!==null&&k!==null)){d(h[j],k)}else{h[j]=k}})}return h}},{"./each":24}],26:[function(b,c,a){c.exports=d;function d(g){for(var f=1;f<arguments.length;f++){for(var h in arguments[f]){g[h]=arguments[f][h]}}return g}},{}],27:[function(c,d,b){d.exports=a;function a(f){var f=Number(f),j=f.toPrecision(3),k="",g=["","k","M","B","T"];if(Number(j)==f&&String(f).length<=4){return String(f)}if(f>=1||f<=-1){if(f<0){f=-f;k="-"}return k+h(f,0)}else{return f.toPrecision(3)}function h(l,n){var l=String(l);var m=l.split(".");if(m.length>1){l=m[0];var p=m[1];if(l.length==2&&p.length>0){if(p.length>0){l=l+"."+p.charAt(0)}else{l+="0"}}else{if(l.length==1&&p.length>0){l=l+"."+p.charAt(0);if(p.length>1){l+=p.charAt(1)}else{l+="0"}}}}var o=l.length;if(l.split(".").length>1){o--}if(o<=3){return String(l)+g[n]}else{return h(Number(l)/1000,n+1)}}}},{}],28:[function(b,c,a){(function(d,f){if(typeof c=="object"&&c.exports){c.exports=f()}else{if(typeof define=="function"&&define.amd){define(f)}else{d.Spinner=f()}}}(this,function(){var j=["webkit","Moz","ms","O"],t={},s,n;function l(u,x){var v=document.createElement(u||"div"),w;for(w in x){v[w]=x[w]}return v}function m(v){for(var u=1,w=arguments.length;u<w;u++){v.appendChild(arguments[u])}return v}function g(y,u,A,D){var v=["opacity",u,~~(y*100),A,D].join("-"),w=0.01+A/D*100,C=Math.max(1-(1-y)/u*(100-w),y),B=s.substring(0,s.indexOf("Animation")).toLowerCase(),x=B&&"-"+B+"-"||"";if(!t[v]){n.insertRule("@"+x+"keyframes "+v+"{0%{opacity:"+C+"}"+w+"%{opacity:"+y+"}"+(w+0.01)+"%{opacity:1}"+(w+u)%100+"%{opacity:"+y+"}100%{opacity:"+C+"}}",n.cssRules.length);t[v]=1}return v}function q(x,y){var w=x.style,u,v;y=y.charAt(0).toUpperCase()+y.slice(1);if(w[y]!==undefined){return y}for(v=0;v<j.length;v++){u=j[v]+y;if(w[u]!==undefined){return u}}}function k(u,w){for(var v in w){u.style[q(u,v)||v]=w[v]}return u}function o(w){for(var u=1;u<arguments.length;u++){var v=arguments[u];for(var x in v){if(w[x]===undefined){w[x]=v[x]}}}return w}function r(v,u){return typeof v=="string"?v:v[u%v.length]}var h={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:1/4,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2000000000,className:"spinner",top:"50%",left:"50%",shadow:false,hwaccel:false,position:"absolute"};function f(u){this.opts=o(u||{},f.defaults,h)}f.defaults={};o(f.prototype,{spin:function(D){this.stop();var F=this,v=F.opts,w=F.el=l(null,{className:v.className});k(w,{position:v.position,width:0,zIndex:v.zIndex,left:v.left,top:v.top});if(D){D.insertBefore(w,D.firstChild||null)}w.setAttribute("role","progressbar");F.lines(w,F.opts);if(!s){var A=0,u=(v.lines-1)*(1-v.direction)/2,z,x=v.fps,C=x/v.speed,B=(1-v.opacity)/(C*v.trail/100),E=C/v.lines;(function y(){A++;for(var G=0;G<v.lines;G++){z=Math.max(1-(A+(v.lines-G)*E)%C*B,v.opacity);F.opacity(w,G*v.direction+u,z,v)}F.timeout=F.el&&setTimeout(y,~~(1000/x))})()}return F},stop:function(){var u=this.el;if(u){clearTimeout(this.timeout);if(u.parentNode){u.parentNode.removeChild(u)}this.el=undefined}return this},lines:function(w,y){var v=0,z=(y.lines-1)*(1-y.direction)/2,u;function x(A,B){return k(l(),{position:"absolute",width:y.scale*(y.length+y.width)+"px",height:y.scale*y.width+"px",background:A,boxShadow:B,transformOrigin:"left",transform:"rotate("+~~(360/y.lines*v+y.rotate)+"deg) translate("+y.scale*y.radius+"px,0)",borderRadius:(y.corners*y.scale*y.width>>1)+"px"})}for(;v<y.lines;v++){u=k(l(),{position:"absolute",top:1+~(y.scale*y.width/2)+"px",transform:y.hwaccel?"translate3d(0,0,0)":"",opacity:y.opacity,animation:s&&g(y.opacity,y.trail,z+v*y.direction,y.lines)+" "+1/y.speed+"s linear infinite"});if(y.shadow){m(u,k(x("#000","0 0 4px #000"),{top:"2px"}))}m(w,m(u,x(r(y.color,v),"0 0 1px rgba(0,0,0,.1)")))}return w},opacity:function(v,u,w){if(u<v.childNodes.length){v.childNodes[u].style.opacity=w}}});function p(){function u(w,v){return l("<"+w+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',v)}n.addRule(".spin-vml","behavior:url(#default#VML)");f.prototype.lines=function(x,w){var v=w.scale*(w.length+w.width),D=w.scale*2*v;function C(){return k(u("group",{coordsize:D+" "+D,coordorigin:-v+" "+-v}),{width:D,height:D})}var y=-(w.width+w.length)*w.scale*2+"px",B=k(C(),{position:"absolute",top:y,left:y}),A;function z(F,E,G){m(B,m(k(C(),{rotation:360/w.lines*F+"deg",left:~~E}),m(k(u("roundrect",{arcsize:w.corners}),{width:v,height:w.scale*w.width,left:w.scale*w.radius,top:-w.scale*w.width>>1,filter:G}),u("fill",{color:r(w.color,F),opacity:w.opacity}),u("stroke",{opacity:0}))))}if(w.shadow){for(A=1;A<=w.lines;A++){z(A,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(A=1;A<=w.lines;A++){z(A)}return m(x,B)};f.prototype.opacity=function(w,v,y,x){var z=w.firstChild;x=x.shadow&&x.lines||0;if(z&&v+x<z.childNodes.length){z=z.childNodes[v+x];z=z&&z.firstChild;z=z&&z.firstChild;if(z){z.opacity=y}}}}if(typeof document!=="undefined"){n=(function(){var u=l("style",{type:"text/css"});m(document.getElementsByTagName("head")[0],u);return u.sheet||u.styleSheet}());var d=k(l("group"),{behavior:"url(#default#VML)"});if(!q(d,"transform")&&d.adj){p()}else{s=q(d,"animation")}}return f}))},{}]},{},[14]);