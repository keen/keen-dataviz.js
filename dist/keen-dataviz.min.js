(function e(b,g,d){function c(m,j){if(!g[m]){if(!b[m]){var i=typeof require=="function"&&require;if(!j&&i){return i(m,!0)}if(a){return a(m,!0)}var k=new Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[m]={exports:{}};b[m][0].call(h.exports,function(l){var o=b[m][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[m].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(d,f,b){var g=d("./dataset");var i=d("./utils/extend");f.exports=function(j){if(!arguments.length){return this.dataset.data()}if(j instanceof g){this.dataset=j;return this}else{return h.call(this,j)}};function h(k){var l,m,r,j,s=[],o,q,p,n;m=this.indexBy()?this.indexBy():"timestamp.start";r=k.metadata||{};o=(typeof k.query!=="undefined")?k.query:{};o=i({analysis_type:null,event_collection:null,filters:[],group_by:null,interval:null,timeframe:null,timezone:null},o);if(o.analysis_type==="funnel"){j="funnel"}else{if(o.analysis_type==="extraction"){j="extraction"}else{if(o.analysis_type==="select_unique"){if(!o.group_by&&!o.interval){j="list"}}else{if(o.analysis_type){if(!o.group_by&&!o.interval){j="metric"}else{if(o.group_by&&!o.interval){if(o.group_by instanceof Array&&o.group_by.length>1){j="double-grouped-metric";s.push(o.group_by)}else{j="grouped-metric"}}else{if(o.interval&&!o.group_by){j="interval";s.push(m)}else{if(o.group_by&&o.interval){if(o.group_by instanceof Array&&o.group_by.length>1){j="double-grouped-interval";s.push(o.group_by);s.push(m)}else{j="grouped-interval";s.push(m)}}}}}}}}}if(!j){if(typeof k.result==="number"){j="metric"}if(k.result instanceof Array&&k.result.length>0){if(k.result[0].timeframe&&(typeof k.result[0].value=="number"||k.result[0].value==null)){j="interval";s.push(m)}if(typeof k.result[0].result=="number"){j="grouped-metric"}if(k.result[0].value instanceof Array){j="grouped-interval";s.push(m)}if(typeof k.result[0]==="number"&&typeof k.steps!=="undefined"){j="funnel";o.steps=k.steps}if((typeof k.result[0]==="string"||typeof k.result[0]=="number")&&typeof k.steps==="undefined"){j="list"}if(!j){j="extraction"}}}if(!this.title()){if(r.display_name){p=r.display_name}else{p=c(o)}this.title(p)}if(!this.type()){if(r.visualization&&r.visualization.chart_type){n=r.visualization.chart_type}else{n=a(j)}this.type(n)}q=g.parser.apply(this,[j].concat(s));l=q(i(k,{query:o}));if(j.indexOf("interval")>-1){l.updateColumn(0,function(u,t){return new Date(u)})}this.dataset=l;return this}function c(j){var l=j.analysis_type?j.analysis_type.replace("_"," "):"",k;k=l.replace(/\b./g,function(m){return m.toUpperCase()});if(j.event_collection){k+=" - "+j.event_collection}return k}function a(k){var j;switch(k){case"metric":j="metric";break;case"interval":j="area";break;case"grouped-metric":case"double-grouped-metric":j="bar";break;case"grouped-interval":case"double-grouped-interval":j="line";break;case"funnel":j="horizontal-bar";break;case"list":case"extraction":default:j="table"}return j}},{"./dataset":2,"./utils/extend":27}],2:[function(b,c,a){(function(d){(function(k){var h=b("./modifiers/append"),q=b("./modifiers/delete"),g=b("./modifiers/filter"),p=b("./modifiers/insert"),m=b("./modifiers/select"),j=b("./modifiers/sort"),i=b("./modifiers/update");var o=b("./utils/analyses"),l=b("../utils/extend"),n=b("./utils/parsers");function f(){if(this instanceof f===false){return new f()}this.matrix=[["Index"]];this.meta={type:undefined}}f.prototype.data=function(r){if(!arguments.length){return this.matrix}this.matrix=(r instanceof Array?r:null);return this};f.prototype.set=function(v,u){if(arguments.length<2||v.length<2){throw Error("Incorrect arguments provided for #set method")}var r="number"===typeof v[0]?v[0]:this.matrix[0].indexOf(v[0]),w="number"===typeof v[1]?v[1]:m.selectColumn.call(this,0).indexOf(v[1]);var t=m.selectColumn.call(this,v[0]),s=m.selectRow.call(this,v[1]);if(t.length<1){h.appendColumn.call(this,String(v[0]));r=this.matrix[0].length-1}if(s.length<1){h.appendRow.call(this,String(v[1]));w=this.matrix.length-1}this.matrix[w][r]=u;return this};f.prototype.type=function(r){if(!arguments.length){return this.meta.type}this.meta.type=(r?String(r):undefined);return this};l(f.prototype,h);l(f.prototype,q);l(f.prototype,g);l(f.prototype,p);l(f.prototype,m);l(f.prototype,j);l(f.prototype,i);l(f.prototype,o);f.parser=n(f);if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataset",[],function(){return f})}k.Keen=k.Keen||{};k.Keen.Dataset=f;k.Dataset=f}).call(this,typeof window!=="undefined"?window:typeof d!=="undefined"?d:typeof self!=="undefined"?self:{})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../utils/extend":27,"./modifiers/append":3,"./modifiers/delete":4,"./modifiers/filter":5,"./modifiers/insert":6,"./modifiers/select":7,"./modifiers/sort":8,"./modifiers/update":9,"./utils/analyses":10,"./utils/parsers":13}],3:[function(d,f,c){var b=d("../utils/create-null-list"),h=d("../../utils/each");f.exports={appendColumn:g,appendRow:a};function g(m,j){var i=this,l=Array.prototype.slice.call(arguments,2),k=(m!==undefined)?m:null;if(typeof j==="function"){i.matrix[0].push(k);h(i.matrix,function(p,o){var n;if(o>0){n=j.call(i,p,o);if(typeof n==="undefined"){n=null}i.matrix[o].push(n)}})}else{if(!j||j instanceof Array){j=j||[];if(j.length<=i.matrix.length-1){j=j.concat(b(i.matrix.length-1-j.length))}else{h(j,function(o,n){if(i.matrix.length-1<j.length){a.call(i,String(i.matrix.length))}})}i.matrix[0].push(k);h(j,function(o,n){i.matrix[n+1][i.matrix[0].length-1]=o})}}return i}function a(n,j){var i=this,m=Array.prototype.slice.call(arguments,2),l=(n!==undefined)?n:null,k=[];k.push(l);if(typeof j==="function"){h(i.matrix[0],function(q,r){var p,o;if(r>0){p=i.selectColumn(r);o=j.call(i,p,r);if(typeof o==="undefined"){o=null}k.push(o)}});i.matrix.push(k)}else{if(!j||j instanceof Array){j=j||[];if(j.length<=i.matrix[0].length-1){j=j.concat(b(i.matrix[0].length-1-j.length))}else{h(j,function(p,o){if(i.matrix[0].length-1<j.length){g.call(i,String(i.matrix[0].length))}})}i.matrix.push(k.concat(j))}}return i}},{"../../utils/each":24,"../utils/create-null-list":11}],4:[function(d,f,c){var g=d("../../utils/each");f.exports={deleteColumn:a,deleteRow:b};function a(j){var h=this,i=(typeof j==="number")?j:this.matrix[0].indexOf(j);if(i>-1){g(h.matrix,function(l,k){h.matrix[k].splice(i,1)})}return h}function b(i){var h=(typeof i==="number")?i:this.selectColumn(0).indexOf(i);if(h>-1){this.matrix.splice(h,1)}return this}},{"../../utils/each":24}],5:[function(c,d,b){var f=c("../../utils/each");d.exports={filterColumns:a,filterRows:g};function a(i){var h=this,j=new Array();f(h.matrix,function(l,k){j.push([])});f(h.matrix[0],function(k,l){var m=h.selectColumn(l);if(l==0||i.call(h,m,l)){f(m,function(n,o){j[o].push(n)})}});h.data(j);return h}function g(i){var h=this,j=[];f(h.matrix,function(l,k){if(k==0||i.call(h,l,k)){j.push(l)}});h.data(j);return h}},{"../../utils/each":24}],6:[function(f,b,g){var i=f("../../utils/each");var h=f("../utils/create-null-list");var c=f("./append");var k=c.appendRow,d=c.appendColumn;b.exports={insertColumn:a,insertRow:j};function a(o,p,m){var l=this,n;n=(p!==undefined)?p:null;if(typeof m==="function"){l.matrix[0].splice(o,0,n);i(l.matrix,function(s,r){var q;if(r>0){q=m.call(l,s,r);if(typeof q==="undefined"){q=null}l.matrix[r].splice(o,0,q)}})}else{if(!m||m instanceof Array){m=m||[];if(m.length<=l.matrix.length-1){m=m.concat(h(l.matrix.length-1-m.length))}else{i(m,function(r,q){if(l.matrix.length-1<m.length){k.call(l,String(l.matrix.length))}})}l.matrix[0].splice(o,0,n);i(m,function(r,q){l.matrix[q+1].splice(o,0,r)})}}return l}function j(p,q,m){var l=this,o,n=[];o=(q!==undefined)?q:null;n.push(o);if(typeof m==="function"){i(l.matrix[0],function(t,u){var s,r;if(u>0){s=l.selectColumn(u);r=m.call(l,s,u);if(typeof r==="undefined"){r=null}n.push(r)}});l.matrix.splice(p,0,n)}else{if(!m||m instanceof Array){m=m||[];if(m.length<=l.matrix[0].length-1){m=m.concat(h(l.matrix[0].length-1-m.length))}else{i(m,function(s,r){if(l.matrix[0].length-1<m.length){d.call(l,String(l.matrix[0].length))}})}l.matrix.splice(p,0,n.concat(m))}}return l}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],7:[function(d,f,c){var g=d("../../utils/each");f.exports={selectColumn:b,selectRow:a};function b(j){var h=new Array(),i=(typeof j==="number")?j:this.matrix[0].indexOf(j);if(i>-1&&"undefined"!==typeof this.matrix[0][i]){g(this.matrix,function(l,k){h.push(l[i])})}return h}function a(j){var h=new Array(),i=(typeof j==="number")?j:this.selectColumn(0).indexOf(j);if(i>-1&&"undefined"!==typeof this.matrix[i]){h=this.matrix[i]}return h}},{"../../utils/each":24}],8:[function(d,f,c){var g=d("../../utils/each");f.exports={sortColumns:b,sortRows:a};function b(m,i){var h=this,j=this.matrix[0].slice(1),l=[],n=[],k=i||this.getColumnLabel;g(j,function(o,p){l.push(h.selectColumn(p+1).slice(0))});l.sort(function(p,o){var q=k.call(h,p)>k.call(h,o);if(q){return(m==="asc"?1:-1)}else{if(!q){return(m==="asc"?-1:1)}else{return 0}}});g(l,function(o,p){h.deleteColumn(p+1).insertColumn(p+1,o[0],o.slice(1))});return h}function a(m,j){var i=this,k=this.matrix.slice(0,1),h=this.matrix.slice(1),l=j||this.getRowIndex;h.sort(function(o,n){var p=l.call(i,o)>l.call(i,n);if(p){return(m==="asc"?1:-1)}else{if(!p){return(m==="asc"?-1:1)}else{return 0}}});i.data(k.concat(h));return i}},{"../../utils/each":24}],9:[function(f,a,g){var j=f("../../utils/each");var h=f("../utils/create-null-list");var b=f("./append");var k=b.appendRow,d=b.appendColumn;a.exports={updateColumn:i,updateRow:c};function i(o,m){var l=this,n=(typeof o==="number")?o:this.matrix[0].indexOf(o);if(n>-1){if(typeof m==="function"){j(l.data(),function(r,q){var p;if(q>0){p=m.call(l,r[n],q,r);if(typeof p!=="undefined"){l.matrix[q][n]=p}}})}else{if(!m||m instanceof Array){m=m||[];if(m.length<=l.data().length-1){m=m.concat(h(l.data().length-1-m.length))}else{j(m,function(q,p){if(l.matrix.length-1<m.length){k.call(l,String(l.matrix.length))}})}j(m,function(q,p){l.matrix[p+1][n]=q})}}}return l}function c(o,m){var l=this,n=(typeof o==="number")?o:this.selectColumn(0).indexOf(o);if(n>-1){if(typeof m==="function"){j(l.data()[n],function(s,r){var q=l.selectColumn(r),p=m.call(l,s,r,q);if(typeof p!=="undefined"){l.matrix[n][r]=p}})}else{if(!m||m instanceof Array){m=m||[];if(m.length<=l.matrix[0].length-1){m=m.concat(h(l.matrix[0].length-1-m.length))}else{j(m,function(q,p){if(l.matrix[0].length-1<m.length){d.call(l,String(l.matrix[0].length))}})}j(m,function(q,p){l.matrix[n][p+1]=q})}}}return l}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],10:[function(d,c,h){var l=d("../../utils/each"),k=d("../../utils/extend");var a={};var f={average:b,maximum:g,minimum:j,sum:i};function b(m,r,n){var q=m.slice(r||0,(n?n+1:m.length)),o=0,p=null;l(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){o+=parseFloat(t)}});return o/q.length}function g(m,q,n){var p=m.slice(q||0,(n?n+1:m.length)),o=[];l(p,function(s,r){if(typeof s==="number"&&!isNaN(parseFloat(s))){o.push(parseFloat(s))}});return Math.max.apply(Math,o)}function j(m,q,n){var p=m.slice(q||0,(n?n+1:m.length)),o=[];l(p,function(s,r){if(typeof s==="number"&&!isNaN(parseFloat(s))){o.push(parseFloat(s))}});return Math.min.apply(Math,o)}function i(m,q,n){var p=m.slice(q||0,(n?n+1:m.length)),o=0;l(p,function(s,r){if(typeof s==="number"&&!isNaN(parseFloat(s))){o+=parseFloat(s)}});return o}l(f,function(o,m){var n=m.charAt(0).toUpperCase()+m.slice(1);a["getColumn"+n]=a["getRow"+n]=function(p){return this[m](p,1)}});a.getColumnLabel=a.getRowIndex=function(m){return m[0]};k(f,a);c.exports=f},{"../../utils/each":24,"../../utils/extend":27}],11:[function(b,c,a){c.exports=function(d){var g=new Array();for(var f=0;f<d;f++){g.push(null)}return g}},{}],12:[function(b,c,a){c.exports=d;function d(g){var k={};for(var h in g){if(!g.hasOwnProperty(h)){continue}if((typeof g[h])=="object"&&g[h]!==null){var j=d(g[h]);for(var f in j){if(!j.hasOwnProperty(f)){continue}k[h+"."+f]=j[f]}}else{k[h]=g[h]}}return k}},{}],13:[function(f,c,j){var b;var p=f("../../utils/each"),a=f("../utils/flatten");var q={metric:m,interval:i,"grouped-metric":o,"grouped-interval":r,"double-grouped-metric":h,"double-grouped-interval":g,funnel:n,list:k,extraction:d};c.exports=l;function l(s){b=s;return function(u){var t=Array.prototype.slice.call(arguments,1);if(!q[u]){throw"Requested parser does not exist"}else{return q[u].apply(this,t)}}}function m(){return function(s){return new b().set(["Value","Result"],s.result).type("metric")}}function i(){var s=Array.prototype.slice.call(arguments);return function(t){var u=new b().type("interval");p(t.result,function(v,x){var w=s[0]&&s[0]==="timeframe.end"?v.timeframe.end:v.timeframe.start;u.set(["Result",w],v.value)});return u}}function o(){return function(s){var t=new b().type("grouped-metric");p(s.result,function(u,w){var v;p(u,function(y,x){if(x!=="result"){v=x}});t.set(["Result",String(u[v])],u.result)});return t}}function r(){var s=Array.prototype.slice.call(arguments);return function(t){var u=new b().type("grouped-interval");p(t.result,function(v,x){var w=s[0]&&s[0]==="timeframe.end"?v.timeframe.end:v.timeframe.start;if(v.value.length){p(v.value,function(A,z){var y;p(A,function(C,B){if(B!=="result"){y=B}});u.set([String(A[y]),w],A.result)})}else{u.appendRow(w)}});return u}}function h(){var s=Array.prototype.slice.call(arguments);if(!s[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(t){var u=new b().type("double-grouped-metric");p(t.result,function(v,w){var x=v[s[0][0]]+" "+v[s[0][1]];u.set(["Result",x],v.result)});return u}}function g(){var s=Array.prototype.slice.call(arguments);if(!s[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(t){var u=new b().type("double-grouped-interval");p(t.result,function(v,x){var w=s[1]&&s[1]==="timeframe.end"?v.timeframe.end:v.timeframe.start;p(v.value,function(A,z){var y=A[s[0][0]]+" "+A[s[0][1]];u.set([y,w],A.result)})});return u}}function n(){return function(u){var s,t,v;if(typeof u.steps!=="undefined"&&typeof u.result!=="undefined"&&u.result instanceof Array){s=u.result;t=u.steps}else{if(typeof u.result.steps!=="undefined"&&typeof u.result.result!=="undefined"&&u.result.result instanceof Array){s=u.result.result;t=u.result.steps}}v=new b().type("funnel");v.appendColumn("Step Value");p(s,function(x,w){if(typeof t!=="undefined"&&t[w]){v.appendRow(String(t[w].event_collection),[x])}});return v}}function k(){return function(s){var t=new b().type("list");p(s.result,function(v,u){t.set(["Result",String(u+1)],v)});return t}}function d(){return function(s){var t=new b().type("extraction");p(s.result,function(u,v){p(a(u),function(x,w){t.set([w,String(v+1)],x)})});t.deleteColumn(0);return t}}},{"../../utils/each":24,"../utils/flatten":12}],14:[function(b,c,a){(function(d){(function(o){var g=b("./dataset"),l=b("./data");var q=b("./utils/each"),p=b("./utils/extend"),m=b("./utils/assert-date-string"),k=b("./utils/escape-html");function f(){if(this instanceof f===false){return new f()}this.dataset=new g();this.view={_prepared:false,_rendered:false,_artifacts:{},chartOptions:{},colors:["#00bbde","#fe6672","#eeb058","#8a8ad6","#ff855c","#00cfbb","#5a9eed","#73d483","#c879bb","#0099b6","#d74d58","#cb9141","#6b6bb6","#d86945","#00aa99","#4281c9","#57b566","#ac5c9e","#27cceb","#ff818b","#f6bf71","#9b9be1","#ff9b79","#26dfcd","#73aff4","#87e096","#d88bcb"],colorMapping:{},dateFormat:undefined,el:undefined,height:undefined,indexBy:"timeframe.start",labels:[],labelMapping:{},library:"default",notes:undefined,sortGroups:undefined,sortIntervals:undefined,stacked:false,theme:"keen-dataviz",title:undefined,type:undefined,width:undefined};f.visuals.push(this)}f.libraries={"default":{}};if("undefined"!==typeof window){f.libraries["default"]=b("./libraries")(f)}f.visuals=[];f.register=function(r,s){f.libraries[r]=f.libraries[r]||{};q(s,function(u,t){f.libraries[r][t]=u})};f.find=function(t){if(!arguments.length){return f.visuals}var s=t.nodeName?t:document.querySelector(t),r=null;q(f.visuals,function(u){if(s==u.el()){r=u;return false}});return r};f.prototype.attributes=function(s){if(!arguments.length){return this.view}var r=this.view;q(s,function(u,t){if(t==="chartType"){t="type"}r[t]=u});return this};f.prototype.call=function(r){r.call(this);return this};f.prototype.chartOptions=function(s){var r=this;if(!arguments.length){return this.view.chartOptions}if(s===null){this.view.chartOptions={}}else{if(typeof s==="object"){q(s,function(u,t){r.view.chartOptions[t]=(u?u:null)})}}return this};f.prototype.colors=function(r){if(!arguments.length){return this.view.colors}this.view.colors=(r instanceof Array?r:[]);return this};f.prototype.colorMapping=function(s){var r=this;if(!arguments.length){return this.view.colorMapping}if(s===null){this.view.colorMapping={}}else{if(typeof s==="object"){q(s,function(u,t){r.view.colorMapping[t]=(u?u:null)})}}return this};f.prototype.data=l;f.prototype.dateFormat=function(r){if(!arguments.length){return this.view.dateFormat}if(typeof r==="string"||typeof r==="function"){this.view.dateFormat=r}else{this.view.dateFormat=undefined}return this};f.prototype.destroy=function(){var r=this.library(),t=this.type(),s=this.el();if(f.libraries[r]&&f.libraries[r][t]){f.libraries[r][t].destroy.call(this)}if(s){s.innerHTML=""}this.view._prepared=false;this.view._rendered=false;this.view._artifacts={};return this};f.prototype.el=function(s){var r=this;if(!arguments.length){return this.view.el}j(function(){if(s&&s!==null){if(s.nodeName){r.view.el=s}else{if(document.querySelector){r.view.el=document.querySelector(s)}}}else{r.view.el=undefined}});return this};f.prototype.height=function(r){if(!arguments.length){return this.view.height}this.view.height=(!isNaN(parseInt(r))?parseInt(r):null);return this};f.prototype.indexBy=function(r){if(!arguments.length){return this.view.indexBy}this.view.indexBy=(r?String(r):"timeframe.start");return this};f.prototype.labels=function(r){if(!arguments.length){return this.view.labels}this.view.labels=(r instanceof Array?r:[]);if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(t,s){if(this.view.labels[s-1]){return String(this.view.labels[s-1])}else{return t}}.bind(this))}else{this.dataset.updateRow(0,function(t,s){if(s>0&&this.view.labels[s-1]){return String(this.view.labels[s-1])}else{return t}}.bind(this))}return this};f.prototype.labelMapping=function(r){if(!arguments.length){return this.view.labelMapping}if(r===null){this.view.labelMapping={}}else{if(typeof r==="object"){q(r,function(t,s){this.view.labelMapping[s]=(t?t:null)}.bind(this))}}if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(s){if(this.view.labelMapping[s]){return k(String(this.view.labelMapping[s]))}else{return k(s)}}.bind(this))}else{this.dataset.updateRow(0,function(s){if(this.view.labelMapping[s]){return k(String(this.view.labelMapping[s]))}else{return k(s)}}.bind(this))}return this};f.prototype.library=function(r){if(!arguments.length){return this.view.library}this.view.library=(r?String(r):null);return this};f.prototype.message=function(){var r;if(this.view._rendered){this.destroy()}if(this.el()){this.el().innerHTML="";var s=f.libraries["default"].message;if(s.render){s.render.apply(this,arguments)}}return this};f.prototype.notes=function(r){if(!arguments.length){return this.view.notes}this.view.notes=(r?String(r):null);return this};f.prototype.prepare=function(){var s=this,r;if(!this.el()){throw"A DOM element is required. Check out the .el() method.";return}j(function(){if(s.view._rendered){s.destroy()}if(s.el()){s.el().innerHTML="";r=f.libraries["default"].spinner;if(r.render){r.render.call(s)}s.view._prepared=true}});return this};f.prototype.render=function(){var t=this,r=f.libraries["default"].spinner,s=this.library(),v=this.type(),u=this.el();if(!this.el()){this.message("A DOM element is required. Check out the .el() method.");throw"A DOM element is required. Check out the .el() method.";return}if(!this.type()){this.message("A chart type is required. Check out the .type() method.");throw"A chart type is required. Check out the .type() method.";return}j(function(){if(t.view._prepared&&r.destroy){r.destroy.apply(t,arguments)}t.el().innerHTML="";if(f.libraries[s]==="undefined"){t.message("Incorrect library");throw"Incorrect library";return}else{if(typeof f.libraries[s][v]==="undefined"){this.message("Incorrect chart type");throw"Incorrect chart type";return}else{n(t.el(),{notes:t.notes(),theme:t.theme(),title:t.title()});f.libraries[s][v].render.call(t);t.view._rendered=true}}});return this};f.prototype.sortGroups=function(r){if(!arguments.length){return this.view.sortGroups}this.view.sortGroups=(r?String(r):null);if(this.view.sortGroups&&this.data().length>1){if(m(this.data()[1][0])){this.dataset.sortColumns(this.view.sortGroups,this.dataset.getColumnSum)}else{this.dataset.sortRows(this.view.sortGroups,this.dataset.getRowSum)}}return this};f.prototype.sortIntervals=function(r){if(!arguments.length){return this.view.sortInterval}this.view.sortIntervals=(r?String(r):null);if(this.view.sortIntervals){this.dataset.sortRows(this.view.sortIntervals)}return this};f.prototype.stacked=function(r){if(!arguments.length){return this.view.stacked}this.view.stacked=r?true:false;return this};f.prototype.theme=function(r){if(!arguments.length){return this.view.theme}this.view.theme=(r?String(r):null);return this};f.prototype.title=function(r){if(!arguments.length){return this.view.title}this.view.title=(r?String(r):null);return this};f.prototype.type=function(r){if(!arguments.length){return this.view.type}this.view.type=(r?i(r):null);return this};f.prototype.update=function(){var r=this.library(),t=this.type(),s=this.el();if(r&&t&&s&&f.libraries[r][t].update){f.libraries[r][t].update.apply(this,arguments)}return this};f.prototype.width=function(r){if(!arguments.length){return this.view.width}this.view.width=(!isNaN(parseInt(r))?parseInt(r):null);return this};f.prototype.chartType=f.prototype.type;f.prototype.error=f.prototype.message;f.prototype.parseRawData=f.prototype.data;f.prototype.parseRequest=function(){return this};f.prototype.initialize=function(){return this};function n(t,r){var s="";s+='<div class="'+r.theme+'">';if(r.title){s+='<div class="'+r.theme+'-title">'+k(r.title)+"</div>"}s+='<div class="'+r.theme+'-stage"><div class="'+r.theme+'-rendering"></div></div>';if(r.notes){s+='<div class="'+r.theme+'-notes">'+k(r.notes)+"</div>"}s+="</div>";t.innerHTML=s}function i(s){var r={areachart:"area",barchart:"horizontal-bar",columnchart:"bar",linechart:"line",piechart:"pie"};return r[s]||s}function j(s){if("undefined"!==typeof document||"undefined"===typeof window){s();return}if(document.readyState==null&&document.addEventListener){document.addEventListener("DOMContentLoaded",function r(){document.removeEventListener("DOMContentLoaded",r,false);document.readyState="complete"},false);document.readyState="loading"}h(s)}function h(r){if(/in/.test(document.readyState)){setTimeout(function(){h(r)},9)}else{r()}}if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataviz",[],function(){return f})}o.Keen=o.Keen||{};o.Keen.Dataviz=f;o.Dataviz=f}).call(this,typeof window!=="undefined"?window:typeof d!=="undefined"?d:typeof self!=="undefined"?self:{})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./data":1,"./dataset":2,"./libraries":22,"./utils/assert-date-string":23,"./utils/each":24,"./utils/escape-html":25,"./utils/extend":27}],15:[function(b,c,a){c.exports=function(f,g){var h=Math.abs(new Date(f).getTime()-new Date(g).getTime());var d=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];if(h>=2419200000){return function(j){var i=new Date(j);return d[i.getMonth()]+" "+i.getFullYear()}}else{if(h>=86400000){return function(j){var i=new Date(j);return d[i.getMonth()]+" "+i.getDate()}}else{if(h>=3600000){return"%I:%M %p"}else{return"%I:%M:%S %p"}}}}},{}],16:[function(c,d,a){var f=c("d3");var b=c("../../../utils/assert-date-string");d.exports=function(q){var w=this,o=this.view._artifacts.c3,h=[],j=this.el().querySelector("."+this.theme()+"-rendering"),t=120;var u=this.view._artifacts.pagination={hidden:[],labels:[],position:0,range:Math.round((j.offsetHeight-78)/20),total:0};if(this.type()==="donut"||this.type()==="pie"){u.range=u.range>=5?5:u.range}for(var l=0;l<q.length;l++){if(q[l][0]!=="x"&&!b(q[l][1])){h.push(q[l][0])}}var m=f.select(j).append("svg").attr({"class":"keen-c3-legend",height:j.offsetHeight-10,width:t}).style({right:-t+"px",top:"10px"});var k=m.append("g").attr("class","keen-c3-legend-items");var g=20*u.range;var p=m.append("g").attr({"class":"keen-c3-legend-pagination",transform:function(){return"translate(2, "+g+")"}});s();function s(){u.labels=h.slice(u.position,u.position+u.range);u.total=h.length;v.call(w,u.labels);if(u.total>u.range){r.call(w)}o.resize()}function v(){k.selectAll("g").remove();var i=k.selectAll("g").data(u.labels);i.enter().append("g").attr("transform",function(y,x){return"translate(0, "+(20*x)+")"}).attr("data-id",function(x){return x}).style("opacity",function(y){var x=u.hidden.indexOf(y);return x<0?1:0.35}).each(function(x){f.select(this).append("text").attr({"font-size":12,"pointer-events":"none",x:15,y:9}).text(x).text(function(y){if(f.select(this).node().getBBox().width>105){return y.length<=15?y:y.substring(0,12)+"..."}else{return y}});f.select(this).append("rect").attr({height:14,width:110,x:0,y:0}).style({cursor:"pointer","fill-opacity":0});f.select(this).append("rect").attr({fill:o.color(x),height:10,"pointer-events":"none",rx:5,ry:5,width:10,x:0,y:0})}).on("mouseover",function(y,x){o.focus(y);if(y.length>15){f.select(j).append("div").attr("class","keen-c3-legend-label-overlay").style({"max-width":"75%",right:-t+"px",top:(5+(x+1)*20)+"px"}).html(y).append("div").attr("class","keen-c3-legend-label-overlay-pointer")}}).on("mouseout",function(x){o.revert();f.select(w.el().querySelector("."+w.theme()+"-rendering .keen-c3-legend-label-overlay")).remove()}).on("click",function(x){f.select(this).style("opacity",function(){var y=u.hidden.indexOf(x);if(y<0){u.hidden.push(x);return 0.35}else{u.hidden.splice(y,1);return 1}});o.toggle(x)});i.exit().remove()}function r(){p.selectAll("g").remove();p.selectAll("g").data([{direction:"reverse",path_d:"M0 10 L10 0 L20 10 Z"},{direction:"forward",path_d:"M0 0 L10 10 L20 0 Z"}]).enter().append("g").attr("transform",function(y,x){return"translate("+(x*20)+", 0)"}).each(function(i){f.select(this).append("path").attr("d",function(x){return x.path_d}).style({cursor:"pointer",fill:"#D7D7D7",stroke:"none"}).on("mouseover",function(x){f.select(this).style("fill","#4D4D4D")}).on("mouseout",function(x){f.select(this).style("fill","#D7D7D7")}).on("click",function(x){if(x.direction==="forward"){if(u.position+u.range<u.total){u.position=u.position+u.range}}else{if(u.position-u.range>=0){u.position=u.position-u.range}}s();n()})})}function n(){var i;if(document.selection&&document.selection.empty){i=document.selection;i.empty()}else{if(window.getSelection){i=window.getSelection();i.removeAllRanges()}}}}},{"../../../utils/assert-date-string":23,d3:30}],17:[function(c,d,b){var a=c("../../../utils/escape-html");d.exports=function(o,g,h,k){var s,f,j,r,p,m,q,n;j=this.config.tooltip_format_name||function(i){return i};m=this.config.tooltip_format_title||g;n=this.config.tooltip_format_value||h;for(var l=0;l<o.length;l++){if(!(o[l]&&(o[l].value||o[l].value===0))){continue}if(!r){p=m?m(o[l].x):o[l].x;r="<table class='"+this.CLASS.tooltip+"'>"+(p||p===0?"<tr><th colspan='2'>"+a(p)+"</th></tr>":"")}f=j(o[l].name);q=n(o[l].value,o[l].ratio,o[l].id,o[l].index);s=this.levelColor?this.levelColor(o[l].value):k(o[l].id);if(q){r+="<tr class='"+this.CLASS.tooltipName+"-"+o[l].id+"'>";r+="<td class='name'><span style='background-color:"+s+"'></span>"+a(f)+"</td>";r+="<td class='value'>"+a(q)+"</td>";r+="</tr>"}}return r+"</table>"}},{"../../../utils/escape-html":25}],18:[function(c,d,b){var a=c("../../utils/escape-html");d.exports={render:function(m){var j=document.createElement("div");var h=document.createElement("div");var l=document.createElement("span");var g=this.height()||140;var f=document.createElement("div");var k=document.createElement("div");j.className=this.theme();h.className=this.theme()+"-message";h.style.width=this.width()+"px";f.className=this.theme()+"-title";f.innerHTML=a(this.title()||"");k.className=this.theme()+"-notes";k.innerHTML=a(this.notes()||"");l.innerHTML=a(m)||"";h.appendChild(l);j.appendChild(f);j.appendChild(h);j.appendChild(k);this.el().innerHTML="";this.el().appendChild(j);var i=g-f.offsetHeight-k.offsetHeight;h.style.height=i+"px";h.style.paddingTop=(i/2-12)+"px"},update:function(){this.render()},destroy:function(){}}},{"../../utils/escape-html":25}],19:[function(d,f,c){var b=d("../../utils/pretty-number");var a=d("../../utils/escape-html");f.exports={render:function(){var k=this.colors()[0],l=this.theme(),o=this.title(),p="-",r=this.height()||140,i=this.width(),h=this.chartOptions(),m="",n="",q="",g,j;if(typeof this.data()[1][1]==="number"){p=this.data()[1][1]}g=p;if((typeof h.prettyNumber==="undefined"||h.prettyNumber===true)&&!isNaN(parseInt(p))){g=b(p)}if(h.prefix){n='<span class="'+l+'-metric-prefix">'+h.prefix+"</span>"}if(h.suffix){q='<span class="'+l+'-metric-suffix">'+h.suffix+"</span>"}m+='<div class="'+l+'">';m+='<div class="'+l+'-metric" style="background-color: '+k+"; width: "+(i?i+"px":"auto")+';" title="'+a(p)+'">';m+='<span class="'+l+'-metric-value">'+n+a(g)+q+"</span>";if(o){m+='<span class="'+l+'-metric-title">'+a(o)+"</span>"}m+="</div>";m+="</div>";this.el().innerHTML=m;j=this.el().querySelector("."+l+"-metric-value");j.style.paddingTop=((r-this.el().offsetHeight)/2)+"px";this.el().querySelector("."+l+"-metric").style.height=r+"px"},update:function(){this.render()},destroy:function(){}}},{"../../utils/escape-html":25,"../../utils/pretty-number":28}],20:[function(b,c,a){c.exports={render:function(){var h="",g=this.view._artifacts.spinner={},f=this.height()||35,j=(f-35)/2,i=["webkit","Moz","ms","O"],d=this.view._artifacts.radius=0,k;h+='<div class="'+this.theme()+'">';h+='<div class="keen-spinner-container" style="height: '+f+"px; padding-top: "+j+'px;">';h+='<div class="keen-spinner-indicator"></div>';h+="</div>";h+="</div>";this.el().innerHTML=h;k=this.el().querySelector(".keen-spinner-indicator");if(k.style.animationName===undefined){d=0;g.interval=setInterval(function(){d=(d===350)?0:d+10;for(var l=0;l<i.length;l++){k.style[i[l]]="rotate("+g.radius+"deg)"}},15)}},update:function(){this.render()},destroy:function(){if(this.view._artifacts.spinner){if(this.view._artifacts.spinner.interval){clearInterval(this.view._artifacts.spinner.interval)}this.view._artifacts.spinner.radius=0;try{delete this.view._artifacts.spinner}catch(d){this.view._artifacts.spinner=undefined}}this.el().innerHTML=""}}},{}],21:[function(d,f,b){var g=d("../../utils/each");var a=d("../../utils/escape-html");var h={height:undefined,width:undefined,stickyHeader:true,stickyFooter:false};function c(p,k,m){var o="";for(var n=0;n<p.length;n++){if(n>0){o+="<tr>";for(var l=0;l<p[n].length;l++){o+='<td style="min-width: '+(10*k[l])+"px; text-align: "+m[l]+';">'+a(p[n][l])+"</td>"}o+="</tr>"}}return o}f.exports={render:function(){var m=this.data(),l=this.el(),s=(this.height()||h.height)-this.el().offsetHeight,p=this.theme(),k=this.width()||h.width;var q="",r=new Array(m[0].length),t=new Array(m[0].length),j;var o=m.length===1&&m[0].length===0;if(o){this.message("No data to display");return}g(m,function(i){g(i,function(u,v){if(!t[v]){t[v]=0}r[v]=(typeof u==="number")?"right":"left";t[v]=(String(u).length>t[v])?String(u).length:t[v]})});q+='<div class="'+p+'-table" style="height: '+(s?s+"px":"auto")+"; width: "+(k?k+"px":"auto")+';">';q+='<table class="'+p+'-table-dataset">';q+="<thead>";q+="<tr>";for(var n=0;n<m[0].length;n++){q+='<th style="width: '+(10*t[n])+"px; text-align: "+r[n]+';">'+a(m[0][n])+"</th>"}q+="</tr>";q+="</thead>";q+="<tbody>";q+=c.bind(this,m,t,r)();q+="</tbody>";q+="</table>";q+='<table class="'+p+'-table-fixed-header">';q+="<thead>";q+="<tr>";for(var n=0;n<m[0].length;n++){q+='<th style="min-width: '+(10*t[n])+"px; text-align: "+r[n]+';">'+a(m[0][n])+"</th>"}q+="</tr>";q+="</thead>";q+="</table>";q+="</div>";l.querySelector("."+p+"-rendering").innerHTML=q;j=l.querySelector("."+p+"-table-fixed-header");l.querySelector("."+p+"-table").onscroll=function(i){j.style.top=i.target.scrollTop+"px"}},update:function(){this.render()},destroy:function(){var i=this.el().querySelector("."+this.theme()+"-table");if(i&&i.onscroll){i.onscroll=undefined}}}},{"../../utils/each":24,"../../utils/escape-html":25}],22:[function(d,c,h){var g=d("c3"),r=d("d3");var q=d("../utils/each"),n=d("../utils/extend"),o=d("../utils/extend-deep"),j=d("../utils/assert-date-string");var k=d("./c3/extensions/default-date-format");var i=d("./c3/extensions/paginating-legend");var m=d("./c3/extensions/tooltip-contents");var l={message:d("./default/message"),metric:d("./default/metric"),table:d("./default/table"),spinner:d("./default/spinner")};c.exports=function(t){var u,s;f(function(){if(u){clearTimeout(u)}s=(t.visuals.length>12)?1000:250;u=setTimeout(function(){q(t.visuals,function(v){if(v.view._artifacts.c3){v.view._artifacts.c3.resize()}})},s)});p();return l};function p(){var t=["area","area-spline","area-step","bar","donut","gauge","line","pie","step","spline","horizontal-area","horizontal-area-spline","horizontal-area-step","horizontal-bar","horizontal-line","horizontal-step","horizontal-spline"];function s(){var w,u,v;w={axis:{},color:{},data:{order:null},legend:{position:"right",show:true},padding:{},point:{focus:{expand:{enabled:false}},r:2,show:true},tooltip:{}};u={bindto:this.el().querySelector("."+this.theme()+"-rendering"),color:{pattern:this.colors()},data:{colors:n({},this.colorMapping()),columns:[],type:this.type().replace("horizontal-","")},size:{height:this.height()?this.height()-this.el().offsetHeight:400,width:this.width()},tooltip:{},transition:{duration:0}};v=o({},w,this.chartOptions());v=o(v,u);v.color.pattern=u.color.pattern;v.data.colors=u.data.colors;v.data.columns=u.data.columns;return v}q(t,function(v,u){l[v]={render:function(){var w=s.call(this);if(this.data()[0].length===1||this.data().length===1){this.message("No data to display");return}if(v==="gauge"){w.legend.position="bottom";w.data.columns=[[this.title()||this.data()[1][0],this.data()[1][1]]]}else{if(v==="pie"||v==="donut"){w.data.columns=this.data().slice(1)}else{if(v.indexOf("horizontal-")>-1){w.axis.rotated=v.indexOf("horizontal-")>-1}if(j(this.data()[1][0])){w.axis.x=w.axis.x||{};w.axis.x.type="timeseries";w.axis.x.tick=w.axis.x.tick||{format:this.dateFormat()||k(this.data()[1][0],this.data()[2]?this.data()[2][0]:this.data()[1][0]),culling:{max:5}};w.data.columns[0]=[];q(this.dataset.selectColumn(0),function(y,z){if(z>0){y=new Date(y)}w.data.columns[0][z]=y});w.data.columns[0][0]="x";w.data.x="x";if(this.stacked()&&this.data()[0].length>2){w.data.groups=[this.dataset.selectRow(0).slice(1)]}}else{w.axis.x=w.axis.x||{};w.axis.x.type="category";w.axis.x.categories=this.dataset.selectColumn(0).slice(1);if(this.stacked()&&this.data()[0].length>2){w.data.groups=[this.dataset.selectRow(0).slice(1)]}}if(this.data()[0].length===2){w.legend.show=false}q(this.data()[0],function(y,z){if(z>0){w.data.columns.push(this.dataset.selectColumn(z))}}.bind(this))}}if(w.legend.show===true&&w.legend.position==="right"&&["gauge"].indexOf(v.replace("horizontal-",""))){w.data.color=b.bind(this);w.tooltip={contents:m,format:{value:a.bind(this)}};w.legend.show=false;var x=this.el().querySelector("."+this.theme()+"-rendering").offsetWidth-100;w.size.width=w.size.width||x;this.el().querySelector("."+this.theme()+"-rendering").setAttribute("style","margin-right: 120px;");this.view._artifacts.c3=g.generate(w);i.call(this,w.data.columns)}else{w.legend.show=false;this.view._artifacts.c3=g.generate(w)}},update:function(){this.render()},destroy:function(){if(this.view._artifacts.c3){this.view._artifacts.c3.destroy();this.view._artifacts.c3=null}}}})}function b(s,u){var t;if(this.view._artifacts.pagination&&this.type()!=="gauge"){t=this.view._artifacts.pagination.labels;if((u.id&&t.indexOf(u.id)>-1)||(u&&!u.id&&t.indexOf(u)>-1)){return s}else{if(this.type()==="donut"||this.type()==="pie"){return"rgba(0,0,0,.1)"}else{return"rgba(0,0,0,.07)"}}}else{return s}}function a(v,u,w,s){var t;if(this.view._artifacts.pagination&&this.type()!=="gauge"){t=this.view._artifacts.pagination.labels;if(t.indexOf(w)>-1){return v}}else{return v}}function f(s){if("undefined"===typeof window){return}window.onresize=window.resize=function(){};if(window.addEventListener){window.addEventListener("resize",s,true)}else{if(window.attachEvent){window.attachEvent("onresize",s)}}}},{"../utils/assert-date-string":23,"../utils/each":24,"../utils/extend":27,"../utils/extend-deep":26,"./c3/extensions/default-date-format":15,"./c3/extensions/paginating-legend":16,"./c3/extensions/tooltip-contents":17,"./default/message":18,"./default/metric":19,"./default/spinner":20,"./default/table":21,c3:29,d3:30}],23:[function(d,f,a){f.exports=function(g){if(typeof g==="object"){return c(g)}else{if(typeof g==="string"){return b(g)}}return false};function c(g){if(g!==null&&typeof g.getTime==="function"&&!isNaN(g.getTime())){return true}return false}function b(g){var h=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;return h.test(g)}},{}],24:[function(b,c,a){c.exports=d;function d(h,f,g){var i;if(!h){return 0}g=!g?h:g;if(h instanceof Array){for(i=0;i<h.length;i++){if(f.call(g,h[i],i,h)===false){return 0}}}else{for(i in h){if(h.hasOwnProperty(i)){if(f.call(g,h[i],i,h)===false){return 0}}}}return 1}},{}],25:[function(c,d,b){var f=/["'&<>]/;d.exports=a;function a(i){var l=""+i;var h=f.exec(l);if(!h){return l}var k;var j="";var g=0;var m=0;for(g=h.index;g<l.length;g++){switch(l.charCodeAt(g)){case 34:k="&quot;";break;case 38:k="&amp;";break;case 39:k="&#39;";break;case 60:k="&lt;";break;case 62:k="&gt;";break;default:continue}if(m!==g){j+=l.substring(m,g)}m=g+1;j+=k}return m!==g?j+l.substring(m,g):j}},{}],26:[function(b,c,a){var f=b("./each");c.exports=d;function d(h){for(var g=1;g<arguments.length;g++){f(arguments[g],function(j,i){if((typeof h[i]!=="undefined"&&typeof j!=="undefined")&&(typeof h[i]==="object"&&typeof j==="object")&&(h[i]!==null&&j!==null)){d(h[i],j)}else{h[i]=j}})}return h}},{"./each":24}],27:[function(b,c,a){c.exports=d;function d(g){for(var f=1;f<arguments.length;f++){for(var h in arguments[f]){g[h]=arguments[f][h]}}return g}},{}],28:[function(c,d,b){d.exports=a;function a(f){var f=Number(f),i=f.toPrecision(3),j="",g=["","k","M","B","T"];if(Number(i)==f&&String(f).length<=4){return String(f)}if(Math.abs(f)>=1000000000000000){return i}if(f>=1||f<=-1){if(f<0){f=-f;j="-"}return j+h(f,0)}else{return f.toPrecision(3)}function h(k,m){var k=String(k);var l=k.split(".");if(l.length>1){k=l[0];var o=l[1];if(k.length==2&&o.length>0){if(o.length>0){k=k+"."+o.charAt(0)}else{k+="0"}}else{if(k.length==1&&o.length>0){k=k+"."+o.charAt(0);if(o.length>1){k+=o.charAt(1)}else{k+="0"}}}}var n=k.length;if(k.split(".").length>1){n--}if(n<=3){return String(k)+g[m]}else{return h(Number(k)/1000,m+1)}}}},{}],29:[function(b,c,a){(function(ae){var n={version:"0.4.11"};var C,G,q;function V(ax){this.owner=ax}function A(az,ax){if(Object.create){ax.prototype=Object.create(az.prototype)}else{var ay=function ay(){};ay.prototype=az.prototype;ax.prototype=new ay()}ax.prototype.constructor=ax;return ax}function aa(az){var ay=this.internal=new aq(this);ay.loadConfig(az);ay.beforeInit(az);ay.init();ay.afterInit(az);(function ax(aA,aC,aB){Object.keys(aA).forEach(function(aD){aC[aD]=aA[aD].bind(aB);if(Object.keys(aA[aD]).length>0){ax(aA[aD],aC[aD],aB)}})})(C,this,this)}function aq(ay){var ax=this;ax.d3=ae.d3?ae.d3:typeof b!=="undefined"?b("d3"):undefined;ax.api=ay;ax.config=ax.getDefaultConfig();ax.data={};ax.cache={};ax.axes={}}n.generate=function(ax){return new aa(ax)};n.chart={fn:aa.prototype,internal:{fn:aq.prototype,axis:{fn:y.prototype}}};C=n.chart.fn;G=n.chart.internal.fn;q=n.chart.internal.axis.fn;G.beforeInit=function(){};G.afterInit=function(){};G.init=function(){var ax=this,ay=ax.config;ax.initParams();if(ay.data_url){ax.convertUrlToData(ay.data_url,ay.data_mimeType,ay.data_headers,ay.data_keys,ax.initWithData)}else{if(ay.data_json){ax.initWithData(ax.convertJsonToData(ay.data_json,ay.data_keys))}else{if(ay.data_rows){ax.initWithData(ax.convertRowsToData(ay.data_rows))}else{if(ay.data_columns){ax.initWithData(ax.convertColumnsToData(ay.data_columns))}else{throw Error("url or json or rows or columns is required.")}}}}};G.initParams=function(){var ax=this,az=ax.d3,ay=ax.config;ax.clipId="c3-"+(+new Date())+"-clip",ax.clipIdForXAxis=ax.clipId+"-xaxis",ax.clipIdForYAxis=ax.clipId+"-yaxis",ax.clipIdForGrid=ax.clipId+"-grid",ax.clipIdForSubchart=ax.clipId+"-subchart",ax.clipPath=ax.getClipPath(ax.clipId),ax.clipPathForXAxis=ax.getClipPath(ax.clipIdForXAxis),ax.clipPathForYAxis=ax.getClipPath(ax.clipIdForYAxis);ax.clipPathForGrid=ax.getClipPath(ax.clipIdForGrid),ax.clipPathForSubchart=ax.getClipPath(ax.clipIdForSubchart),ax.dragStart=null;ax.dragging=false;ax.flowing=false;ax.cancelClick=false;ax.mouseover=false;ax.transiting=false;ax.color=ax.generateColor();ax.levelColor=ax.generateLevelColor();ax.dataTimeFormat=ay.data_xLocaltime?az.time.format:az.time.format.utc;ax.axisTimeFormat=ay.axis_x_localtime?az.time.format:az.time.format.utc;ax.defaultAxisTimeFormat=ax.axisTimeFormat.multi([[".%L",function(aA){return aA.getMilliseconds()}],[":%S",function(aA){return aA.getSeconds()}],["%I:%M",function(aA){return aA.getMinutes()}],["%I %p",function(aA){return aA.getHours()}],["%-m/%-d",function(aA){return aA.getDay()&&aA.getDate()!==1}],["%-m/%-d",function(aA){return aA.getDate()!==1}],["%-m/%-d",function(aA){return aA.getMonth()}],["%Y/%-m/%-d",function(){return true}]]);ax.hiddenTargetIds=[];ax.hiddenLegendIds=[];ax.focusedTargetIds=[];ax.defocusedTargetIds=[];ax.xOrient=ay.axis_rotated?"left":"bottom";ax.yOrient=ay.axis_rotated?(ay.axis_y_inner?"top":"bottom"):(ay.axis_y_inner?"right":"left");ax.y2Orient=ay.axis_rotated?(ay.axis_y2_inner?"bottom":"top"):(ay.axis_y2_inner?"left":"right");ax.subXOrient=ay.axis_rotated?"left":"bottom";ax.isLegendRight=ay.legend_position==="right";ax.isLegendInset=ay.legend_position==="inset";ax.isLegendTop=ay.legend_inset_anchor==="top-left"||ay.legend_inset_anchor==="top-right";ax.isLegendLeft=ay.legend_inset_anchor==="top-left"||ay.legend_inset_anchor==="bottom-left";ax.legendStep=0;ax.legendItemWidth=0;ax.legendItemHeight=0;ax.currentMaxTickWidths={x:0,y:0,y2:0};ax.rotated_padding_left=30;ax.rotated_padding_right=ay.axis_rotated&&!ay.axis_x_show?0:30;ax.rotated_padding_top=5;ax.withoutFadeIn={};ax.intervalForObserveInserted=undefined;ax.axes.subx=az.selectAll([])};G.initChartElements=function(){if(this.initBar){this.initBar()}if(this.initLine){this.initLine()}if(this.initArc){this.initArc()}if(this.initGauge){this.initGauge()}if(this.initText){this.initText()}};G.initWithData=function(aC){var az=this,aB=az.d3,aA=az.config;var ay,ax,aD=true;az.axis=new y(az);if(az.initPie){az.initPie()}if(az.initBrush){az.initBrush()}if(az.initZoom){az.initZoom()}if(!aA.bindto){az.selectChart=aB.selectAll([])}else{if(typeof aA.bindto.node==="function"){az.selectChart=aA.bindto}else{az.selectChart=aB.select(aA.bindto)}}if(az.selectChart.empty()){az.selectChart=aB.select(document.createElement("div")).style("opacity",0);az.observeInserted(az.selectChart);aD=false}az.selectChart.html("").classed("c3",true);az.data.xs={};az.data.targets=az.convertDataToTargets(aC);if(aA.data_filter){az.data.targets=az.data.targets.filter(aA.data_filter)}if(aA.data_hide){az.addHiddenTargetIds(aA.data_hide===true?az.mapToIds(az.data.targets):aA.data_hide)}if(aA.legend_hide){az.addHiddenLegendIds(aA.legend_hide===true?az.mapToIds(az.data.targets):aA.legend_hide)}if(az.hasType("gauge")){aA.legend_show=false}az.updateSizes();az.updateScales();az.x.domain(aB.extent(az.getXDomain(az.data.targets)));az.y.domain(az.getYDomain(az.data.targets,"y"));az.y2.domain(az.getYDomain(az.data.targets,"y2"));az.subX.domain(az.x.domain());az.subY.domain(az.y.domain());az.subY2.domain(az.y2.domain());az.orgXDomain=az.x.domain();if(az.brush){az.brush.scale(az.subX)}if(aA.zoom_enabled){az.zoom.scale(az.x)}az.svg=az.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return aA.onmouseover.call(az)}).on("mouseleave",function(){return aA.onmouseout.call(az)});if(az.config.svg_classname){az.svg.attr("class",az.config.svg_classname)}ay=az.svg.append("defs");az.clipChart=az.appendClip(ay,az.clipId);az.clipXAxis=az.appendClip(ay,az.clipIdForXAxis);az.clipYAxis=az.appendClip(ay,az.clipIdForYAxis);az.clipGrid=az.appendClip(ay,az.clipIdForGrid);az.clipSubchart=az.appendClip(ay,az.clipIdForSubchart);az.updateSvgSize();ax=az.main=az.svg.append("g").attr("transform",az.getTranslate("main"));if(az.initSubchart){az.initSubchart()}if(az.initTooltip){az.initTooltip()}if(az.initLegend){az.initLegend()}if(az.initTitle){az.initTitle()}ax.append("text").attr("class",E.text+" "+E.empty).attr("text-anchor","middle").attr("dominant-baseline","middle");az.initRegion();az.initGrid();ax.append("g").attr("clip-path",az.clipPath).attr("class",E.chart);if(aA.grid_lines_front){az.initGridLines()}az.initEventRect();az.initChartElements();ax.insert("rect",aA.zoom_privileged?null:"g."+E.regions).attr("class",E.zoomRect).attr("width",az.width).attr("height",az.height).style("opacity",0).on("dblclick.zoom",null);if(aA.axis_x_extent){az.brush.extent(az.getDefaultExtent())}az.axis.init();az.updateTargets(az.data.targets);if(aD){az.updateDimension();az.config.oninit.call(az);az.redraw({withTransition:false,withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransitionForAxis:false})}az.bindResize();az.api.element=az.selectChart.node()};G.smoothLines=function(az,ay){var ax=this;if(ay==="grid"){az.each(function(){var aE=ax.d3.select(this),aB=aE.attr("x1"),aA=aE.attr("x2"),aD=aE.attr("y1"),aC=aE.attr("y2");aE.attr({x1:Math.ceil(aB),x2:Math.ceil(aA),y1:Math.ceil(aD),y2:Math.ceil(aC)})})}};G.updateSizes=function(){var ay=this,aA=ay.config;var ax=ay.legend?ay.getLegendHeight():0,aD=ay.legend?ay.getLegendWidth():0,aC=ay.isLegendRight||ay.isLegendInset?0:ax,az=ay.hasArcType(),aB=aA.axis_rotated||az?0:ay.getHorizontalAxisHeight("x"),aE=aA.subchart_show&&!az?(aA.subchart_size_height+aB):0;ay.currentWidth=ay.getCurrentWidth();ay.currentHeight=ay.getCurrentHeight();ay.margin=aA.axis_rotated?{top:ay.getHorizontalAxisHeight("y2")+ay.getCurrentPaddingTop(),right:az?0:ay.getCurrentPaddingRight(),bottom:ay.getHorizontalAxisHeight("y")+aC+ay.getCurrentPaddingBottom(),left:aE+(az?0:ay.getCurrentPaddingLeft())}:{top:4+ay.getCurrentPaddingTop(),right:az?0:ay.getCurrentPaddingRight(),bottom:aB+aE+aC+ay.getCurrentPaddingBottom(),left:az?0:ay.getCurrentPaddingLeft()};ay.margin2=aA.axis_rotated?{top:ay.margin.top,right:NaN,bottom:20+aC,left:ay.rotated_padding_left}:{top:ay.currentHeight-aE-aC,right:NaN,bottom:aB+aC,left:ay.margin.left};ay.margin3={top:0,right:NaN,bottom:0,left:0};if(ay.updateSizeForLegend){ay.updateSizeForLegend(ax,aD)}ay.width=ay.currentWidth-ay.margin.left-ay.margin.right;ay.height=ay.currentHeight-ay.margin.top-ay.margin.bottom;if(ay.width<0){ay.width=0}if(ay.height<0){ay.height=0}ay.width2=aA.axis_rotated?ay.margin.left-ay.rotated_padding_left-ay.rotated_padding_right:ay.width;ay.height2=aA.axis_rotated?ay.height:ay.currentHeight-ay.margin2.top-ay.margin2.bottom;if(ay.width2<0){ay.width2=0}if(ay.height2<0){ay.height2=0}ay.arcWidth=ay.width-(ay.isLegendRight?aD+10:0);ay.arcHeight=ay.height-(ay.isLegendRight?0:10);if(ay.hasType("gauge")&&!aA.gauge_fullCircle){ay.arcHeight+=ay.height-ay.getGaugeLabelHeight()}if(ay.updateRadius){ay.updateRadius()}if(ay.isLegendRight&&az){ay.margin3.left=ay.arcWidth/2+ay.radiusExpanded*1.1}};G.updateTargets=function(ax){var ay=this;ay.updateTargetsForText(ax);ay.updateTargetsForBar(ax);ay.updateTargetsForLine(ax);if(ay.hasArcType()&&ay.updateTargetsForArc){ay.updateTargetsForArc(ax)}if(ay.updateTargetsForSubchart){ay.updateTargetsForSubchart(ax)}ay.showTargets()};G.showTargets=function(){var ax=this;ax.svg.selectAll("."+E.target).filter(function(ay){return ax.isTargetToShow(ay.id)}).transition().duration(ax.config.transition_duration).style("opacity",1)};G.redraw=function(aN,aD){var a3=this,az=a3.main,a2=a3.d3,aZ=a3.config;var aY=a3.getShapeIndices(a3.isAreaType),aT=a3.getShapeIndices(a3.isBarType),a1=a3.getShapeIndices(a3.isLineType);var aF,aW,a5,aK,a0,aC,aR,a8,aI,bb,aP,aJ,a9;var aX=a3.hasArcType();var aA,a4,aV,ax,aB;var aO,aG,aS;var ba,a7;var aU=a3.filterTargetsToShow(a3.data.targets),aH,a6,aE,ay;var aQ=a3.xv.bind(a3),aM,aL;aN=aN||{};aF=v(aN,"withY",true);aW=v(aN,"withSubchart",true);a5=v(aN,"withTransition",true);aC=v(aN,"withTransform",false);aR=v(aN,"withUpdateXDomain",false);a8=v(aN,"withUpdateOrgXDomain",false);aI=v(aN,"withTrimXDomain",true);a9=v(aN,"withUpdateXAxis",aR);bb=v(aN,"withLegend",false);aP=v(aN,"withEventRect",true);aJ=v(aN,"withDimension",true);aK=v(aN,"withTransitionForExit",a5);a0=v(aN,"withTransitionForAxis",a5);aO=a5?aZ.transition_duration:0;aG=aK?aO:0;aS=a0?aO:0;aD=aD||a3.axis.generateTransitions(aS);if(bb&&aZ.legend_show){a3.updateLegend(a3.mapToIds(a3.data.targets),aN,aD)}else{if(aJ){a3.updateDimension(true)}}if(a3.isCategorized()&&aU.length===0){a3.x.domain([0,a3.axes.x.selectAll(".tick").size()])}if(aU.length){a3.updateXDomain(aU,aR,a8,aI);if(!aZ.axis_x_tick_values){aH=a3.axis.updateXAxisTickValues(aU)}}else{a3.xAxis.tickValues([]);a3.subXAxis.tickValues([])}if(aZ.zoom_rescale&&!aN.flow){ay=a3.x.orgDomain()}a3.y.domain(a3.getYDomain(aU,"y",ay));a3.y2.domain(a3.getYDomain(aU,"y2",ay));if(!aZ.axis_y_tick_values&&aZ.axis_y_tick_count){a3.yAxis.tickValues(a3.axis.generateTickValues(a3.y.domain(),aZ.axis_y_tick_count))}if(!aZ.axis_y2_tick_values&&aZ.axis_y2_tick_count){a3.y2Axis.tickValues(a3.axis.generateTickValues(a3.y2.domain(),aZ.axis_y2_tick_count))}a3.axis.redraw(aD,aX);a3.axis.updateLabels(a5);if((aR||a9)&&aU.length){if(aZ.axis_x_tick_culling&&aH){for(a6=1;a6<aH.length;a6++){if(aH.length/a6<aZ.axis_x_tick_culling_max){aE=a6;break}}a3.svg.selectAll("."+E.axisX+" .tick text").each(function(bd){var bc=aH.indexOf(bd);if(bc>=0){a2.select(this).style("display",bc%aE?"none":"block")}})}else{a3.svg.selectAll("."+E.axisX+" .tick text").style("display","block")}}aA=a3.generateDrawArea?a3.generateDrawArea(aY,false):undefined;a4=a3.generateDrawBar?a3.generateDrawBar(aT):undefined;aV=a3.generateDrawLine?a3.generateDrawLine(a1,false):undefined;ax=a3.generateXYForText(aY,aT,a1,true);aB=a3.generateXYForText(aY,aT,a1,false);if(aF){a3.subY.domain(a3.getYDomain(aU,"y"));a3.subY2.domain(a3.getYDomain(aU,"y2"))}a3.updateXgridFocus();az.select("text."+E.text+"."+E.empty).attr("x",a3.width/2).attr("y",a3.height/2).text(aZ.data_empty_label_text).transition().style("opacity",aU.length?0:1);a3.updateGrid(aO);a3.updateRegion(aO);a3.updateBar(aG);a3.updateLine(aG);a3.updateArea(aG);a3.updateCircle();if(a3.hasDataLabel()){a3.updateText(aG)}if(a3.redrawTitle){a3.redrawTitle()}if(a3.redrawArc){a3.redrawArc(aO,aG,aC)}if(a3.redrawSubchart){a3.redrawSubchart(aW,aD,aO,aG,aY,aT,a1)}az.selectAll("."+E.selectedCircles).filter(a3.isBarType.bind(a3)).selectAll("circle").remove();if(aZ.interaction_enabled&&!aN.flow&&aP){a3.redrawEventRect();if(a3.updateZoom){a3.updateZoom()}}a3.updateCircleY();aM=(a3.config.axis_rotated?a3.circleY:a3.circleX).bind(a3);aL=(a3.config.axis_rotated?a3.circleX:a3.circleY).bind(a3);if(aN.flow){a7=a3.generateFlow({targets:aU,flow:aN.flow,duration:aN.flow.duration,drawBar:a4,drawLine:aV,drawArea:aA,cx:aM,cy:aL,xv:aQ,xForText:ax,yForText:aB})}if((aO||a7)&&a3.isTabVisible()){a2.transition().duration(aO).each(function(){var bc=[];[a3.redrawBar(a4,true),a3.redrawLine(aV,true),a3.redrawArea(aA,true),a3.redrawCircle(aM,aL,true),a3.redrawText(ax,aB,aN.flow,true),a3.redrawRegion(true),a3.redrawGrid(true),].forEach(function(bd){bd.forEach(function(be){bc.push(be)})});ba=a3.generateWait();bc.forEach(function(bd){ba.add(bd)})}).call(ba,function(){if(a7){a7()}if(aZ.onrendered){aZ.onrendered.call(a3)}})}else{a3.redrawBar(a4);a3.redrawLine(aV);a3.redrawArea(aA);a3.redrawCircle(aM,aL);a3.redrawText(ax,aB,aN.flow);a3.redrawRegion();a3.redrawGrid();if(aZ.onrendered){aZ.onrendered.call(a3)}}a3.mapToIds(a3.data.targets).forEach(function(bc){a3.withoutFadeIn[bc]=true})};G.updateAndRedraw=function(az){var ax=this,ay=ax.config,aA;az=az||{};az.withTransition=v(az,"withTransition",true);az.withTransform=v(az,"withTransform",false);az.withLegend=v(az,"withLegend",false);az.withUpdateXDomain=true;az.withUpdateOrgXDomain=true;az.withTransitionForExit=false;az.withTransitionForTransform=v(az,"withTransitionForTransform",az.withTransition);ax.updateSizes();if(!(az.withLegend&&ay.legend_show)){aA=ax.axis.generateTransitions(az.withTransitionForAxis?ay.transition_duration:0);ax.updateScales();ax.updateSvgSize();ax.transformAll(az.withTransitionForTransform,aA)}ax.redraw(az,aA)};G.redrawWithoutRescale=function(){this.redraw({withY:false,withSubchart:false,withEventRect:false,withTransitionForAxis:false})};G.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"};G.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0};G.isCustomX=function(){var ax=this,ay=ax.config;return !ax.isTimeSeries()&&(ay.data_x||M(ay.data_xs))};G.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"};G.getTranslate=function(aA){var ay=this,az=ay.config,ax,aB;if(aA==="main"){ax=X(ay.margin.left);aB=X(ay.margin.top)}else{if(aA==="context"){ax=X(ay.margin2.left);aB=X(ay.margin2.top)}else{if(aA==="legend"){ax=ay.margin3.left;aB=ay.margin3.top}else{if(aA==="x"){ax=0;aB=az.axis_rotated?0:ay.height}else{if(aA==="y"){ax=0;aB=az.axis_rotated?ay.height:0}else{if(aA==="y2"){ax=az.axis_rotated?0:ay.width;aB=az.axis_rotated?1:0}else{if(aA==="subx"){ax=0;aB=az.axis_rotated?0:ay.height2}else{if(aA==="arc"){ax=ay.arcWidth/2;aB=ay.arcHeight/2}}}}}}}}return"translate("+ax+","+aB+")"};G.initialOpacity=function(ax){return ax.value!==null&&this.withoutFadeIn[ax.id]?1:0};G.initialOpacityForCircle=function(ax){return ax.value!==null&&this.withoutFadeIn[ax.id]?this.opacityForCircle(ax):0};G.opacityForCircle=function(ay){var ax=this.config.point_show?1:0;return j(ay.value)?(this.isScatterType(ay)?0.5:ax):0};G.opacityForText=function(){return this.hasDataLabel()?1:0};G.xx=function(ax){return ax?this.x(ax.x):null};G.xv=function(az){var ax=this,ay=az.value;if(ax.isTimeSeries()){ay=ax.parseDate(az.value)}else{if(ax.isCategorized()&&typeof az.value==="string"){ay=ax.config.axis_x_categories.indexOf(az.value)}}return Math.ceil(ax.x(ay))};G.yv=function(az){var ax=this,ay=az.axis&&az.axis==="y2"?ax.y2:ax.y;return Math.ceil(ay(az.value))};G.subxx=function(ax){return ax?this.subX(ax.x):null};G.transformMain=function(az,aC){var ay=this,aB,ax,aA;if(aC&&aC.axisX){aB=aC.axisX}else{aB=ay.main.select("."+E.axisX);if(az){aB=aB.transition()}}if(aC&&aC.axisY){ax=aC.axisY}else{ax=ay.main.select("."+E.axisY);if(az){ax=ax.transition()}}if(aC&&aC.axisY2){aA=aC.axisY2}else{aA=ay.main.select("."+E.axisY2);if(az){aA=aA.transition()}}(az?ay.main.transition():ay.main).attr("transform",ay.getTranslate("main"));aB.attr("transform",ay.getTranslate("x"));ax.attr("transform",ay.getTranslate("y"));aA.attr("transform",ay.getTranslate("y2"));ay.main.select("."+E.chartArcs).attr("transform",ay.getTranslate("arc"))};G.transformAll=function(ay,az){var ax=this;ax.transformMain(ay,az);if(ax.config.subchart_show){ax.transformContext(ay,az)}if(ax.legend){ax.transformLegend(ay)}};G.updateSvgSize=function(){var ay=this,ax=ay.svg.select(".c3-brush .background");ay.svg.attr("width",ay.currentWidth).attr("height",ay.currentHeight);ay.svg.selectAll(["#"+ay.clipId,"#"+ay.clipIdForGrid]).select("rect").attr("width",ay.width).attr("height",ay.height);ay.svg.select("#"+ay.clipIdForXAxis).select("rect").attr("x",ay.getXAxisClipX.bind(ay)).attr("y",ay.getXAxisClipY.bind(ay)).attr("width",ay.getXAxisClipWidth.bind(ay)).attr("height",ay.getXAxisClipHeight.bind(ay));ay.svg.select("#"+ay.clipIdForYAxis).select("rect").attr("x",ay.getYAxisClipX.bind(ay)).attr("y",ay.getYAxisClipY.bind(ay)).attr("width",ay.getYAxisClipWidth.bind(ay)).attr("height",ay.getYAxisClipHeight.bind(ay));ay.svg.select("#"+ay.clipIdForSubchart).select("rect").attr("width",ay.width).attr("height",ax.size()?ax.attr("height"):0);ay.svg.select("."+E.zoomRect).attr("width",ay.width).attr("height",ay.height);ay.selectChart.style("max-height",ay.currentHeight+"px")};G.updateDimension=function(ay){var ax=this;if(!ay){if(ax.config.axis_rotated){ax.axes.x.call(ax.xAxis);ax.axes.subx.call(ax.subXAxis)}else{ax.axes.y.call(ax.yAxis);ax.axes.y2.call(ax.y2Axis)}}ax.updateSizes();ax.updateScales();ax.updateSvgSize();ax.transformAll(false)};G.observeInserted=function(az){var ay=this,ax;if(typeof MutationObserver==="undefined"){ae.console.error("MutationObserver not defined.");return}ax=new MutationObserver(function(aA){aA.forEach(function(aB){if(aB.type==="childList"&&aB.previousSibling){ax.disconnect();ay.intervalForObserveInserted=ae.setInterval(function(){if(az.node().parentNode){ae.clearInterval(ay.intervalForObserveInserted);ay.updateDimension();if(ay.brush){ay.brush.update()}ay.config.oninit.call(ay);ay.redraw({withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransition:false,withTransitionForTransform:false,withLegend:true});az.transition().style("opacity",1)}},10)}})});ax.observe(az.node(),{attributes:true,childList:true,characterData:true})};G.bindResize=function(){var ax=this,ay=ax.config;ax.resizeFunction=ax.generateResize();ax.resizeFunction.add(function(){ay.onresize.call(ax)});if(ay.resize_auto){ax.resizeFunction.add(function(){if(ax.resizeTimeout!==undefined){ae.clearTimeout(ax.resizeTimeout)}ax.resizeTimeout=ae.setTimeout(function(){delete ax.resizeTimeout;ax.api.flush()},100)})}ax.resizeFunction.add(function(){ay.onresized.call(ax)});if(ae.attachEvent){ae.attachEvent("onresize",ax.resizeFunction)}else{if(ae.addEventListener){ae.addEventListener("resize",ax.resizeFunction,false)}else{var az=ae.onresize;if(!az){az=ax.generateResize()}else{if(!az.add||!az.remove){az=ax.generateResize();az.add(ae.onresize)}}az.add(ax.resizeFunction);ae.onresize=az}}};G.generateResize=function(){var ax=[];function ay(){ax.forEach(function(az){az()})}ay.add=function(az){ax.push(az)};ay.remove=function(aA){for(var az=0;az<ax.length;az++){if(ax[az]===aA){ax.splice(az,1);break}}};return ay};G.endall=function(ax,az){var ay=0;ax.each(function(){++ay}).each("end",function(){if(!--ay){az.apply(this,arguments)}})};G.generateWait=function(){var ay=[],ax=function(az,aB){var aA=setInterval(function(){var aC=0;ay.forEach(function(aD){if(aD.empty()){aC+=1;return}try{aD.transition()}catch(aE){aC+=1}});if(aC===ay.length){clearInterval(aA);if(aB){aB()}}},10)};ax.add=function(az){ay.push(az)};return ax};G.parseDate=function(ay){var ax=this,az;if(ay instanceof Date){az=ay}else{if(typeof ay==="string"){az=ax.dataTimeFormat(ax.config.data_xFormat).parse(ay)}else{if(typeof ay==="number"&&!isNaN(ay)){az=new Date(+ay)}}}if(!az||isNaN(+az)){ae.console.error("Failed to parse x '"+ay+"' to Date object")}return az};G.isTabVisible=function(){var ax;if(typeof document.hidden!=="undefined"){ax="hidden"}else{if(typeof document.mozHidden!=="undefined"){ax="mozHidden"}else{if(typeof document.msHidden!=="undefined"){ax="msHidden"}else{if(typeof document.webkitHidden!=="undefined"){ax="webkitHidden"}}}}return document[ax]?false:true};G.getDefaultConfig=function(){var ax={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:true,zoom_enabled:false,zoom_extent:undefined,zoom_privileged:false,zoom_rescale:false,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:true,interaction_enabled:true,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:true,data_xSort:true,data_idConverter:function(ay){return ay},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:false,data_filter:undefined,data_selection_enabled:false,data_selection_grouped:false,data_selection_isselectable:function(){return true},data_selection_multiple:true,data_selection_draggable:false,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:false,subchart_size_height:60,subchart_axis_x_show:true,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:true,legend_hide:false,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:false,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:false,axis_x_show:true,axis_x_type:"indexed",axis_x_localtime:true,axis_x_categories:[],axis_x_tick_centered:false,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:true,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:true,axis_x_tick_multiline:true,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:true,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:false,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:true,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:false,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:false,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:true,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:false,grid_x_type:"tick",grid_x_lines:[],grid_y_show:false,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:true,grid_lines_front:true,point_show:true,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:true,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:false,line_step_type:"step",bar_width:undefined,bar_width_ratio:0.6,bar_width_max:undefined,bar_zerobased:true,area_zerobased:true,area_above:false,pie_label_show:true,pie_label_format:undefined,pie_label_threshold:0.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:false,gauge_label_show:true,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:true,donut_label_format:undefined,donut_label_threshold:0.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:true,tooltip_grouped:true,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function(aB,az,aA,ay){return this.getTooltipContent?this.getTooltipContent(aB,az,aA,ay):""},tooltip_init_show:false,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center",};Object.keys(this.additionalConfig).forEach(function(ay){ax[ay]=this.additionalConfig[ay]},this);return ax};G.additionalConfig={};G.loadConfig=function(ay){var ax=this.config,aB,az,aA;function aC(){var aD=az.shift();if(aD&&aB&&typeof aB==="object"&&aD in aB){aB=aB[aD];return aC()}else{if(!aD){return aB}else{return undefined}}}Object.keys(ax).forEach(function(aD){aB=ay;az=aD.split("_");aA=aC();if(J(aA)){ax[aD]=aA}})};G.getScale=function(ay,ax,az){return(az?this.d3.time.scale():this.d3.scale.linear()).range([ay,ax])};G.getX=function(aB,ax,aC,aE){var ay=this,aD=ay.getScale(aB,ax,ay.isTimeSeries()),aA=aC?aD.domain(aC):aD,az;if(ay.isCategorized()){aE=aE||function(){return 0};aD=function(aH,aG){var aF=aA(aH)+aE(aH);return aG?aF:Math.ceil(aF)}}else{aD=function(aH,aG){var aF=aA(aH);return aG?aF:Math.ceil(aF)}}for(az in aA){aD[az]=aA[az]}aD.orgDomain=function(){return aA.domain()};if(ay.isCategorized()){aD.domain=function(aF){if(!arguments.length){aF=this.orgDomain();return[aF[0],aF[1]+1]}aA.domain(aF);return aD}}return aD};G.getY=function(ay,ax,az){var aA=this.getScale(ay,ax,this.isTimeSeriesY());if(az){aA.domain(az)}return aA};G.getYScale=function(ax){return this.axis.getId(ax)==="y2"?this.y2:this.y};G.getSubYScale=function(ax){return this.axis.getId(ax)==="y2"?this.subY2:this.subY};G.updateScales=function(){var ay=this,az=ay.config,ax=!ay.x;ay.xMin=az.axis_rotated?1:0;ay.xMax=az.axis_rotated?ay.height:ay.width;ay.yMin=az.axis_rotated?0:ay.height;ay.yMax=az.axis_rotated?ay.width:1;ay.subXMin=ay.xMin;ay.subXMax=ay.xMax;ay.subYMin=az.axis_rotated?0:ay.height2;ay.subYMax=az.axis_rotated?ay.width2:1;ay.x=ay.getX(ay.xMin,ay.xMax,ax?undefined:ay.x.orgDomain(),function(){return ay.xAxis.tickOffset()});ay.y=ay.getY(ay.yMin,ay.yMax,ax?az.axis_y_default:ay.y.domain());ay.y2=ay.getY(ay.yMin,ay.yMax,ax?az.axis_y2_default:ay.y2.domain());ay.subX=ay.getX(ay.xMin,ay.xMax,ay.orgXDomain,function(aA){return aA%1?0:ay.subXAxis.tickOffset()});ay.subY=ay.getY(ay.subYMin,ay.subYMax,ax?az.axis_y_default:ay.subY.domain());ay.subY2=ay.getY(ay.subYMin,ay.subYMax,ax?az.axis_y2_default:ay.subY2.domain());ay.xAxisTickFormat=ay.axis.getXAxisTickFormat();ay.xAxisTickValues=ay.axis.getXAxisTickValues();ay.yAxisTickValues=ay.axis.getYAxisTickValues();ay.y2AxisTickValues=ay.axis.getY2AxisTickValues();ay.xAxis=ay.axis.getXAxis(ay.x,ay.xOrient,ay.xAxisTickFormat,ay.xAxisTickValues,az.axis_x_tick_outer);ay.subXAxis=ay.axis.getXAxis(ay.subX,ay.subXOrient,ay.xAxisTickFormat,ay.xAxisTickValues,az.axis_x_tick_outer);ay.yAxis=ay.axis.getYAxis(ay.y,ay.yOrient,az.axis_y_tick_format,ay.yAxisTickValues,az.axis_y_tick_outer);ay.y2Axis=ay.axis.getYAxis(ay.y2,ay.y2Orient,az.axis_y2_tick_format,ay.y2AxisTickValues,az.axis_y2_tick_outer);if(!ax){if(ay.brush){ay.brush.scale(ay.subX)}if(az.zoom_enabled){ay.zoom.scale(ay.x)}}if(ay.updateArc){ay.updateArc()}};G.getYDomainMin=function(aD){var aH=this,az=aH.config,ax=aH.mapToIds(aD),aG=aH.getValuesAsIdKeyed(aD),aB,aA,aF,aE,ay,aC;if(az.data_groups.length>0){aC=aH.hasNegativeValueInTargets(aD);for(aB=0;aB<az.data_groups.length;aB++){aE=az.data_groups[aB].filter(function(aI){return ax.indexOf(aI)>=0});if(aE.length===0){continue}aF=aE[0];if(aC&&aG[aF]){aG[aF].forEach(function(aI,aJ){aG[aF][aJ]=aI<0?aI:0})}for(aA=1;aA<aE.length;aA++){ay=aE[aA];if(!aG[ay]){continue}aG[ay].forEach(function(aI,aJ){if(aH.axis.getId(ay)===aH.axis.getId(aF)&&aG[aF]&&!(aC&&+aI>0)){aG[aF][aJ]+=+aI}})}}}return aH.d3.min(Object.keys(aG).map(function(aI){return aH.d3.min(aG[aI])}))};G.getYDomainMax=function(aD){var aH=this,aA=aH.config,ax=aH.mapToIds(aD),aG=aH.getValuesAsIdKeyed(aD),aC,aB,aF,aE,ay,az;if(aA.data_groups.length>0){az=aH.hasPositiveValueInTargets(aD);for(aC=0;aC<aA.data_groups.length;aC++){aE=aA.data_groups[aC].filter(function(aI){return ax.indexOf(aI)>=0});if(aE.length===0){continue}aF=aE[0];if(az&&aG[aF]){aG[aF].forEach(function(aI,aJ){aG[aF][aJ]=aI>0?aI:0})}for(aB=1;aB<aE.length;aB++){ay=aE[aB];if(!aG[ay]){continue}aG[ay].forEach(function(aI,aJ){if(aH.axis.getId(ay)===aH.axis.getId(aF)&&aG[aF]&&!(az&&+aI<0)){aG[aF][aJ]+=+aI}})}}}return aH.d3.max(Object.keys(aG).map(function(aI){return aH.d3.max(aG[aI])}))};G.getYDomain=function(aU,aR,aO){var aH=this,aV=aH.config,az=aU.filter(function(aY){return aH.axis.getId(aY.id)===aR}),aE=aO?aH.filterByXDomain(az,aO):az,ax=aR==="y2"?aV.axis_y2_min:aV.axis_y_min,ay=aR==="y2"?aV.axis_y2_max:aV.axis_y_max,aL=aH.getYDomainMin(aE),aN=aH.getYDomainMax(aE),aX,aC,aJ,aA,aW,aT=aR==="y2"?aV.axis_y2_center:aV.axis_y_center,aG,aB,aI,aD,aF,aM,aP=(aH.hasType("bar",aE)&&aV.bar_zerobased)||(aH.hasType("area",aE)&&aV.area_zerobased),aS=aR==="y2"?aV.axis_y2_inverted:aV.axis_y_inverted,aQ=aH.hasDataLabel()&&aV.axis_rotated,aK=aH.hasDataLabel()&&!aV.axis_rotated;aL=j(ax)?ax:j(ay)?(aL<ay?aL:ay-10):aL;aN=j(ay)?ay:j(ax)?(ax<aN?aN:ax+10):aN;if(aE.length===0){return aR==="y2"?aH.y2.domain():aH.y.domain()}if(isNaN(aL)){aL=0}if(isNaN(aN)){aN=aL}if(aL===aN){aL<0?aN=0:aL=0}aF=aL>=0&&aN>=0;aM=aL<=0&&aN<=0;if((j(ax)&&aF)||(j(ay)&&aM)){aP=false}if(aP){if(aF){aL=0}if(aM){aN=0}}aC=Math.abs(aN-aL);aJ=aA=aW=aC*0.1;if(typeof aT!=="undefined"){aG=Math.max(Math.abs(aL),Math.abs(aN));aN=aT+aG;aL=aT-aG}if(aQ){aB=aH.getDataLabelLength(aL,aN,"width");aI=O(aH.y.range());aD=[aB[0]/aI,aB[1]/aI];aA+=aC*(aD[1]/(1-aD[0]-aD[1]));aW+=aC*(aD[0]/(1-aD[0]-aD[1]))}else{if(aK){aB=aH.getDataLabelLength(aL,aN,"height");aA+=aH.axis.convertPixelsToAxisPadding(aB[1],aC);aW+=aH.axis.convertPixelsToAxisPadding(aB[0],aC)}}if(aR==="y"&&M(aV.axis_y_padding)){aA=aH.axis.getPadding(aV.axis_y_padding,"top",aA,aC);aW=aH.axis.getPadding(aV.axis_y_padding,"bottom",aW,aC)}if(aR==="y2"&&M(aV.axis_y2_padding)){aA=aH.axis.getPadding(aV.axis_y2_padding,"top",aA,aC);aW=aH.axis.getPadding(aV.axis_y2_padding,"bottom",aW,aC)}if(aP){if(aF){aW=aL}if(aM){aA=-aN}}aX=[aL-aW,aN+aA];return aS?aX.reverse():aX};G.getXDomainMin=function(ax){var ay=this,az=ay.config;return J(az.axis_x_min)?(ay.isTimeSeries()?this.parseDate(az.axis_x_min):az.axis_x_min):ay.d3.min(ax,function(aA){return ay.d3.min(aA.values,function(aB){return aB.x})})};G.getXDomainMax=function(ax){var ay=this,az=ay.config;return J(az.axis_x_max)?(ay.isTimeSeries()?this.parseDate(az.axis_x_max):az.axis_x_max):ay.d3.max(ax,function(aA){return ay.d3.max(aA.values,function(aB){return aB.x})})};G.getXDomainPadding=function(aA){var ax=this,az=ax.config,aC=aA[1]-aA[0],aD,aB,ay,aE;if(ax.isCategorized()){aB=0}else{if(ax.hasType("bar")){aD=ax.getMaxDataCount();aB=aD>1?(aC/(aD-1))/2:0.5}else{aB=aC*0.01}}if(typeof az.axis_x_padding==="object"&&M(az.axis_x_padding)){ay=j(az.axis_x_padding.left)?az.axis_x_padding.left:aB;aE=j(az.axis_x_padding.right)?az.axis_x_padding.right:aB}else{if(typeof az.axis_x_padding==="number"){ay=aE=az.axis_x_padding}else{ay=aE=aB}}return{left:ay,right:aE}};G.getXDomain=function(ay){var az=this,aB=[az.getXDomainMin(ay),az.getXDomainMax(ay)],aA=aB[0],aD=aB[1],aE=az.getXDomainPadding(aB),aC=0,ax=0;if((aA-aD)===0&&!az.isCategorized()){if(az.isTimeSeries()){aA=new Date(aA.getTime()*0.5);aD=new Date(aD.getTime()*1.5)}else{aA=aA===0?1:(aA*0.5);aD=aD===0?-1:(aD*1.5)}}if(aA||aA===0){aC=az.isTimeSeries()?new Date(aA.getTime()-aE.left):aA-aE.left}if(aD||aD===0){ax=az.isTimeSeries()?new Date(aD.getTime()+aE.right):aD+aE.right}return[aC,ax]};G.updateXDomain=function(ay,aB,aD,ax,aC){var az=this,aA=az.config;if(aD){az.x.domain(aC?aC:az.d3.extent(az.getXDomain(ay)));az.orgXDomain=az.x.domain();if(aA.zoom_enabled){az.zoom.scale(az.x).updateScaleExtent()}az.subX.domain(az.x.domain());if(az.brush){az.brush.scale(az.subX)}}if(aB){az.x.domain(aC?aC:(!az.brush||az.brush.empty())?az.orgXDomain:az.brush.extent());if(aA.zoom_enabled){az.zoom.scale(az.x).updateScaleExtent()}}if(ax){az.x.domain(az.trimXDomain(az.x.orgDomain()))}return az.x.domain()};G.trimXDomain=function(az){var aA=this.getZoomDomain(),ay=aA[0],ax=aA[1];if(az[0]<=ay){az[1]=+az[1]+(ay-az[0]);az[0]=ay}if(ax<=az[1]){az[0]=+az[0]-(az[1]-ax);az[1]=ax}return az};G.isX=function(az){var ax=this,ay=ax.config;return(ay.data_x&&az===ay.data_x)||(M(ay.data_xs)&&u(ay.data_xs,az))};G.isNotX=function(ax){return !this.isX(ax)};G.getXKey=function(az){var ax=this,ay=ax.config;return ay.data_x?ay.data_x:M(ay.data_xs)?ay.data_xs[az]:null};G.getXValuesOfXKey=function(az,ax){var ay=this,aB,aA=ax&&M(ax)?ay.mapToIds(ax):[];aA.forEach(function(aC){if(ay.getXKey(aC)===az){aB=ay.data.xs[aC]}});return aB};G.getIndexByX=function(ax){var ay=this,az=ay.filterByX(ay.data.targets,ax);return az.length?az[0].index:null};G.getXValue=function(az,ay){var ax=this;return az in ax.data.xs&&ax.data.xs[az]&&j(ax.data.xs[az][ay])?ax.data.xs[az][ay]:ay};G.getOtherTargetXs=function(){var ax=this,ay=Object.keys(ax.data.xs);return ay.length?ax.data.xs[ay[0]]:null};G.getOtherTargetX=function(ay){var ax=this.getOtherTargetXs();return ax&&ay<ax.length?ax[ay]:null};G.addXs=function(ay){var ax=this;Object.keys(ay).forEach(function(az){ax.config.data_xs[az]=ay[az]})};G.hasMultipleX=function(ax){return this.d3.set(Object.keys(ax).map(function(ay){return ax[ay]})).size()>1};G.isMultipleX=function(){return M(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")};G.addName=function(az){var ax=this,ay;if(az){ay=ax.config.data_names[az.id];az.name=ay!==undefined?ay:az.id}return az};G.getValueOnIndex=function(ay,az){var ax=ay.filter(function(aA){return aA.index===az});return ax.length?ax[0]:null};G.updateTargetX=function(ay,ax){var az=this;ay.forEach(function(aA){aA.values.forEach(function(aB,aC){aB.x=az.generateTargetX(ax[aC],aA.id,aC)});az.data.xs[aA.id]=ax})};G.updateTargetXs=function(ax,az){var ay=this;ax.forEach(function(aA){if(az[aA.id]){ay.updateTargetX([aA],az[aA.id])}})};G.generateTargetX=function(az,aB,aA){var ay=this,ax;if(ay.isTimeSeries()){ax=az?ay.parseDate(az):ay.parseDate(ay.getXValue(aB,aA))}else{if(ay.isCustomX()&&!ay.isCategorized()){ax=j(az)?+az:ay.getXValue(aB,aA)}else{ax=aA}}return ax};G.cloneTarget=function(ax){return{id:ax.id,id_org:ax.id_org,values:ax.values.map(function(ay){return{x:ay.x,value:ay.value,id:ay.id}})}};G.updateXs=function(){var ax=this;if(ax.data.targets.length){ax.xs=[];ax.data.targets[0].values.forEach(function(ay){ax.xs[ay.index]=ay.x})}};G.getPrevX=function(ay){var ax=this.xs[ay-1];return typeof ax!=="undefined"?ax:null};G.getNextX=function(ay){var ax=this.xs[ay+1];return typeof ax!=="undefined"?ax:null};G.getMaxDataCount=function(){var ax=this;return ax.d3.max(ax.data.targets,function(ay){return ay.values.length})};G.getMaxDataCountTarget=function(ay){var aA=ay.length,ax=0,az;if(aA>1){ay.forEach(function(aB){if(aB.values.length>ax){az=aB;ax=aB.values.length}})}else{az=aA?ay[0]:null}return az};G.getEdgeX=function(ax){var ay=this;return !ax.length?[0,0]:[ay.d3.min(ax,function(az){return az.values[0].x}),ay.d3.max(ax,function(az){return az.values[az.values.length-1].x})]};G.mapToIds=function(ax){return ax.map(function(ay){return ay.id})};G.mapToTargetIds=function(ay){var ax=this;return ay?[].concat(ay):ax.mapToIds(ax.data.targets)};G.hasTarget=function(ax,aA){var az=this.mapToIds(ax),ay;for(ay=0;ay<az.length;ay++){if(az[ay]===aA){return true}}return false};G.isTargetToShow=function(ax){return this.hiddenTargetIds.indexOf(ax)<0};G.isLegendToShow=function(ax){return this.hiddenLegendIds.indexOf(ax)<0};G.filterTargetsToShow=function(ax){var ay=this;return ax.filter(function(az){return ay.isTargetToShow(az.id)})};G.mapTargetsToUniqueXs=function(ax){var ay=this;var az=ay.d3.set(ay.d3.merge(ax.map(function(aA){return aA.values.map(function(aB){return +aB.x})}))).values();az=ay.isTimeSeries()?az.map(function(aA){return new Date(+aA)}):az.map(function(aA){return +aA});return az.sort(function(aB,aA){return aB<aA?-1:aB>aA?1:aB>=aA?0:NaN})};G.addHiddenTargetIds=function(ax){this.hiddenTargetIds=this.hiddenTargetIds.concat(ax)};G.removeHiddenTargetIds=function(ax){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(ay){return ax.indexOf(ay)<0})};G.addHiddenLegendIds=function(ax){this.hiddenLegendIds=this.hiddenLegendIds.concat(ax)};G.removeHiddenLegendIds=function(ax){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(ay){return ax.indexOf(ay)<0})};G.getValuesAsIdKeyed=function(ax){var ay={};ax.forEach(function(az){ay[az.id]=[];az.values.forEach(function(aA){ay[az.id].push(aA.value)})});return ay};G.checkValueInTargets=function(ax,aA){var aC=Object.keys(ax),aB,az,ay;for(aB=0;aB<aC.length;aB++){ay=ax[aC[aB]].values;for(az=0;az<ay.length;az++){if(aA(ay[az].value)){return true}}}return false};G.hasNegativeValueInTargets=function(ax){return this.checkValueInTargets(ax,function(ay){return ay<0})};G.hasPositiveValueInTargets=function(ax){return this.checkValueInTargets(ax,function(ay){return ay>0})};G.isOrderDesc=function(){var ax=this.config;return typeof(ax.data_order)==="string"&&ax.data_order.toLowerCase()==="desc"};G.isOrderAsc=function(){var ax=this.config;return typeof(ax.data_order)==="string"&&ax.data_order.toLowerCase()==="asc"};G.orderTargets=function(ax){var ay=this,az=ay.config,aB=ay.isOrderAsc(),aA=ay.isOrderDesc();if(aB||aA){ax.sort(function(aE,aD){var aG=function(aH,aI){return aH+Math.abs(aI.value)};var aC=aE.values.reduce(aG,0),aF=aD.values.reduce(aG,0);return aB?aF-aC:aC-aF})}else{if(z(az.data_order)){ax.sort(az.data_order)}}return ax};G.filterByX=function(ay,ax){return this.d3.merge(ay.map(function(az){return az.values})).filter(function(az){return az.x-ax===0})};G.filterRemoveNull=function(ax){return ax.filter(function(ay){return j(ay.value)})};G.filterByXDomain=function(ax,ay){return ax.map(function(az){return{id:az.id,id_org:az.id_org,values:az.values.filter(function(aA){return ay[0]<=aA.x&&aA.x<=ay[1]})}})};G.hasDataLabel=function(){var ax=this.config;if(typeof ax.data_labels==="boolean"&&ax.data_labels){return true}else{if(typeof ax.data_labels==="object"&&M(ax.data_labels)){return true}}return false};G.getDataLabelLength=function(aB,ax,aA){var az=this,aC=[0,0],ay=1.3;az.selectChart.select("svg").selectAll(".dummy").data([aB,ax]).enter().append("text").text(function(aD){return az.dataLabelFormat(aD.id)(aD)}).each(function(aE,aD){aC[aD]=this.getBoundingClientRect()[aA]*ay}).remove();return aC};G.isNoneArc=function(ax){return this.hasTarget(this.data.targets,ax.id)},G.isArc=function(ax){return"data" in ax&&this.hasTarget(this.data.targets,ax.data.id)};G.findSameXOfValues=function(ax,ay){var az,aB=ax[ay].x,aA=[];for(az=ay-1;az>=0;az--){if(aB!==ax[az].x){break}aA.push(ax[az])}for(az=ay;az<ax.length;az++){if(aB!==ax[az].x){break}aA.push(ax[az])}return aA};G.findClosestFromTargets=function(ax,aA){var ay=this,az;az=ax.map(function(aB){return ay.findClosest(aB.values,aA)});return ay.findClosest(az,aA)};G.findClosest=function(az,aB){var ay=this,ax=ay.config.point_sensitivity,aA;az.filter(function(aC){return aC&&ay.isBarType(aC.id)}).forEach(function(aD){var aC=ay.main.select("."+E.bars+ay.getTargetSelectorSuffix(aD.id)+" ."+E.bar+"-"+aD.index).node();if(!aA&&ay.isWithinBar(aC)){aA=aD}});az.filter(function(aC){return aC&&!ay.isBarType(aC.id)}).forEach(function(aC){var aD=ay.dist(aC,aB);if(aD<ax){ax=aD;aA=aC}});return aA};G.dist=function(aC,aE){var aA=this,aB=aA.config,az=aB.axis_rotated?1:0,ay=aB.axis_rotated?0:1,aD=aA.circleY(aC,aC.index),ax=aA.x(aC.x);return Math.sqrt(Math.pow(ax-aE[az],2)+Math.pow(aD-aE[ay],2))};G.convertValuesToStep=function(ax){var az=[].concat(ax),ay;if(!this.isCategorized()){return ax}for(ay=ax.length+1;0<ay;ay--){az[ay]=az[ay-1]}az[0]={x:az[0].x-1,value:az[0].value,id:az[0].id};az[ax.length+1]={x:az[ax.length].x+1,value:az[ax.length].value,id:az[ax.length].id};return az};G.updateDataAttributes=function(aA,az){var ax=this,ay=ax.config,aB=ay["data_"+aA];if(typeof az==="undefined"){return aB}Object.keys(az).forEach(function(aC){aB[aC]=az[aC]});ax.redraw({withLegend:true});return aB};G.convertUrlToData=function(az,aE,aD,aC,ax){var ay=this,aA=aE?aE:"csv";var aB=ay.d3.xhr(az);if(aD){Object.keys(aD).forEach(function(aF){aB.header(aF,aD[aF])})}aB.get(function(aF,aG){var aH;if(!aG){throw new Error(aF.responseURL+" "+aF.status+" ("+aF.statusText+")")}if(aA==="json"){aH=ay.convertJsonToData(JSON.parse(aG.response),aC)}else{if(aA==="tsv"){aH=ay.convertTsvToData(aG.response)}else{aH=ay.convertCsvToData(aG.response)}}ax.call(ay,aH)})};G.convertXsvToData=function(ax,aA){var ay=aA.parseRows(ax),az;if(ay.length===1){az=[{}];ay[0].forEach(function(aB){az[0][aB]=null})}else{az=aA.parse(ax)}return az};G.convertCsvToData=function(ax){return this.convertXsvToData(ax,this.d3.csv)};G.convertTsvToData=function(ax){return this.convertXsvToData(ax,this.d3.tsv)};G.convertJsonToData=function(az,aA){var ay=this,ax=[],aC,aB;if(aA){if(aA.x){aC=aA.value.concat(aA.x);ay.config.data_x=aA.x}else{aC=aA.value}ax.push(aC);az.forEach(function(aE){var aD=[];aC.forEach(function(aG){var aF=ay.findValueInJson(aE,aG);if(F(aF)){aF=null}aD.push(aF)});ax.push(aD)});aB=ay.convertRowsToData(ax)}else{Object.keys(az).forEach(function(aD){ax.push([aD].concat(az[aD]))});aB=ay.convertColumnsToData(ax)}return aB};G.findValueInJson=function(ay,aB){aB=aB.replace(/\[(\w+)\]/g,".$1");aB=aB.replace(/^\./,"");var aA=aB.split(".");for(var az=0;az<aA.length;++az){var ax=aA[az];if(ax in ay){ay=ay[ax]}else{return}}return ay};G.convertRowsToData=function(aC){var aB=aC[0],ay={},ax=[],aA,az;for(aA=1;aA<aC.length;aA++){ay={};for(az=0;az<aC[aA].length;az++){if(F(aC[aA][az])){throw new Error("Source data is missing a component at ("+aA+","+az+")!")}ay[aB[az]]=aC[aA][az]}ax.push(ay)}return ax};G.convertColumnsToData=function(aB){var ax=[],aA,ay,az;for(aA=0;aA<aB.length;aA++){az=aB[aA][0];for(ay=1;ay<aB[aA].length;ay++){if(F(ax[ay-1])){ax[ay-1]={}}if(F(aB[aA][ay])){throw new Error("Source data is missing a component at ("+aA+","+ay+")!")}ax[ay-1][az]=aB[aA][ay]}}return ax};G.convertDataToTargets=function(aD,aC){var ay=this,aA=ay.config,aB=ay.d3.keys(aD[0]).filter(ay.isNotX,ay),az=ay.d3.keys(aD[0]).filter(ay.isX,ay),ax;aB.forEach(function(aF){var aE=ay.getXKey(aF);if(ay.isCustomX()||ay.isTimeSeries()){if(az.indexOf(aE)>=0){ay.data.xs[aF]=(aC&&ay.data.xs[aF]?ay.data.xs[aF]:[]).concat(aD.map(function(aG){return aG[aE]}).filter(j).map(function(aG,aH){return ay.generateTargetX(aG,aF,aH)}))}else{if(aA.data_x){ay.data.xs[aF]=ay.getOtherTargetXs()}else{if(M(aA.data_xs)){ay.data.xs[aF]=ay.getXValuesOfXKey(aE,ay.data.targets)}}}}else{ay.data.xs[aF]=aD.map(function(aH,aG){return aG})}});aB.forEach(function(aE){if(!ay.data.xs[aE]){throw new Error('x is not defined for id = "'+aE+'".')}});ax=aB.map(function(aG,aE){var aF=aA.data_idConverter(aG);return{id:aF,id_org:aG,values:aD.map(function(aM,aK){var aJ=ay.getXKey(aG),aI=aM[aJ],aL=aM[aG]!==null&&!isNaN(aM[aG])?+aM[aG]:null,aH;if(ay.isCustomX()&&ay.isCategorized()&&aE===0&&!F(aI)){if(aE===0&&aK===0){aA.axis_x_categories=[]}aH=aA.axis_x_categories.indexOf(aI);if(aH===-1){aH=aA.axis_x_categories.length;aA.axis_x_categories.push(aI)}}else{aH=ay.generateTargetX(aI,aG,aK)}if(F(aM[aG])||ay.data.xs[aG].length<=aK){aH=undefined}return{x:aH,value:aL,id:aF}}).filter(function(aH){return J(aH.x)})}});ax.forEach(function(aF){var aE;if(aA.data_xSort){aF.values=aF.values.sort(function(aJ,aI){var aH=aJ.x||aJ.x===0?aJ.x:Infinity,aG=aI.x||aI.x===0?aI.x:Infinity;return aH-aG})}aE=0;aF.values.forEach(function(aG){aG.index=aE++});ay.data.xs[aF.id].sort(function(aH,aG){return aH-aG})});ay.hasNegativeValue=ay.hasNegativeValueInTargets(ax);ay.hasPositiveValue=ay.hasPositiveValueInTargets(ax);if(aA.data_type){ay.setTargetType(ay.mapToIds(ax).filter(function(aE){return !(aE in aA.data_types)}),aA.data_type)}ax.forEach(function(aE){ay.addCache(aE.id_org,aE)});return ax};G.load=function(ax,az){var ay=this;if(ax){if(az.filter){ax=ax.filter(az.filter)}if(az.type||az.types){ax.forEach(function(aA){var aB=az.types&&az.types[aA.id]?az.types[aA.id]:az.type;ay.setTargetType(aA.id,aB)})}ay.data.targets.forEach(function(aB){for(var aA=0;aA<ax.length;aA++){if(aB.id===ax[aA].id){aB.values=ax[aA].values;ax.splice(aA,1);break}}});ay.data.targets=ay.data.targets.concat(ax)}ay.updateTargets(ay.data.targets);ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(az.done){az.done()}};G.loadFromArgs=function(ay){var ax=this;if(ay.data){ax.load(ax.convertDataToTargets(ay.data),ay)}else{if(ay.url){ax.convertUrlToData(ay.url,ay.mimeType,ay.headers,ay.keys,function(az){ax.load(ax.convertDataToTargets(az),ay)})}else{if(ay.json){ax.load(ax.convertDataToTargets(ax.convertJsonToData(ay.json,ay.keys)),ay)}else{if(ay.rows){ax.load(ax.convertDataToTargets(ax.convertRowsToData(ay.rows)),ay)}else{if(ay.columns){ax.load(ax.convertDataToTargets(ax.convertColumnsToData(ay.columns)),ay)}else{ax.load(null,ay)}}}}}};G.unload=function(ay,ax){var az=this;if(!ax){ax=function(){}}ay=ay.filter(function(aA){return az.hasTarget(az.data.targets,aA)});if(!ay||ay.length===0){ax();return}az.svg.selectAll(ay.map(function(aA){return az.selectorTarget(aA)})).transition().style("opacity",0).remove().call(az.endall,ax);ay.forEach(function(aA){az.withoutFadeIn[aA]=false;if(az.legend){az.legend.selectAll("."+E.legendItem+az.getTargetSelectorSuffix(aA)).remove()}az.data.targets=az.data.targets.filter(function(aB){return aB.id!==aA})})};G.categoryName=function(ay){var ax=this.config;return ay<ax.axis_x_categories.length?ax.axis_x_categories[ay]:ay};G.initEventRect=function(){var ax=this;ax.main.select("."+E.chart).append("g").attr("class",E.eventRects).style("fill-opacity",0)};G.redrawEventRect=function(){var ax=this,ay=ax.config,aC,aB,aA=ax.isMultipleX();var az=ax.main.select("."+E.eventRects).style("cursor",ay.zoom_enabled?ay.axis_rotated?"ns-resize":"ew-resize":null).classed(E.eventRectsMultiple,aA).classed(E.eventRectsSingle,!aA);az.selectAll("."+E.eventRect).remove();ax.eventRect=az.selectAll("."+E.eventRect);if(aA){aC=ax.eventRect.data([0]);ax.generateEventRectsForMultipleXs(aC.enter());ax.updateEventRect(aC)}else{aB=ax.getMaxDataCountTarget(ax.data.targets);az.datum(aB?aB.values:[]);ax.eventRect=az.selectAll("."+E.eventRect);aC=ax.eventRect.data(function(aD){return aD});ax.generateEventRectsForSingleX(aC.enter());ax.updateEventRect(aC);aC.exit().remove()}};G.updateEventRect=function(aE){var aF=this,az=aF.config,aC,aB,aD,aA,ay,ax;aE=aE||aF.eventRect.data(function(aG){return aG});if(aF.isMultipleX()){aC=0;aB=0;aD=aF.width;aA=aF.height}else{if((aF.isCustomX()||aF.isTimeSeries())&&!aF.isCategorized()){aF.updateXs();ay=function(aI){var aG=aF.getPrevX(aI.index),aH=aF.getNextX(aI.index);if(aG===null&&aH===null){return az.axis_rotated?aF.height:aF.width}if(aG===null){aG=aF.x.domain()[0]}if(aH===null){aH=aF.x.domain()[1]}return Math.max(0,(aF.x(aH)-aF.x(aG))/2)};ax=function(aJ){var aH=aF.getPrevX(aJ.index),aI=aF.getNextX(aJ.index),aG=aF.data.xs[aJ.id][aJ.index];if(aH===null&&aI===null){return 0}if(aH===null){aH=aF.x.domain()[0]}return(aF.x(aG)+aF.x(aH))/2}}else{ay=aF.getEventRectWidth();ax=function(aG){return aF.x(aG.x)-(ay/2)}}aC=az.axis_rotated?0:ax;aB=az.axis_rotated?ax:0;aD=az.axis_rotated?aF.width:ay;aA=az.axis_rotated?ay:aF.height}aE.attr("class",aF.classEvent.bind(aF)).attr("x",aC).attr("y",aB).attr("width",aD).attr("height",aA)};G.generateEventRectsForSingleX=function(az){var ax=this,aA=ax.d3,ay=ax.config;az.append("rect").attr("class",ax.classEvent.bind(ax)).style("cursor",ay.data_selection_enabled&&ay.data_selection_grouped?"pointer":null).on("mouseover",function(aC){var aB=aC.index;if(ax.dragging||ax.flowing){return}if(ax.hasArcType()){return}if(ay.point_focus_expand_enabled){ax.expandCircles(aB,null,true)}ax.expandBars(aB,null,true);ax.main.selectAll("."+E.shape+"-"+aB).each(function(aD){ay.data_onmouseover.call(ax.api,aD)})}).on("mouseout",function(aC){var aB=aC.index;if(!ax.config){return}if(ax.hasArcType()){return}ax.hideXGridFocus();ax.hideTooltip();ax.unexpandCircles();ax.unexpandBars();ax.main.selectAll("."+E.shape+"-"+aB).each(function(aD){ay.data_onmouseout.call(ax.api,aD)})}).on("mousemove",function(aE){var aD,aB=aE.index,aC=ax.svg.select("."+E.eventRect+"-"+aB);if(ax.dragging||ax.flowing){return}if(ax.hasArcType()){return}if(ax.isStepType(aE)&&ax.config.line_step_type==="step-after"&&aA.mouse(this)[0]<ax.x(ax.getXValue(aE.id,aB))){aB-=1}aD=ax.filterTargetsToShow(ax.data.targets).map(function(aF){return ax.addName(ax.getValueOnIndex(aF.values,aB))});if(ay.tooltip_grouped){ax.showTooltip(aD,this);ax.showXGridFocus(aD)}if(ay.tooltip_grouped&&(!ay.data_selection_enabled||ay.data_selection_grouped)){return}ax.main.selectAll("."+E.shape+"-"+aB).each(function(){aA.select(this).classed(E.EXPANDED,true);if(ay.data_selection_enabled){aC.style("cursor",ay.data_selection_grouped?"pointer":null)}if(!ay.tooltip_grouped){ax.hideXGridFocus();ax.hideTooltip();if(!ay.data_selection_grouped){ax.unexpandCircles(aB);ax.unexpandBars(aB)}}}).filter(function(aF){return ax.isWithinShape(this,aF)}).each(function(aF){if(ay.data_selection_enabled&&(ay.data_selection_grouped||ay.data_selection_isselectable(aF))){aC.style("cursor","pointer")}if(!ay.tooltip_grouped){ax.showTooltip([aF],this);ax.showXGridFocus([aF]);if(ay.point_focus_expand_enabled){ax.expandCircles(aB,aF.id,true)}ax.expandBars(aB,aF.id,true)}})}).on("click",function(aC){var aB=aC.index;if(ax.hasArcType()||!ax.toggleShape){return}if(ax.cancelClick){ax.cancelClick=false;return}if(ax.isStepType(aC)&&ay.line_step_type==="step-after"&&aA.mouse(this)[0]<ax.x(ax.getXValue(aC.id,aB))){aB-=1}ax.main.selectAll("."+E.shape+"-"+aB).each(function(aD){if(ay.data_selection_grouped||ax.isWithinShape(this,aD)){ax.toggleShape(this,aD,aB);ax.config.data_onclick.call(ax.api,aD,this)}})}).call(ay.data_selection_draggable&&ax.drag?(aA.behavior.drag().origin(Object).on("drag",function(){ax.drag(aA.mouse(this))}).on("dragstart",function(){ax.dragstart(aA.mouse(this))}).on("dragend",function(){ax.dragend()})):function(){})};G.generateEventRectsForMultipleXs=function(az){var ax=this,aA=ax.d3,ay=ax.config;function aB(){ax.svg.select("."+E.eventRect).style("cursor",null);ax.hideXGridFocus();ax.hideTooltip();ax.unexpandCircles();ax.unexpandBars()}az.append("rect").attr("x",0).attr("y",0).attr("width",ax.width).attr("height",ax.height).attr("class",E.eventRect).on("mouseout",function(){if(!ax.config){return}if(ax.hasArcType()){return}aB()}).on("mousemove",function(){var aD=ax.filterTargetsToShow(ax.data.targets);var aC,aE,aG,aF;if(ax.dragging){return}if(ax.hasArcType(aD)){return}aC=aA.mouse(this);aE=ax.findClosestFromTargets(aD,aC);if(ax.mouseover&&(!aE||aE.id!==ax.mouseover.id)){ay.data_onmouseout.call(ax.api,ax.mouseover);ax.mouseover=undefined}if(!aE){aB();return}if(ax.isScatterType(aE)||!ay.tooltip_grouped){aG=[aE]}else{aG=ax.filterByX(aD,aE.x)}aF=aG.map(function(aH){return ax.addName(aH)});ax.showTooltip(aF,this);if(ay.point_focus_expand_enabled){ax.expandCircles(aE.index,aE.id,true)}ax.expandBars(aE.index,aE.id,true);ax.showXGridFocus(aF);if(ax.isBarType(aE.id)||ax.dist(aE,aC)<ay.point_sensitivity){ax.svg.select("."+E.eventRect).style("cursor","pointer");if(!ax.mouseover){ay.data_onmouseover.call(ax.api,aE);ax.mouseover=aE}}}).on("click",function(){var aD=ax.filterTargetsToShow(ax.data.targets);var aC,aE;if(ax.hasArcType(aD)){return}aC=aA.mouse(this);aE=ax.findClosestFromTargets(aD,aC);if(!aE){return}if(ax.isBarType(aE.id)||ax.dist(aE,aC)<ay.point_sensitivity){ax.main.selectAll("."+E.shapes+ax.getTargetSelectorSuffix(aE.id)).selectAll("."+E.shape+"-"+aE.index).each(function(){if(ay.data_selection_grouped||ax.isWithinShape(this,aE)){ax.toggleShape(this,aE,aE.index);ax.config.data_onclick.call(ax.api,aE,this)}})}}).call(ay.data_selection_draggable&&ax.drag?(aA.behavior.drag().origin(Object).on("drag",function(){ax.drag(aA.mouse(this))}).on("dragstart",function(){ax.dragstart(aA.mouse(this))}).on("dragend",function(){ax.dragend()})):function(){})};G.dispatchEvent=function(aD,aB,aC){var aG=this,az="."+E.eventRect+(!aG.isMultipleX()?"-"+aB:""),ay=aG.main.select(az).node(),aA=ay.getBoundingClientRect(),aF=aA.left+(aC?aC[0]:0),aE=aA.top+(aC?aC[1]:0),ax=document.createEvent("MouseEvents");ax.initMouseEvent(aD,true,true,ae,0,aF,aE,aF,aE,false,false,false,false,0,null);ay.dispatchEvent(ax)};G.getCurrentWidth=function(){var ax=this,ay=ax.config;return ay.size_width?ay.size_width:ax.getParentWidth()};G.getCurrentHeight=function(){var ax=this,ay=ax.config,az=ay.size_height?ay.size_height:ax.getParentHeight();return az>0?az:320/(ax.hasType("gauge")&&!ay.gauge_fullCircle?2:1)};G.getCurrentPaddingTop=function(){var ax=this,ay=ax.config,az=j(ay.padding_top)?ay.padding_top:0;if(ax.title&&ax.title.node()){az+=ax.getTitlePadding()}return az};G.getCurrentPaddingBottom=function(){var ax=this.config;return j(ax.padding_bottom)?ax.padding_bottom:0};G.getCurrentPaddingLeft=function(ax){var ay=this,az=ay.config;if(j(az.padding_left)){return az.padding_left}else{if(az.axis_rotated){return !az.axis_x_show?1:Math.max(P(ay.getAxisWidthByAxisId("x",ax)),40)}else{if(!az.axis_y_show||az.axis_y_inner){return ay.axis.getYAxisLabelPosition().isOuter?30:1}else{return P(ay.getAxisWidthByAxisId("y",ax))}}}};G.getCurrentPaddingRight=function(){var ax=this,ay=ax.config,aA=10,az=ax.isLegendRight?ax.getLegendWidth()+20:0;if(j(ay.padding_right)){return ay.padding_right+1}else{if(ay.axis_rotated){return aA+az}else{if(!ay.axis_y2_show||ay.axis_y2_inner){return 2+az+(ax.axis.getY2AxisLabelPosition().isOuter?20:0)}else{return P(ax.getAxisWidthByAxisId("y2"))+az}}}};G.getParentRectValue=function(ay){var az=this.selectChart.node(),ax;while(az&&az.tagName!=="BODY"){try{ax=az.getBoundingClientRect()[ay]}catch(aA){if(ay==="width"){ax=az.offsetWidth}}if(ax){break}az=az.parentNode}return ax};G.getParentWidth=function(){return this.getParentRectValue("width")};G.getParentHeight=function(){var ax=this.selectChart.style("height");return ax.indexOf("px")>0?+ax.replace("px",""):0};G.getSvgLeft=function(aD){var aF=this,ay=aF.config,aB=ay.axis_rotated||(!ay.axis_rotated&&!ay.axis_y_inner),aG=ay.axis_rotated?E.axisX:E.axisY,ax=aF.main.select("."+aG).node(),aE=ax&&aB?ax.getBoundingClientRect():{right:0},aC=aF.selectChart.node().getBoundingClientRect(),aA=aF.hasArcType(),az=aE.right-aC.left-(aA?0:aF.getCurrentPaddingLeft(aD));return az>0?az:0};G.getAxisWidthByAxisId=function(aA,ay){var az=this,ax=az.axis.getLabelPositionById(aA);return az.axis.getMaxTickWidth(aA,ay)+(ax.isInner?20:40)};G.getHorizontalAxisHeight=function(aA){var ax=this,ay=ax.config,az=30;if(aA==="x"&&!ay.axis_x_show){return 8}if(aA==="x"&&ay.axis_x_height){return ay.axis_x_height}if(aA==="y"&&!ay.axis_y_show){return ay.legend_show&&!ax.isLegendRight&&!ax.isLegendInset?10:1}if(aA==="y2"&&!ay.axis_y2_show){return ax.rotated_padding_top}if(aA==="x"&&!ay.axis_rotated&&ay.axis_x_tick_rotate){az=30+ax.axis.getMaxTickWidth(aA)*Math.cos(Math.PI*(90-ay.axis_x_tick_rotate)/180)}if(aA==="y"&&ay.axis_rotated&&ay.axis_y_tick_rotate){az=30+ax.axis.getMaxTickWidth(aA)*Math.cos(Math.PI*(90-ay.axis_y_tick_rotate)/180)}return az+(ax.axis.getLabelPositionById(aA).isInner?0:10)+(aA==="y2"?-10:0)};G.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())};G.getShapeIndices=function(aC){var ay=this,aA=ay.config,aD={},aB=0,az,ax;ay.filterTargetsToShow(ay.data.targets.filter(aC,ay)).forEach(function(aE){for(az=0;az<aA.data_groups.length;az++){if(aA.data_groups[az].indexOf(aE.id)<0){continue}for(ax=0;ax<aA.data_groups[az].length;ax++){if(aA.data_groups[az][ax] in aD){aD[aE.id]=aD[aA.data_groups[az][ax]];break}}}if(F(aD[aE.id])){aD[aE.id]=aB++}});aD.__max__=aB-1;return aD};G.getShapeX=function(aC,ay,aB,ax){var az=this,aA=ax?az.subX:az.x;return function(aE){var aD=aE.id in aB?aB[aE.id]:0;return aE.x||aE.x===0?aA(aE.x)-aC*(ay/2-aD):0}};G.getShapeY=function(ax){var ay=this;return function(aA){var az=ax?ay.getSubYScale(aA.id):ay.getYScale(aA.id);return az(aA.value)}};G.getShapeOffset=function(aB,aC,ax){var aA=this,az=aA.orderTargets(aA.filterTargetsToShow(aA.data.targets.filter(aB,aA))),ay=az.map(function(aD){return aD.id});return function(aH,aD){var aG=ax?aA.getSubYScale(aH.id):aA.getYScale(aH.id),aE=aG(0),aF=aE;az.forEach(function(aJ){var aI=aA.isStepType(aH)?aA.convertValuesToStep(aJ.values):aJ.values;if(aJ.id===aH.id||aC[aJ.id]!==aC[aH.id]){return}if(ay.indexOf(aJ.id)<ay.indexOf(aH.id)){if(typeof aI[aD]==="undefined"||+aI[aD].x!==+aH.x){aD=-1;aI.forEach(function(aK,aL){if(aK.x===aH.x){aD=aL}})}if(aD in aI&&aI[aD].value*aH.value>=0){aF+=aG(aI[aD].value)-aE}}});return aF}};G.isWithinShape=function(az,aA){var ay=this,ax=ay.d3.select(az),aB;if(!ay.isTargetToShow(aA.id)){aB=false}else{if(az.nodeName==="circle"){aB=ay.isStepType(aA)?ay.isWithinStep(az,ay.getYScale(aA.id)(aA.value)):ay.isWithinCircle(az,ay.pointSelectR(aA)*1.5)}else{if(az.nodeName==="path"){aB=ax.classed(E.bar)?ay.isWithinBar(az):true}}}return aB};G.getInterpolate=function(az){var ay=this,ax=ay.isInterpolationType(ay.config.spline_interpolation_type)?ay.config.spline_interpolation_type:"cardinal";return ay.isSplineType(az)?ax:ay.isStepType(az)?ay.config.line_step_type:"linear"};G.initLine=function(){var ax=this;ax.main.select("."+E.chart).append("g").attr("class",E.chartLines)};G.updateTargetsForLine=function(aF){var aG=this,az=aG.config,ax,ay,aB=aG.classChartLine.bind(aG),aC=aG.classLines.bind(aG),aD=aG.classAreas.bind(aG),aE=aG.classCircles.bind(aG),aA=aG.classFocus.bind(aG);ax=aG.main.select("."+E.chartLines).selectAll("."+E.chartLine).data(aF).attr("class",function(aH){return aB(aH)+aA(aH)});ay=ax.enter().append("g").attr("class",aB).style("opacity",0).style("pointer-events","none");ay.append("g").attr("class",aC);ay.append("g").attr("class",aD);ay.append("g").attr("class",function(aH){return aG.generateClass(E.selectedCircles,aH.id)});ay.append("g").attr("class",aE).style("cursor",function(aH){return az.data_selection_isselectable(aH)?"pointer":null});aF.forEach(function(aH){aG.main.selectAll("."+E.selectedCircles+aG.getTargetSelectorSuffix(aH.id)).selectAll("."+E.selectedCircle).each(function(aI){aI.value=aH.values[aI.index].value})})};G.updateLine=function(ay){var ax=this;ax.mainLine=ax.main.selectAll("."+E.lines).selectAll("."+E.line).data(ax.lineData.bind(ax));ax.mainLine.enter().append("path").attr("class",ax.classLine.bind(ax)).style("stroke",ax.color);ax.mainLine.style("opacity",ax.initialOpacity.bind(ax)).style("shape-rendering",function(az){return ax.isStepType(az)?"crispEdges":""}).attr("transform",null);ax.mainLine.exit().transition().duration(ay).style("opacity",0).remove()};G.redrawLine=function(ay,ax){return[(ax?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",ay).style("stroke",this.color).style("opacity",1)]};G.generateDrawLine=function(ax,aE){var aD=this,ay=aD.config,aF=aD.d3.svg.line(),aB=aD.generateGetLinePoints(ax,aE),az=aE?aD.getSubYScale:aD.getYScale,aA=function(aG){return(aE?aD.subxx:aD.xx).call(aD,aG)},aC=function(aH,aG){return ay.data_groups.length>0?aB(aH,aG)[0][1]:az.call(aD,aH.id)(aH.value)};aF=ay.axis_rotated?aF.x(aC).y(aA):aF.x(aA).y(aC);if(!ay.line_connectNull){aF=aF.defined(function(aG){return aG.value!=null})}return function(aL){var aH=ay.line_connectNull?aD.filterRemoveNull(aL.values):aL.values,aG=aE?aD.x:aD.subX,aM=az.call(aD,aL.id),aI=0,aJ=0,aK;if(aD.isLineType(aL)){if(ay.data_regions[aL.id]){aK=aD.lineWithRegions(aH,aG,aM,ay.data_regions[aL.id])}else{if(aD.isStepType(aL)){aH=aD.convertValuesToStep(aH)}aK=aF.interpolate(aD.getInterpolate(aL))(aH)}}else{if(aH[0]){aI=aG(aH[0].x);aJ=aM(aH[0].value)}aK=ay.axis_rotated?"M "+aJ+" "+aI:"M "+aI+" "+aJ}return aK?aK:"M 0 0"}};G.generateGetLinePoints=function(ax,aF){var aE=this,az=aE.config,aB=ax.__max__+1,aD=aE.getShapeX(0,aB,ax,!!aF),aC=aE.getShapeY(!!aF),aA=aE.getShapeOffset(aE.isLineType,ax,!!aF),ay=aF?aE.getSubYScale:aE.getYScale;return function(aK,aG){var aH=ay.call(aE,aK.id)(0),aJ=aA(aK,aG)||aH,aL=aD(aK),aI=aC(aK);if(az.axis_rotated){if((0<aK.value&&aI<aH)||(aK.value<0&&aH<aI)){aI=aH}}return[[aL,aI-(aH-aJ)],[aL,aI-(aH-aJ)],[aL,aI-(aH-aJ)],[aL,aI-(aH-aJ)]]}};G.lineWithRegions=function(aR,aC,aB,aJ){var aH=this,aT=aH.config,aL=-1,aO,aN,aK="M",aE,aF,aP,aG,aD,aS,aI,aA,aU=aH.isCategorized()?0.5:0,aM,aQ,ax=[];function ay(aV,aX){var aW;for(aW=0;aW<aX.length;aW++){if(aX[aW].start<aV&&aV<=aX[aW].end){return true}}return false}if(J(aJ)){for(aO=0;aO<aJ.length;aO++){ax[aO]={};if(F(aJ[aO].start)){ax[aO].start=aR[0].x}else{ax[aO].start=aH.isTimeSeries()?aH.parseDate(aJ[aO].start):aJ[aO].start}if(F(aJ[aO].end)){ax[aO].end=aR[aR.length-1].x}else{ax[aO].end=aH.isTimeSeries()?aH.parseDate(aJ[aO].end):aJ[aO].end}}}aM=aT.axis_rotated?function(aV){return aB(aV.value)}:function(aV){return aC(aV.x)};aQ=aT.axis_rotated?function(aV){return aC(aV.x)}:function(aV){return aB(aV.value)};function az(aV){return"M"+aV[0][0]+" "+aV[0][1]+" "+aV[1][0]+" "+aV[1][1]}if(aH.isTimeSeries()){aE=function(aW,aV,aZ,a0){var aX=aW.x.getTime(),aY=aV.x-aW.x,a3=new Date(aX+aY*aZ),a2=new Date(aX+aY*(aZ+a0)),a1;if(aT.axis_rotated){a1=[[aB(aP(aZ)),aC(a3)],[aB(aP(aZ+a0)),aC(a2)]]}else{a1=[[aC(a3),aB(aP(aZ))],[aC(a2),aB(aP(aZ+a0))]]}return az(a1)}}else{aE=function(aZ,aX,aV,aY){var aW;if(aT.axis_rotated){aW=[[aB(aP(aV),true),aC(aF(aV))],[aB(aP(aV+aY),true),aC(aF(aV+aY))]]}else{aW=[[aC(aF(aV),true),aB(aP(aV))],[aC(aF(aV+aY),true),aB(aP(aV+aY))]]}return az(aW)}}for(aO=0;aO<aR.length;aO++){if(F(ax)||!ay(aR[aO].x,ax)){aK+=" "+aM(aR[aO])+" "+aQ(aR[aO])}else{aF=aH.getScale(aR[aO-1].x+aU,aR[aO].x+aU,aH.isTimeSeries());aP=aH.getScale(aR[aO-1].value,aR[aO].value);aG=aC(aR[aO].x)-aC(aR[aO-1].x);aD=aB(aR[aO].value)-aB(aR[aO-1].value);aS=Math.sqrt(Math.pow(aG,2)+Math.pow(aD,2));aI=2/aS;aA=aI*2;for(aN=aI;aN<=1;aN+=aA){aK+=aE(aR[aO-1],aR[aO],aN,aI)}}aL=aR[aO].x}return aK};G.updateArea=function(az){var ax=this,ay=ax.d3;ax.mainArea=ax.main.selectAll("."+E.areas).selectAll("."+E.area).data(ax.lineData.bind(ax));ax.mainArea.enter().append("path").attr("class",ax.classArea.bind(ax)).style("fill",ax.color).style("opacity",function(){ax.orgAreaOpacity=+ay.select(this).style("opacity");return 0});ax.mainArea.style("opacity",ax.orgAreaOpacity);ax.mainArea.exit().transition().duration(az).style("opacity",0).remove()};G.redrawArea=function(ay,ax){return[(ax?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",ay).style("fill",this.color).style("opacity",this.orgAreaOpacity)]};G.generateDrawArea=function(aA,aG){var aF=this,ay=aF.config,ax=aF.d3.svg.area(),aC=aF.generateGetAreaPoints(aA,aG),az=aG?aF.getSubYScale:aF.getYScale,aB=function(aH){return(aG?aF.subxx:aF.xx).call(aF,aH)},aE=function(aI,aH){return ay.data_groups.length>0?aC(aI,aH)[0][1]:az.call(aF,aI.id)(aF.getAreaBaseValue(aI.id))},aD=function(aI,aH){return ay.data_groups.length>0?aC(aI,aH)[1][1]:az.call(aF,aI.id)(aI.value)};ax=ay.axis_rotated?ax.x0(aE).x1(aD).y(aB):ax.x(aB).y0(ay.area_above?0:aE).y1(aD);if(!ay.line_connectNull){ax=ax.defined(function(aH){return aH.value!==null})}return function(aL){var aH=ay.line_connectNull?aF.filterRemoveNull(aL.values):aL.values,aI=0,aJ=0,aK;if(aF.isAreaType(aL)){if(aF.isStepType(aL)){aH=aF.convertValuesToStep(aH)}aK=ax.interpolate(aF.getInterpolate(aL))(aH)}else{if(aH[0]){aI=aF.x(aH[0].x);aJ=aF.getYScale(aL.id)(aH[0].value)}aK=ay.axis_rotated?"M "+aJ+" "+aI:"M "+aI+" "+aJ}return aK?aK:"M 0 0"}};G.getAreaBaseValue=function(){return 0};G.generateGetAreaPoints=function(aA,aF){var aE=this,ay=aE.config,aB=aA.__max__+1,aD=aE.getShapeX(0,aB,aA,!!aF),aC=aE.getShapeY(!!aF),az=aE.getShapeOffset(aE.isAreaType,aA,!!aF),ax=aF?aE.getSubYScale:aE.getYScale;return function(aK,aG){var aH=ax.call(aE,aK.id)(0),aJ=az(aK,aG)||aH,aL=aD(aK),aI=aC(aK);if(ay.axis_rotated){if((0<aK.value&&aI<aH)||(aK.value<0&&aH<aI)){aI=aH}}return[[aL,aJ],[aL,aI-(aH-aJ)],[aL,aI-(aH-aJ)],[aL,aJ]]}};G.updateCircle=function(){var ax=this;ax.mainCircle=ax.main.selectAll("."+E.circles).selectAll("."+E.circle).data(ax.lineOrScatterData.bind(ax));ax.mainCircle.enter().append("circle").attr("class",ax.classCircle.bind(ax)).attr("r",ax.pointR.bind(ax)).style("fill",ax.color);ax.mainCircle.style("opacity",ax.initialOpacityForCircle.bind(ax));ax.mainCircle.exit().remove()};G.redrawCircle=function(ax,aA,ay){var az=this.main.selectAll("."+E.selectedCircle);return[(ay?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",ax).attr("cy",aA),(ay?az.transition(Math.random().toString()):az).attr("cx",ax).attr("cy",aA)]};G.circleX=function(ax){return ax.x||ax.x===0?this.x(ax.x):null};G.updateCircleY=function(){var ax=this,az,ay;if(ax.config.data_groups.length>0){az=ax.getShapeIndices(ax.isLineType),ay=ax.generateGetLinePoints(az);ax.circleY=function(aB,aA){return ay(aB,aA)[0][1]}}else{ax.circleY=function(aA){return ax.getYScale(aA.id)(aA.value)}}};G.getCircles=function(ay,az){var ax=this;return(az?ax.main.selectAll("."+E.circles+ax.getTargetSelectorSuffix(az)):ax.main).selectAll("."+E.circle+(j(ay)?"-"+ay:""))};G.expandCircles=function(ay,aB,aA){var ax=this,az=ax.pointExpandedR.bind(ax);if(aA){ax.unexpandCircles()}ax.getCircles(ay,aB).classed(E.EXPANDED,true).attr("r",az)};G.unexpandCircles=function(ay){var ax=this,az=ax.pointR.bind(ax);ax.getCircles(ay).filter(function(){return ax.d3.select(this).classed(E.EXPANDED)}).classed(E.EXPANDED,false).attr("r",az)};G.pointR=function(az){var ax=this,ay=ax.config;return ax.isStepType(az)?0:(z(ay.point_r)?ay.point_r(az):ay.point_r)};G.pointExpandedR=function(az){var ax=this,ay=ax.config;return ay.point_focus_expand_enabled?(ay.point_focus_expand_r?ay.point_focus_expand_r:ax.pointR(az)*1.75):ax.pointR(az)};G.pointSelectR=function(az){var ax=this,ay=ax.config;return z(ay.point_select_r)?ay.point_select_r(az):((ay.point_select_r)?ay.point_select_r:ax.pointR(az)*4)};G.isWithinCircle=function(aC,aB){var aA=this.d3,az=aA.mouse(aC),ay=aA.select(aC),ax=+ay.attr("cx"),aD=+ay.attr("cy");return Math.sqrt(Math.pow(ax-az[0],2)+Math.pow(aD-az[1],2))<aB};G.isWithinStep=function(ax,ay){return Math.abs(ay-this.d3.mouse(ax)[1])<30};G.initBar=function(){var ax=this;ax.main.select("."+E.chart).append("g").attr("class",E.chartBars)};G.updateTargetsForBar=function(ay){var aA=this,aC=aA.config,aE,ax,aB=aA.classChartBar.bind(aA),aD=aA.classBars.bind(aA),az=aA.classFocus.bind(aA);aE=aA.main.select("."+E.chartBars).selectAll("."+E.chartBar).data(ay).attr("class",function(aF){return aB(aF)+az(aF)});ax=aE.enter().append("g").attr("class",aB).style("opacity",0).style("pointer-events","none");ax.append("g").attr("class",aD).style("cursor",function(aF){return aC.data_selection_isselectable(aF)?"pointer":null})};G.updateBar=function(aC){var az=this,ax=az.barData.bind(az),aA=az.classBar.bind(az),aB=az.initialOpacity.bind(az),ay=function(aD){return az.color(aD.id)};az.mainBar=az.main.selectAll("."+E.bars).selectAll("."+E.bar).data(ax);az.mainBar.enter().append("path").attr("class",aA).style("stroke",ay).style("fill",ay);az.mainBar.style("opacity",aB);az.mainBar.exit().transition().duration(aC).style("opacity",0).remove()};G.redrawBar=function(ax,ay){return[(ay?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",ax).style("fill",this.color).style("opacity",1)]};G.getBarW=function(aB,aA){var ay=this,az=ay.config,ax=typeof az.bar_width==="number"?az.bar_width:aA?(aB.tickInterval()*az.bar_width_ratio)/aA:0;return az.bar_width_max&&ax>az.bar_width_max?az.bar_width_max:ax};G.getBars=function(ay,az){var ax=this;return(az?ax.main.selectAll("."+E.bars+ax.getTargetSelectorSuffix(az)):ax.main).selectAll("."+E.bar+(j(ay)?"-"+ay:""))};G.expandBars=function(ay,aA,az){var ax=this;if(az){ax.unexpandBars()}ax.getBars(ay,aA).classed(E.EXPANDED,true)};G.unexpandBars=function(ay){var ax=this;ax.getBars(ay).classed(E.EXPANDED,false)};G.generateDrawBar=function(ay,ax){var az=this,aB=az.config,aA=az.generateGetBarPoints(ay,ax);return function(aH,aE){var aF=aA(aH,aE);var aD=aB.axis_rotated?1:0;var aC=aB.axis_rotated?0:1;var aG="M "+aF[0][aD]+","+aF[0][aC]+" L"+aF[1][aD]+","+aF[1][aC]+" L"+aF[2][aD]+","+aF[2][aC]+" L"+aF[3][aD]+","+aF[3][aC]+" z";return aG}};G.generateGetBarPoints=function(aC,aF){var aE=this,aA=aF?aE.subXAxis:aE.xAxis,aD=aC.__max__+1,ay=aE.getBarW(aA,aD),ax=aE.getShapeX(ay,aD,aC,!!aF),aG=aE.getShapeY(!!aF),aB=aE.getShapeOffset(aE.isBarType,aC,!!aF),az=aF?aE.getSubYScale:aE.getYScale;return function(aL,aH){var aI=az.call(aE,aL.id)(0),aK=aB(aL,aH)||aI,aM=ax(aL),aJ=aG(aL);if(aE.config.axis_rotated){if((0<aL.value&&aJ<aI)||(aL.value<0&&aI<aJ)){aJ=aI}}return[[aM,aK],[aM,aJ-(aI-aK)],[aM+ay,aJ-(aI-aK)],[aM+ay,aK]]}};G.isWithinBar=function(aB){var aD=this.d3.mouse(aB),aA=aB.getBoundingClientRect(),ax=aB.pathSegList.getItem(0),aK=aB.pathSegList.getItem(1),aI=Math.min(ax.x,aK.x),aG=Math.min(ax.y,aK.y),aJ=aA.width,az=aA.height,ay=2,aH=aI-ay,aE=aI+aJ+ay,aF=aG+az+ay,aC=aG-ay;return aH<aD[0]&&aD[0]<aE&&aC<aD[1]&&aD[1]<aF};G.initText=function(){var ax=this;ax.main.select("."+E.chart).append("g").attr("class",E.chartTexts);ax.mainText=ax.d3.selectAll([])};G.updateTargetsForText=function(ay){var aA=this,aD,ax,aB=aA.classChartText.bind(aA),aC=aA.classTexts.bind(aA),az=aA.classFocus.bind(aA);aD=aA.main.select("."+E.chartTexts).selectAll("."+E.chartText).data(ay).attr("class",function(aE){return aB(aE)+az(aE)});ax=aD.enter().append("g").attr("class",aB).style("opacity",0).style("pointer-events","none");ax.append("g").attr("class",aC)};G.updateText=function(aB){var ay=this,az=ay.config,aA=ay.barOrLineData.bind(ay),ax=ay.classText.bind(ay);ay.mainText=ay.main.selectAll("."+E.texts).selectAll("."+E.text).data(aA);ay.mainText.enter().append("text").attr("class",ax).attr("text-anchor",function(aC){return az.axis_rotated?(aC.value<0?"end":"start"):"middle"}).style("stroke","none").style("fill",function(aC){return ay.color(aC)}).style("fill-opacity",0);ay.mainText.text(function(aE,aD,aC){return ay.dataLabelFormat(aE.id)(aE.value,aE.id,aD,aC)});ay.mainText.exit().transition().duration(aB).style("fill-opacity",0).remove()};G.redrawText=function(aA,az,ay,ax){return[(ax?this.mainText.transition():this.mainText).attr("x",aA).attr("y",az).style("fill",this.color).style("fill-opacity",ay?0:this.opacityForText.bind(this))]};G.getTextRect=function(aD,ax,aA){var aC=this.d3.select("body").append("div").classed("c3",true),az=aC.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),ay=this.d3.select(aA).style("font"),aB;az.selectAll(".dummy").data([aD]).enter().append("text").classed(ax?ax:"",true).style("font",ay).text(aD).each(function(){aB=this.getBoundingClientRect()});aC.remove();return aB};G.generateXYForText=function(aA,aC,ay,ax){var aF=this,az=aF.generateGetAreaPoints(aA,false),aD=aF.generateGetBarPoints(aC,false),aB=aF.generateGetLinePoints(ay,false),aE=ax?aF.getXForText:aF.getYForText;return function(aI,aH){var aG=aF.isAreaType(aI)?az:aF.isBarType(aI)?aD:aB;return aE.call(aF,aG(aI,aH),aI,this)}};G.getXForText=function(az,aD,ay){var ax=this,aA=ay.getBoundingClientRect(),aC,aB;if(ax.config.axis_rotated){aB=ax.isBarType(aD)?4:6;aC=az[2][1]+aB*(aD.value<0?-1:1)}else{aC=ax.hasType("bar")?(az[2][0]+az[0][0])/2:az[0][0]}if(aD.value===null){if(aC>ax.width){aC=ax.width-aA.width}else{if(aC<0){aC=4}}}return aC};G.getYForText=function(az,aC,ay){var ax=this,aB=ay.getBoundingClientRect(),aA;if(ax.config.axis_rotated){aA=(az[0][0]+az[2][0]+aB.height*0.6)/2}else{aA=az[2][1];if(aC.value<0||(aC.value===0&&!ax.hasPositiveValue)){aA+=aB.height;if(ax.isBarType(aC)&&ax.isSafari()){aA-=3}else{if(!ax.isBarType(aC)&&ax.isChrome()){aA+=3}}}else{aA+=ax.isBarType(aC)?-3:-6}}if(aC.value===null&&!ax.config.axis_rotated){if(aA<aB.height){aA=aB.height}else{if(aA>this.height){aA=this.height-4}}}return aA};G.setTargetType=function(ax,aA){var ay=this,az=ay.config;ay.mapToTargetIds(ax).forEach(function(aB){ay.withoutFadeIn[aB]=(aA===az.data_types[aB]);az.data_types[aB]=aA});if(!ax){az.data_type=aA}};G.hasType=function(aB,ax){var ay=this,aA=ay.config.data_types,az=false;ax=ax||ay.data.targets;if(ax&&ax.length){ax.forEach(function(aD){var aC=aA[aD.id];if((aC&&aC.indexOf(aB)>=0)||(!aC&&aB==="line")){az=true}})}else{if(Object.keys(aA).length){Object.keys(aA).forEach(function(aC){if(aA[aC]===aB){az=true}})}else{az=ay.config.data_type===aB}}return az};G.hasArcType=function(ax){return this.hasType("pie",ax)||this.hasType("donut",ax)||this.hasType("gauge",ax)};G.isLineType=function(ay){var ax=this.config,az=s(ay)?ay:ay.id;return !ax.data_types[az]||["line","spline","area","area-spline","step","area-step"].indexOf(ax.data_types[az])>=0};G.isStepType=function(ax){var ay=s(ax)?ax:ax.id;return["step","area-step"].indexOf(this.config.data_types[ay])>=0};G.isSplineType=function(ax){var ay=s(ax)?ax:ax.id;return["spline","area-spline"].indexOf(this.config.data_types[ay])>=0};G.isAreaType=function(ax){var ay=s(ax)?ax:ax.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[ay])>=0};G.isBarType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="bar"};G.isScatterType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="scatter"};G.isPieType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="pie"};G.isGaugeType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="gauge"};G.isDonutType=function(ax){var ay=s(ax)?ax:ax.id;return this.config.data_types[ay]==="donut"};G.isArcType=function(ax){return this.isPieType(ax)||this.isDonutType(ax)||this.isGaugeType(ax)};G.lineData=function(ax){return this.isLineType(ax)?[ax]:[]};G.arcData=function(ax){return this.isArcType(ax.data)?[ax]:[]};G.barData=function(ax){return this.isBarType(ax)?ax.values:[]};G.lineOrScatterData=function(ax){return this.isLineType(ax)||this.isScatterType(ax)?ax.values:[]};G.barOrLineData=function(ax){return this.isBarType(ax)||this.isLineType(ax)?ax.values:[]};G.isInterpolationType=function(ax){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(ax)>=0};G.initGrid=function(){var ax=this,ay=ax.config,az=ax.d3;ax.grid=ax.main.append("g").attr("clip-path",ax.clipPathForGrid).attr("class",E.grid);if(ay.grid_x_show){ax.grid.append("g").attr("class",E.xgrids)}if(ay.grid_y_show){ax.grid.append("g").attr("class",E.ygrids)}if(ay.grid_focus_show){ax.grid.append("g").attr("class",E.xgridFocus).append("line").attr("class",E.xgridFocus)}ax.xgrid=az.selectAll([]);if(!ay.grid_lines_front){ax.initGridLines()}};G.initGridLines=function(){var ax=this,ay=ax.d3;ax.gridLines=ax.main.append("g").attr("clip-path",ax.clipPathForGrid).attr("class",E.grid+" "+E.gridLines);ax.gridLines.append("g").attr("class",E.xgridLines);ax.gridLines.append("g").attr("class",E.ygridLines);ax.xgridLines=ay.selectAll([])};G.updateXGrid=function(aA){var ax=this,ay=ax.config,az=ax.d3,aC=ax.generateGridData(ay.grid_x_type,ax.x),aB=ax.isCategorized()?ax.xAxis.tickOffset():0;ax.xgridAttr=ay.axis_rotated?{x1:0,x2:ax.width,y1:function(aD){return ax.x(aD)-aB},y2:function(aD){return ax.x(aD)-aB}}:{x1:function(aD){return ax.x(aD)+aB},x2:function(aD){return ax.x(aD)+aB},y1:0,y2:ax.height};ax.xgrid=ax.main.select("."+E.xgrids).selectAll("."+E.xgrid).data(aC);ax.xgrid.enter().append("line").attr("class",E.xgrid);if(!aA){ax.xgrid.attr(ax.xgridAttr).style("opacity",function(){return +az.select(this).attr(ay.axis_rotated?"y1":"x1")===(ay.axis_rotated?ax.height:0)?0:1})}ax.xgrid.exit().remove()};G.updateYGrid=function(){var ax=this,ay=ax.config,az=ax.yAxis.tickValues()||ax.y.ticks(ay.grid_y_ticks);ax.ygrid=ax.main.select("."+E.ygrids).selectAll("."+E.ygrid).data(az);ax.ygrid.enter().append("line").attr("class",E.ygrid);ax.ygrid.attr("x1",ay.axis_rotated?ax.y:0).attr("x2",ay.axis_rotated?ax.y:ax.width).attr("y1",ay.axis_rotated?0:ax.y).attr("y2",ay.axis_rotated?ax.height:ax.y);ax.ygrid.exit().remove();ax.smoothLines(ax.ygrid,"grid")};G.gridTextAnchor=function(ax){return ax.position?ax.position:"end"};G.gridTextDx=function(ax){return ax.position==="start"?4:ax.position==="middle"?0:-4};G.xGridTextX=function(ax){return ax.position==="start"?-this.height:ax.position==="middle"?-this.height/2:0};G.yGridTextX=function(ax){return ax.position==="start"?0:ax.position==="middle"?this.width/2:this.width};G.updateGrid=function(aD){var az=this,ax=az.main,aB=az.config,aC,aA,ay;az.grid.style("visibility",az.hasArcType()?"hidden":"visible");ax.select("line."+E.xgridFocus).style("visibility","hidden");if(aB.grid_x_show){az.updateXGrid()}az.xgridLines=ax.select("."+E.xgridLines).selectAll("."+E.xgridLine).data(aB.grid_x_lines);aC=az.xgridLines.enter().append("g").attr("class",function(aE){return E.xgridLine+(aE["class"]?" "+aE["class"]:"")});aC.append("line").style("opacity",0);aC.append("text").attr("text-anchor",az.gridTextAnchor).attr("transform",aB.axis_rotated?"":"rotate(-90)").attr("dx",az.gridTextDx).attr("dy",-5).style("opacity",0);az.xgridLines.exit().transition().duration(aD).style("opacity",0).remove();if(aB.grid_y_show){az.updateYGrid()}az.ygridLines=ax.select("."+E.ygridLines).selectAll("."+E.ygridLine).data(aB.grid_y_lines);aA=az.ygridLines.enter().append("g").attr("class",function(aE){return E.ygridLine+(aE["class"]?" "+aE["class"]:"")});aA.append("line").style("opacity",0);aA.append("text").attr("text-anchor",az.gridTextAnchor).attr("transform",aB.axis_rotated?"rotate(-90)":"").attr("dx",az.gridTextDx).attr("dy",-5).style("opacity",0);ay=az.yv.bind(az);az.ygridLines.select("line").transition().duration(aD).attr("x1",aB.axis_rotated?ay:0).attr("x2",aB.axis_rotated?ay:az.width).attr("y1",aB.axis_rotated?0:ay).attr("y2",aB.axis_rotated?az.height:ay).style("opacity",1);az.ygridLines.select("text").transition().duration(aD).attr("x",aB.axis_rotated?az.xGridTextX.bind(az):az.yGridTextX.bind(az)).attr("y",ay).text(function(aE){return aE.text}).style("opacity",1);az.ygridLines.exit().transition().duration(aD).style("opacity",0).remove()};G.redrawGrid=function(aB){var az=this,aA=az.config,ax=az.xv.bind(az),ay=az.xgridLines.select("line"),aC=az.xgridLines.select("text");return[(aB?ay.transition():ay).attr("x1",aA.axis_rotated?0:ax).attr("x2",aA.axis_rotated?az.width:ax).attr("y1",aA.axis_rotated?ax:0).attr("y2",aA.axis_rotated?ax:az.height).style("opacity",1),(aB?aC.transition():aC).attr("x",aA.axis_rotated?az.yGridTextX.bind(az):az.xGridTextX.bind(az)).attr("y",ax).text(function(aD){return aD.text}).style("opacity",1)]};G.showXGridFocus=function(aB){var az=this,aA=az.config,ay=aB.filter(function(aD){return aD&&j(aD.value)}),ax=az.main.selectAll("line."+E.xgridFocus),aC=az.xx.bind(az);if(!aA.tooltip_show){return}if(az.hasType("scatter")||az.hasArcType()){return}ax.style("visibility","visible").data([ay[0]]).attr(aA.axis_rotated?"y1":"x1",aC).attr(aA.axis_rotated?"y2":"x2",aC);az.smoothLines(ax,"grid")};G.hideXGridFocus=function(){this.main.select("line."+E.xgridFocus).style("visibility","hidden")};G.updateXgridFocus=function(){var ax=this,ay=ax.config;ax.main.select("line."+E.xgridFocus).attr("x1",ay.axis_rotated?0:-10).attr("x2",ay.axis_rotated?ax.width:-10).attr("y1",ay.axis_rotated?-10:0).attr("y2",ay.axis_rotated?-10:ax.height)};G.generateGridData=function(aD,ay){var aF=this,aE=[],aC,aA,aB,az,ax=aF.main.select("."+E.axisX).selectAll(".tick").size();if(aD==="year"){aC=aF.getXDomain();aA=aC[0].getFullYear();aB=aC[1].getFullYear();for(az=aA;az<=aB;az++){aE.push(new Date(az+"-01-01 00:00:00"))}}else{aE=ay.ticks(10);if(aE.length>ax){aE=aE.filter(function(aG){return(""+aG).indexOf(".")<0})}}return aE};G.getGridFilterToRemove=function(ax){return ax?function(ay){var az=false;[].concat(ax).forEach(function(aA){if((("value" in aA&&ay.value===aA.value)||("class" in aA&&ay["class"]===aA["class"]))){az=true}});return az}:function(){return true}};G.removeGridLines=function(aE,aD){var az=this,aB=az.config,aC=az.getGridFilterToRemove(aE),ax=function(aF){return !aC(aF)},ay=aD?E.xgridLines:E.ygridLines,aA=aD?E.xgridLine:E.ygridLine;az.main.select("."+ay).selectAll("."+aA).filter(aC).transition().duration(aB.transition_duration).style("opacity",0).remove();if(aD){aB.grid_x_lines=aB.grid_x_lines.filter(ax)}else{aB.grid_y_lines=aB.grid_y_lines.filter(ax)}};G.initTooltip=function(){var ax=this,ay=ax.config,az;ax.tooltip=ax.selectChart.style("position","relative").append("div").attr("class",E.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none");if(ay.tooltip_init_show){if(ax.isTimeSeries()&&s(ay.tooltip_init_x)){ay.tooltip_init_x=ax.parseDate(ay.tooltip_init_x);for(az=0;az<ax.data.targets[0].values.length;az++){if((ax.data.targets[0].values[az].x-ay.tooltip_init_x)===0){break}}ay.tooltip_init_x=az}ax.tooltip.html(ay.tooltip_contents.call(ax,ax.data.targets.map(function(aA){return ax.addName(aA.values[ay.tooltip_init_x])}),ax.axis.getXAxisTickFormat(),ax.getYFormat(ax.hasArcType()),ax.color));ax.tooltip.style("top",ay.tooltip_init_position.top).style("left",ay.tooltip_init_position.left).style("display","block")}};G.getTooltipContent=function(aH,az,aB,aD){var aM=this,aA=aM.config,aF=aA.tooltip_format_title||az,aC=aA.tooltip_format_name||function(aO){return aO},aG=aA.tooltip_format_value||aB,aL,aE,aI,aJ,ay,aN,aK=aM.isOrderAsc();if(aA.data_groups.length===0){aH.sort(function(aP,aO){var aR=aP?aP.value:null,aQ=aO?aO.value:null;return aK?aR-aQ:aQ-aR})}else{var ax=aM.orderTargets(aM.data.targets).map(function(aO){return aO.id});aH.sort(function(aP,aO){var aR=aP?aP.value:null,aQ=aO?aO.value:null;if(aR>0&&aQ>0){aR=aP?ax.indexOf(aP.id):null;aQ=aO?ax.indexOf(aO.id):null}return aK?aR-aQ:aQ-aR})}for(aE=0;aE<aH.length;aE++){if(!(aH[aE]&&(aH[aE].value||aH[aE].value===0))){continue}if(!aL){aI=i(aF?aF(aH[aE].x):aH[aE].x);aL="<table class='"+aM.CLASS.tooltip+"'>"+(aI||aI===0?"<tr><th colspan='2'>"+aI+"</th></tr>":"")}aJ=i(aG(aH[aE].value,aH[aE].ratio,aH[aE].id,aH[aE].index,aH));if(aJ!==undefined){if(aH[aE].name===null){continue}ay=i(aC(aH[aE].name,aH[aE].ratio,aH[aE].id,aH[aE].index));aN=aM.levelColor?aM.levelColor(aH[aE].value):aD(aH[aE].id);aL+="<tr class='"+aM.CLASS.tooltipName+"-"+aM.getTargetSelectorSuffix(aH[aE].id)+"'>";aL+="<td class='name'><span style='background-color:"+aN+"'></span>"+ay+"</td>";aL+="<td class='value'>"+aJ+"</td>";aL+="</tr>"}}return aL+"</table>"};G.tooltipPosition=function(ay,aF,aH,aE){var aJ=this,aA=aJ.config,aK=aJ.d3;var aC,aI,az,aD,aB;var ax=aJ.hasArcType(),aG=aK.mouse(aE);if(ax){aI=((aJ.width-(aJ.isLegendRight?aJ.getLegendWidth():0))/2)+aG[0];aD=(aJ.height/2)+aG[1]+20}else{aC=aJ.getSvgLeft(true);if(aA.axis_rotated){aI=aC+aG[0]+100;az=aI+aF;aB=aJ.currentWidth-aJ.getCurrentPaddingRight();aD=aJ.x(ay[0].x)+20}else{aI=aC+aJ.getCurrentPaddingLeft(true)+aJ.x(ay[0].x)+20;az=aI+aF;aB=aC+aJ.currentWidth-aJ.getCurrentPaddingRight();aD=aG[1]+15}if(az>aB){aI-=az-aB+20}if(aD+aH>aJ.currentHeight){aD-=aH+30}}if(aD<0){aD=0}return{top:aD,left:aI}};G.showTooltip=function(aE,aB){var aG=this,aA=aG.config;var aC,aF,aD;var ay=aG.hasArcType(),ax=aE.filter(function(aH){return aH&&j(aH.value)}),az=aA.tooltip_position||G.tooltipPosition;if(ax.length===0||!aA.tooltip_show){return}aG.tooltip.html(aA.tooltip_contents.call(aG,aE,aG.axis.getXAxisTickFormat(),aG.getYFormat(ay),aG.color)).style("display","block");aC=aG.tooltip.property("offsetWidth");aF=aG.tooltip.property("offsetHeight");aD=az.call(this,ax,aC,aF,aB);aG.tooltip.style("top",aD.top+"px").style("left",aD.left+"px")};G.hideTooltip=function(){this.tooltip.style("display","none")};G.initLegend=function(){var ax=this;ax.legendItemTextBox={};ax.legendHasRendered=false;ax.legend=ax.svg.append("g").attr("transform",ax.getTranslate("legend"));if(!ax.config.legend_show){ax.legend.style("visibility","hidden");ax.hiddenLegendIds=ax.mapToIds(ax.data.targets);return}ax.updateLegendWithDefaults()};G.updateLegendWithDefaults=function(){var ax=this;ax.updateLegend(ax.mapToIds(ax.data.targets),{withTransform:false,withTransitionForTransform:false,withTransition:false})};G.updateSizeForLegend=function(ay,aA){var ax=this,az=ax.config,aB={top:ax.isLegendTop?ax.getCurrentPaddingTop()+az.legend_inset_y+5.5:ax.currentHeight-ay-ax.getCurrentPaddingBottom()-az.legend_inset_y,left:ax.isLegendLeft?ax.getCurrentPaddingLeft()+az.legend_inset_x+0.5:ax.currentWidth-aA-ax.getCurrentPaddingRight()-az.legend_inset_x+0.5};ax.margin3={top:ax.isLegendRight?0:ax.isLegendInset?aB.top:ax.currentHeight-ay,right:NaN,bottom:0,left:ax.isLegendRight?ax.currentWidth-aA:ax.isLegendInset?aB.left:0}};G.transformLegend=function(ay){var ax=this;(ay?ax.legend.transition():ax.legend).attr("transform",ax.getTranslate("legend"))};G.updateLegendStep=function(ax){this.legendStep=ax};G.updateLegendItemWidth=function(ax){this.legendItemWidth=ax};G.updateLegendItemHeight=function(ax){this.legendItemHeight=ax};G.getLegendWidth=function(){var ax=this;return ax.config.legend_show?ax.isLegendRight||ax.isLegendInset?ax.legendItemWidth*(ax.legendStep+1):ax.currentWidth:0};G.getLegendHeight=function(){var ax=this,ay=0;if(ax.config.legend_show){if(ax.isLegendRight){ay=ax.currentHeight}else{ay=Math.max(20,ax.legendItemHeight)*(ax.legendStep+1)}}return ay};G.opacityForLegend=function(ax){return ax.classed(E.legendItemHidden)?null:1};G.opacityForUnfocusedLegend=function(ax){return ax.classed(E.legendItemHidden)?null:0.3};G.toggleFocusLegend=function(ay,ax){var az=this;ay=az.mapToTargetIds(ay);az.legend.selectAll("."+E.legendItem).filter(function(aA){return ay.indexOf(aA)>=0}).classed(E.legendItemFocused,ax).transition().duration(100).style("opacity",function(){var aA=ax?az.opacityForLegend:az.opacityForUnfocusedLegend;return aA.call(az,az.d3.select(this))})};G.revertLegend=function(){var ax=this,ay=ax.d3;ax.legend.selectAll("."+E.legendItem).classed(E.legendItemFocused,false).transition().duration(100).style("opacity",function(){return ax.opacityForLegend(ay.select(this))})};G.showLegend=function(ax){var ay=this,az=ay.config;if(!az.legend_show){az.legend_show=true;ay.legend.style("visibility","visible");if(!ay.legendHasRendered){ay.updateLegendWithDefaults()}}ay.removeHiddenLegendIds(ax);ay.legend.selectAll(ay.selectorLegends(ax)).style("visibility","visible").transition().style("opacity",function(){return ay.opacityForLegend(ay.d3.select(this))})};G.hideLegend=function(ax){var ay=this,az=ay.config;if(az.legend_show&&D(ax)){az.legend_show=false;ay.legend.style("visibility","hidden")}ay.addHiddenLegendIds(ax);ay.legend.selectAll(ay.selectorLegends(ax)).style("opacity",0).style("visibility","hidden")};G.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}};G.updateLegend=function(az,aN,aC){var a1=this,aR=a1.config;var a6,ay,aD,aB,a0,a4,aH,ax,aK;var a5=4,aG=10,aM=0,aZ=0,aF=10,aV=aR.legend_item_tile_width+5;var aY,aX=0,aJ={},aA={},aW={},aE=[0],aQ={},aO=0;var a2,aI;var aU,aT,aP,aS;az=az.filter(function(a7){return !J(aR.data_names[a7])||aR.data_names[a7]!==null});aN=aN||{};a2=v(aN,"withTransition",true);aI=v(aN,"withTransitionForTransform",true);function aL(a7,a8){if(!a1.legendItemTextBox[a8]){a1.legendItemTextBox[a8]=a1.getTextRect(a7.textContent,E.legendItem,a7)}return a1.legendItemTextBox[a8]}function a3(ba,a9,bi){var bh=bi===0,be=bi===az.length-1,bf=aL(ba,a9),bj=bf.width+aV+(be&&!(a1.isLegendRight||a1.isLegendInset)?0:aG)+aR.legend_padding,bc=bf.height+a5,bg=a1.isLegendRight||a1.isLegendInset?bc:bj,a7=a1.isLegendRight||a1.isLegendInset?a1.getLegendHeight():a1.getLegendWidth(),bd,a8;function bb(bl,bk){if(!bk){bd=(a7-aX-bg)/2;if(bd<aF){bd=(a7-bg)/2;aX=0;aO++}}aQ[bl]=aO;aE[aO]=a1.isLegendInset?10:bd;aJ[bl]=aX;aX+=bg}if(bh){aX=0;aO=0;aM=0;aZ=0}if(aR.legend_show&&!a1.isLegendToShow(a9)){aA[a9]=aW[a9]=aQ[a9]=aJ[a9]=0;return}aA[a9]=bj;aW[a9]=bc;if(!aM||bj>=aM){aM=bj}if(!aZ||bc>=aZ){aZ=bc}a8=a1.isLegendRight||a1.isLegendInset?aZ:aM;if(aR.legend_equally){Object.keys(aA).forEach(function(bk){aA[bk]=aM});Object.keys(aW).forEach(function(bk){aW[bk]=aZ});bd=(a7-a8*az.length)/2;if(bd<aF){aX=0;aO=0;az.forEach(function(bk){bb(bk)})}else{bb(a9,true)}}else{bb(a9)}}if(a1.isLegendInset){aO=aR.legend_inset_step?aR.legend_inset_step:az.length;a1.updateLegendStep(aO)}if(a1.isLegendRight){a6=function(a7){return aM*aQ[a7]};aB=function(a7){return aE[aQ[a7]]+aJ[a7]}}else{if(a1.isLegendInset){a6=function(a7){return aM*aQ[a7]+10};aB=function(a7){return aE[aQ[a7]]+aJ[a7]}}else{a6=function(a7){return aE[aQ[a7]]+aJ[a7]};aB=function(a7){return aZ*aQ[a7]}}}ay=function(a8,a7){return a6(a8,a7)+4+aR.legend_item_tile_width};a0=function(a8,a7){return aB(a8,a7)+9};aD=function(a8,a7){return a6(a8,a7)};a4=function(a8,a7){return aB(a8,a7)-5};aH=function(a8,a7){return a6(a8,a7)-2};ax=function(a8,a7){return a6(a8,a7)-2+aR.legend_item_tile_width};aK=function(a8,a7){return aB(a8,a7)+4};aY=a1.legend.selectAll("."+E.legendItem).data(az).enter().append("g").attr("class",function(a7){return a1.generateClass(E.legendItem,a7)}).style("visibility",function(a7){return a1.isLegendToShow(a7)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a7){if(aR.legend_item_onclick){aR.legend_item_onclick.call(a1,a7)}else{if(a1.d3.event.altKey){a1.api.hide();a1.api.show(a7)}else{a1.api.toggle(a7);a1.isTargetToShow(a7)?a1.api.focus(a7):a1.api.revert()}}}).on("mouseover",function(a7){if(aR.legend_item_onmouseover){aR.legend_item_onmouseover.call(a1,a7)}else{a1.d3.select(this).classed(E.legendItemFocused,true);if(!a1.transiting&&a1.isTargetToShow(a7)){a1.api.focus(a7)}}}).on("mouseout",function(a7){if(aR.legend_item_onmouseout){aR.legend_item_onmouseout.call(a1,a7)}else{a1.d3.select(this).classed(E.legendItemFocused,false);a1.api.revert()}});aY.append("text").text(function(a7){return J(aR.data_names[a7])?aR.data_names[a7]:a7}).each(function(a8,a7){a3(this,a8,a7)}).style("pointer-events","none").attr("x",a1.isLegendRight||a1.isLegendInset?ay:-200).attr("y",a1.isLegendRight||a1.isLegendInset?-200:a0);aY.append("rect").attr("class",E.legendItemEvent).style("fill-opacity",0).attr("x",a1.isLegendRight||a1.isLegendInset?aD:-200).attr("y",a1.isLegendRight||a1.isLegendInset?-200:a4);aY.append("line").attr("class",E.legendItemTile).style("stroke",a1.color).style("pointer-events","none").attr("x1",a1.isLegendRight||a1.isLegendInset?aH:-200).attr("y1",a1.isLegendRight||a1.isLegendInset?-200:aK).attr("x2",a1.isLegendRight||a1.isLegendInset?ax:-200).attr("y2",a1.isLegendRight||a1.isLegendInset?-200:aK).attr("stroke-width",aR.legend_item_tile_height);aS=a1.legend.select("."+E.legendBackground+" rect");if(a1.isLegendInset&&aM>0&&aS.size()===0){aS=a1.legend.insert("g","."+E.legendItem).attr("class",E.legendBackground).append("rect")}aU=a1.legend.selectAll("text").data(az).text(function(a7){return J(aR.data_names[a7])?aR.data_names[a7]:a7}).each(function(a8,a7){a3(this,a8,a7)});(a2?aU.transition():aU).attr("x",ay).attr("y",a0);aT=a1.legend.selectAll("rect."+E.legendItemEvent).data(az);(a2?aT.transition():aT).attr("width",function(a7){return aA[a7]}).attr("height",function(a7){return aW[a7]}).attr("x",aD).attr("y",a4);aP=a1.legend.selectAll("line."+E.legendItemTile).data(az);(a2?aP.transition():aP).style("stroke",a1.color).attr("x1",aH).attr("y1",aK).attr("x2",ax).attr("y2",aK);if(aS){(a2?aS.transition():aS).attr("height",a1.getLegendHeight()-12).attr("width",aM*(aO+1)+10)}a1.legend.selectAll("."+E.legendItem).classed(E.legendItemHidden,function(a7){return !a1.isTargetToShow(a7)});a1.updateLegendItemWidth(aM);a1.updateLegendItemHeight(aZ);a1.updateLegendStep(aO);a1.updateSizes();a1.updateScales();a1.updateSvgSize();a1.transformAll(aI,aC);a1.legendHasRendered=true};G.initTitle=function(){var ax=this;ax.title=ax.svg.append("text").text(ax.config.title_text).attr("class",ax.CLASS.title)};G.redrawTitle=function(){var ax=this;ax.title.attr("x",ax.xForTitle.bind(ax)).attr("y",ax.yForTitle.bind(ax))};G.xForTitle=function(){var az=this,aA=az.config,ay=aA.title_position||"left",ax;if(ay.indexOf("right")>=0){ax=az.currentWidth-az.getTextRect(az.title.node().textContent,az.CLASS.title,az.title.node()).width-aA.title_padding.right}else{if(ay.indexOf("center")>=0){ax=(az.currentWidth-az.getTextRect(az.title.node().textContent,az.CLASS.title,az.title.node()).width)/2}else{ax=aA.title_padding.left}}return ax};G.yForTitle=function(){var ax=this;return ax.config.title_padding.top+ax.getTextRect(ax.title.node().textContent,ax.CLASS.title,ax.title.node()).height};G.getTitlePadding=function(){var ax=this;return ax.yForTitle()+ax.config.title_padding.bottom};function y(ax){V.call(this,ax)}A(V,y);y.prototype.init=function aj(){var ay=this.owner,az=ay.config,ax=ay.main;ay.axes.x=ax.append("g").attr("class",E.axis+" "+E.axisX).attr("clip-path",ay.clipPathForXAxis).attr("transform",ay.getTranslate("x")).style("visibility",az.axis_x_show?"visible":"hidden");ay.axes.x.append("text").attr("class",E.axisXLabel).attr("transform",az.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this));ay.axes.y=ax.append("g").attr("class",E.axis+" "+E.axisY).attr("clip-path",az.axis_y_inner?"":ay.clipPathForYAxis).attr("transform",ay.getTranslate("y")).style("visibility",az.axis_y_show?"visible":"hidden");ay.axes.y.append("text").attr("class",E.axisYLabel).attr("transform",az.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this));ay.axes.y2=ax.append("g").attr("class",E.axis+" "+E.axisY2).attr("transform",ay.getTranslate("y2")).style("visibility",az.axis_y2_show?"visible":"hidden");ay.axes.y2.append("text").attr("class",E.axisY2Label).attr("transform",az.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))};y.prototype.getXAxis=function H(aA,aD,aB,aC,ax,aF,aE){var aH=this.owner,ay=aH.config,aG={isCategory:aH.isCategorized(),withOuterTick:ax,tickMultiline:ay.axis_x_tick_multiline,tickWidth:ay.axis_x_tick_width,tickTextRotate:aE?0:ay.axis_x_tick_rotate,withoutTransition:aF,},az=d(aH.d3,aG).scale(aA).orient(aD);if(aH.isTimeSeries()&&aC&&typeof aC!=="function"){aC=aC.map(function(aI){return aH.parseDate(aI)})}az.tickFormat(aB).tickValues(aC);if(aH.isCategorized()){az.tickCentered(ay.axis_x_tick_centered);if(D(ay.axis_x_tick_culling)){ay.axis_x_tick_culling=false}}return az};y.prototype.updateXAxisTickValues=function I(ax,aB){var az=this.owner,aA=az.config,ay;if(aA.axis_x_tick_fit||aA.axis_x_tick_count){ay=this.generateTickValues(az.mapTargetsToUniqueXs(ax),aA.axis_x_tick_count,az.isTimeSeries())}if(aB){aB.tickValues(ay)}else{az.xAxis.tickValues(ay);az.subXAxis.tickValues(ay)}return ay};y.prototype.getYAxis=function h(aA,aD,aB,aC,ax,aF,aE){var aH=this.owner,ay=aH.config,aG={withOuterTick:ax,withoutTransition:aF,tickTextRotate:aE?0:ay.axis_y_tick_rotate},az=d(aH.d3,aG).scale(aA).orient(aD).tickFormat(aB);if(aH.isTimeSeriesY()){az.ticks(aH.d3.time[ay.axis_y_tick_time_value],ay.axis_y_tick_time_interval)}else{az.tickValues(aC)}return az};y.prototype.getId=function ar(ay){var ax=this.owner.config;return ay in ax.data_axes?ax.data_axes[ay]:"y"};y.prototype.getXAxisTickFormat=function Q(){var ax=this.owner,ay=ax.config,az=ax.isTimeSeries()?ax.defaultAxisTimeFormat:ax.isCategorized()?ax.categoryName:function(aA){return aA<0?aA.toFixed(0):aA};if(ay.axis_x_tick_format){if(z(ay.axis_x_tick_format)){az=ay.axis_x_tick_format}else{if(ax.isTimeSeries()){az=function(aA){return aA?ax.axisTimeFormat(ay.axis_x_tick_format)(aA):""}}}}return z(az)?function(aA){return az.call(ax,aA)}:az};y.prototype.getTickValues=function an(ax,ay){return ax?ax:ay?ay.tickValues():undefined};y.prototype.getXAxisTickValues=function aw(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)};y.prototype.getYAxisTickValues=function T(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)};y.prototype.getY2AxisTickValues=function o(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)};y.prototype.getLabelOptionByAxisId=function N(aA){var ax=this.owner,ay=ax.config,az;if(aA==="y"){az=ay.axis_y_label}else{if(aA==="y2"){az=ay.axis_y2_label}else{if(aA==="x"){az=ay.axis_x_label}}}return az};y.prototype.getLabelText=function ai(ay){var ax=this.getLabelOptionByAxisId(ay);return s(ax)?ax:ax?ax.text:null};y.prototype.setLabelText=function B(aA,aB){var ax=this.owner,ay=ax.config,az=this.getLabelOptionByAxisId(aA);if(s(az)){if(aA==="y"){ay.axis_y_label=aB}else{if(aA==="y2"){ay.axis_y2_label=aB}else{if(aA==="x"){ay.axis_x_label=aB}}}}else{if(az){az.text=aB}}};y.prototype.getLabelPosition=function am(aA,ay){var az=this.getLabelOptionByAxisId(aA),ax=(az&&typeof az==="object"&&az.position)?az.position:ay;return{isInner:ax.indexOf("inner")>=0,isOuter:ax.indexOf("outer")>=0,isLeft:ax.indexOf("left")>=0,isCenter:ax.indexOf("center")>=0,isRight:ax.indexOf("right")>=0,isTop:ax.indexOf("top")>=0,isMiddle:ax.indexOf("middle")>=0,isBottom:ax.indexOf("bottom")>=0}};y.prototype.getXAxisLabelPosition=function m(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")};y.prototype.getYAxisLabelPosition=function R(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")};y.prototype.getY2AxisLabelPosition=function ah(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")};y.prototype.getLabelPositionById=function av(ax){return ax==="y2"?this.getY2AxisLabelPosition():ax==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()};y.prototype.textForXAxisLabel=function ac(){return this.getLabelText("x")};y.prototype.textForYAxisLabel=function ap(){return this.getLabelText("y")};y.prototype.textForY2AxisLabel=function K(){return this.getLabelText("y2")};y.prototype.xForAxisLabel=function t(ay,ax){var az=this.owner;if(ay){return ax.isLeft?0:ax.isCenter?az.width/2:az.width}else{return ax.isBottom?-az.height:ax.isMiddle?-az.height/2:0}};y.prototype.dxForAxisLabel=function p(ay,ax){if(ay){return ax.isLeft?"0.5em":ax.isRight?"-0.5em":"0"}else{return ax.isTop?"-0.5em":ax.isBottom?"0.5em":"0"}};y.prototype.textAnchorForAxisLabel=function W(ay,ax){if(ay){return ax.isLeft?"start":ax.isCenter?"middle":"end"}else{return ax.isBottom?"start":ax.isMiddle?"middle":"end"}};y.prototype.xForXAxisLabel=function ad(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};y.prototype.xForYAxisLabel=function ao(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};y.prototype.xForY2AxisLabel=function r(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};y.prototype.dxForXAxisLabel=function al(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};y.prototype.dxForYAxisLabel=function f(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};y.prototype.dxForY2AxisLabel=function w(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};y.prototype.dyForXAxisLabel=function Y(){var ay=this.owner,az=ay.config,ax=this.getXAxisLabelPosition();if(az.axis_rotated){return ax.isInner?"1.2em":-25-this.getMaxTickWidth("x")}else{return ax.isInner?"-0.5em":az.axis_x_height?az.axis_x_height-10:"3em"}};y.prototype.dyForYAxisLabel=function ag(){var ay=this.owner,ax=this.getYAxisLabelPosition();if(ay.config.axis_rotated){return ax.isInner?"-0.5em":"3em"}else{return ax.isInner?"1.2em":-10-(ay.config.axis_y_inner?0:(this.getMaxTickWidth("y")+10))}};y.prototype.dyForY2AxisLabel=function ak(){var ay=this.owner,ax=this.getY2AxisLabelPosition();if(ay.config.axis_rotated){return ax.isInner?"1.2em":"-2.2em"}else{return ax.isInner?"-0.5em":15+(ay.config.axis_y2_inner?0:(this.getMaxTickWidth("y2")+15))}};y.prototype.textAnchorForXAxisLabel=function L(){var ax=this.owner;return this.textAnchorForAxisLabel(!ax.config.axis_rotated,this.getXAxisLabelPosition())};y.prototype.textAnchorForYAxisLabel=function ab(){var ax=this.owner;return this.textAnchorForAxisLabel(ax.config.axis_rotated,this.getYAxisLabelPosition())};y.prototype.textAnchorForY2AxisLabel=function l(){var ax=this.owner;return this.textAnchorForAxisLabel(ax.config.axis_rotated,this.getY2AxisLabelPosition())};y.prototype.getMaxTickWidth=function au(ay,aE){var aG=this.owner,az=aG.config,aF=0,ax,aC,aA,aB,aD;if(aE&&aG.currentMaxTickWidths[ay]){return aG.currentMaxTickWidths[ay]}if(aG.svg){ax=aG.filterTargetsToShow(aG.data.targets);if(ay==="y"){aC=aG.y.copy().domain(aG.getYDomain(ax,"y"));aA=this.getYAxis(aC,aG.yOrient,az.axis_y_tick_format,aG.yAxisTickValues,false,true,true)}else{if(ay==="y2"){aC=aG.y2.copy().domain(aG.getYDomain(ax,"y2"));aA=this.getYAxis(aC,aG.y2Orient,az.axis_y2_tick_format,aG.y2AxisTickValues,false,true,true)}else{aC=aG.x.copy().domain(aG.getXDomain(ax));aA=this.getXAxis(aC,aG.xOrient,aG.xAxisTickFormat,aG.xAxisTickValues,false,true,true);this.updateXAxisTickValues(ax,aA)}}aB=aG.d3.select("body").append("div").classed("c3",true);aD=aB.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),aD.append("g").call(aA).each(function(){aG.d3.select(this).selectAll("text").each(function(){var aH=this.getBoundingClientRect();if(aF<aH.width){aF=aH.width}});aB.remove()})}aG.currentMaxTickWidths[ay]=aF<=0?aG.currentMaxTickWidths[ay]:aF;return aG.currentMaxTickWidths[ay]};y.prototype.updateLabels=function g(az){var ay=this.owner;var aB=ay.main.select("."+E.axisX+" ."+E.axisXLabel),aA=ay.main.select("."+E.axisY+" ."+E.axisYLabel),ax=ay.main.select("."+E.axisY2+" ."+E.axisY2Label);(az?aB.transition():aB).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));(az?aA.transition():aA).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));(az?ax.transition():ax).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))};y.prototype.getPadding=function x(aB,az,ax,ay){var aA=typeof aB==="number"?aB:aB[az];if(!j(aA)){return ax}if(aB.unit==="ratio"){return aB[az]*ay}return this.convertPixelsToAxisPadding(aA,ay)};y.prototype.convertPixelsToAxisPadding=function Z(aA,ay){var ax=this.owner,az=ax.config.axis_rotated?ax.width:ax.height;return ay*(aA/az)};y.prototype.generateTickValues=function U(aH,ax,aB){var aD=aH,aA,ay,aE,aG,az,aF,aC;if(ax){aA=z(ax)?ax():ax;if(aA===1){aD=[aH[0]]}else{if(aA===2){aD=[aH[0],aH[aH.length-1]]}else{if(aA>2){aG=aA-2;ay=aH[0];aE=aH[aH.length-1];az=(aE-ay)/(aG+1);aD=[ay];for(aF=0;aF<aG;aF++){aC=+ay+az*(aF+1);aD.push(aB?new Date(aC):aC)}aD.push(aE)}}}}if(!aB){aD=aD.sort(function(aJ,aI){return aJ-aI})}return aD};y.prototype.generateTransitions=function af(az){var ax=this.owner,ay=ax.axes;return{axisX:az?ay.x.transition().duration(az):ay.x,axisY:az?ay.y.transition().duration(az):ay.y,axisY2:az?ay.y2.transition().duration(az):ay.y2,axisSubX:az?ay.subx.transition().duration(az):ay.subx}};y.prototype.redraw=function k(az,ay){var ax=this.owner;ax.axes.x.style("opacity",ay?0:1);ax.axes.y.style("opacity",ay?0:1);ax.axes.y2.style("opacity",ay?0:1);ax.axes.subx.style("opacity",ay?0:1);az.axisX.call(ax.xAxis);az.axisY.call(ax.yAxis);az.axisY2.call(ax.y2Axis);az.axisSubX.call(ax.subXAxis)};G.getClipPath=function(ay){var ax=ae.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(ax?"":document.URL.split("#")[0])+"#"+ay+")"};G.appendClip=function(ax,ay){return ax.append("clipPath").attr("id",ay).append("rect")};G.getAxisClipX=function(ax){var ay=Math.max(30,this.margin.left);return ax?-(1+ay):-(ay-1)};G.getAxisClipY=function(ax){return ax?-20:-this.margin.top};G.getXAxisClipX=function(){var ax=this;return ax.getAxisClipX(!ax.config.axis_rotated)};G.getXAxisClipY=function(){var ax=this;return ax.getAxisClipY(!ax.config.axis_rotated)};G.getYAxisClipX=function(){var ax=this;return ax.config.axis_y_inner?-1:ax.getAxisClipX(ax.config.axis_rotated)};G.getYAxisClipY=function(){var ax=this;return ax.getAxisClipY(ax.config.axis_rotated)};G.getAxisClipWidth=function(ax){var ay=this,aA=Math.max(30,ay.margin.left),az=Math.max(30,ay.margin.right);return ax?ay.width+2+aA+az:ay.margin.left+20};G.getAxisClipHeight=function(ax){return(ax?this.margin.bottom:(this.margin.top+this.height))+20};G.getXAxisClipWidth=function(){var ax=this;return ax.getAxisClipWidth(!ax.config.axis_rotated)};G.getXAxisClipHeight=function(){var ax=this;return ax.getAxisClipHeight(!ax.config.axis_rotated)};G.getYAxisClipWidth=function(){var ax=this;return ax.getAxisClipWidth(ax.config.axis_rotated)+(ax.config.axis_y_inner?20:0)};G.getYAxisClipHeight=function(){var ax=this;return ax.getAxisClipHeight(ax.config.axis_rotated)};G.initPie=function(){var ax=this,az=ax.d3,ay=ax.config;ax.pie=az.layout.pie().value(function(aA){return aA.values.reduce(function(aC,aB){return aC+aB.value},0)});if(!ay.data_order){ax.pie.sort(null)}};G.updateRadius=function(){var ay=this,az=ay.config,ax=az.gauge_width||az.donut_width;ay.radiusExpanded=Math.min(ay.arcWidth,ay.arcHeight)/2;ay.radius=ay.radiusExpanded*0.95;ay.innerRadiusRatio=ax?(ay.radius-ax)/ay.radius:0.6;ay.innerRadius=ay.hasType("donut")||ay.hasType("gauge")?ay.radius*ay.innerRadiusRatio:0};G.updateArc=function(){var ax=this;ax.svgArc=ax.getSvgArc();ax.svgArcExpanded=ax.getSvgArcExpanded();ax.svgArcExpandedSub=ax.getSvgArcExpanded(0.98)};G.updateAngle=function(aC){var aE=this,ay=aE.config,aF=false,aB=0,az,aD,aA,ax;if(!ay){return null}aE.pie(aE.filterTargetsToShow(aE.data.targets)).forEach(function(aG){if(!aF&&aG.data.id===aC.data.id){aF=true;aC=aG;aC.index=aB}aB++});if(isNaN(aC.startAngle)){aC.startAngle=0}if(isNaN(aC.endAngle)){aC.endAngle=aC.startAngle}if(aE.isGaugeType(aC.data)){az=ay.gauge_min;aD=ay.gauge_max;aA=(Math.PI*(ay.gauge_fullCircle?2:1))/(aD-az);ax=aC.value<az?0:aC.value<aD?aC.value-az:(aD-az);aC.startAngle=ay.gauge_startingAngle;aC.endAngle=aC.startAngle+aA*ax}return aF?aC:null};G.getSvgArc=function(){var ax=this,ay=ax.d3.svg.arc().outerRadius(ax.radius).innerRadius(ax.innerRadius),az=function(aC,aB){var aA;if(aB){return ay(aC)}aA=ax.updateAngle(aC);return aA?ay(aA):"M 0 0"};az.centroid=ay.centroid;return az};G.getSvgArcExpanded=function(az){var ax=this,ay=ax.d3.svg.arc().outerRadius(ax.radiusExpanded*(az?az:1)).innerRadius(ax.innerRadius);return function(aB){var aA=ax.updateAngle(aB);return aA?ay(aA):"M 0 0"}};G.getArc=function(az,ay,ax){return ax||this.isArcType(az.data)?this.svgArc(az,ay):"M 0 0"};G.transformForArcLabel=function(aC){var aG=this,ax=aG.config,aA=aG.updateAngle(aC),aD,aF,aE,az,aB,ay="";if(aA&&!aG.hasType("gauge")){aD=this.svgArc.centroid(aA);aF=isNaN(aD[0])?0:aD[0];aE=isNaN(aD[1])?0:aD[1];az=Math.sqrt(aF*aF+aE*aE);if(aG.hasType("donut")&&ax.donut_label_ratio){aB=z(ax.donut_label_ratio)?ax.donut_label_ratio(aC,aG.radius,az):ax.donut_label_ratio}else{if(aG.hasType("pie")&&ax.pie_label_ratio){aB=z(ax.pie_label_ratio)?ax.pie_label_ratio(aC,aG.radius,az):ax.pie_label_ratio}else{aB=aG.radius&&az?(36/aG.radius>0.375?1.175-36/aG.radius:0.8)*aG.radius/az:0}}ay="translate("+(aF*aB)+","+(aE*aB)+")"}return ay};G.getArcRatio=function(aA){var ax=this,ay=ax.config,az=Math.PI*(ax.hasType("gauge")&&!ay.gauge_fullCircle?1:2);return aA?(aA.endAngle-aA.startAngle)/az:null};G.convertToArcData=function(ax){return this.addName({id:ax.data.id,value:ax.value,ratio:this.getArcRatio(ax),index:ax.index})};G.textForArcLabel=function(aC){var ay=this,ax,aA,az,aD,aB;if(!ay.shouldShowArcLabel()){return""}ax=ay.updateAngle(aC);aA=ax?ax.value:null;az=ay.getArcRatio(ax);aD=aC.data.id;if(!ay.hasType("gauge")&&!ay.meetsArcLabelThreshold(az)){return""}aB=ay.getArcLabelFormat();return aB?aB(aA,az,aD):ay.defaultArcValueFormat(aA,az)};G.expandArc=function(ax){var az=this,ay;if(az.transiting){ay=ae.setInterval(function(){if(!az.transiting){ae.clearInterval(ay);if(az.legend.selectAll(".c3-legend-item-focused").size()>0){az.expandArc(ax)}}},10);return}ax=az.mapToTargetIds(ax);az.svg.selectAll(az.selectorTargets(ax,"."+E.chartArc)).each(function(aA){if(!az.shouldExpand(aA.data.id)){return}az.d3.select(this).selectAll("path").transition().duration(az.expandDuration(aA.data.id)).attr("d",az.svgArcExpanded).transition().duration(az.expandDuration(aA.data.id)*2).attr("d",az.svgArcExpandedSub).each(function(aB){if(az.isDonutType(aB.data)){}})})};G.unexpandArc=function(ax){var ay=this;if(ay.transiting){return}ax=ay.mapToTargetIds(ax);ay.svg.selectAll(ay.selectorTargets(ax,"."+E.chartArc)).selectAll("path").transition().duration(function(az){return ay.expandDuration(az.data.id)}).attr("d",ay.svgArc);ay.svg.selectAll("."+E.arc).style("opacity",1)};G.expandDuration=function(az){var ax=this,ay=ax.config;if(ax.isDonutType(az)){return ay.donut_expand_duration}else{if(ax.isGaugeType(az)){return ay.gauge_expand_duration}else{if(ax.isPieType(az)){return ay.pie_expand_duration}else{return 50}}}};G.shouldExpand=function(az){var ax=this,ay=ax.config;return(ax.isDonutType(az)&&ay.donut_expand)||(ax.isGaugeType(az)&&ay.gauge_expand)||(ax.isPieType(az)&&ay.pie_expand)};G.shouldShowArcLabel=function(){var ay=this,az=ay.config,ax=true;if(ay.hasType("donut")){ax=az.donut_label_show}else{if(ay.hasType("pie")){ax=az.pie_label_show}}return ax};G.meetsArcLabelThreshold=function(aA){var ay=this,az=ay.config,ax=ay.hasType("donut")?az.donut_label_threshold:az.pie_label_threshold;return aA>=ax};G.getArcLabelFormat=function(){var ax=this,ay=ax.config,az=ay.pie_label_format;if(ax.hasType("gauge")){az=ay.gauge_label_format}else{if(ax.hasType("donut")){az=ay.donut_label_format}}return az};G.getArcTitle=function(){var ax=this;return ax.hasType("donut")?ax.config.donut_title:""};G.updateTargetsForArc=function(aA){var aC=this,ay=aC.main,ax,aD,az=aC.classChartArc.bind(aC),aE=aC.classArcs.bind(aC),aB=aC.classFocus.bind(aC);ax=ay.select("."+E.chartArcs).selectAll("."+E.chartArc).data(aC.pie(aA)).attr("class",function(aF){return az(aF)+aB(aF.data)});aD=ax.enter().append("g").attr("class",az);aD.append("g").attr("class",aE);aD.append("text").attr("dy",aC.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")};G.initArc=function(){var ax=this;ax.arcs=ax.main.select("."+E.chart).append("g").attr("class",E.chartArcs).attr("transform",ax.getTranslate("arc"));ax.arcs.append("text").attr("class",E.chartArcsTitle).style("text-anchor","middle").text(ax.getArcTitle())};G.redrawArc=function(aD,aE,ay){var az=this,aB=az.d3,aA=az.config,ax=az.main,aC;aC=ax.selectAll("."+E.arcs).selectAll("."+E.arc).data(az.arcData.bind(az));aC.enter().append("path").attr("class",az.classArc.bind(az)).style("fill",function(aF){return az.color(aF.data)}).style("cursor",function(aF){return aA.interaction_enabled&&aA.data_selection_isselectable(aF)?"pointer":null}).style("opacity",0).each(function(aF){if(az.isGaugeType(aF.data)){aF.startAngle=aF.endAngle=aA.gauge_startingAngle}this._current=aF});aC.attr("transform",function(aF){return !az.isGaugeType(aF.data)&&ay?"scale(0)":""}).style("opacity",function(aF){return aF===this._current?0:1}).on("mouseover",aA.interaction_enabled?function(aH){var aG,aF;if(az.transiting){return}aG=az.updateAngle(aH);if(aG){aF=az.convertToArcData(aG);az.expandArc(aG.data.id);az.api.focus(aG.data.id);az.toggleFocusLegend(aG.data.id,true);az.config.data_onmouseover(aF,this)}}:null).on("mousemove",aA.interaction_enabled?function(aI){var aG=az.updateAngle(aI),aF,aH;if(aG){aF=az.convertToArcData(aG),aH=[aF];az.showTooltip(aH,this)}}:null).on("mouseout",aA.interaction_enabled?function(aH){var aG,aF;if(az.transiting){return}aG=az.updateAngle(aH);if(aG){aF=az.convertToArcData(aG);az.unexpandArc(aG.data.id);az.api.revert();az.revertLegend();az.hideTooltip();az.config.data_onmouseout(aF,this)}}:null).on("click",aA.interaction_enabled?function(aI,aH){var aG=az.updateAngle(aI),aF;if(aG){aF=az.convertToArcData(aG);if(az.toggleShape){az.toggleShape(this,aF,aH)}az.config.data_onclick.call(az.api,aF,this)}}:null).each(function(){az.transiting=true}).transition().duration(aD).attrTween("d",function(aH){var aF=az.updateAngle(aH),aG;if(!aF){return function(){return"M 0 0"}}if(isNaN(this._current.startAngle)){this._current.startAngle=0}if(isNaN(this._current.endAngle)){this._current.endAngle=this._current.startAngle}aG=aB.interpolate(this._current,aF);this._current=aG(0);return function(aJ){var aI=aG(aJ);aI.data=aH.data;return az.getArc(aI,true)}}).attr("transform",ay?"scale(1)":"").style("fill",function(aF){return az.levelColor?az.levelColor(aF.data.values[0].value):az.color(aF.data.id)}).style("opacity",1).call(az.endall,function(){az.transiting=false});aC.exit().transition().duration(aE).style("opacity",0).remove();ax.selectAll("."+E.chartArc).select("text").style("opacity",0).attr("class",function(aF){return az.isGaugeType(aF.data)?E.gaugeValue:""}).text(az.textForArcLabel.bind(az)).attr("transform",az.transformForArcLabel.bind(az)).style("font-size",function(aF){return az.isGaugeType(aF.data)?Math.round(az.radius/5)+"px":""}).transition().duration(aD).style("opacity",function(aF){return az.isTargetToShow(aF.data.id)&&az.isArcType(aF.data)?1:0});ax.select("."+E.chartArcsTitle).style("opacity",az.hasType("donut")||az.hasType("gauge")?1:0);if(az.hasType("gauge")){az.arcs.select("."+E.chartArcsBackground).attr("d",function(){var aF={data:[{value:aA.gauge_max}],startAngle:aA.gauge_startingAngle,endAngle:-1*aA.gauge_startingAngle};return az.getArc(aF,true,true)});az.arcs.select("."+E.chartArcsGaugeUnit).attr("dy",".75em").text(aA.gauge_label_show?aA.gauge_units:"");az.arcs.select("."+E.chartArcsGaugeMin).attr("dx",-1*(az.innerRadius+((az.radius-az.innerRadius)/(aA.gauge_fullCircle?1:2)))+"px").attr("dy","1.2em").text(aA.gauge_label_show?aA.gauge_min:"");az.arcs.select("."+E.chartArcsGaugeMax).attr("dx",az.innerRadius+((az.radius-az.innerRadius)/(aA.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(aA.gauge_label_show?aA.gauge_max:"")}};G.initGauge=function(){var ax=this.arcs;if(this.hasType("gauge")){ax.append("path").attr("class",E.chartArcsBackground);ax.append("text").attr("class",E.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none");ax.append("text").attr("class",E.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none");ax.append("text").attr("class",E.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none")}};G.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0};G.initRegion=function(){var ax=this;ax.region=ax.main.append("g").attr("clip-path",ax.clipPath).attr("class",E.regions)};G.updateRegion=function(az){var ax=this,ay=ax.config;ax.region.style("visibility",ax.hasArcType()?"hidden":"visible");ax.mainRegion=ax.main.select("."+E.regions).selectAll("."+E.region).data(ay.regions);ax.mainRegion.enter().append("g").append("rect").style("fill-opacity",0);ax.mainRegion.attr("class",ax.classRegion.bind(ax));ax.mainRegion.exit().transition().duration(az).style("opacity",0).remove()};G.redrawRegion=function(aA){var az=this,aD=az.mainRegion.selectAll("rect").each(function(){var aE=az.d3.select(this.parentNode).datum();az.d3.select(this).datum(aE)}),ax=az.regionX.bind(az),aC=az.regionY.bind(az),ay=az.regionWidth.bind(az),aB=az.regionHeight.bind(az);return[(aA?aD.transition():aD).attr("x",ax).attr("y",aC).attr("width",ay).attr("height",aB).style("fill-opacity",function(aE){return j(aE.opacity)?aE.opacity:0.1})]};G.regionX=function(aB){var ax=this,ay=ax.config,aA,az=aB.axis==="y"?ax.y:ax.y2;if(aB.axis==="y"||aB.axis==="y2"){aA=ay.axis_rotated?("start" in aB?az(aB.start):0):0}else{aA=ay.axis_rotated?0:("start" in aB?ax.x(ax.isTimeSeries()?ax.parseDate(aB.start):aB.start):0)}return aA};G.regionY=function(aB){var ax=this,ay=ax.config,aA,az=aB.axis==="y"?ax.y:ax.y2;if(aB.axis==="y"||aB.axis==="y2"){aA=ay.axis_rotated?0:("end" in aB?az(aB.end):0)}else{aA=ay.axis_rotated?("start" in aB?ax.x(ax.isTimeSeries()?ax.parseDate(aB.start):aB.start):0):0}return aA};G.regionWidth=function(aB){var ay=this,az=ay.config,aC=ay.regionX(aB),ax,aA=aB.axis==="y"?ay.y:ay.y2;if(aB.axis==="y"||aB.axis==="y2"){ax=az.axis_rotated?("end" in aB?aA(aB.end):ay.width):ay.width}else{ax=az.axis_rotated?ay.width:("end" in aB?ay.x(ay.isTimeSeries()?ay.parseDate(aB.end):aB.end):ay.width)}return ax<aC?0:ax-aC};G.regionHeight=function(aB){var ay=this,az=ay.config,aC=this.regionY(aB),ax,aA=aB.axis==="y"?ay.y:ay.y2;if(aB.axis==="y"||aB.axis==="y2"){ax=az.axis_rotated?ay.height:("start" in aB?aA(aB.start):ay.height)}else{ax=az.axis_rotated?("end" in aB?ay.x(ay.isTimeSeries()?ay.parseDate(aB.end):aB.end):ay.height):ay.height}return ax<aC?0:ax-aC};G.isRegionOnX=function(ax){return !ax.axis||ax.axis==="x"};G.drag=function(aD){var aI=this,az=aI.config,aC=aI.main,aJ=aI.d3;var aF,aE,aH,aG,aB,ay,aA,ax;if(aI.hasArcType()){return}if(!az.data_selection_enabled){return}if(az.zoom_enabled&&!aI.zoom.altDomain){return}if(!az.data_selection_multiple){return}aF=aI.dragStart[0];aE=aI.dragStart[1];aH=aD[0];aG=aD[1];aB=Math.min(aF,aH);ay=Math.max(aF,aH);aA=(az.data_selection_grouped)?aI.margin.top:Math.min(aE,aG);ax=(az.data_selection_grouped)?aI.height:Math.max(aE,aG);aC.select("."+E.dragarea).attr("x",aB).attr("y",aA).attr("width",ay-aB).attr("height",ax-aA);aC.selectAll("."+E.shapes).selectAll("."+E.shape).filter(function(aK){return az.data_selection_isselectable(aK)}).each(function(aR,aN){var aQ=aJ.select(this),aL=aQ.classed(E.SELECTED),aK=aQ.classed(E.INCLUDED),aT,aS,aU,aM,aP,aV=false,aO;if(aQ.classed(E.circle)){aT=aQ.attr("cx")*1;aS=aQ.attr("cy")*1;aP=aI.togglePoint;aV=aB<aT&&aT<ay&&aA<aS&&aS<ax}else{if(aQ.classed(E.bar)){aO=S(this);aT=aO.x;aS=aO.y;aU=aO.width;aM=aO.height;aP=aI.togglePath;aV=!(ay<aT||aT+aU<aB)&&!(ax<aS||aS+aM<aA)}else{return}}if(aV^aK){aQ.classed(E.INCLUDED,!aK);aQ.classed(E.SELECTED,!aL);aP.call(aI,!aL,aQ,aR,aN)}})};G.dragstart=function(az){var ax=this,ay=ax.config;if(ax.hasArcType()){return}if(!ay.data_selection_enabled){return}ax.dragStart=az;ax.main.select("."+E.chart).append("rect").attr("class",E.dragarea).style("opacity",0.1);ax.dragging=true};G.dragend=function(){var ax=this,ay=ax.config;if(ax.hasArcType()){return}if(!ay.data_selection_enabled){return}ax.main.select("."+E.dragarea).transition().duration(100).style("opacity",0).remove();ax.main.selectAll("."+E.shape).classed(E.INCLUDED,false);ax.dragging=false};G.selectPoint=function(aC,aD,aA){var ay=this,az=ay.config,ax=(az.axis_rotated?ay.circleY:ay.circleX).bind(ay),aE=(az.axis_rotated?ay.circleX:ay.circleY).bind(ay),aB=ay.pointSelectR.bind(ay);az.data_onselected.call(ay.api,aD,aC.node());ay.main.select("."+E.selectedCircles+ay.getTargetSelectorSuffix(aD.id)).selectAll("."+E.selectedCircle+"-"+aA).data([aD]).enter().append("circle").attr("class",function(){return ay.generateClass(E.selectedCircle,aA)}).attr("cx",ax).attr("cy",aE).attr("stroke",function(){return ay.color(aD)}).attr("r",function(aF){return ay.pointSelectR(aF)*1.4}).transition().duration(100).attr("r",aB)};G.unselectPoint=function(az,aA,ay){var ax=this;ax.config.data_onunselected.call(ax.api,aA,az.node());ax.main.select("."+E.selectedCircles+ax.getTargetSelectorSuffix(aA.id)).selectAll("."+E.selectedCircle+"-"+ay).transition().duration(100).attr("r",0).remove()};G.togglePoint=function(ay,az,aA,ax){ay?this.selectPoint(az,aA,ax):this.unselectPoint(az,aA,ax)};G.selectPath=function(ay,az){var ax=this;ax.config.data_onselected.call(ax,az,ay.node());if(ax.config.interaction_brighten){ay.transition().duration(100).style("fill",function(){return ax.d3.rgb(ax.color(az)).brighter(0.75)})}};G.unselectPath=function(ay,az){var ax=this;ax.config.data_onunselected.call(ax,az,ay.node());if(ax.config.interaction_brighten){ay.transition().duration(100).style("fill",function(){return ax.color(az)})}};G.togglePath=function(ay,az,aA,ax){ay?this.selectPath(az,aA,ax):this.unselectPath(az,aA,ax)};G.getToggle=function(az,aA){var ay=this,ax;if(az.nodeName==="circle"){if(ay.isStepType(aA)){ax=function(){}}else{ax=ay.togglePoint}}else{if(az.nodeName==="path"){ax=ay.togglePath}}return ax};G.toggleShape=function(aB,aD,az){var aE=this,aF=aE.d3,ay=aE.config,aC=aF.select(aB),ax=aC.classed(E.SELECTED),aA=aE.getToggle(aB,aD).bind(aE);if(ay.data_selection_enabled&&ay.data_selection_isselectable(aD)){if(!ay.data_selection_multiple){aE.main.selectAll("."+E.shapes+(ay.data_selection_grouped?aE.getTargetSelectorSuffix(aD.id):"")).selectAll("."+E.shape).each(function(aI,aH){var aG=aF.select(this);if(aG.classed(E.SELECTED)){aA(false,aG.classed(E.SELECTED,false),aI,aH)}})}aC.classed(E.SELECTED,!ax);aA(!ax,aC,aD,az)}};G.initBrush=function(){var ax=this,ay=ax.d3;ax.brush=ay.svg.brush().on("brush",function(){ax.redrawForBrush()});ax.brush.update=function(){if(ax.context){ax.context.select("."+E.brush).call(this)}return this};ax.brush.scale=function(az){return ax.config.axis_rotated?this.y(az):this.x(az)}};G.initSubchart=function(){var ay=this,az=ay.config,aA=ay.context=ay.svg.append("g").attr("transform",ay.getTranslate("context")),ax=az.subchart_show?"visible":"hidden";aA.style("visibility",ax);aA.append("g").attr("clip-path",ay.clipPathForSubchart).attr("class",E.chart);aA.select("."+E.chart).append("g").attr("class",E.chartBars);aA.select("."+E.chart).append("g").attr("class",E.chartLines);aA.append("g").attr("clip-path",ay.clipPath).attr("class",E.brush).call(ay.brush);ay.axes.subx=aA.append("g").attr("class",E.axisX).attr("transform",ay.getTranslate("subx")).attr("clip-path",az.axis_rotated?"":ay.clipPathForXAxis).style("visibility",az.subchart_axis_x_show?ax:"hidden")};G.updateTargetsForSubchart=function(aG){var aJ=this,ay=aJ.context,az=aJ.config,aI,aF,ax,aD,aH=aJ.classChartBar.bind(aJ),aE=aJ.classBars.bind(aJ),aB=aJ.classChartLine.bind(aJ),aA=aJ.classLines.bind(aJ),aC=aJ.classAreas.bind(aJ);if(az.subchart_show){aD=ay.select("."+E.chartBars).selectAll("."+E.chartBar).data(aG).attr("class",aH);ax=aD.enter().append("g").style("opacity",0).attr("class",aH);ax.append("g").attr("class",aE);aF=ay.select("."+E.chartLines).selectAll("."+E.chartLine).data(aG).attr("class",aB);aI=aF.enter().append("g").style("opacity",0).attr("class",aB);aI.append("g").attr("class",aA);aI.append("g").attr("class",aC);ay.selectAll("."+E.brush+" rect").attr(az.axis_rotated?"width":"height",az.axis_rotated?aJ.width2:aJ.height2)}};G.updateBarForSubchart=function(ay){var ax=this;ax.contextBar=ax.context.selectAll("."+E.bars).selectAll("."+E.bar).data(ax.barData.bind(ax));ax.contextBar.enter().append("path").attr("class",ax.classBar.bind(ax)).style("stroke","none").style("fill",ax.color);ax.contextBar.style("opacity",ax.initialOpacity.bind(ax));ax.contextBar.exit().transition().duration(ay).style("opacity",0).remove()};G.redrawBarForSubchart=function(ay,ax,az){(ax?this.contextBar.transition(Math.random().toString()).duration(az):this.contextBar).attr("d",ay).style("opacity",1)};G.updateLineForSubchart=function(ay){var ax=this;ax.contextLine=ax.context.selectAll("."+E.lines).selectAll("."+E.line).data(ax.lineData.bind(ax));ax.contextLine.enter().append("path").attr("class",ax.classLine.bind(ax)).style("stroke",ax.color);ax.contextLine.style("opacity",ax.initialOpacity.bind(ax));ax.contextLine.exit().transition().duration(ay).style("opacity",0).remove()};G.redrawLineForSubchart=function(ax,ay,az){(ay?this.contextLine.transition(Math.random().toString()).duration(az):this.contextLine).attr("d",ax).style("opacity",1)};G.updateAreaForSubchart=function(az){var ax=this,ay=ax.d3;ax.contextArea=ax.context.selectAll("."+E.areas).selectAll("."+E.area).data(ax.lineData.bind(ax));ax.contextArea.enter().append("path").attr("class",ax.classArea.bind(ax)).style("fill",ax.color).style("opacity",function(){ax.orgAreaOpacity=+ay.select(this).style("opacity");return 0});ax.contextArea.style("opacity",0);ax.contextArea.exit().transition().duration(az).style("opacity",0).remove()};G.redrawAreaForSubchart=function(ay,ax,az){(ax?this.contextArea.transition(Math.random().toString()).duration(az):this.contextArea).attr("d",ay).style("fill",this.color).style("opacity",this.orgAreaOpacity)};G.redrawSubchart=function(aG,aF,aC,ay,aB,aD,ax){var aH=this,aJ=aH.d3,aA=aH.config,aE,az,aI;aH.context.style("visibility",aA.subchart_show?"visible":"hidden");if(aA.subchart_show){if(aJ.event&&aJ.event.type==="zoom"){aH.brush.extent(aH.x.orgDomain()).update()}if(aG){if(!aH.brush.empty()){aH.brush.extent(aH.x.orgDomain()).update()}aE=aH.generateDrawArea(aB,true);az=aH.generateDrawBar(aD,true);aI=aH.generateDrawLine(ax,true);aH.updateBarForSubchart(aC);aH.updateLineForSubchart(aC);aH.updateAreaForSubchart(aC);aH.redrawBarForSubchart(az,aC,aC);aH.redrawLineForSubchart(aI,aC,aC);aH.redrawAreaForSubchart(aE,aC,aC)}}};G.redrawForBrush=function(){var ay=this,ax=ay.x;ay.redraw({withTransition:false,withY:ay.config.zoom_rescale,withSubchart:false,withUpdateXDomain:true,withDimension:false});ay.config.subchart_onbrush.call(ay.api,ax.orgDomain())};G.transformContext=function(ay,aA){var ax=this,az;if(aA&&aA.axisSubX){az=aA.axisSubX}else{az=ax.context.select("."+E.axisX);if(ay){az=az.transition()}}ax.context.attr("transform",ax.getTranslate("context"));az.attr("transform",ax.getTranslate("subx"))};G.getDefaultExtent=function(){var ax=this,ay=ax.config,az=z(ay.axis_x_extent)?ay.axis_x_extent(ax.getXDomain(ax.data.targets)):ay.axis_x_extent;if(ax.isTimeSeries()){az=[ax.parseDate(az[0]),ax.parseDate(az[1])]}return az};G.initZoom=function(){var ay=this,aA=ay.d3,az=ay.config,ax;ay.zoom=aA.behavior.zoom().on("zoomstart",function(){ax=aA.event.sourceEvent;ay.zoom.altDomain=aA.event.sourceEvent.altKey?ay.x.orgDomain():null;az.zoom_onzoomstart.call(ay.api,aA.event.sourceEvent)}).on("zoom",function(){ay.redrawForZoom.call(ay)}).on("zoomend",function(){var aB=aA.event.sourceEvent;if(aB&&ax.clientX===aB.clientX&&ax.clientY===aB.clientY){return}ay.redrawEventRect();ay.updateZoom();az.zoom_onzoomend.call(ay.api,ay.x.orgDomain())});ay.zoom.scale=function(aB){return az.axis_rotated?this.y(aB):this.x(aB)};ay.zoom.orgScaleExtent=function(){var aB=az.zoom_extent?az.zoom_extent:[1,10];return[aB[0],Math.max(ay.getMaxDataCount()/aB[1],aB[1])]};ay.zoom.updateScaleExtent=function(){var aC=O(ay.x.orgDomain())/O(ay.getZoomDomain()),aB=this.orgScaleExtent();this.scaleExtent([aB[0]*aC,aB[1]*aC]);return this}};G.getZoomDomain=function(){var ay=this,az=ay.config,aB=ay.d3,aA=aB.min([ay.orgXDomain[0],az.zoom_x_min]),ax=aB.max([ay.orgXDomain[1],az.zoom_x_max]);return[aA,ax]};G.updateZoom=function(){var ax=this,ay=ax.config.zoom_enabled?ax.zoom:function(){};ax.main.select("."+E.zoomRect).call(ay).on("dblclick.zoom",null);ax.main.selectAll("."+E.eventRect).call(ay).on("dblclick.zoom",null)};G.redrawForZoom=function(){var ay=this,aA=ay.d3,az=ay.config,aB=ay.zoom,ax=ay.x;if(!az.zoom_enabled){return}if(ay.filterTargetsToShow(ay.data.targets).length===0){return}if(aA.event.sourceEvent.type==="mousemove"&&aB.altDomain){ax.domain(aB.altDomain);aB.scale(ax).updateScaleExtent();return}if(ay.isCategorized()&&ax.orgDomain()[0]===ay.orgXDomain[0]){ax.domain([ay.orgXDomain[0]-1e-10,ax.orgDomain()[1]])}ay.redraw({withTransition:false,withY:az.zoom_rescale,withSubchart:false,withEventRect:false,withDimension:false});if(aA.event.sourceEvent.type==="mousemove"){ay.cancelClick=true}az.zoom_onzoom.call(ay.api,ax.orgDomain())};G.generateColor=function(){var ay=this,az=ay.config,aB=ay.d3,ax=az.data_colors,aC=M(az.color_pattern)?az.color_pattern:aB.scale.category10().range(),aD=az.data_color,aA=[];return function(aF){var aG=aF.id||(aF.data&&aF.data.id)||aF,aE;if(ax[aG] instanceof Function){aE=ax[aG](aF)}else{if(ax[aG]){aE=ax[aG]}else{if(aA.indexOf(aG)<0){aA.push(aG)}aE=aC[aA.indexOf(aG)%aC.length];ax[aG]=aE}}return aD instanceof Function?aD(aE,aF):aE}};G.generateLevelColor=function(){var aB=this,aC=aB.config,az=aC.color_pattern,ay=aC.color_threshold,aD=ay.unit==="value",aA=ay.values&&ay.values.length?ay.values:[],ax=ay.max||100;return M(aC.color_threshold)?function(aH){var aG,aF,aE=az[az.length-1];for(aG=0;aG<aA.length;aG++){aF=aD?aH:(aH*100/ax);if(aF<aA[aG]){aE=az[aG];break}}return aE}:null};G.getYFormat=function(ay){var ax=this,az=ay&&!ax.hasType("gauge")?ax.defaultArcValueFormat:ax.yFormat,aA=ay&&!ax.hasType("gauge")?ax.defaultArcValueFormat:ax.y2Format;return function(aB,aC,aE){var aD=ax.axis.getId(aE)==="y2"?aA:az;return aD.call(ax,aB,aC)}};G.yFormat=function(ay){var ax=this,az=ax.config,aA=az.axis_y_tick_format?az.axis_y_tick_format:ax.defaultValueFormat;return aA(ay)};G.y2Format=function(ay){var ax=this,az=ax.config,aA=az.axis_y2_tick_format?az.axis_y2_tick_format:ax.defaultValueFormat;return aA(ay)};G.defaultValueFormat=function(ax){return j(ax)?+ax:""};G.defaultArcValueFormat=function(ax,ay){return(ay*100).toFixed(1)+"%"};G.dataLabelFormat=function(az){var ax=this,ay=ax.config.data_labels,aB,aA=function(aC){return j(aC)?+aC:""};if(typeof ay.format==="function"){aB=ay.format}else{if(typeof ay.format==="object"){if(ay.format[az]){aB=ay.format[az]===true?aA:ay.format[az]}else{aB=function(){return""}}}else{aB=aA}}return aB};G.hasCaches=function(ay){for(var ax=0;ax<ay.length;ax++){if(!(ay[ax] in this.cache)){return false}}return true};G.addCache=function(ay,ax){this.cache[ay]=this.cloneTarget(ax)};G.getCaches=function(az){var ax=[],ay;for(ay=0;ay<az.length;ay++){if(az[ay] in this.cache){ax.push(this.cloneTarget(this.cache[az[ay]]))}}return ax};var E=G.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};G.generateClass=function(ay,ax){return" "+ay+" "+ay+this.getTargetSelectorSuffix(ax)};G.classText=function(ax){return this.generateClass(E.text,ax.index)};G.classTexts=function(ax){return this.generateClass(E.texts,ax.id)};G.classShape=function(ax){return this.generateClass(E.shape,ax.index)};G.classShapes=function(ax){return this.generateClass(E.shapes,ax.id)};G.classLine=function(ax){return this.classShape(ax)+this.generateClass(E.line,ax.id)};G.classLines=function(ax){return this.classShapes(ax)+this.generateClass(E.lines,ax.id)};G.classCircle=function(ax){return this.classShape(ax)+this.generateClass(E.circle,ax.index)};G.classCircles=function(ax){return this.classShapes(ax)+this.generateClass(E.circles,ax.id)};G.classBar=function(ax){return this.classShape(ax)+this.generateClass(E.bar,ax.index)};G.classBars=function(ax){return this.classShapes(ax)+this.generateClass(E.bars,ax.id)};G.classArc=function(ax){return this.classShape(ax.data)+this.generateClass(E.arc,ax.data.id)};G.classArcs=function(ax){return this.classShapes(ax.data)+this.generateClass(E.arcs,ax.data.id)};G.classArea=function(ax){return this.classShape(ax)+this.generateClass(E.area,ax.id)};G.classAreas=function(ax){return this.classShapes(ax)+this.generateClass(E.areas,ax.id)};G.classRegion=function(ay,ax){return this.generateClass(E.region,ax)+" "+("class" in ay?ay["class"]:"")};G.classEvent=function(ax){return this.generateClass(E.eventRect,ax.index)};G.classTarget=function(aA){var ay=this;var az=ay.config.data_classes[aA],ax="";if(az){ax=" "+E.target+"-"+az}return ay.generateClass(E.target,aA)+ax};G.classFocus=function(ax){return this.classFocused(ax)+this.classDefocused(ax)};G.classFocused=function(ax){return" "+(this.focusedTargetIds.indexOf(ax.id)>=0?E.focused:"")};G.classDefocused=function(ax){return" "+(this.defocusedTargetIds.indexOf(ax.id)>=0?E.defocused:"")};G.classChartText=function(ax){return E.chartText+this.classTarget(ax.id)};G.classChartLine=function(ax){return E.chartLine+this.classTarget(ax.id)};G.classChartBar=function(ax){return E.chartBar+this.classTarget(ax.id)};G.classChartArc=function(ax){return E.chartArc+this.classTarget(ax.data.id)};G.getTargetSelectorSuffix=function(ax){return ax||ax===0?("-"+ax).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""};G.selectorTarget=function(ay,ax){return(ax||"")+"."+E.target+this.getTargetSelectorSuffix(ay)};G.selectorTargets=function(ay,az){var ax=this;ay=ay||[];return ay.length?ay.map(function(aA){return ax.selectorTarget(aA,az)}):null};G.selectorLegend=function(ax){return"."+E.legendItem+this.getTargetSelectorSuffix(ax)};G.selectorLegends=function(ay){var ax=this;return ay&&ay.length?ay.map(function(az){return ax.selectorLegend(az)}):null};var j=G.isValue=function(ax){return ax||ax===0},z=G.isFunction=function(ax){return typeof ax==="function"},s=G.isString=function(ax){return typeof ax==="string"},F=G.isUndefined=function(ax){return typeof ax==="undefined"},J=G.isDefined=function(ax){return typeof ax!=="undefined"},P=G.ceil10=function(ax){return Math.ceil(ax/10)*10},X=G.asHalfPixel=function(ax){return Math.ceil(ax)+0.5},O=G.diffDomain=function(ax){return ax[1]-ax[0]},D=G.isEmpty=function(ax){return typeof ax==="undefined"||ax===null||(s(ax)&&ax.length===0)||(typeof ax==="object"&&Object.keys(ax).length===0)},M=G.notEmpty=function(ax){return !G.isEmpty(ax)},v=G.getOption=function(ay,az,ax){return J(ay[az])?ay[az]:ax},u=G.hasValue=function(az,ay){var ax=false;Object.keys(az).forEach(function(aA){if(az[aA]===ay){ax=true}});return ax},i=G.sanitise=function(ax){return typeof ax==="string"?ax.replace(/</g,"&lt;").replace(/>/g,"&gt;"):ax},S=G.getPathBox=function(aA){var az=aA.getBoundingClientRect(),ay=[aA.pathSegList.getItem(0),aA.pathSegList.getItem(1)],ax=ay[0].x,aB=Math.min(ay[0].y,ay[1].y);return{x:ax,y:aB,width:az.width,height:az.height}};C.focus=function(ax){var ay=this.internal,az;ax=ay.mapToTargetIds(ax);az=ay.svg.selectAll(ay.selectorTargets(ax.filter(ay.isTargetToShow,ay))),this.revert();this.defocus();az.classed(E.focused,true).classed(E.defocused,false);if(ay.hasArcType()){ay.expandArc(ax)}ay.toggleFocusLegend(ax,true);ay.focusedTargetIds=ax;ay.defocusedTargetIds=ay.defocusedTargetIds.filter(function(aA){return ax.indexOf(aA)<0})};C.defocus=function(ax){var ay=this.internal,az;ax=ay.mapToTargetIds(ax);az=ay.svg.selectAll(ay.selectorTargets(ax.filter(ay.isTargetToShow,ay))),az.classed(E.focused,false).classed(E.defocused,true);if(ay.hasArcType()){ay.unexpandArc(ax)}ay.toggleFocusLegend(ax,false);ay.focusedTargetIds=ay.focusedTargetIds.filter(function(aA){return ax.indexOf(aA)<0});ay.defocusedTargetIds=ax};C.revert=function(ax){var ay=this.internal,az;ax=ay.mapToTargetIds(ax);az=ay.svg.selectAll(ay.selectorTargets(ax));az.classed(E.focused,false).classed(E.defocused,false);if(ay.hasArcType()){ay.unexpandArc(ax)}if(ay.config.legend_show){ay.showLegend(ax.filter(ay.isLegendToShow.bind(ay)));ay.legend.selectAll(ay.selectorLegends(ax)).filter(function(){return ay.d3.select(this).classed(E.legendItemFocused)}).classed(E.legendItemFocused,false)}ay.focusedTargetIds=[];ay.defocusedTargetIds=[]};C.show=function(ay,aA){var az=this.internal,ax;ay=az.mapToTargetIds(ay);aA=aA||{};az.removeHiddenTargetIds(ay);ax=az.svg.selectAll(az.selectorTargets(ay));ax.transition().style("opacity",1,"important").call(az.endall,function(){ax.style("opacity",null).style("opacity",1)});if(aA.withLegend){az.showLegend(ay)}az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};C.hide=function(ay,aA){var az=this.internal,ax;ay=az.mapToTargetIds(ay);aA=aA||{};az.addHiddenTargetIds(ay);ax=az.svg.selectAll(az.selectorTargets(ay));ax.transition().style("opacity",0,"important").call(az.endall,function(){ax.style("opacity",null).style("opacity",0)});if(aA.withLegend){az.hideLegend(ay)}az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};C.toggle=function(ax,az){var aA=this,ay=this.internal;ay.mapToTargetIds(ax).forEach(function(aB){ay.isTargetToShow(aB)?aA.hide(aB,az):aA.show(aB,az)})};C.zoom=function(ay){var ax=this.internal;if(ay){if(ax.isTimeSeries()){ay=ay.map(function(az){return ax.parseDate(az)})}ax.brush.extent(ay);ax.redraw({withUpdateXDomain:true,withY:ax.config.zoom_rescale});ax.config.zoom_onzoom.call(this,ax.x.orgDomain())}return ax.brush.extent()};C.zoom.enable=function(ay){var ax=this.internal;ax.config.zoom_enabled=ay;ax.updateAndRedraw()};C.unzoom=function(){var ax=this.internal;ax.brush.clear().update();ax.redraw({withUpdateXDomain:true})};C.zoom.max=function(ax){var ay=this.internal,az=ay.config,aA=ay.d3;if(ax===0||ax){az.zoom_x_max=aA.max([ay.orgXDomain[1],ax])}else{return az.zoom_x_max}};C.zoom.min=function(az){var ax=this.internal,ay=ax.config,aA=ax.d3;if(az===0||az){ay.zoom_x_min=aA.min([ax.orgXDomain[0],az])}else{return ay.zoom_x_min}};C.zoom.range=function(ax){if(arguments.length){if(J(ax.max)){this.domain.max(ax.max)}if(J(ax.min)){this.domain.min(ax.min)}}else{return{max:this.domain.max(),min:this.domain.min()}}};C.load=function(az){var ax=this.internal,ay=ax.config;if(az.xs){ax.addXs(az.xs)}if("names" in az){C.data.names.bind(this)(az.names)}if("classes" in az){Object.keys(az.classes).forEach(function(aA){ay.data_classes[aA]=az.classes[aA]})}if("categories" in az&&ax.isCategorized()){ay.axis_x_categories=az.categories}if("axes" in az){Object.keys(az.axes).forEach(function(aA){ay.data_axes[aA]=az.axes[aA]})}if("colors" in az){Object.keys(az.colors).forEach(function(aA){ay.data_colors[aA]=az.colors[aA]})}if("cacheIds" in az&&ax.hasCaches(az.cacheIds)){ax.load(ax.getCaches(az.cacheIds),az.done);return}if("unload" in az){ax.unload(ax.mapToTargetIds((typeof az.unload==="boolean"&&az.unload)?null:az.unload),function(){ax.loadFromArgs(az)})}else{ax.loadFromArgs(az)}};C.unload=function(ay){var ax=this.internal;ay=ay||{};if(ay instanceof Array){ay={ids:ay}}else{if(typeof ay==="string"){ay={ids:[ay]}}}ax.unload(ax.mapToTargetIds(ay.ids),function(){ax.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(ay.done){ay.done()}})};C.flow=function(aF){var aK=this.internal,aD,aC,aA=[],aG=aK.getMaxDataCount(),aH,aB,ay,ax,az=0,aE=0,aJ,aI;if(aF.json){aC=aK.convertJsonToData(aF.json,aF.keys)}else{if(aF.rows){aC=aK.convertRowsToData(aF.rows)}else{if(aF.columns){aC=aK.convertColumnsToData(aF.columns)}else{return}}}aD=aK.convertDataToTargets(aC,true);aK.data.targets.forEach(function(aN){var aO=false,aM,aL;for(aM=0;aM<aD.length;aM++){if(aN.id===aD[aM].id){aO=true;if(aN.values[aN.values.length-1]){aE=aN.values[aN.values.length-1].index+1}az=aD[aM].values.length;for(aL=0;aL<az;aL++){aD[aM].values[aL].index=aE+aL;if(!aK.isTimeSeries()){aD[aM].values[aL].x=aE+aL}}aN.values=aN.values.concat(aD[aM].values);aD.splice(aM,1);break}}if(!aO){aA.push(aN.id)}});aK.data.targets.forEach(function(aN){var aM,aL;for(aM=0;aM<aA.length;aM++){if(aN.id===aA[aM]){aE=aN.values[aN.values.length-1].index+1;for(aL=0;aL<az;aL++){aN.values.push({id:aN.id,index:aE+aL,x:aK.isTimeSeries()?aK.getOtherTargetX(aE+aL):aE+aL,value:null})}}}});if(aK.data.targets.length){aD.forEach(function(aN){var aM,aL=[];for(aM=aK.data.targets[0].values[0].index;aM<aE;aM++){aL.push({id:aN.id,index:aM,x:aK.isTimeSeries()?aK.getOtherTargetX(aM):aM,value:null})}aN.values.forEach(function(aO){aO.index+=aE;if(!aK.isTimeSeries()){aO.x+=aE}});aN.values=aL.concat(aN.values)})}aK.data.targets=aK.data.targets.concat(aD);aH=aK.getMaxDataCount();ay=aK.data.targets[0];ax=ay.values[0];if(J(aF.to)){az=0;aI=aK.isTimeSeries()?aK.parseDate(aF.to):aF.to;ay.values.forEach(function(aL){if(aL.x<aI){az++}})}else{if(J(aF.length)){az=aF.length}}if(!aG){if(aK.isTimeSeries()){if(ay.values.length>1){aJ=ay.values[ay.values.length-1].x-ax.x}else{aJ=ax.x-aK.getXDomain(aK.data.targets)[0]}}else{aJ=1}aB=[ax.x-aJ,ax.x];aK.updateXDomain(null,true,true,false,aB)}else{if(aG===1){if(aK.isTimeSeries()){aJ=(ay.values[ay.values.length-1].x-ax.x)/2;aB=[new Date(+ax.x-aJ),new Date(+ax.x+aJ)];aK.updateXDomain(null,true,true,false,aB)}}}aK.updateTargets(aK.data.targets);aK.redraw({flow:{index:ax.index,length:az,duration:j(aF.duration)?aF.duration:aK.config.transition_duration,done:aF.done,orgDataCount:aG,},withLegend:true,withTransition:aG>1,withTrimXDomain:false,withUpdateXAxis:true,})};G.generateFlow=function(az){var ax=this,ay=ax.config,aA=ax.d3;return function(){var a2=az.targets,aK=az.flow,aX=az.drawBar,aR=az.drawLine,a1=az.drawArea,aH=az.cx,aF=az.cy,aM=az.xv,aG=az.xForText,aV=az.yForText,aC=az.duration;var a5,a0=1,aP,aB=aK.index,aQ=aK.length,a3=ax.getValueOnIndex(ax.data.targets[0].values,aB),aN=ax.getValueOnIndex(ax.data.targets[0].values,aB+aQ),aU=ax.x.domain(),a4,aL=aK.duration||aC,aT=aK.done||function(){},aW=ax.generateWait();var aD=ax.xgrid||aA.selectAll([]),aZ=ax.xgridLines||aA.selectAll([]),aJ=ax.mainRegion||aA.selectAll([]),aI=ax.mainText||aA.selectAll([]),aS=ax.mainBar||aA.selectAll([]),aE=ax.mainLine||aA.selectAll([]),aO=ax.mainArea||aA.selectAll([]),aY=ax.mainCircle||aA.selectAll([]);ax.flowing=true;ax.data.targets.forEach(function(a6){a6.values.splice(0,aQ)});a4=ax.updateXDomain(a2,true,true);if(ax.updateXGrid){ax.updateXGrid(true)}if(!aK.orgDataCount){if(ax.data.targets[0].values.length!==1){a5=ax.x(aU[0])-ax.x(a4[0])}else{if(ax.isTimeSeries()){a3=ax.getValueOnIndex(ax.data.targets[0].values,0);aN=ax.getValueOnIndex(ax.data.targets[0].values,ax.data.targets[0].values.length-1);a5=ax.x(a3.x)-ax.x(aN.x)}else{a5=O(a4)/2}}}else{if(aK.orgDataCount===1||(a3&&a3.x)===(aN&&aN.x)){a5=ax.x(aU[0])-ax.x(a4[0])}else{if(ax.isTimeSeries()){a5=(ax.x(aU[0])-ax.x(a4[0]))}else{a5=(ax.x(a3.x)-ax.x(aN.x))}}}a0=(O(aU)/O(a4));aP="translate("+a5+",0) scale("+a0+",1)";ax.hideXGridFocus();aA.transition().ease("linear").duration(aL).each(function(){aW.add(ax.axes.x.transition().call(ax.xAxis));aW.add(aS.transition().attr("transform",aP));aW.add(aE.transition().attr("transform",aP));aW.add(aO.transition().attr("transform",aP));aW.add(aY.transition().attr("transform",aP));aW.add(aI.transition().attr("transform",aP));aW.add(aJ.filter(ax.isRegionOnX).transition().attr("transform",aP));aW.add(aD.transition().attr("transform",aP));aW.add(aZ.transition().attr("transform",aP))}).call(aW,function(){var a8,a6=[],a9=[],a7=[];if(aQ){for(a8=0;a8<aQ;a8++){a6.push("."+E.shape+"-"+(aB+a8));a9.push("."+E.text+"-"+(aB+a8));a7.push("."+E.eventRect+"-"+(aB+a8))}ax.svg.selectAll("."+E.shapes).selectAll(a6).remove();ax.svg.selectAll("."+E.texts).selectAll(a9).remove();ax.svg.selectAll("."+E.eventRects).selectAll(a7).remove();ax.svg.select("."+E.xgrid).remove()}aD.attr("transform",null).attr(ax.xgridAttr);aZ.attr("transform",null);aZ.select("line").attr("x1",ay.axis_rotated?0:aM).attr("x2",ay.axis_rotated?ax.width:aM);aZ.select("text").attr("x",ay.axis_rotated?ax.width:0).attr("y",aM);aS.attr("transform",null).attr("d",aX);aE.attr("transform",null).attr("d",aR);aO.attr("transform",null).attr("d",a1);aY.attr("transform",null).attr("cx",aH).attr("cy",aF);aI.attr("transform",null).attr("x",aG).attr("y",aV).style("fill-opacity",ax.opacityForText.bind(ax));aJ.attr("transform",null);aJ.select("rect").filter(ax.isRegionOnX).attr("x",ax.regionX.bind(ax)).attr("width",ax.regionWidth.bind(ax));if(ay.interaction_enabled){ax.redrawEventRect()}aT();ax.flowing=false})}};C.selected=function(ay){var ax=this.internal,az=ax.d3;return az.merge(ax.main.selectAll("."+E.shapes+ax.getTargetSelectorSuffix(ay)).selectAll("."+E.shape).filter(function(){return az.select(this).classed(E.SELECTED)}).map(function(aA){return aA.map(function(aC){var aB=aC.__data__;return aB.data?aB.data:aB})}))};C.select=function(aB,aC,aA){var ax=this.internal,az=ax.d3,ay=ax.config;if(!ay.data_selection_enabled){return}ax.main.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(aJ,aH){var aF=az.select(this),aK=aJ.data?aJ.data.id:aJ.id,aD=ax.getToggle(this,aJ).bind(ax),aE=ay.data_selection_grouped||!aB||aB.indexOf(aK)>=0,aI=!aC||aC.indexOf(aH)>=0,aG=aF.classed(E.SELECTED);if(aF.classed(E.line)||aF.classed(E.area)){return}if(aE&&aI){if(ay.data_selection_isselectable(aJ)&&!aG){aD(true,aF.classed(E.SELECTED,true),aJ,aH)}}else{if(J(aA)&&aA){if(aG){aD(false,aF.classed(E.SELECTED,false),aJ,aH)}}}})};C.unselect=function(aA,aB){var ax=this.internal,az=ax.d3,ay=ax.config;if(!ay.data_selection_enabled){return}ax.main.selectAll("."+E.shapes).selectAll("."+E.shape).each(function(aI,aG){var aE=az.select(this),aJ=aI.data?aI.data.id:aI.id,aC=ax.getToggle(this,aI).bind(ax),aD=ay.data_selection_grouped||!aA||aA.indexOf(aJ)>=0,aH=!aB||aB.indexOf(aG)>=0,aF=aE.classed(E.SELECTED);if(aE.classed(E.line)||aE.classed(E.area)){return}if(aD&&aH){if(ay.data_selection_isselectable(aI)){if(aF){aC(false,aE.classed(E.SELECTED,false),aI,aG)}}}})};C.transform=function(aA,ax){var ay=this.internal,az=["pie","donut"].indexOf(aA)>=0?{withTransform:true}:null;ay.transformTo(ax,aA,az)};G.transformTo=function(ay,aB,ax){var az=this,aC=!az.hasArcType(),aA=ax||{withTransitionForAxis:aC};aA.withTransitionForTransform=false;az.transiting=false;az.setTargetType(ay,aB);az.updateTargets(az.data.targets);az.updateAndRedraw(aA)};C.groups=function(ax){var ay=this.internal,az=ay.config;if(F(ax)){return az.data_groups}az.data_groups=ax;ay.redraw();return az.data_groups};C.xgrids=function(az){var ax=this.internal,ay=ax.config;if(!az){return ay.grid_x_lines}ay.grid_x_lines=az;ax.redrawWithoutRescale();return ay.grid_x_lines};C.xgrids.add=function(ay){var ax=this.internal;return this.xgrids(ax.config.grid_x_lines.concat(ay?ay:[]))};C.xgrids.remove=function(ay){var ax=this.internal;ax.removeGridLines(ay,true)};C.ygrids=function(az){var ax=this.internal,ay=ax.config;if(!az){return ay.grid_y_lines}ay.grid_y_lines=az;ax.redrawWithoutRescale();return ay.grid_y_lines};C.ygrids.add=function(ay){var ax=this.internal;return this.ygrids(ax.config.grid_y_lines.concat(ay?ay:[]))};C.ygrids.remove=function(ay){var ax=this.internal;ax.removeGridLines(ay,false)};C.regions=function(az){var ax=this.internal,ay=ax.config;if(!az){return ay.regions}ay.regions=az;ax.redrawWithoutRescale();return ay.regions};C.regions.add=function(az){var ax=this.internal,ay=ax.config;if(!az){return ay.regions}ay.regions=ay.regions.concat(az);ax.redrawWithoutRescale();return ay.regions};C.regions.remove=function(az){var ax=this.internal,ay=ax.config,aB,aA,aC;az=az||{};aB=ax.getOption(az,"duration",ay.transition_duration);aA=ax.getOption(az,"classes",[E.region]);aC=ax.main.select("."+E.regions).selectAll(aA.map(function(aD){return"."+aD}));(aB?aC.transition().duration(aB):aC).style("opacity",0).remove();ay.regions=ay.regions.filter(function(aE){var aD=false;if(!aE["class"]){return true}aE["class"].split(" ").forEach(function(aF){if(aA.indexOf(aF)>=0){aD=true}});return !aD});return ay.regions};C.data=function(ay){var ax=this.internal.data.targets;return typeof ay==="undefined"?ax:ax.filter(function(az){return[].concat(ay).indexOf(az.id)>=0})};C.data.shown=function(ax){return this.internal.filterTargetsToShow(this.data(ax))};C.data.values=function(az){var ax,ay=null;if(az){ax=this.data(az);ay=ax[0]?ax[0].values.map(function(aA){return aA.value}):null}return ay};C.data.names=function(ax){this.internal.clearLegendItemTextBoxCache();return this.internal.updateDataAttributes("names",ax)};C.data.colors=function(ax){return this.internal.updateDataAttributes("colors",ax)};C.data.axes=function(ax){return this.internal.updateDataAttributes("axes",ax)};C.category=function(az,aA){var ax=this.internal,ay=ax.config;if(arguments.length>1){ay.axis_x_categories[az]=aA;ax.redraw()}return ay.axis_x_categories[az]};C.categories=function(ay){var ax=this.internal,az=ax.config;if(!arguments.length){return az.axis_x_categories}az.axis_x_categories=ay;ax.redraw();return az.axis_x_categories};C.color=function(ay){var ax=this.internal;return ax.color(ay)};C.x=function(ax){var ay=this.internal;if(arguments.length){ay.updateTargetX(ay.data.targets,ax);ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return ay.data.xs};C.xs=function(ay){var ax=this.internal;if(arguments.length){ax.updateTargetXs(ax.data.targets,ay);ax.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return ax.data.xs};C.axis=function(){};C.axis.labels=function(ay){var ax=this.internal;if(arguments.length){Object.keys(ay).forEach(function(az){ax.axis.setLabelText(az,ay[az])});ax.axis.updateLabels()}};C.axis.max=function(ax){var ay=this.internal,az=ay.config;if(arguments.length){if(typeof ax==="object"){if(j(ax.x)){az.axis_x_max=ax.x}if(j(ax.y)){az.axis_y_max=ax.y}if(j(ax.y2)){az.axis_y2_max=ax.y2}}else{az.axis_y_max=az.axis_y2_max=ax}ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}else{return{x:az.axis_x_max,y:az.axis_y_max,y2:az.axis_y2_max}}};C.axis.min=function(az){var ax=this.internal,ay=ax.config;if(arguments.length){if(typeof az==="object"){if(j(az.x)){ay.axis_x_min=az.x}if(j(az.y)){ay.axis_y_min=az.y}if(j(az.y2)){ay.axis_y2_min=az.y2}}else{ay.axis_y_min=ay.axis_y2_min=az}ax.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}else{return{x:ay.axis_x_min,y:ay.axis_y_min,y2:ay.axis_y2_min}}};C.axis.range=function(ax){if(arguments.length){if(J(ax.max)){this.axis.max(ax.max)}if(J(ax.min)){this.axis.min(ax.min)}}else{return{max:this.axis.max(),min:this.axis.min()}}};C.legend=function(){};C.legend.show=function(ax){var ay=this.internal;ay.showLegend(ay.mapToTargetIds(ax));ay.updateAndRedraw({withLegend:true})};C.legend.hide=function(ax){var ay=this.internal;ay.hideLegend(ay.mapToTargetIds(ax));ay.updateAndRedraw({withLegend:true})};C.resize=function(az){var ax=this.internal,ay=ax.config;ay.size_width=az?az.width:null;ay.size_height=az?az.height:null;this.flush()};C.flush=function(){var ax=this.internal;ax.updateAndRedraw({withLegend:true,withTransition:false,withTransitionForTransform:false})};C.destroy=function(){var ax=this.internal;ae.clearInterval(ax.intervalForObserveInserted);if(ax.resizeTimeout!==undefined){ae.clearTimeout(ax.resizeTimeout)}if(ae.detachEvent){ae.detachEvent("onresize",ax.resizeFunction)}else{if(ae.removeEventListener){ae.removeEventListener("resize",ax.resizeFunction)}else{var ay=ae.onresize;if(ay&&ay.add&&ay.remove){ay.remove(ax.resizeFunction)}}}ax.selectChart.classed("c3",false).html("");Object.keys(ax).forEach(function(az){ax[az]=null});return null};C.tooltip=function(){};C.tooltip.show=function(aA){var ax=this.internal,az,ay;if(aA.mouse){ay=aA.mouse}if(aA.data){if(ax.isMultipleX()){ay=[ax.x(aA.data.x),ax.getYScale(aA.data.id)(aA.data.value)];az=null}else{az=j(aA.data.index)?aA.data.index:ax.getIndexByX(aA.data.x)}}else{if(typeof aA.x!=="undefined"){az=ax.getIndexByX(aA.x)}else{if(typeof aA.index!=="undefined"){az=aA.index}}}ax.dispatchEvent("mouseover",az,ay);ax.dispatchEvent("mousemove",az,ay);ax.config.tooltip_onshow.call(ax,aA.data)};C.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0);this.internal.config.tooltip_onhide.call(this)};var at;function d(aR,aO){var aS=aR.scale.linear(),aI="bottom",aG=6,aE,aM=3,ax=null,aL,aC;var aD=0,aN=true,aF;aO=aO||{};aE=aO.withOuterTick?6:0;function aA(aU,aT){aU.attr("transform",function(aV){return"translate("+Math.ceil(aT(aV)+aD)+", 0)"})}function az(aT,aU){aT.attr("transform",function(aV){return"translate(0,"+Math.ceil(aU(aV))+")"})}function ay(aU){var aV=aU[0],aT=aU[aU.length-1];return aV<aT?[aV,aT]:[aT,aV]}function aQ(aW){var aT,aV,aU=[];if(aW.ticks){return aW.ticks.apply(aW,aC)}aV=aW.domain();for(aT=Math.ceil(aV[0]);aT<aV[1];aT++){aU.push(aT)}if(aU.length>0&&aU[0]>0){aU.unshift(aU[0]-(aU[1]-aU[0]))}return aU}function aH(){var aU=aS.copy(),aT;if(aO.isCategory){aT=aS.domain();aU.domain([aT[0],aT[1]-1])}return aU}function aK(aT){var aU=aL?aL(aT):aT;return typeof aU!=="undefined"?aU:""}function aJ(aU){if(at){return at}var aT={h:11.5,w:5.5};aU.select("text").text(aK).each(function(aZ){var aX=this.getBoundingClientRect(),aY=aK(aZ),aW=aX.height,aV=aY?(aX.width/aY.length):undefined;if(aW&&aV){aT.h=aW;aT.w=aV}}).text("");at=aT;return aT}function aP(aT){return aO.withoutTransition?aT:aR.transition(aT)}function aB(aT){aT.each(function(){var bl=aB.g=aR.select(this);var bh=this.__chart__||aS,bf=this.__chart__=aH();var bp=ax?ax:aQ(bf),bi=bl.selectAll(".tick").data(bp,bf),a9=bi.enter().insert("g",".domain").attr("class","tick").style("opacity",0.000001),be=bi.exit().remove(),aZ=aP(bi).style("opacity",1),aU,a7,a5;var a8=aS.rangeExtent?aS.rangeExtent():ay(aS.range()),bc=bl.selectAll(".domain").data([0]),br=(bc.enter().append("path").attr("class","domain"),aP(bc));a9.append("line");a9.append("text");var aX=a9.select("line"),bn=aZ.select("line"),a0=a9.select("text"),bk=aZ.select("text");if(aO.isCategory){aD=Math.ceil((bf(1)-bf(0))/2);a7=aF?0:aD;a5=aF?aD:0}else{aD=a7=0}var a6,a1,bq=aJ(bl.select(".tick")),bm=[];var aV=Math.max(aG,0)+aM,a2=aI==="left"||aI==="right";function aW(by,bw){var bs=aK(by),bu,bv,bx,bz=[];if(Object.prototype.toString.call(bs)==="[object Array]"){return bs}if(!bw||bw<=0){bw=a2?95:aO.isCategory?(Math.ceil(bf(bp[1])-bf(bp[0]))-12):110}function bt(bC,bB){bv=undefined;for(var bA=1;bA<bB.length;bA++){if(bB.charAt(bA)===" "){bv=bA}bu=bB.substr(0,bA+1);bx=bq.w*bu.length;if(bw<bx){return bt(bC.concat(bB.substr(0,bv?bv:bA)),bB.slice(bv?bv+1:bA))}}return bC.concat(bB)}return bt(bz,bs+"")}function bb(bu,bt){var bs=bq.h;if(bt===0){if(aI==="left"||aI==="right"){bs=-((bm[bu.index]-1)*(bq.h/2)-3)}else{bs=".71em"}}return bs}function ba(bt){var bs=aS(bt)+(aF?0:aD);return a8[0]<bs&&bs<a8[1]?aG:0}a6=bi.select("text");a1=a6.selectAll("tspan").data(function(bt,bs){var bu=aO.tickMultiline?aW(bt,aO.tickWidth):[].concat(aK(bt));bm[bs]=bu.length;return bu.map(function(bv){return{index:bs,splitted:bv}})});a1.enter().append("tspan");a1.exit().remove();a1.text(function(bs){return bs.splitted});var bg=aO.tickTextRotate;function bj(bs){if(!bs){return"middle"}return bs>0?"start":"end"}function bo(bs){if(!bs){return""}return"rotate("+bs+")"}function aY(bs){if(!bs){return 0}return 8*Math.sin(Math.PI*(bs/180))}function bd(bs){if(!bs){return aV}return 11.5-2.5*(bs/15)*(bs>0?1:-1)}switch(aI){case"bottom":aU=aA;aX.attr("y2",aG);a0.attr("y",aV);bn.attr("x1",a7).attr("x2",a7).attr("y2",ba);bk.attr("x",0).attr("y",bd(bg)).style("text-anchor",bj(bg)).attr("transform",bo(bg));a1.attr("x",0).attr("dy",bb).attr("dx",aY(bg));br.attr("d","M"+a8[0]+","+aE+"V0H"+a8[1]+"V"+aE);break;case"top":aU=aA;aX.attr("y2",-aG);a0.attr("y",-aV);bn.attr("x2",0).attr("y2",-aG);bk.attr("x",0).attr("y",-aV);a6.style("text-anchor","middle");a1.attr("x",0).attr("dy","0em");br.attr("d","M"+a8[0]+","+-aE+"V0H"+a8[1]+"V"+-aE);break;case"left":aU=az;aX.attr("x2",-aG);a0.attr("x",-aV);bn.attr("x2",-aG).attr("y1",a5).attr("y2",a5);bk.attr("x",-aV).attr("y",aD);a6.style("text-anchor","end");a1.attr("x",-aV).attr("dy",bb);br.attr("d","M"+-aE+","+a8[0]+"H0V"+a8[1]+"H"+-aE);break;case"right":aU=az;aX.attr("x2",aG);a0.attr("x",aV);bn.attr("x2",aG).attr("y2",0);bk.attr("x",aV).attr("y",0);a6.style("text-anchor","start");a1.attr("x",aV).attr("dy",bb);br.attr("d","M"+aE+","+a8[0]+"H0V"+a8[1]+"H"+aE);break}if(bf.rangeBand){var a3=bf,a4=a3.rangeBand()/2;bh=bf=function(bs){return a3(bs)+a4}}else{if(bh.rangeBand){bh=bf}else{be.call(aU,bf)}}a9.call(aU,bh);aZ.call(aU,bf)})}aB.scale=function(aT){if(!arguments.length){return aS}aS=aT;return aB};aB.orient=function(aT){if(!arguments.length){return aI}aI=aT in {top:1,right:1,bottom:1,left:1}?aT+"":"bottom";return aB};aB.tickFormat=function(aT){if(!arguments.length){return aL}aL=aT;return aB};aB.tickCentered=function(aT){if(!arguments.length){return aF}aF=aT;return aB};aB.tickOffset=function(){return aD};aB.tickInterval=function(){var aT,aU;if(aO.isCategory){aT=aD*2}else{aU=aB.g.select("path.domain").node().getTotalLength()-aE*2;aT=aU/aB.g.selectAll("line").size()}return aT===Infinity?0:aT};aB.ticks=function(){if(!arguments.length){return aC}aC=arguments;return aB};aB.tickCulling=function(aT){if(!arguments.length){return aN}aN=aT;return aB};aB.tickValues=function(aT){if(typeof aT==="function"){ax=function(){return aT(aS.domain())}}else{if(!arguments.length){return ax}ax=aT}return aB};return aB}G.isSafari=function(){var ax=ae.navigator.userAgent;return ax.indexOf("Safari")>=0&&ax.indexOf("Chrome")<0};G.isChrome=function(){var ax=ae.navigator.userAgent;return ax.indexOf("Chrome")>=0};if(!Function.prototype.bind){Function.prototype.bind=function(ax){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var aB=Array.prototype.slice.call(arguments,1),aA=this,ay=function(){},az=function(){return aA.apply(this instanceof ay?this:ax,aB.concat(Array.prototype.slice.call(arguments)))};ay.prototype=this.prototype;az.prototype=new ay();return az}}(function(){if(!("SVGPathSeg" in ae)){ae.SVGPathSeg=function(ay,az,ax){this.pathSegType=ay;this.pathSegTypeAsLetter=az;this._owningPathSegList=ax};SVGPathSeg.PATHSEG_UNKNOWN=0;SVGPathSeg.PATHSEG_CLOSEPATH=1;SVGPathSeg.PATHSEG_MOVETO_ABS=2;SVGPathSeg.PATHSEG_MOVETO_REL=3;SVGPathSeg.PATHSEG_LINETO_ABS=4;SVGPathSeg.PATHSEG_LINETO_REL=5;SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6;SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9;SVGPathSeg.PATHSEG_ARC_ABS=10;SVGPathSeg.PATHSEG_ARC_REL=11;SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12;SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13;SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14;SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15;SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16;SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19;SVGPathSeg.prototype._segmentChanged=function(){if(this._owningPathSegList){this._owningPathSegList.segmentChanged(this)}};ae.SVGPathSegClosePath=function(ax){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",ax)};SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"};SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter};SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(undefined)};ae.SVGPathSegMovetoAbs=function(ay,ax,az){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",ay);this._x=ax;this._y=az};SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"};SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegMovetoRel=function(ay,ax,az){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",ay);this._x=ax;this._y=az};SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"};SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegLinetoAbs=function(ay,ax,az){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",ay);this._x=ax;this._y=az};SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"};SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegLinetoRel=function(ay,ax,az){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",ay);this._x=ax;this._y=az};SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"};SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegCurvetoCubicAbs=function(aA,ax,aD,az,aC,ay,aB){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",aA);this._x=ax;this._y=aD;this._x1=az;this._y1=aC;this._x2=ay;this._y2=aB};SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"};SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(ax){this._x1=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(ax){this._y1=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(ax){this._x2=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(ax){this._y2=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegCurvetoCubicRel=function(aA,ax,aD,az,aC,ay,aB){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",aA);this._x=ax;this._y=aD;this._x1=az;this._y1=aC;this._x2=ay;this._y2=aB};SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"};SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(ax){this._x1=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(ax){this._y1=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(ax){this._x2=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(ax){this._y2=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegCurvetoQuadraticAbs=function(az,ax,aB,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",az);this._x=ax;this._y=aB;this._x1=ay;this._y1=aA};SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"};SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(ax){this._x1=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(ax){this._y1=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegCurvetoQuadraticRel=function(az,ax,aB,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",az);this._x=ax;this._y=aB;this._x1=ay;this._y1=aA};SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"};SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(ax){this._x1=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(ax){this._y1=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegArcAbs=function(aA,ax,aE,az,ay,aD,aC,aB){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",aA);this._x=ax;this._y=aE;this._r1=az;this._r2=ay;this._angle=aD;this._largeArcFlag=aC;this._sweepFlag=aB};SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"};SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(ax){this._r1=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(ax){this._r2=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(ax){this._angle=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(ax){this._largeArcFlag=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(ax){this._sweepFlag=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegArcRel=function(aA,ax,aE,az,ay,aD,aC,aB){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",aA);this._x=ax;this._y=aE;this._r1=az;this._r2=ay;this._angle=aD;this._largeArcFlag=aC;this._sweepFlag=aB};SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"};SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(ax){this._r1=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(ax){this._r2=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(ax){this._angle=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(ax){this._largeArcFlag=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(ax){this._sweepFlag=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegLinetoHorizontalAbs=function(ay,ax){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",ay);this._x=ax};SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"};SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(undefined,this._x)};Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegLinetoHorizontalRel=function(ay,ax){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",ay);this._x=ax};SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"};SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(undefined,this._x)};Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegLinetoVerticalAbs=function(ax,ay){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",ax);this._y=ay};SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"};SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(undefined,this._y)};Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegLinetoVerticalRel=function(ax,ay){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",ax);this._y=ay};SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"};SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(undefined,this._y)};Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegCurvetoCubicSmoothAbs=function(az,ax,aB,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",az);this._x=ax;this._y=aB;this._x2=ay;this._y2=aA};SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"};SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(ax){this._x2=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(ax){this._y2=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegCurvetoCubicSmoothRel=function(az,ax,aB,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",az);this._x=ax;this._y=aB;this._x2=ay;this._y2=aA};SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"};SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(ax){this._x2=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(ax){this._y2=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegCurvetoQuadraticSmoothAbs=function(ay,ax,az){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",ay);this._x=ax;this._y=az};SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"};SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});ae.SVGPathSegCurvetoQuadraticSmoothRel=function(ay,ax,az){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",ay);this._x=ax;this._y=az};SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"};SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(ax){this._x=ax;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(ax){this._y=ax;this._segmentChanged()},enumerable:true});SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(undefined)};SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(ax,ay){return new SVGPathSegMovetoAbs(undefined,ax,ay)};SVGPathElement.prototype.createSVGPathSegMovetoRel=function(ax,ay){return new SVGPathSegMovetoRel(undefined,ax,ay)};SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(ax,ay){return new SVGPathSegLinetoAbs(undefined,ax,ay)};SVGPathElement.prototype.createSVGPathSegLinetoRel=function(ax,ay){return new SVGPathSegLinetoRel(undefined,ax,ay)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(ax,aC,az,aB,ay,aA){return new SVGPathSegCurvetoCubicAbs(undefined,ax,aC,az,aB,ay,aA)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(ax,aC,az,aB,ay,aA){return new SVGPathSegCurvetoCubicRel(undefined,ax,aC,az,aB,ay,aA)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(ax,aA,ay,az){return new SVGPathSegCurvetoQuadraticAbs(undefined,ax,aA,ay,az)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(ax,aA,ay,az){return new SVGPathSegCurvetoQuadraticRel(undefined,ax,aA,ay,az)};SVGPathElement.prototype.createSVGPathSegArcAbs=function(ax,aD,az,ay,aC,aB,aA){return new SVGPathSegArcAbs(undefined,ax,aD,az,ay,aC,aB,aA)};SVGPathElement.prototype.createSVGPathSegArcRel=function(ax,aD,az,ay,aC,aB,aA){return new SVGPathSegArcRel(undefined,ax,aD,az,ay,aC,aB,aA)};SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(ax){return new SVGPathSegLinetoHorizontalAbs(undefined,ax)};SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(ax){return new SVGPathSegLinetoHorizontalRel(undefined,ax)};SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(ax){return new SVGPathSegLinetoVerticalAbs(undefined,ax)};SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(ax){return new SVGPathSegLinetoVerticalRel(undefined,ax)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(ax,aA,ay,az){return new SVGPathSegCurvetoCubicSmoothAbs(undefined,ax,aA,ay,az)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(ax,aA,ay,az){return new SVGPathSegCurvetoCubicSmoothRel(undefined,ax,aA,ay,az)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(ax,ay){return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined,ax,ay)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(ax,ay){return new SVGPathSegCurvetoQuadraticSmoothRel(undefined,ax,ay)}}if(!("SVGPathSegList" in ae)){ae.SVGPathSegList=function(ax){this._pathElement=ax;this._list=this._parsePath(this._pathElement.getAttribute("d"));this._mutationObserverConfig={attributes:true,attributeFilter:["d"]};this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){this._checkPathSynchronizedToList();return this._list.length},enumerable:true});Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){if(!this._pathSegList){this._pathSegList=new SVGPathSegList(this)}return this._pathSegList},enumerable:true});Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:true});Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:true});Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:true});SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())};SVGPathSegList.prototype._updateListFromPathMutations=function(ay){if(!this._pathElement){return}var ax=false;ay.forEach(function(az){if(az.attributeName=="d"){ax=true}});if(ax){this._list=this._parsePath(this._pathElement.getAttribute("d"))}};SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect();this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};SVGPathSegList.prototype.segmentChanged=function(ax){this._writeListToPath()};SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList();this._list.forEach(function(ax){ax._owningPathSegList=null});this._list=[];this._writeListToPath()};SVGPathSegList.prototype.initialize=function(ax){this._checkPathSynchronizedToList();this._list=[ax];ax._owningPathSegList=this;this._writeListToPath();return ax};SVGPathSegList.prototype._checkValidIndex=function(ax){if(isNaN(ax)||ax<0||ax>=this.numberOfItems){throw"INDEX_SIZE_ERR"}};SVGPathSegList.prototype.getItem=function(ax){this._checkPathSynchronizedToList();this._checkValidIndex(ax);return this._list[ax]};SVGPathSegList.prototype.insertItemBefore=function(ay,ax){this._checkPathSynchronizedToList();if(ax>this.numberOfItems){ax=this.numberOfItems}if(ay._owningPathSegList){ay=ay.clone()}this._list.splice(ax,0,ay);ay._owningPathSegList=this;this._writeListToPath();return ay};SVGPathSegList.prototype.replaceItem=function(ay,ax){this._checkPathSynchronizedToList();if(ay._owningPathSegList){ay=ay.clone()}this._checkValidIndex(ax);this._list[ax]=ay;ay._owningPathSegList=this;this._writeListToPath();return ay};SVGPathSegList.prototype.removeItem=function(ax){this._checkPathSynchronizedToList();this._checkValidIndex(ax);var ay=this._list[ax];this._list.splice(ax,1);this._writeListToPath();return ay};SVGPathSegList.prototype.appendItem=function(ax){this._checkPathSynchronizedToList();if(ax._owningPathSegList){ax=ax.clone()}this._list.push(ax);ax._owningPathSegList=this;this._writeListToPath();return ax};SVGPathSegList._pathSegArrayAsString=function(ay){var ax="";var az=true;ay.forEach(function(aA){if(az){az=false;ax+=aA._asPathString()}else{ax+=" "+aA._asPathString()}});return ax};SVGPathSegList.prototype._parsePath=function(az){if(!az||az.length==0){return[]}var ay=this;var aD=function(){this.pathSegList=[]};aD.prototype.appendSegment=function(aE){this.pathSegList.push(aE)};var aA=function(aE){this._string=aE;this._currentIndex=0;this._endIndex=this._string.length;this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN;this._skipOptionalSpaces()};aA.prototype._isCurrentSpace=function(){var aE=this._string[this._currentIndex];return aE<=" "&&(aE==" "||aE=="\n"||aE=="\t"||aE=="\r"||aE=="\f")};aA.prototype._skipOptionalSpaces=function(){while(this._currentIndex<this._endIndex&&this._isCurrentSpace()){this._currentIndex++}return this._currentIndex<this._endIndex};aA.prototype._skipOptionalSpacesOrDelimiter=function(){if(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","){return false}if(this._skipOptionalSpaces()){if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","){this._currentIndex++;this._skipOptionalSpaces()}}return this._currentIndex<this._endIndex};aA.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex};aA.prototype.peekSegmentType=function(){var aE=this._string[this._currentIndex];return this._pathSegTypeFromChar(aE)};aA.prototype._pathSegTypeFromChar=function(aE){switch(aE){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}};aA.prototype._nextCommandHelper=function(aE,aF){if((aE=="+"||aE=="-"||aE=="."||(aE>="0"&&aE<="9"))&&aF!=SVGPathSeg.PATHSEG_CLOSEPATH){if(aF==SVGPathSeg.PATHSEG_MOVETO_ABS){return SVGPathSeg.PATHSEG_LINETO_ABS}if(aF==SVGPathSeg.PATHSEG_MOVETO_REL){return SVGPathSeg.PATHSEG_LINETO_REL}return aF}return SVGPathSeg.PATHSEG_UNKNOWN};aA.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData()){return true}var aE=this.peekSegmentType();return aE==SVGPathSeg.PATHSEG_MOVETO_ABS||aE==SVGPathSeg.PATHSEG_MOVETO_REL};aA.prototype._parseNumber=function(){var aM=0;var aK=0;var aF=1;var aJ=0;var aG=1;var aE=1;var aN=this._currentIndex;this._skipOptionalSpaces();if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"){this._currentIndex++}else{if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;aG=-1}}if(this._currentIndex==this._endIndex||((this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){return undefined}var aL=this._currentIndex;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){this._currentIndex++}if(this._currentIndex!=aL){var aI=this._currentIndex-1;var aO=1;while(aI>=aL){aK+=aO*(this._string.charAt(aI--)-"0");aO*=10}}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){this._currentIndex++;if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9"){return undefined}while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){aJ+=(this._string.charAt(this._currentIndex++)-"0")*(aF*=0.1)}}if(this._currentIndex!=aN&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&(this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m")){this._currentIndex++;if(this._string.charAt(this._currentIndex)=="+"){this._currentIndex++}else{if(this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;aE=-1}}if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9"){return undefined}while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){aM*=10;aM+=(this._string.charAt(this._currentIndex)-"0");this._currentIndex++}}var aH=aK+aJ;aH*=aG;if(aM){aH*=Math.pow(10,aE*aM)}if(aN==this._currentIndex){return undefined}this._skipOptionalSpacesOrDelimiter();return aH};aA.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex){return undefined}var aE=false;var aF=this._string.charAt(this._currentIndex++);if(aF=="0"){aE=false}else{if(aF=="1"){aE=true}else{return undefined}}this._skipOptionalSpacesOrDelimiter();return aE};aA.prototype.parseSegment=function(){var aF=this._string[this._currentIndex];var aG=this._pathSegTypeFromChar(aF);if(aG==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN){return null}aG=this._nextCommandHelper(aF,this._previousCommand);if(aG==SVGPathSeg.PATHSEG_UNKNOWN){return null}}else{this._currentIndex++}this._previousCommand=aG;switch(aG){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(ay,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(ay,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(ay,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(ay,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(ay,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(ay,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(ay,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(ay,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:this._skipOptionalSpaces();return new SVGPathSegClosePath(ay);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var aE={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(ay,aE.x,aE.y,aE.x1,aE.y1,aE.x2,aE.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var aE={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(ay,aE.x,aE.y,aE.x1,aE.y1,aE.x2,aE.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var aE={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(ay,aE.x,aE.y,aE.x2,aE.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var aE={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(ay,aE.x,aE.y,aE.x2,aE.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var aE={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(ay,aE.x,aE.y,aE.x1,aE.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var aE={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(ay,aE.x,aE.y,aE.x1,aE.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(ay,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(ay,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var aE={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(ay,aE.x,aE.y,aE.x1,aE.y1,aE.arcAngle,aE.arcLarge,aE.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var aE={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(ay,aE.x,aE.y,aE.x1,aE.y1,aE.arcAngle,aE.arcLarge,aE.arcSweep);default:throw"Unknown path seg type."}};var ax=new aD();var aB=new aA(az);if(!aB.initialCommandIsMoveTo()){return[]}while(aB.hasMoreData()){var aC=aB.parseSegment();if(!aC){return[]}ax.appendSegment(aC)}return ax.pathSegList}}}());if(typeof define==="function"&&define.amd){define("c3",["d3"],function(){return n})}else{if("undefined"!==typeof a&&"undefined"!==typeof c){c.exports=n}else{ae.c3=n}}})(window)},{d3:30}],30:[function(b,c,a){!function(){var hn={version:"3.5.17"};var bO=[].slice,dO=function(d3){return bO.call(d3)};var bN=this.document;function d7(d3){return d3&&(d3.ownerDocument||d3.document||d3).documentElement}function fx(d3){return d3&&(d3.ownerDocument&&d3.ownerDocument.defaultView||d3.document&&d3||d3.defaultView)}if(bN){try{dO(bN.documentElement.childNodes)[0].nodeType}catch(hc){dO=function(ib){var d3=ib.length,ic=new Array(d3);while(d3--){ic[d3]=ib[d3]}return ic}}}if(!Date.now){Date.now=function(){return +new Date()}}if(bN){try{bN.createElement("DIV").style.setProperty("opacity",0,"")}catch(fv){var dM=this.Element.prototype,b2=dM.setAttribute,g5=dM.setAttributeNS,dA=this.CSSStyleDeclaration.prototype,gN=dA.setProperty;dM.setAttribute=function(d3,ib){b2.call(this,d3,ib+"")};dM.setAttributeNS=function(ic,d3,ib){g5.call(this,ic,d3,ib+"")};dA.setProperty=function(d3,ic,ib){gN.call(this,d3,ic+"",ib)}}}hn.ascending=fh;function fh(ib,d3){return ib<d3?-1:ib>d3?1:ib>=d3?0:NaN}hn.descending=function(ib,d3){return d3<ib?-1:d3>ib?1:d3>=ib?0:NaN};hn.min=function(ig,id){var ic=-1,ie=ig.length,ib,d3;if(arguments.length===1){while(++ic<ie){if((d3=ig[ic])!=null&&d3>=d3){ib=d3;break}}while(++ic<ie){if((d3=ig[ic])!=null&&ib>d3){ib=d3}}}else{while(++ic<ie){if((d3=id.call(ig,ig[ic],ic))!=null&&d3>=d3){ib=d3;break}}while(++ic<ie){if((d3=id.call(ig,ig[ic],ic))!=null&&ib>d3){ib=d3}}}return ib};hn.max=function(ig,id){var ic=-1,ie=ig.length,ib,d3;if(arguments.length===1){while(++ic<ie){if((d3=ig[ic])!=null&&d3>=d3){ib=d3;break}}while(++ic<ie){if((d3=ig[ic])!=null&&d3>ib){ib=d3}}}else{while(++ic<ie){if((d3=id.call(ig,ig[ic],ic))!=null&&d3>=d3){ib=d3;break}}while(++ic<ie){if((d3=id.call(ig,ig[ic],ic))!=null&&d3>ib){ib=d3}}}return ib};hn.extent=function(ih,id){var ic=-1,ig=ih.length,ib,d3,ie;if(arguments.length===1){while(++ic<ig){if((d3=ih[ic])!=null&&d3>=d3){ib=ie=d3;break}}while(++ic<ig){if((d3=ih[ic])!=null){if(ib>d3){ib=d3}if(ie<d3){ie=d3}}}}else{while(++ic<ig){if((d3=id.call(ih,ih[ic],ic))!=null&&d3>=d3){ib=ie=d3;break}}while(++ic<ig){if((d3=id.call(ih,ih[ic],ic))!=null){if(ib>d3){ib=d3}if(ie<d3){ie=d3}}}}return[ib,ie]};function hs(d3){return d3===null?NaN:+d3}function bb(d3){return !isNaN(d3)}hn.sum=function(ig,id){var ic=0,ie=ig.length,d3,ib=-1;if(arguments.length===1){while(++ib<ie){if(bb(d3=+ig[ib])){ic+=d3}}}else{while(++ib<ie){if(bb(d3=+id.call(ig,ig[ib],ib))){ic+=d3}}}return ic};hn.mean=function(ih,ie){var id=0,ig=ih.length,d3,ic=-1,ib=ig;if(arguments.length===1){while(++ic<ig){if(bb(d3=hs(ih[ic]))){id+=d3}else{--ib}}}else{while(++ic<ig){if(bb(d3=hs(ie.call(ih,ih[ic],ic)))){id+=d3}else{--ib}}}if(ib){return id/ib}};hn.quantile=function(ib,ig){var ic=(ib.length-1)*ig+1,id=Math.floor(ic),d3=+ib[id-1],ie=ic-id;return ie?d3+ie*(ib[id]-d3):d3};hn.median=function(ig,id){var ib=[],ie=ig.length,d3,ic=-1;if(arguments.length===1){while(++ic<ie){if(bb(d3=hs(ig[ic]))){ib.push(d3)}}}else{while(++ic<ie){if(bb(d3=hs(id.call(ig,ig[ic],ic)))){ib.push(d3)}}}if(ib.length){return hn.quantile(ib.sort(fh),0.5)}};hn.variance=function(ig,ie){var d3=ig.length,ib=0,ii,ih,ij=0,id=-1,ic=0;if(arguments.length===1){while(++id<d3){if(bb(ii=hs(ig[id]))){ih=ii-ib;ib+=ih/++ic;ij+=ih*(ii-ib)}}}else{while(++id<d3){if(bb(ii=hs(ie.call(ig,ig[id],id)))){ih=ii-ib;ib+=ih/++ic;ij+=ih*(ii-ib)}}}if(ic>1){return ij/(ic-1)}};hn.deviation=function(){var d3=hn.variance.apply(this,arguments);return d3?Math.sqrt(d3):d3};function gn(d3){return{left:function(ic,ib,ig,ie){if(arguments.length<3){ig=0}if(arguments.length<4){ie=ic.length}while(ig<ie){var id=ig+ie>>>1;if(d3(ic[id],ib)<0){ig=id+1}else{ie=id}}return ig},right:function(ic,ib,ig,ie){if(arguments.length<3){ig=0}if(arguments.length<4){ie=ic.length}while(ig<ie){var id=ig+ie>>>1;if(d3(ic[id],ib)>0){ie=id}else{ig=id+1}}return ig}}}var cZ=gn(fh);hn.bisectLeft=cZ.left;hn.bisect=hn.bisectRight=cZ.right;hn.bisector=function(d3){return gn(d3.length===1?function(ic,ib){return fh(d3(ic),ib)}:d3)};hn.shuffle=function(ig,ie,id){if((d3=arguments.length)<3){id=ig.length;if(d3<2){ie=0}}var d3=id-ie,ic,ib;while(d3){ib=Math.random()*d3--|0;ic=ig[d3+ie],ig[d3+ie]=ig[ib+ie],ig[ib+ie]=ic}return ig};hn.permute=function(id,ib){var ic=ib.length,d3=new Array(ic);while(ic--){d3[ic]=id[ib[ic]]}return d3};hn.pairs=function(ig){var d3=0,ie=ig.length-1,id,ic=ig[0],ib=new Array(ie<0?0:ie);while(d3<ie){ib[d3]=[id=ic,ic=ig[++d3]]}return ib};hn.transpose=function(ib){if(!(ih=ib.length)){return[]}for(var id=-1,d3=hn.min(ib,bT),ie=new Array(d3);++id<d3;){for(var ic=-1,ih,ig=ie[id]=new Array(ih);++ic<ih;){ig[ic]=ib[ic][id]}}return ie};function bT(d3){return d3.length}hn.zip=function(){return hn.transpose(arguments)};hn.keys=function(ic){var ib=[];for(var d3 in ic){ib.push(d3)}return ib};hn.values=function(ic){var d3=[];for(var ib in ic){d3.push(ic[ib])}return d3};hn.entries=function(ic){var d3=[];for(var ib in ic){d3.push({key:ib,value:ic[ib]})}return d3};hn.merge=function(ie){var ih=ie.length,ib,id=-1,ic=0,d3,ig;while(++id<ih){ic+=ie[id].length}d3=new Array(ic);while(--ih>=0){ig=ie[ih];ib=ig.length;while(--ib>=0){d3[--ic]=ig[ib]}}return d3};var cG=Math.abs;hn.range=function(ih,ie,ig){if(arguments.length<3){ig=1;if(arguments.length<2){ie=ih;ih=0}}if((ie-ih)/ig===Infinity){throw new Error("infinite range")}var ib=[],d3=gj(cG(ig)),id=-1,ic;ih*=d3,ie*=d3,ig*=d3;if(ig<0){while((ic=ih+ig*++id)>ie){ib.push(ic/d3)}}else{while((ic=ih+ig*++id)<ie){ib.push(ic/d3)}}return ib};function gj(d3){var ib=1;while(d3*ib%1){ib*=10}return ib}function h3(ic,ib){for(var d3 in ib){Object.defineProperty(ic.prototype,d3,{value:ib[d3],enumerable:false})}}hn.map=function(d3,id){var ie=new aH();if(d3 instanceof aH){d3.forEach(function(ii,ij){ie.set(ii,ij)})}else{if(Array.isArray(d3)){var ic=-1,ih=d3.length,ig;if(arguments.length===1){while(++ic<ih){ie.set(ic,d3[ic])}}else{while(++ic<ih){ie.set(id.call(d3,ig=d3[ic],ic),ig)}}}else{for(var ib in d3){ie.set(ib,d3[ib])}}}return ie};function aH(){this._=Object.create(null)}var db="__proto__",cF="\x00";h3(aH,{has:gH,get:function(d3){return this._[a0(d3)]},set:function(d3,ib){return this._[a0(d3)]=ib},remove:cW,keys:fu,values:function(){var d3=[];for(var ib in this._){d3.push(this._[ib])}return d3},entries:function(){var d3=[];for(var ib in this._){d3.push({key:a1(ib),value:this._[ib]})}return d3},size:hF,empty:az,forEach:function(ib){for(var d3 in this._){ib.call(this,a1(d3),this._[d3])}}});function a0(d3){return(d3+="")===db||d3[0]===cF?cF+d3:d3}function a1(d3){return(d3+="")[0]===cF?d3.slice(1):d3}function gH(d3){return a0(d3) in this._}function cW(d3){return(d3=a0(d3)) in this._&&delete this._[d3]}function fu(){var ib=[];for(var d3 in this._){ib.push(a1(d3))}return ib}function hF(){var ib=0;for(var d3 in this._){++ib}return ib}function az(){for(var d3 in this._){return false}return true}hn.nest=function(){var id={},ic=[],ih=[],ib,ie;function ig(ij,ir,ip){if(ip>=ic.length){return ie?ie.call(id,ir):ib?ir.sort(ib):ir}var iq=-1,ii=ir.length,iu=ic[ip++],io,im,il,ik=new aH(),it;while(++iq<ii){if(it=ik.get(io=iu(im=ir[iq]))){it.push(im)}else{ik.set(io,[im])}}if(ij){im=ij();il=function(iw,iv){im.set(iw,ig(ij,iv,ip))}}else{im={};il=function(iw,iv){im[iw]=ig(ij,iv,ip)}}ik.forEach(il);return im}function d3(ij,ik){if(ik>=ic.length){return ij}var il=[],ii=ih[ik++];ij.forEach(function(im,io){il.push({key:im,values:d3(io,ik)})});return ii?il.sort(function(io,im){return ii(io.key,im.key)}):il}id.map=function(ij,ii){return ig(ii,ij,0)};id.entries=function(ii){return d3(ig(hn.map,ii,0),0)};id.key=function(ii){ic.push(ii);return id};id.sortKeys=function(ii){ih[ic.length-1]=ii;return id};id.sortValues=function(ii){ib=ii;return id};id.rollup=function(ii){ie=ii;return id};return id};hn.set=function(id){var ic=new dr();if(id){for(var d3=0,ib=id.length;d3<ib;++d3){ic.add(id[d3])}}return ic};function dr(){this._=Object.create(null)}h3(dr,{has:gH,add:function(d3){this._[a0(d3+="")]=true;return d3},remove:cW,values:fu,size:hF,empty:az,forEach:function(ib){for(var d3 in this._){ib.call(this,a1(d3))}}});hn.behavior={};function gk(d3){return d3}hn.rebind=function(ic,ib){var d3=1,ie=arguments.length,id;while(++d3<ie){ic[id=arguments[d3]]=ez(ic,ib,ib[id])}return ic};function ez(ib,d3,ic){return function(){var id=ic.apply(d3,arguments);return id===d3?ib:id}}function dg(ic,ib){if(ib in ic){return ib}ib=ib.charAt(0).toUpperCase()+ib.slice(1);for(var id=0,ie=J.length;id<ie;++id){var d3=J[id]+ib;if(d3 in ic){return d3}}}var J=["webkit","ms","moz","Moz","o","O"];function aG(){}hn.dispatch=function(){var d3=new eU(),ib=-1,ic=arguments.length;while(++ib<ic){d3[arguments[ib]]=ff(d3)}return d3};function eU(){}eU.prototype.on=function(ic,id){var ib=ic.indexOf("."),d3="";if(ib>=0){d3=ic.slice(ib+1);ic=ic.slice(0,ib)}if(ic){return arguments.length<2?this[ic].on(d3):this[ic].on(d3,id)}if(arguments.length===2){if(id==null){for(ic in this){if(this.hasOwnProperty(ic)){this[ic].on(d3,null)}}}return this}};function ff(d3){var ic=[],ib=new aH();function id(){var ih=ic,ig=-1,ii=ih.length,ie;while(++ig<ii){if(ie=ih[ig].on){ie.apply(this,arguments)}}return d3}id.on=function(ig,ii){var ie=ib.get(ig),ih;if(arguments.length<2){return ie&&ie.on}if(ie){ie.on=null;ic=ic.slice(0,ih=ic.indexOf(ie)).concat(ic.slice(ih+1));ib.remove(ig)}if(ii){ic.push(ib.set(ig,{on:ii}))}return d3};return id}hn.event=null;function v(){hn.event.preventDefault()}function ad(){var ib=hn.event,d3;while(d3=ib.sourceEvent){ib=d3}return ib}function hh(ic){var d3=new eU(),ib=0,id=arguments.length;while(++ib<id){d3[arguments[ib]]=ff(d3)}d3.of=function(ig,ie){return function(ih){try{var ii=ih.sourceEvent=hn.event;ih.target=ic;hn.event=ih;d3[ih.type].apply(ig,ie)}finally{hn.event=ii}}};return d3}hn.requote=function(d3){return d3.replace(c8,"\\$&")};var c8=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var h5={}.__proto__?function(ib,d3){ib.__proto__=d3}:function(ib,d3){for(var ic in d3){ib[ic]=d3[ic]}};function dZ(d3){h5(d3,dY);return d3}var dq=function(d3,ib){return ib.querySelector(d3)},f6=function(d3,ib){return ib.querySelectorAll(d3)},d=function(ic,d3){var ib=ic.matches||ic[dg(ic,"matchesSelector")];d=function(ie,id){return ib.call(ie,id)};return d(ic,d3)};if(typeof Sizzle==="function"){dq=function(d3,ib){return Sizzle(d3,ib)[0]||null};f6=Sizzle;d=Sizzle.matchesSelector}hn.selection=function(){return hn.select(bN.documentElement)};var dY=hn.selection.prototype=[];dY.select=function(ig){var ic=[],ik,d3,ij,id;ig=y(ig);for(var ih=-1,ie=this.length;++ih<ie;){ic.push(ik=[]);ik.parentNode=(ij=this[ih]).parentNode;for(var ii=-1,ib=ij.length;++ii<ib;){if(id=ij[ii]){ik.push(d3=ig.call(id,id.__data__,ii,ih));if(d3&&"__data__" in id){d3.__data__=id.__data__}}else{ik.push(null)}}}return dZ(ic)};function y(d3){return typeof d3==="function"?d3:function(){return dq(d3,this)}}dY.selectAll=function(ie){var ib=[],ij,ic;ie=c1(ie);for(var ig=-1,id=this.length;++ig<id;){for(var ii=this[ig],ih=-1,d3=ii.length;++ih<d3;){if(ic=ii[ih]){ib.push(ij=dO(ie.call(ic,ic.__data__,ih,ig)));ij.parentNode=ic}}}return dZ(ib)};function c1(d3){return typeof d3==="function"?d3:function(){return f6(d3,this)}}var fQ="http://www.w3.org/1999/xhtml";var ed={svg:"http://www.w3.org/2000/svg",xhtml:fQ,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};hn.ns={prefix:ed,qualify:function(d3){var ib=d3.indexOf(":"),ic=d3;if(ib>=0&&(ic=d3.slice(0,ib))!=="xmlns"){d3=d3.slice(ib+1)}return ed.hasOwnProperty(ic)?{space:ed[ic],local:d3}:d3}};dY.attr=function(d3,ic){if(arguments.length<2){if(typeof d3==="string"){var ib=this.node();d3=hn.ns.qualify(d3);return d3.local?ib.getAttributeNS(d3.space,d3.local):ib.getAttribute(d3)}for(ic in d3){this.each(bu(ic,d3[ic]))}return this}return this.each(bu(d3,ic))};function bu(ic,ih){ic=hn.ns.qualify(ic);function ib(){this.removeAttribute(ic)}function ii(){this.removeAttributeNS(ic.space,ic.local)}function ig(){this.setAttribute(ic,ih)}function ie(){this.setAttributeNS(ic.space,ic.local,ih)}function d3(){var ij=ih.apply(this,arguments);if(ij==null){this.removeAttribute(ic)}else{this.setAttribute(ic,ij)}}function id(){var ij=ih.apply(this,arguments);if(ij==null){this.removeAttributeNS(ic.space,ic.local)}else{this.setAttributeNS(ic.space,ic.local,ij)}}return ih==null?ic.local?ii:ib:typeof ih==="function"?ic.local?id:d3:ic.local?ie:ig}function cH(d3){return d3.trim().replace(/\s+/g," ")}dY.classed=function(d3,id){if(arguments.length<2){if(typeof d3==="string"){var ic=this.node(),ie=(d3=gu(d3)).length,ib=-1;if(id=ic.classList){while(++ib<ie){if(!id.contains(d3[ib])){return false}}}else{id=ic.getAttribute("class");while(++ib<ie){if(!gP(d3[ib]).test(id)){return false}}}return true}for(id in d3){this.each(gD(id,d3[id]))}return this}return this.each(gD(d3,id))};function gP(d3){return new RegExp("(?:^|\\s+)"+hn.requote(d3)+"(?:\\s+|$)","g")}function gu(d3){return(d3+"").trim().split(/^|\s+/)}function gD(ib,id){ib=gu(ib).map(h1);var ie=ib.length;function d3(){var ig=-1;while(++ig<ie){ib[ig](this,id)}}function ic(){var ih=-1,ig=id.apply(this,arguments);while(++ih<ie){ib[ih](this,ig)}}return typeof id==="function"?ic:d3}function h1(d3){var ib=gP(d3);return function(ic,id){if(ie=ic.classList){return id?ie.add(d3):ie.remove(d3)}var ie=ic.getAttribute("class")||"";if(id){ib.lastIndex=0;if(!ib.test(ie)){ic.setAttribute("class",cH(ie+" "+d3))}}else{ic.setAttribute("class",cH(ie.replace(ib," ")))}}}dY.style=function(d3,id,ib){var ie=arguments.length;if(ie<3){if(typeof d3!=="string"){if(ie<2){id=""}for(ib in d3){this.each(fK(ib,d3[ib],id))}return this}if(ie<2){var ic=this.node();return fx(ic).getComputedStyle(ic,null).getPropertyValue(d3)}ib=""}return this.each(fK(d3,id,ib))};function fK(ic,ig,id){function ib(){this.style.removeProperty(ic)}function ie(){this.style.setProperty(ic,ig,id)}function d3(){var ih=ig.apply(this,arguments);if(ih==null){this.style.removeProperty(ic)}else{this.style.setProperty(ic,ih,id)}}return ig==null?ib:typeof ig==="function"?d3:ie}dY.property=function(d3,ib){if(arguments.length<2){if(typeof d3==="string"){return this.node()[d3]}for(ib in d3){this.each(hH(ib,d3[ib]))}return this}return this.each(hH(d3,ib))};function hH(ib,id){function d3(){delete this[ib]}function ic(){this[ib]=id}function ie(){var ig=id.apply(this,arguments);if(ig==null){delete this[ib]}else{this[ib]=ig}}return id==null?d3:typeof id==="function"?ie:ic}dY.text=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var ib=d3.apply(this,arguments);this.textContent=ib==null?"":ib}:d3==null?function(){this.textContent=""}:function(){this.textContent=d3}):this.node().textContent};dY.html=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var ib=d3.apply(this,arguments);this.innerHTML=ib==null?"":ib}:d3==null?function(){this.innerHTML=""}:function(){this.innerHTML=d3}):this.node().innerHTML};dY.append=function(d3){d3=aC(d3);return this.select(function(){return this.appendChild(d3.apply(this,arguments))})};function aC(d3){function ib(){var id=this.ownerDocument,ie=this.namespaceURI;return ie===fQ&&id.documentElement.namespaceURI===fQ?id.createElement(d3):id.createElementNS(ie,d3)}function ic(){return this.ownerDocument.createElementNS(d3.space,d3.local)}return typeof d3==="function"?d3:(d3=hn.ns.qualify(d3)).local?ic:ib}dY.insert=function(d3,ib){d3=aC(d3);ib=y(ib);return this.select(function(){return this.insertBefore(d3.apply(this,arguments),ib.apply(this,arguments)||null)})};dY.remove=function(){return this.each(ej)};function ej(){var d3=this.parentNode;if(d3){d3.removeChild(this)}}dY.data=function(ii,ik){var ie=-1,ib=this.length,ij,ic;if(!arguments.length){ii=new Array(ib=(ij=this[0]).length);while(++ie<ib){if(ic=ij[ie]){ii[ie]=ic.__data__}}return ii}function ig(iw,iq){var it,im=iw.length,ip=iq.length,iv=Math.min(im,ip),iz=new Array(ip),ix=new Array(ip),iu=new Array(im),io,il;if(ik){var iA=new aH(),iy=new Array(im),ir;for(it=-1;++it<im;){if(io=iw[it]){if(iA.has(ir=ik.call(io,io.__data__,it))){iu[it]=io}else{iA.set(ir,io)}iy[it]=ir}}for(it=-1;++it<ip;){if(!(io=iA.get(ir=ik.call(iq,il=iq[it],it)))){ix[it]=K(il)}else{if(io!==true){iz[it]=io;io.__data__=il}}iA.set(ir,true)}for(it=-1;++it<im;){if(it in iy&&iA.get(iy[it])!==true){iu[it]=iw[it]}}}else{for(it=-1;++it<iv;){io=iw[it];il=iq[it];if(io){io.__data__=il;iz[it]=io}else{ix[it]=K(il)}}for(;it<ip;++it){ix[it]=K(iq[it])}for(;it<im;++it){iu[it]=iw[it]}}ix.update=iz;ix.parentNode=iz.parentNode=iu.parentNode=iw.parentNode;ih.push(ix);id.push(iz);d3.push(iu)}var ih=bV([]),id=dZ([]),d3=dZ([]);if(typeof ii==="function"){while(++ie<ib){ig(ij=this[ie],ii.call(ij,ij.parentNode.__data__,ie))}}else{while(++ie<ib){ig(ij=this[ie],ii)}}id.enter=function(){return ih};id.exit=function(){return d3};return id};function K(d3){return{__data__:d3}}dY.datum=function(d3){return arguments.length?this.property("__data__",d3):this.property("__data__")};dY.filter=function(d3){var ic=[],ij,ii,id;if(typeof d3!=="function"){d3=a8(d3)}for(var ig=0,ie=this.length;ig<ie;ig++){ic.push(ij=[]);ij.parentNode=(ii=this[ig]).parentNode;for(var ih=0,ib=ii.length;ih<ib;ih++){if((id=ii[ih])&&d3.call(id,id.__data__,ih,ig)){ij.push(id)}}}return dZ(ic)};function a8(d3){return function(){return d(this,d3)}}dY.order=function(){for(var ib=-1,d3=this.length;++ib<d3;){for(var ig=this[ib],ic=ig.length-1,id=ig[ic],ie;--ic>=0;){if(ie=ig[ic]){if(id&&id!==ie.nextSibling){id.parentNode.insertBefore(ie,id)}id=ie}}}return this};dY.sort=function(ib){ib=gM.apply(this,arguments);for(var ic=-1,d3=this.length;++ic<d3;){this[ic].sort(ib)}return this.order()};function gM(d3){if(!arguments.length){d3=fh}return function(ic,ib){return ic&&ib?d3(ic.__data__,ib.__data__):!ic-!ib}}dY.each=function(d3){return cI(this,function(id,ic,ib){d3.call(id,id.__data__,ic,ib)})};function cI(ib,ii){for(var ic=0,d3=ib.length;ic<d3;ic++){for(var ig=ib[ic],id=0,ih=ig.length,ie;id<ih;id++){if(ie=ig[id]){ii(ie,id,ic)}}}return ib}dY.call=function(ib){var d3=dO(arguments);ib.apply(d3[0]=this,d3);return this};dY.empty=function(){return !this.node()};dY.node=function(){for(var ib=0,d3=this.length;ib<d3;ib++){for(var ie=this[ib],ic=0,ig=ie.length;ic<ig;ic++){var id=ie[ic];if(id){return id}}}return null};dY.size=function(){var d3=0;cI(this,function(){++d3});return d3};function bV(d3){h5(d3,e3);return d3}var e3=[];hn.selection.enter=bV;hn.selection.enter.prototype=e3;e3.append=dY.append;e3.empty=dY.empty;e3.node=dY.node;e3.call=dY.call;e3.size=dY.size;e3.select=function(ig){var ic=[],il,d3,ij,ik,ie;for(var ih=-1,id=this.length;++ih<id;){ij=(ik=this[ih]).update;ic.push(il=[]);il.parentNode=ik.parentNode;for(var ii=-1,ib=ik.length;++ii<ib;){if(ie=ik[ii]){il.push(ij[ii]=d3=ig.call(ik.parentNode,ie.__data__,ii,ih));d3.__data__=ie.__data__}else{il.push(null)}}}return dZ(ic)};e3.insert=function(d3,ib){if(arguments.length<2){ib=gt(this)}return dY.insert.call(this,d3,ib)};function gt(ic){var d3,ib;return function(ii,ie,id){var ih=ic[id].update,ij=ih.length,ig;if(id!=ib){ib=id,d3=0}if(ie>=d3){d3=ie+1}while(!(ig=ih[d3])&&++d3<ij){}return ig}}hn.select=function(d3){var ib;if(typeof d3==="string"){ib=[dq(d3,bN)];ib.parentNode=bN.documentElement}else{ib=[d3];ib.parentNode=d7(d3)}return dZ([ib])};hn.selectAll=function(d3){var ib;if(typeof d3==="string"){ib=dO(f6(d3,bN));ib.parentNode=bN.documentElement}else{ib=dO(d3);ib.parentNode=null}return dZ([ib])};dY.on=function(ib,ic,d3){var id=arguments.length;if(id<3){if(typeof ib!=="string"){if(id<2){ic=false}for(d3 in ib){this.each(l(d3,ib[d3],ic))}return this}if(id<2){return(id=this.node()["__on"+ib])&&id._}d3=false}return this.each(l(ib,ic,d3))};function l(ij,id,ik){var d3="__on"+ij,ig=ij.indexOf("."),ib=fp;if(ig>0){ij=ij.slice(0,ig)}var ic=bJ.get(ij);if(ic){ij=ic,ib=ao}function ie(){var il=this[d3];if(il){this.removeEventListener(ij,il,il.$);delete this[d3]}}function ii(){var il=ib(id,dO(arguments));ie.call(this);this.addEventListener(ij,this[d3]=il,il.$=ik);il._=id}function ih(){var ip=new RegExp("^__on([^.]+)"+hn.requote(ij)+"$"),io;for(var im in this){if(io=im.match(ip)){var il=this[im];this.removeEventListener(io[1],il,il.$);delete this[im]}}}return ig?id?ii:ie:id?aG:ih}var bJ=hn.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(bN){bJ.forEach(function(d3){if("on"+d3 in bN){bJ.remove(d3)}})}function fp(ib,d3){return function(ic){var id=hn.event;hn.event=ic;d3[0]=this.__data__;try{ib.apply(this,d3)}finally{hn.event=id}}}function ao(ic,d3){var ib=fp(ic,d3);return function(ig){var ie=this,id=ig.relatedTarget;if(!id||id!==ie&&!(id.compareDocumentPosition(ie)&8)){ib.call(ie,ig)}}}var cc,gJ=0;function bK(ig){var ic=".dragsuppress-"+ ++gJ,ie="click"+ic,ib=hn.select(fx(ig)).on("touchmove"+ic,v).on("dragstart"+ic,v).on("selectstart"+ic,v);if(cc==null){cc="onselectstart" in ig?false:dg(ig.style,"userSelect")}if(cc){var id=d7(ig).style,d3=id[cc];id[cc]="none"}return function(ih){ib.on(ic,null);if(cc){id[cc]=d3}if(ih){var ii=function(){ib.on(ie,null)};ib.on(ie,function(){v();ii()},true);setTimeout(ii,0)}}}hn.mouse=function(d3){return aX(d3,ad())};var cD=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function aX(ic,ih){if(ih.changedTouches){ih=ih.changedTouches[0]}var id=ic.ownerSVGElement||ic;if(id.createSVGPoint){var d3=id.createSVGPoint();if(cD<0){var ig=fx(ic);if(ig.scrollX||ig.scrollY){id=hn.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ib=id[0][0].getScreenCTM();cD=!(ib.f||ib.e);id.remove()}}if(cD){d3.x=ih.pageX,d3.y=ih.pageY}else{d3.x=ih.clientX,d3.y=ih.clientY}d3=d3.matrixTransform(ic.getScreenCTM().inverse());return[d3.x,d3.y]}var ie=ic.getBoundingClientRect();return[ih.clientX-ie.left-ic.clientLeft,ih.clientY-ie.top-ic.clientTop]}hn.touch=function(d3,id,ib){if(arguments.length<3){ib=id,id=ad().changedTouches}if(id){for(var ic=0,ig=id.length,ie;ic<ig;++ic){if((ie=id[ic]).identifier===ib){return aX(d3,ie)}}}};hn.behavior.drag=function(){var ie=hh(id,"drag","dragstart","dragend"),d3=null,ib=ic(aG,hn.mouse,fx,"mousemove","mouseup"),ig=ic(hl,hn.touch,gk,"touchmove","touchend");function id(){this.on("mousedown.drag",ib).on("touchstart.drag",ig)}function ic(il,ih,ik,ij,ii){return function(){var iu=this,iv=hn.event.target.correspondingElement||hn.event.target,iA=iu.parentNode,iw=ie.of(iu,arguments),iy=0,io=il(),im=".drag"+(io==null?"":"-"+io),ir,ip=hn.select(ik(iv)).on(ij+im,ix).on(ii+im,iz),it=bK(iv),iq=ih(iA,io);if(d3){ir=d3.apply(iu,arguments);ir=[ir.x-iq[0],ir.y-iq[1]]}else{ir=[0,0]}iw({type:"dragstart"});function ix(){var iC=ih(iA,io),iD,iB;if(!iC){return}iD=iC[0]-iq[0];iB=iC[1]-iq[1];iy|=iD|iB;iq=iC;iw({type:"drag",x:iC[0]+ir[0],y:iC[1]+ir[1],dx:iD,dy:iB})}function iz(){if(!ih(iA,io)){return}ip.on(ij+im,null).on(ii+im,null);it(iy);iw({type:"dragend"})}}}id.origin=function(ih){if(!arguments.length){return d3}d3=ih;return id};return hn.rebind(id,ie,"on")};function hl(){return hn.event.changedTouches[0].identifier}hn.touches=function(d3,ib){if(arguments.length<2){ib=ad().touches}return ib?dO(ib).map(function(id){var ic=aX(d3,id);ic.identifier=id.identifier;return ic}):[]};var gm=0.000001,eD=gm*gm,gd=Math.PI,f7=2*gd,gE=f7-gm,ep=gd/2,I=gd/180,hE=180/gd;function b9(d3){return d3>0?1:d3<0?-1:0}function eZ(ib,d3,ic){return(d3[0]-ib[0])*(ic[1]-ib[1])-(d3[1]-ib[1])*(ic[0]-ib[0])}function ac(d3){return d3>1?0:d3<-1?gd:Math.acos(d3)}function cf(d3){return d3>1?ep:d3<-1?-ep:Math.asin(d3)}function dW(d3){return((d3=Math.exp(d3))-1/d3)/2}function bE(d3){return((d3=Math.exp(d3))+1/d3)/2}function fr(d3){return((d3=Math.exp(2*d3))-1)/(d3+1)}function aD(d3){return(d3=Math.sin(d3/2))*d3}var ga=Math.SQRT2,Z=2,X=4;hn.interpolateZoom=function(ib,d3){var il=ib[0],ir=ib[1],ij=ib[2],ik=d3[0],iq=d3[1],ih=d3[2],ii=ik-il,ig=iq-ir,it=ii*ii+ig*ig,io,ic;if(it<eD){ic=Math.log(ih/ij)/ga;io=function(iv){return[il+iv*ii,ir+iv*ig,ij*Math.exp(ga*iv*ic)]}}else{var iu=Math.sqrt(it),ie=(ih*ih-ij*ij+X*it)/(2*ij*Z*iu),id=(ih*ih-ij*ij-X*it)/(2*ih*Z*iu),ip=Math.log(Math.sqrt(ie*ie+1)-ie),im=Math.log(Math.sqrt(id*id+1)-id);ic=(im-ip)/ga;io=function(iw){var ix=iw*ic,iy=bE(ip),iv=ij/(Z*iu)*(iy*fr(ga*ix+ip)-dW(ip));return[il+iv*ii,ir+iv*ig,ij*iy/bE(ga*ix+ip)]}}io.duration=ic*1000;return io};hn.behavior.zoom=function(){var ip={x:0,y:0,k:1},iG,il,iI,iv=[960,500],id=fU,d3=250,iF=0,iz="mousedown.zoom",iH="mousemove.zoom",iA="mouseup.zoom",iw,iD="touchstart.zoom",ik,iB=hh(ic,"zoomstart","zoom","zoomend"),iE,iC,ii,ig;if(!g4){g4="onwheel" in bN?(cx=function(){return -hn.event.deltaY*(hn.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bN?(cx=function(){return hn.event.wheelDelta},"mousewheel"):(cx=function(){return -hn.event.detail},"MozMousePixelScroll")}function ic(iK){iK.on(iz,ie).on(g4+".zoom",iq).on("dblclick.zoom",im).on(iD,ih)}ic.event=function(iK){iK.each(function(){var iM=iB.of(this,arguments),iL=ip;if(aq){hn.select(this).transition().each("start.zoom",function(){ip=this.__chart__||{x:0,y:0,k:1};ix(iM)}).tween("zoom:zoom",function(){var iP=iv[0],iO=iv[1],iN=il?il[0]:iP/2,iR=il?il[1]:iO/2,iQ=hn.interpolateZoom([(iN-ip.x)/ip.k,(iR-ip.y)/ip.k,iP/ip.k],[(iN-iL.x)/iL.k,(iR-iL.y)/iL.k,iP/iL.k]);return function(iU){var iS=iQ(iU),iT=iP/iS[2];this.__chart__=ip={x:iN-iS[0]*iT,y:iR-iS[1]*iT,k:iT};iu(iM)}}).each("interrupt.zoom",function(){it(iM)}).each("end.zoom",function(){it(iM)})}else{this.__chart__=ip;ix(iM);iu(iM);it(iM)}})};ic.translate=function(iK){if(!arguments.length){return[ip.x,ip.y]}ip={x:+iK[0],y:+iK[1],k:ip.k};io();return ic};ic.scale=function(iK){if(!arguments.length){return ip.k}ip={x:ip.x,y:ip.y,k:null};ij(+iK);io();return ic};ic.scaleExtent=function(iK){if(!arguments.length){return id}id=iK==null?fU:[+iK[0],+iK[1]];return ic};ic.center=function(iK){if(!arguments.length){return iI}iI=iK&&[+iK[0],+iK[1]];return ic};ic.size=function(iK){if(!arguments.length){return iv}iv=iK&&[+iK[0],+iK[1]];return ic};ic.duration=function(iK){if(!arguments.length){return d3}d3=+iK;return ic};ic.x=function(iK){if(!arguments.length){return iC}iC=iK;iE=iK.copy();ip={x:0,y:0,k:1};return ic};ic.y=function(iK){if(!arguments.length){return ig}ig=iK;ii=iK.copy();ip={x:0,y:0,k:1};return ic};function ib(iK){return[(iK[0]-ip.x)/ip.k,(iK[1]-ip.y)/ip.k]}function iy(iK){return[iK[0]*ip.k+ip.x,iK[1]*ip.k+ip.y]}function ij(iK){ip.k=Math.max(id[0],Math.min(id[1],iK))}function iJ(iL,iK){iK=iy(iK);ip.x+=iL[0]-iK[0];ip.y+=iL[1]-iK[1]}function ir(iM,iN,iK,iL){iM.__chart__={x:ip.x,y:ip.y,k:ip.k};ij(Math.pow(2,iL));iJ(il=iN,iK);iM=hn.select(iM);if(d3>0){iM=iM.transition().duration(d3)}iM.call(ic.event)}function io(){if(iC){iC.domain(iE.range().map(function(iK){return(iK-ip.x)/ip.k}).map(iE.invert))}if(ig){ig.domain(ii.range().map(function(iK){return(iK-ip.y)/ip.k}).map(ii.invert))}}function ix(iK){if(!iF++){iK({type:"zoomstart"})}}function iu(iK){io();iK({type:"zoom",scale:ip.k,translate:[ip.x,ip.y]})}function it(iK){if(!--iF){iK({type:"zoomend"}),il=null}}function ie(){var iQ=this,iM=iB.of(iQ,arguments),iK=0,iN=hn.select(fx(iQ)).on(iH,iO).on(iA,iR),iL=ib(hn.mouse(iQ)),iP=bK(iQ);cU.call(iQ);ix(iM);function iO(){iK=1;iJ(hn.mouse(iQ),iL);iu(iM)}function iR(){iN.on(iH,null).on(iA,null);iP(iK);it(iM)}}function ih(){var iQ=this,iS=iB.of(iQ,arguments),iO={},iU=0,iR,iL=".zoom-"+hn.event.changedTouches[0].identifier,iM="touchmove"+iL,iY="touchend"+iL,iP=[],iV=hn.select(iQ),iN=bK(iQ);iT();ix(iS);iV.on(iz,null).on(iD,iT);function iK(){var iZ=hn.touches(iQ);iR=ip.k;iZ.forEach(function(i0){if(i0.identifier in iO){iO[i0.identifier]=ib(i0)}});return iZ}function iT(){var i6=hn.event.target;hn.select(i6).on(iM,iW).on(iY,iX);iP.push(i6);var i3=hn.event.changedTouches;for(var i4=0,i2=i3.length;i4<i2;++i4){iO[i3[i4].identifier]=null}var i5=iK(),i1=Date.now();if(i5.length===1){if(i1-ik<500){var i0=i5[0];ir(iQ,i0,iO[i0.identifier],Math.floor(Math.log(ip.k)/Math.LN2)+1);v()}ik=i1}else{if(i5.length>1){var i0=i5[0],iZ=i5[1],i8=i0[0]-iZ[0],i7=i0[1]-iZ[1];iU=i8*i8+i7*i7}}}function iW(){var i3=hn.touches(iQ),i7,i1,i6,i0;cU.call(iQ);for(var i2=0,iZ=i3.length;i2<iZ;++i2,i0=null){i6=i3[i2];if(i0=iO[i6.identifier]){if(i1){break}i7=i6,i1=i0}}if(i0){var i5=(i5=i6[0]-i7[0])*i5+(i5=i6[1]-i7[1])*i5,i4=iU&&Math.sqrt(i5/iU);i7=[(i7[0]+i6[0])/2,(i7[1]+i6[1])/2];i1=[(i1[0]+i0[0])/2,(i1[1]+i0[1])/2];ij(i4*iR)}ik=null;iJ(i7,i1);iu(iS)}function iX(){if(hn.event.touches.length){var i1=hn.event.changedTouches;for(var i0=0,i2=i1.length;i0<i2;++i0){delete iO[i1[i0].identifier]}for(var iZ in iO){return void iK()}}hn.selectAll(iP).on(iL,null);iV.on(iz,ie).on(iD,ih);iN();it(iS)}}function iq(){var iK=iB.of(this,arguments);if(iw){clearTimeout(iw)}else{cU.call(this),iG=ib(il=iI||hn.mouse(this)),ix(iK)}iw=setTimeout(function(){iw=null;it(iK)},50);v();ij(Math.pow(2,cx()*0.002)*ip.k);iJ(il,iG);iu(iK)}function im(){var iL=hn.mouse(this),iK=Math.log(ip.k)/Math.LN2;ir(this,iL,ib(iL),hn.event.shiftKey?Math.ceil(iK)-1:Math.floor(iK)+1)}return hn.rebind(ic,iB,"on")};var fU=[0,Infinity],cx,g4;hn.color=gU;function gU(){}gU.prototype.toString=function(){return this.rgb()+""};hn.hsl=eH;function eH(ic,ib,d3){return this instanceof eH?void (this.h=+ic,this.s=+ib,this.l=+d3):arguments.length<2?ic instanceof eH?new eH(ic.h,ic.s,ic.l):aW(""+ic,gw,eH):new eH(ic,ib,d3)}var ex=eH.prototype=new gU();ex.brighter=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eH(this.h,this.s,this.l/d3)};ex.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eH(this.h,this.s,d3*this.l)};ex.rgb=function(){return bg(this.h,this.s,this.l)};function bg(ig,ie,d3){var id,ic;ig=isNaN(ig)?0:(ig%=360)<0?ig+360:ig;ie=isNaN(ie)?0:ie<0?0:ie>1?1:ie;d3=d3<0?0:d3>1?1:d3;ic=d3<=0.5?d3*(1+ie):d3+ie-d3*ie;id=2*d3-ic;function ib(ii){if(ii>360){ii-=360}else{if(ii<0){ii+=360}}if(ii<60){return id+(ic-id)*ii/60}if(ii<180){return ic}if(ii<240){return id+(ic-id)*(240-ii)/60}return id}function ih(ii){return Math.round(ib(ii)*255)}return new er(ih(ig+120),ih(ig),ih(ig-120))}hn.hcl=bC;function bC(ib,ic,d3){return this instanceof bC?void (this.h=+ib,this.c=+ic,this.l=+d3):arguments.length<2?ib instanceof bC?new bC(ib.h,ib.c,ib.l):ib instanceof cn?gG(ib.l,ib.a,ib.b):gG((ib=d0((ib=hn.rgb(ib)).r,ib.g,ib.b)).l,ib.a,ib.b):new bC(ib,ic,d3)}var hf=bC.prototype=new gU();hf.brighter=function(d3){return new bC(this.h,this.c,Math.min(100,this.l+bs*(arguments.length?d3:1)))};hf.darker=function(d3){return new bC(this.h,this.c,Math.max(0,this.l-bs*(arguments.length?d3:1)))};hf.rgb=function(){return bD(this.h,this.c,this.l).rgb()};function bD(ib,ic,d3){if(isNaN(ib)){ib=0}if(isNaN(ic)){ic=0}return new cn(d3,Math.cos(ib*=I)*ic,Math.sin(ib)*ic)}hn.lab=cn;function cn(ic,ib,d3){return this instanceof cn?void (this.l=+ic,this.a=+ib,this.b=+d3):arguments.length<2?ic instanceof cn?new cn(ic.l,ic.a,ic.b):ic instanceof bC?bD(ic.h,ic.c,ic.l):d0((ic=er(ic)).r,ic.g,ic.b):new cn(ic,ib,d3)}var bs=18;var bh=0.95047,bf=1,bc=1.08883;var gx=cn.prototype=new gU();gx.brighter=function(d3){return new cn(Math.min(100,this.l+bs*(arguments.length?d3:1)),this.a,this.b)};gx.darker=function(d3){return new cn(Math.max(0,this.l-bs*(arguments.length?d3:1)),this.a,this.b)};gx.rgb=function(){return aB(this.l,this.a,this.b)};function aB(id,ic,ib){var ig=(id+16)/116,d3=ig+ic/500,ie=ig-ib/200;d3=g0(d3)*bh;ig=g0(ig)*bf;ie=g0(ie)*bc;return new er(g(3.2404542*d3-1.5371385*ig-0.4985314*ie),g(-0.969266*d3+1.8760108*ig+0.041556*ie),g(0.0556434*d3-0.2040259*ig+1.0572252*ie))}function gG(ic,ib,d3){return ic>0?new bC(Math.atan2(d3,ib)*hE,Math.sqrt(ib*ib+d3*d3),ic):new bC(NaN,NaN,ic)}function g0(d3){return d3>0.206893034?d3*d3*d3:(d3-4/29)/7.787037}function gp(d3){return d3>0.008856?Math.pow(d3,1/3):7.787037*d3+4/29}function g(d3){return Math.round(255*(d3<=0.00304?12.92*d3:1.055*Math.pow(d3,1/2.4)-0.055))}hn.rgb=er;function er(ic,ib,d3){return this instanceof er?void (this.r=~~ic,this.g=~~ib,this.b=~~d3):arguments.length<2?ic instanceof er?new er(ic.r,ic.g,ic.b):aW(""+ic,er,bg):new er(ic,ib,d3)}function de(d3){return new er(d3>>16,d3>>8&255,d3&255)}function dw(d3){return de(d3)+""}var eI=er.prototype=new gU();eI.brighter=function(ib){ib=Math.pow(0.7,arguments.length?ib:1);var ie=this.r,id=this.g,d3=this.b,ic=30;if(!ie&&!id&&!d3){return new er(ic,ic,ic)}if(ie&&ie<ic){ie=ic}if(id&&id<ic){id=ic}if(d3&&d3<ic){d3=ic}return new er(Math.min(255,ie/ib),Math.min(255,id/ib),Math.min(255,d3/ib))};eI.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new er(d3*this.r,d3*this.g,d3*this.b)};eI.hsl=function(){return gw(this.r,this.g,this.b)};eI.toString=function(){return"#"+cv(this.r)+cv(this.g)+cv(this.b)};function cv(d3){return d3<16?"0"+Math.max(0,d3).toString(16):Math.min(255,d3).toString(16)}function aW(ig,id,ih){var d3=0,ic=0,ie=0,ij,ii,ib;ij=/([a-z]+)\((.*)\)/.exec(ig=ig.toLowerCase());if(ij){ii=ij[2].split(",");switch(ij[1]){case"hsl":return ih(parseFloat(ii[0]),parseFloat(ii[1])/100,parseFloat(ii[2])/100);case"rgb":return id(eW(ii[0]),eW(ii[1]),eW(ii[2]))}}if(ib=al.get(ig)){return id(ib.r,ib.g,ib.b)}if(ig!=null&&ig.charAt(0)==="#"&&!isNaN(ib=parseInt(ig.slice(1),16))){if(ig.length===4){d3=(ib&3840)>>4;d3=d3>>4|d3;ic=ib&240;ic=ic>>4|ic;ie=ib&15;ie=ie<<4|ie}else{if(ig.length===7){d3=(ib&16711680)>>16;ic=(ib&65280)>>8;ie=ib&255}}}return id(d3,ic,ie)}function gw(d3,ie,ih){var ic=Math.min(d3/=255,ie/=255,ih/=255),ii=Math.max(d3,ie,ih),ig=ii-ic,id,ij,ib=(ii+ic)/2;if(ig){ij=ib<0.5?ig/(ii+ic):ig/(2-ii-ic);if(d3==ii){id=(ie-ih)/ig+(ie<ih?6:0)}else{if(ie==ii){id=(ih-d3)/ig+2}else{id=(d3-ie)/ig+4}}id*=60}else{id=NaN;ij=ib>0&&ib<1?0:id}return new eH(id,ij,ib)}function d0(id,ic,ib){id=dD(id);ic=dD(ic);ib=dD(ib);var d3=gp((0.4124564*id+0.3575761*ic+0.1804375*ib)/bh),ig=gp((0.2126729*id+0.7151522*ic+0.072175*ib)/bf),ie=gp((0.0193339*id+0.119192*ic+0.9503041*ib)/bc);return cn(116*ig-16,500*(d3-ig),200*(ig-ie))}function dD(d3){return(d3/=255)<=0.04045?d3/12.92:Math.pow((d3+0.055)/1.055,2.4)}function eW(ib){var d3=parseFloat(ib);return ib.charAt(ib.length-1)==="%"?Math.round(d3*2.55):d3}var al=hn.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});al.forEach(function(d3,ib){al.set(d3,de(ib))});function Q(d3){return typeof d3==="function"?d3:function(){return d3}}hn.functor=Q;hn.xhr=W(gk);function W(d3){return function(ib,ic,id){if(arguments.length===2&&typeof ic==="function"){id=ic,ic=null}return hY(ib,ic,d3,id)}}function hY(d3,ic,ie,ij){var ik={},ii=hn.dispatch("beforesend","progress","load","error"),id={},ig=new XMLHttpRequest(),ih=null;if(this.XDomainRequest&&!("withCredentials" in ig)&&/^(http(s)?:)?\/\//.test(d3)){ig=new XDomainRequest()}"onload" in ig?ig.onload=ig.onerror=ib:ig.onreadystatechange=function(){ig.readyState>3&&ib()};function ib(){var im=ig.status,il;if(!im&&fH(ig)||im>=200&&im<300||im===304){try{il=ie.call(ik,ig)}catch(io){ii.error.call(ik,io);return}ii.load.call(ik,il)}else{ii.error.call(ik,ig)}}ig.onprogress=function(il){var im=hn.event;hn.event=il;try{ii.progress.call(ik,ig)}finally{hn.event=im}};ik.header=function(il,im){il=(il+"").toLowerCase();if(arguments.length<2){return id[il]}if(im==null){delete id[il]}else{id[il]=im+""}return ik};ik.mimeType=function(il){if(!arguments.length){return ic}ic=il==null?null:il+"";return ik};ik.responseType=function(il){if(!arguments.length){return ih}ih=il;return ik};ik.response=function(il){ie=il;return ik};["get","post"].forEach(function(il){ik[il]=function(){return ik.send.apply(ik,[il].concat(dO(arguments)))}});ik.send=function(ip,im,io){if(arguments.length===2&&typeof im==="function"){io=im,im=null}ig.open(ip,d3,true);if(ic!=null&&!("accept" in id)){id.accept=ic+",*/*"}if(ig.setRequestHeader){for(var il in id){ig.setRequestHeader(il,id[il])}}if(ic!=null&&ig.overrideMimeType){ig.overrideMimeType(ic)}if(ih!=null){ig.responseType=ih}if(io!=null){ik.on("error",io).on("load",function(iq){io(null,iq)})}ii.beforesend.call(ik,ig);ig.send(im==null?null:im);return ik};ik.abort=function(){ig.abort();return ik};hn.rebind(ik,ii,"on");return ij==null?ik:ik.get(d6(ij))}function d6(d3){return d3.length===1?function(ib,ic){d3(ib==null?ic:null)}:d3}function fH(ib){var d3=ib.responseType;return d3&&d3!=="text"?ib.response:ib.responseText}hn.dsv=function(d3,ib){var id=new RegExp('["'+d3+"\n]"),ig=d3.charCodeAt(0);function ii(ik,im,io){if(arguments.length<3){io=im,im=null}var il=hY(ik,ib,im==null?ie:ic(im),io);il.row=function(ip){return arguments.length?il.response((im=ip)==null?ie:ic(ip)):im};return il}function ie(ik){return ii.parse(ik.responseText)}function ic(ik){return function(il){return ii.parse(il.responseText,ik)}}ii.parse=function(im,ik){var il;return ii.parseRows(im,function(iq,ip){if(il){return il(iq,ip-1)}var io=new Function("d","return {"+iq.map(function(ir,it){return JSON.stringify(ir)+": d["+it+"]"}).join(",")+"}");il=ik?function(it,ir){return ik(io(it),ir)}:io})};ii.parseRows=function(iv,ip){var il={},io={},ix=[],iq=iv.length,iu=0,ik=0,iw,ir;function im(){if(iu>=iq){return io}if(ir){return ir=false,il}var iz=iu;if(iv.charCodeAt(iz)===34){var iA=iz;while(iA++<iq){if(iv.charCodeAt(iA)===34){if(iv.charCodeAt(iA+1)!==34){break}++iA}}iu=iA+2;var iB=iv.charCodeAt(iA+1);if(iB===13){ir=true;if(iv.charCodeAt(iA+2)===10){++iu}}else{if(iB===10){ir=true}}return iv.slice(iz+1,iA).replace(/""/g,'"')}while(iu<iq){var iB=iv.charCodeAt(iu++),iy=1;if(iB===10){ir=true}else{if(iB===13){ir=true;if(iv.charCodeAt(iu)===10){++iu,++iy}}else{if(iB!==ig){continue}}}return iv.slice(iz,iu-iy)}return iv.slice(iz)}while((iw=im())!==io){var it=[];while(iw!==il&&iw!==io){it.push(iw);iw=im()}if(ip&&(it=ip(it,ik++))==null){continue}ix.push(it)}return ix};ii.format=function(im){if(Array.isArray(im[0])){return ii.formatRows(im)}var il=new dr(),ik=[];im.forEach(function(ip){for(var io in ip){if(!il.has(io)){ik.push(il.add(io))}}});return[ik.map(ih).join(d3)].concat(im.map(function(io){return ik.map(function(ip){return ih(io[ip])}).join(d3)})).join("\n")};ii.formatRows=function(ik){return ik.map(ij).join("\n")};function ij(ik){return ik.map(ih).join(d3)}function ih(ik){return id.test(ik)?'"'+ik.replace(/\"/g,'""')+'"':ik}return ii};hn.csv=hn.dsv(",","text/csv");hn.tsv=hn.dsv("	","text/tab-separated-values");var d1,ae,cq,fe,ht=this[dg(this,"requestAnimationFrame")]||function(d3){setTimeout(d3,17)};hn.timer=function(){g2.apply(this,arguments)};function g2(ig,d3,ic){var ie=arguments.length;if(ie<2){d3=0}if(ie<3){ic=Date.now()}var ib=ic+d3,id={c:ig,t:ib,n:null};if(ae){ae.n=id}else{d1=id}ae=id;if(!cq){fe=clearTimeout(fe);cq=1;ht(hu)}return id}function hu(){var ib=bF(),d3=ab()-ib;if(d3>24){if(isFinite(d3)){clearTimeout(fe);fe=setTimeout(hu,d3)}cq=0}else{cq=1;ht(hu)}}hn.timer.flush=function(){bF();ab()};function bF(){var d3=Date.now(),ib=d1;while(ib){if(d3>=ib.t&&ib.c(d3-ib.t)){ib.c=null}ib=ib.n}return d3}function ab(){var ib,d3=d1,ic=Infinity;while(d3){if(d3.c){if(d3.t<ic){ic=d3.t}d3=(ib=d3).n}else{d3=ib?ib.n=d3.n:d1=d3.n}}ae=ib;return ic}function ef(d3,ib){return ib-(d3?Math.ceil(Math.log(d3)/Math.LN10):1)}hn.round=function(d3,ib){return ib?Math.round(d3*(ib=Math.pow(10,ib)))/ib:Math.round(d3)};var cu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(dN);hn.formatPrefix=function(ic,d3){var ib=0;if(ic=+ic){if(ic<0){ic*=-1}if(d3){ic=hn.round(ic,ef(ic,d3))}ib=1+Math.floor(1e-12+Math.log(ic)/Math.LN10);ib=Math.max(-24,Math.min(24,Math.floor((ib-1)/3)*3))}return cu[8+ib/3]};function dN(ic,ib){var d3=Math.pow(10,cG(8-ib)*3);return{scale:ib>8?function(id){return id/d3}:function(id){return id*d3},symbol:ic}}function bo(d3){var id=d3.decimal,ig=d3.thousands,ie=d3.grouping,ic=d3.currency,ib=ie&&ig?function(io,ik){var ij=io.length,ii=[],ih=0,im=ie[0],il=0;while(ij>0&&im>0){if(il+im+1>ik){im=Math.max(1,ik-il)}ii.push(io.substring(ij-=im,ij+im));if((il+=im+1)>ik){break}im=ie[ih=(ih+1)%ie.length]}return ii.reverse().join(ig)}:gk;return function(iw){var iq=cz.exec(iw),iy=iq[1]||" ",it=iq[2]||">",ii=iq[3]||"-",ik=iq[4]||"",il=iq[5],ih=+iq[6],iz=iq[7],ip=iq[8],iu=iq[9],ij=1,ir="",ix="",io=false,iv=true;if(ip){ip=+ip.substring(1)}if(il||iy==="0"&&it==="="){il=iy="0";it="="}switch(iu){case"n":iz=true;iu="g";break;case"%":ij=100;ix="%";iu="f";break;case"p":ij=100;ix="%";iu="r";break;case"b":case"o":case"x":case"X":if(ik==="#"){ir="0"+iu.toLowerCase()}case"c":iv=false;case"d":io=true;ip=0;break;case"s":ij=-1;iu="r";break}if(ik==="$"){ir=ic[0],ix=ic[1]}if(iu=="r"&&!ip){iu="g"}if(ip!=null){if(iu=="g"){ip=Math.max(1,Math.min(21,ip))}else{if(iu=="e"||iu=="f"){ip=Math.max(0,Math.min(20,ip))}}}iu=w.get(iu)||bn;var im=il&&iz;return function(iI){var iG=ix;if(io&&iI%1){return""}var iC=iI<0||iI===0&&1/iI<0?(iI=-iI,"-"):ii==="-"?"":ii;if(ij<0){var iJ=hn.formatPrefix(iI,ip);iI=iJ.scale(iI);iG=iJ.symbol+ix}else{iI*=ij}iI=iu(iI,ip);var iE=iI.lastIndexOf("."),iH,iA;if(iE<0){var iD=iv?iI.lastIndexOf("e"):-1;if(iD<0){iH=iI,iA=""}else{iH=iI.substring(0,iD),iA=iI.substring(iD)}}else{iH=iI.substring(0,iE);iA=id+iI.substring(iE+1)}if(!il&&iz){iH=ib(iH,Infinity)}var iB=ir.length+iH.length+iA.length+(im?0:iC.length),iF=iB<ih?new Array(iB=ih-iB+1).join(iy):"";if(im){iH=ib(iF+iH,iF.length?ih-iA.length:Infinity)}iC+=ir;iI=iH+iA;return(it==="<"?iC+iI+iF:it===">"?iF+iC+iI:it==="^"?iF.substring(0,iB>>=1)+iC+iI+iF.substring(iB):iC+(im?iI:iF+iI))+iG}}}var cz=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var w=hn.map({b:function(d3){return d3.toString(2)},c:function(d3){return String.fromCharCode(d3)},o:function(d3){return d3.toString(8)},x:function(d3){return d3.toString(16)},X:function(d3){return d3.toString(16).toUpperCase()},g:function(d3,ib){return d3.toPrecision(ib)},e:function(d3,ib){return d3.toExponential(ib)},f:function(d3,ib){return d3.toFixed(ib)},r:function(d3,ib){return(d3=hn.round(d3,ef(d3,ib))).toFixed(Math.max(0,Math.min(20,ef(d3*(1+1e-15),ib))))}});function bn(d3){return d3+""}var fF=hn.time={},hr=Date;function cl(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}cl.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){f0.setUTCDate.apply(this._,arguments)},setDay:function(){f0.setUTCDay.apply(this._,arguments)},setFullYear:function(){f0.setUTCFullYear.apply(this._,arguments)},setHours:function(){f0.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){f0.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){f0.setUTCMinutes.apply(this._,arguments)},setMonth:function(){f0.setUTCMonth.apply(this._,arguments)},setSeconds:function(){f0.setUTCSeconds.apply(this._,arguments)},setTime:function(){f0.setTime.apply(this._,arguments)}};var f0=Date.prototype;function c0(ig,d3,ib){function ij(ik){var im=ig(ik),il=id(im,1);return ik-im<il-ik?im:il}function ii(ik){d3(ik=ig(new hr(ik-1)),1);return ik}function id(il,ik){d3(il=new hr(+il),ik);return il}function ie(im,il,ik){var io=ii(im),ip=[];if(ik>1){while(io<il){if(!(ib(io)%ik)){ip.push(new Date(+io))}d3(io,1)}}else{while(io<il){ip.push(new Date(+io)),d3(io,1)}}return ip}function ic(io,im,il){try{hr=cl;var ik=new cl();ik._=io;return ie(ik,im,il)}finally{hr=Date}}ig.floor=ig;ig.round=ij;ig.ceil=ii;ig.offset=id;ig.range=ie;var ih=ig.utc=dS(ig);ih.floor=ih;ih.round=dS(ij);ih.ceil=dS(ii);ih.offset=dS(id);ih.range=ic;return ig}function dS(d3){return function(ic,ib){try{hr=cl;var id=new cl();id._=ic;return d3(id,ib)._}finally{hr=Date}}}fF.year=c0(function(d3){d3=fF.day(d3);d3.setMonth(0,1);return d3},function(d3,ib){d3.setFullYear(d3.getFullYear()+ib)},function(d3){return d3.getFullYear()});fF.years=fF.year.range;fF.years.utc=fF.year.utc.range;fF.day=c0(function(ib){var d3=new hr(2000,0);d3.setFullYear(ib.getFullYear(),ib.getMonth(),ib.getDate());return d3},function(d3,ib){d3.setDate(d3.getDate()+ib)},function(d3){return d3.getDate()-1});fF.days=fF.day.range;fF.days.utc=fF.day.utc.range;fF.dayOfYear=function(d3){var ib=fF.year(d3);return Math.floor((d3-ib-(d3.getTimezoneOffset()-ib.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(ib,ic){ic=7-ic;var d3=fF[ib]=c0(function(id){(id=fF.day(id)).setDate(id.getDate()-(id.getDay()+ic)%7);return id},function(id,ie){id.setDate(id.getDate()+Math.floor(ie)*7)},function(ie){var id=fF.year(ie).getDay();return Math.floor((fF.dayOfYear(ie)+(id+ic)%7)/7)-(id!==ic)});fF[ib+"s"]=d3.range;fF[ib+"s"].utc=d3.utc.range;fF[ib+"OfYear"]=function(ie){var id=fF.year(ie).getDay();return Math.floor((fF.dayOfYear(ie)+(id+ic)%7)/7)}});fF.week=fF.sunday;fF.weeks=fF.sunday.range;fF.weeks.utc=fF.sunday.utc.range;fF.weekOfYear=fF.sundayOfYear;function ap(iv){var iA=iv.dateTime,ip=iv.date,ib=iv.time,ij=iv.periods,d3=iv.days,ik=iv.shortDays,io=iv.months,ie=iv.shortMonths;function iz(iH){var iJ=iH.length;function iI(iM){var iL=[],iN=-1,iK=0,iQ,iP,iO;while(++iN<iJ){if(iH.charCodeAt(iN)===37){iL.push(iH.slice(iK,iN));if((iP=aN[iQ=iH.charAt(++iN)])!=null){iQ=iH.charAt(++iN)}if(iO=ix[iQ]){iQ=iO(iM,iP==null?iQ==="e"?" ":"0":iP)}iL.push(iQ);iK=iN+1}}iL.push(iH.slice(iK,iN));return iL.join("")}iI.parse=function(iM){var iO={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},iN=it(iO,iH,iM,0);if(iN!=iM.length){return null}if("p" in iO){iO.H=iO.H%12+iO.p*12}var iK=iO.Z!=null&&hr!==cl,iL=new (iK?cl:hr)();if("j" in iO){iL.setFullYear(iO.y,0,iO.j)}else{if("W" in iO||"U" in iO){if(!("w" in iO)){iO.w="W" in iO?1:0}iL.setFullYear(iO.y,0,1);iL.setFullYear(iO.y,0,"W" in iO?(iO.w+6)%7+iO.W*7-(iL.getDay()+5)%7:iO.w+iO.U*7-(iL.getDay()+6)%7)}else{iL.setFullYear(iO.y,iO.m,iO.d)}}iL.setHours(iO.H+(iO.Z/100|0),iO.M+iO.Z%100,iO.S,iO.L);return iK?iL._:iL};iI.toString=function(){return iH};return iI}function it(iK,iP,iN,iL){var iO,iH,iQ,iM=0,iI=iP.length,iJ=iN.length;while(iM<iI){if(iL>=iJ){return -1}iO=iP.charCodeAt(iM++);if(iO===37){iQ=iP.charAt(iM++);iH=iw[iQ in aN?iP.charAt(iM++):iQ];if(!iH||(iL=iH(iK,iN,iL))<0){return -1}}else{if(iO!=iN.charCodeAt(iL++)){return -1}}}return iL}iz.utc=function(iI){var iH=iz(iI);function iJ(iK){try{hr=cl;var iL=new hr();iL._=iK;return iH(iL)}finally{hr=Date}}iJ.parse=function(iL){try{hr=cl;var iK=iH.parse(iL);return iK&&iK._}finally{hr=Date}};iJ.toString=iH.toString;return iJ};iz.multi=iz.utc.multi=go;var iq=hn.map(),iD=cK(d3),iE=gT(d3),iC=cK(ik),ig=gT(ik),iF=cK(io),iG=gT(io),il=cK(ie),id=gT(ie);ij.forEach(function(iI,iH){iq.set(iI.toLowerCase(),iH)});var ix={a:function(iH){return ik[iH.getDay()]},A:function(iH){return d3[iH.getDay()]},b:function(iH){return ie[iH.getMonth()]},B:function(iH){return io[iH.getMonth()]},c:iz(iA),d:function(iI,iH){return dy(iI.getDate(),iH,2)},e:function(iI,iH){return dy(iI.getDate(),iH,2)},H:function(iI,iH){return dy(iI.getHours(),iH,2)},I:function(iI,iH){return dy(iI.getHours()%12||12,iH,2)},j:function(iI,iH){return dy(1+fF.dayOfYear(iI),iH,3)},L:function(iI,iH){return dy(iI.getMilliseconds(),iH,3)},m:function(iI,iH){return dy(iI.getMonth()+1,iH,2)},M:function(iI,iH){return dy(iI.getMinutes(),iH,2)},p:function(iH){return ij[+(iH.getHours()>=12)]},S:function(iI,iH){return dy(iI.getSeconds(),iH,2)},U:function(iI,iH){return dy(fF.sundayOfYear(iI),iH,2)},w:function(iH){return iH.getDay()},W:function(iI,iH){return dy(fF.mondayOfYear(iI),iH,2)},x:iz(ip),X:iz(ib),y:function(iI,iH){return dy(iI.getFullYear()%100,iH,2)},Y:function(iI,iH){return dy(iI.getFullYear()%10000,iH,4)},Z:fV,"%":function(){return"%"}};var iw={a:im,A:ic,b:iB,B:iu,c:ii,d:b3,e:b3,H:aP,I:aP,j:E,L:gW,m:gI,M:cV,p:ir,S:dX,U:bt,w:dU,W:dH,x:iy,X:ih,y:N,Y:bA,Z:a4,"%":fs};function im(iI,iH,iJ){iC.lastIndex=0;var iK=iC.exec(iH.slice(iJ));return iK?(iI.w=ig.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function ic(iI,iH,iJ){iD.lastIndex=0;var iK=iD.exec(iH.slice(iJ));return iK?(iI.w=iE.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function iB(iI,iH,iJ){il.lastIndex=0;var iK=il.exec(iH.slice(iJ));return iK?(iI.m=id.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function iu(iI,iH,iJ){iF.lastIndex=0;var iK=iF.exec(iH.slice(iJ));return iK?(iI.m=iG.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function ii(iI,iH,iJ){return it(iI,ix.c.toString(),iH,iJ)}function iy(iI,iH,iJ){return it(iI,ix.x.toString(),iH,iJ)}function ih(iI,iH,iJ){return it(iI,ix.X.toString(),iH,iJ)}function ir(iI,iH,iJ){var iK=iq.get(iH.slice(iJ,iJ+=2).toLowerCase());return iK==null?-1:(iI.p=iK,iJ)}return iz}var aN={"-":"",_:" ","0":"0"},f5=/^\s*\d+/,e7=/^%/;function dy(ie,ig,ic){var d3=ie<0?"-":"",ib=(d3?-ie:ie)+"",id=ib.length;return d3+(id<ic?new Array(ic-id+1).join(ig)+ib:ib)}function cK(d3){return new RegExp("^(?:"+d3.map(hn.requote).join("|")+")","i")}function gT(ic){var ib=new aH(),d3=-1,id=ic.length;while(++d3<id){ib.set(ic[d3].toLowerCase(),d3)}return ib}function dU(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+1));return id?(ib.w=+id[0],ic+id[0].length):-1}function bt(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic));return id?(ib.U=+id[0],ic+id[0].length):-1}function dH(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic));return id?(ib.W=+id[0],ic+id[0].length):-1}function bA(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+4));return id?(ib.y=+id[0],ic+id[0].length):-1}function N(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.y=c2(+id[0]),ic+id[0].length):-1}function a4(ib,d3,ic){return/^[+-]\d{4}$/.test(d3=d3.slice(ic,ic+5))?(ib.Z=-d3,ic+5):-1}function c2(d3){return d3+(d3>68?1900:2000)}function gI(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.m=id[0]-1,ic+id[0].length):-1}function b3(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.d=+id[0],ic+id[0].length):-1}function E(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+3));return id?(ib.j=+id[0],ic+id[0].length):-1}function aP(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.H=+id[0],ic+id[0].length):-1}function cV(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.M=+id[0],ic+id[0].length):-1}function dX(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+2));return id?(ib.S=+id[0],ic+id[0].length):-1}function gW(ib,d3,ic){f5.lastIndex=0;var id=f5.exec(d3.slice(ic,ic+3));return id?(ib.L=+id[0],ic+id[0].length):-1}function fV(ie){var id=ie.getTimezoneOffset(),ic=id>0?"-":"+",ib=cG(id)/60|0,d3=cG(id)%60;return ic+dy(ib,"0",2)+dy(d3,"0",2)}function fs(ib,d3,ic){e7.lastIndex=0;var id=e7.exec(d3.slice(ic,ic+1));return id?ic+id[0].length:-1}function go(d3){var ic=d3.length,ib=-1;while(++ib<ic){d3[ib][0]=this(d3[ib][0])}return function(id){var ie=0,ig=d3[ie];while(!ig[1](id)){ig=d3[++ie]}return ig[0](id)}}hn.locale=function(d3){return{numberFormat:bo(d3),timeFormat:ap(d3)}};var dh=hn.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});hn.format=dh.numberFormat;hn.geo={};function fb(){}fb.prototype={s:0,t:0,add:function(d3){dp(d3,this.t,hO);dp(hO.s,this.s,this);if(this.s){this.t+=hO.t}else{this.s=hO.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hO=new fb();function dp(id,ic,ig){var ib=ig.s=id+ic,d3=ib-id,ie=ib-d3;ig.t=id-ie+(ic-d3)}hn.geo.stream=function(d3,ib){if(d3&&z.hasOwnProperty(d3.type)){z[d3.type](d3,ib)}else{aO(d3,ib)}};function aO(ib,d3){if(ib&&eR.hasOwnProperty(ib.type)){eR[ib.type](ib,d3)}}var z={Feature:function(d3,ib){aO(d3.geometry,ib)},FeatureCollection:function(d3,id){var ic=d3.features,ib=-1,ie=ic.length;while(++ib<ie){aO(ic[ib].geometry,id)}}};var eR={Sphere:function(d3,ib){ib.sphere()},Point:function(d3,ib){d3=d3.coordinates;ib.point(d3[0],d3[1],d3[2])},MultiPoint:function(d3,ic){var id=d3.coordinates,ib=-1,ie=id.length;while(++ib<ie){d3=id[ib],ic.point(d3[0],d3[1],d3[2])}},LineString:function(d3,ib){co(d3.coordinates,ib,0)},MultiLineString:function(d3,ic){var id=d3.coordinates,ib=-1,ie=id.length;while(++ib<ie){co(id[ib],ic,0)}},Polygon:function(d3,ib){he(d3.coordinates,ib)},MultiPolygon:function(d3,ic){var id=d3.coordinates,ib=-1,ie=id.length;while(++ib<ie){he(id[ib],ic)}},GeometryCollection:function(d3,id){var ic=d3.geometries,ib=-1,ie=ic.length;while(++ib<ie){aO(ic[ib],id)}}};function co(id,ic,d3){var ib=-1,ig=id.length-d3,ie;ic.lineStart();while(++ib<ig){ie=id[ib],ic.point(ie[0],ie[1],ie[2])}ic.lineEnd()}function he(ic,ib){var d3=-1,id=ic.length;ib.polygonStart();while(++d3<id){co(ic[d3],ib,1)}ib.polygonEnd()}hn.geo.area=function(d3){a9=0;hn.geo.stream(d3,hk);return a9};var a9,fO=new fb();var hk={sphere:function(){a9+=4*gd},point:aG,lineStart:aG,lineEnd:aG,polygonStart:function(){fO.reset();hk.lineStart=b6},polygonEnd:function(){var d3=2*fO;a9+=d3<0?4*gd+d3:d3;hk.lineStart=hk.lineEnd=hk.point=aG}};function b6(){var ib,d3,id,ic,ie;hk.point=function(ii,ih){hk.point=ig;id=(ib=ii)*I,ic=Math.cos(ih=(d3=ih)*I/2+gd/4),ie=Math.sin(ih)};function ig(ij,ir){ij*=I;ir=ir*I/2+gd/4;var im=ij-id,il=im>=0?1:-1,io=il*im,ih=Math.cos(ir),ik=Math.sin(ir),ii=ie*ik,iq=ic*ih+ii*Math.cos(io),ip=ii*il*Math.sin(io);fO.add(Math.atan2(ip,iq));id=ij,ic=ih,ie=ik}hk.lineEnd=function(){ig(ib,d3)}}function au(d3){var ic=d3[0],ib=d3[1],id=Math.cos(ib);return[id*Math.cos(ic),id*Math.sin(ic),Math.sin(ib)]}function ax(ib,d3){return ib[0]*d3[0]+ib[1]*d3[1]+ib[2]*d3[2]}function cY(ib,d3){return[ib[1]*d3[2]-ib[2]*d3[1],ib[2]*d3[0]-ib[0]*d3[2],ib[0]*d3[1]-ib[1]*d3[0]]}function cB(ib,d3){ib[0]+=d3[0];ib[1]+=d3[1];ib[2]+=d3[2]}function ge(d3,ib){return[d3[0]*ib,d3[1]*ib,d3[2]*ib]}function fj(ib){var d3=Math.sqrt(ib[0]*ib[0]+ib[1]*ib[1]+ib[2]*ib[2]);ib[0]/=d3;ib[1]/=d3;ib[2]/=d3}function h7(d3){return[Math.atan2(d3[1],d3[0]),cf(d3[2])]}function eS(ib,d3){return cG(ib[0]-d3[0])<gm&&cG(ib[1]-d3[1])<gm}hn.geo.bounds=function(){var id,iw,ib,iu,ie,im,ip,ig,ij,ih,ik;var d3={point:iq,lineStart:il,lineEnd:it,polygonStart:function(){d3.point=ir;d3.lineStart=ii;d3.lineEnd=io;ij=0;hk.polygonStart()},polygonEnd:function(){hk.polygonEnd();d3.point=iq;d3.lineStart=il;d3.lineEnd=it;if(fO<0){id=-(ib=180),iw=-(iu=90)}else{if(ij>gm){iu=90}else{if(ij<-gm){iw=-90}}}ik[0]=id,ik[1]=ib}};function iq(iA,iz){ih.push(ik=[id=iA,ib=iA]);if(iz<iw){iw=iz}if(iz>iu){iu=iz}}function ic(iD,iJ){var iz=au([iD*I,iJ*I]);if(ig){var iF=cY(ig,iz),iG=[iF[1],-iF[0],0],iE=cY(iG,iF);fj(iE);iE=h7(iE);var iH=iD-ie,iI=iH>0?1:-1,iA=iE[0]*hE*iI,iC=cG(iH)>180;if(iC^(iI*ie<iA&&iA<iI*iD)){var iB=iE[1]*hE;if(iB>iu){iu=iB}}else{if(iA=(iA+360)%360-180,iC^(iI*ie<iA&&iA<iI*iD)){var iB=-iE[1]*hE;if(iB<iw){iw=iB}}else{if(iJ<iw){iw=iJ}if(iJ>iu){iu=iJ}}}if(iC){if(iD<ie){if(iv(id,iD)>iv(id,ib)){ib=iD}}else{if(iv(iD,ib)>iv(id,ib)){id=iD}}}else{if(ib>=id){if(iD<id){id=iD}if(iD>ib){ib=iD}}else{if(iD>ie){if(iv(id,iD)>iv(id,ib)){ib=iD}}else{if(iv(iD,ib)>iv(id,ib)){id=iD}}}}}else{iq(iD,iJ)}ig=iz,ie=iD}function il(){d3.point=ic}function it(){ik[0]=id,ik[1]=ib;d3.point=iq;ig=null}function ir(iA,iz){if(ig){var iB=iA-ie;ij+=cG(iB)>180?iB+(iB>0?360:-360):iB}else{im=iA,ip=iz}hk.point(iA,iz);ic(iA,iz)}function ii(){hk.lineStart()}function io(){ir(im,ip);hk.lineEnd();if(cG(ij)>gm){id=-(ib=180)}ik[0]=id,ik[1]=ib;ig=null}function iv(iA,iz){return(iz-=iA)<0?iz+360:iz}function iy(iA,iz){return iA[0]-iz[0]}function ix(iz,iA){return iA[0]<=iA[1]?iA[0]<=iz&&iz<=iA[1]:iz<iA[0]||iA[1]<iz}return function(iE){iu=ib=-(id=iw=Infinity);ih=[];hn.geo.stream(iE,d3);var iG=ih.length;if(iG){ih.sort(iy);for(var iD=1,iB=ih[0],iA,iz=[iB];iD<iG;++iD){iA=ih[iD];if(ix(iA[0],iB)||ix(iA[1],iB)){if(iv(iB[0],iA[1])>iv(iB[0],iB[1])){iB[1]=iA[1]}if(iv(iA[0],iB[1])>iv(iB[0],iB[1])){iB[0]=iA[0]}}else{iz.push(iB=iA)}}var iF=-Infinity,iC;for(var iG=iz.length-1,iD=0,iB=iz[iG],iA;iD<=iG;iB=iA,++iD){iA=iz[iD];if((iC=iv(iB[1],iA[0]))>iF){iF=iC,id=iA[0],ib=iB[1]}}}ih=ik=null;return id===Infinity||iw===Infinity?[[NaN,NaN],[NaN,NaN]]:[[id,iw],[ib,iu]]}}();hn.geo.centroid=function(ic){eb=d9=dK=dl=c6=dJ=dk=c4=dI=dj=c3=0;hn.geo.stream(ic,gg);var ib=dI,ie=dj,id=c3,d3=ib*ib+ie*ie+id*id;if(d3<eD){ib=dJ,ie=dk,id=c4;if(d9<gm){ib=dK,ie=dl,id=c6}d3=ib*ib+ie*ie+id*id;if(d3<eD){return[NaN,NaN]}}return[Math.atan2(ie,ib)*hE,cf(id/Math.sqrt(d3))*hE]};var eb,d9,dK,dl,c6,dJ,dk,c4,dI,dj,c3;var gg={sphere:aG,point:ca,lineStart:fi,lineEnd:aE,polygonStart:function(){gg.lineStart=br},polygonEnd:function(){gg.lineStart=fi}};function ca(ib,d3){ib*=I;var ic=Math.cos(d3*=I);gs(ic*Math.cos(ib),ic*Math.sin(ib),Math.sin(d3))}function gs(d3,ic,ib){++eb;dK+=(d3-dK)/eb;dl+=(ic-dl)/eb;c6+=(ib-c6)/eb}function fi(){var d3,ib,id;gg.point=function(ig,ie){ig*=I;var ih=Math.cos(ie*=I);d3=ih*Math.cos(ig);ib=ih*Math.sin(ig);id=Math.sin(ie);gg.point=ic;gs(d3,ib,id)};function ic(ii,ih){ii*=I;var ij=Math.cos(ih*=I),ie=ij*Math.cos(ii),il=ij*Math.sin(ii),ik=Math.sin(ih),ig=Math.atan2(Math.sqrt((ig=ib*ik-id*il)*ig+(ig=id*ie-d3*ik)*ig+(ig=d3*il-ib*ie)*ig),d3*ie+ib*il+id*ik);d9+=ig;dJ+=ig*(d3+(d3=ie));dk+=ig*(ib+(ib=il));c4+=ig*(id+(id=ik));gs(d3,ib,id)}}function aE(){gg.point=ca}function br(){var ib,d3,ic,id,ig;gg.point=function(ii,ih){ib=ii,d3=ih;gg.point=ie;ii*=I;var ij=Math.cos(ih*=I);ic=ij*Math.cos(ii);id=ij*Math.sin(ii);ig=Math.sin(ih);gs(ic,id,ig)};gg.lineEnd=function(){ie(ib,d3);gg.lineEnd=aE;gg.point=ca};function ie(im,iv){im*=I;var ik=Math.cos(iv*=I),iq=ik*Math.cos(im),ip=ik*Math.sin(im),io=Math.sin(iv),il=id*io-ig*ip,ij=ig*iq-ic*io,ii=ic*ip-id*iq,ih=Math.sqrt(il*il+ij*ij+ii*ii),iu=ic*iq+id*ip+ig*io,it=ih&&-ac(iu)/ih,ir=Math.atan2(ih,iu);dI+=it*il;dj+=it*ij;c3+=it*ii;d9+=ir;dJ+=ir*(ic+(ic=iq));dk+=ir*(id+(id=ip));c4+=ir*(ig+(ig=io));gs(ic,id,ig)}}function e5(ib,d3){function ic(id,ie){return id=ib(id,ie),d3(id[0],id[1])}if(ib.invert&&d3.invert){ic.invert=function(id,ie){return id=d3.invert(id,ie),id&&ib.invert(id[0],id[1])}}return ic}function ag(){return true}function cr(ih,ib,il,ij,id){var ik=[],ie=[];ih.forEach(function(iv){if((iy=iv.length-1)<=0){return}var iy,ix=iv[0],iw=iv[iy];if(eS(ix,iw)){id.lineStart();for(var iu=0;iu<iy;++iu){id.point((ix=iv[iu])[0],ix[1])}id.lineEnd();return}var it=new f(ix,iv,null,true),ir=new f(ix,null,it,false);it.o=ir;ik.push(it);ie.push(ir);it=new f(iw,iv,null,false);ir=new f(iw,null,it,true);it.o=ir;ik.push(it);ie.push(ir)});ie.sort(ib);hJ(ik);hJ(ie);if(!ik.length){return}for(var ig=0,io=il,ic=ie.length;ig<ic;++ig){ie[ig].e=io=!io}var d3=ik[0],ip,im;while(1){var ii=d3,iq=true;while(ii.v){if((ii=ii.n)===d3){return}}ip=ii.z;id.lineStart();do{ii.v=ii.o.v=true;if(ii.e){if(iq){for(var ig=0,ic=ip.length;ig<ic;++ig){id.point((im=ip[ig])[0],im[1])}}else{ij(ii.x,ii.n.x,1,id)}ii=ii.n}else{if(iq){ip=ii.p.z;for(var ig=ip.length-1;ig>=0;--ig){id.point((im=ip[ig])[0],im[1])}}else{ij(ii.x,ii.p.x,-1,id)}ii=ii.p}ii=ii.o;ip=ii.z;iq=!iq}while(!ii.v);id.lineEnd()}}function hJ(ie){if(!(id=ie.length)){return}var id,ic=0,ib=ie[0],d3;while(++ic<id){ib.n=d3=ie[ic];d3.p=ib;ib=d3}ib.n=d3=ie[0];d3.p=ib}function f(ib,ic,d3,id){this.x=ib;this.z=ic;this.o=d3;this.e=id;this.v=false;this.n=this.p=null}function eh(d3,id,ib,ic){return function(iw,ij){var io=id(ij),ii=iw.invert(ic[0],ic[1]);var iy={point:it,lineStart:iq,lineEnd:ix,polygonStart:function(){iy.point=ig;iy.lineStart=ik;iy.lineEnd=ir;iu=[];ip=[]},polygonEnd:function(){iy.point=it;iy.lineStart=iq;iy.lineEnd=ix;iu=hn.merge(iu);var iz=fL(ii,ip);if(iu.length){if(!ih){ij.polygonStart(),ih=true}cr(iu,dV,iz,ib,ij)}else{if(iz){if(!ih){ij.polygonStart(),ih=true}ij.lineStart();ib(null,null,1,ij);ij.lineEnd()}}if(ih){ij.polygonEnd(),ih=false}iu=ip=null},sphere:function(){ij.polygonStart();ij.lineStart();ib(null,null,1,ij);ij.lineEnd();ij.polygonEnd()}};function it(iB,iA){var iz=iw(iB,iA);if(d3(iB=iz[0],iA=iz[1])){ij.point(iB,iA)}}function il(iB,iA){var iz=iw(iB,iA);io.point(iz[0],iz[1])}function iq(){iy.point=il;io.lineStart()}function ix(){iy.point=it;io.lineEnd()}var iu;var iv=P(),ie=id(iv),ih=false,ip,im;function ig(iB,iA){im.push([iB,iA]);var iz=iw(iB,iA);ie.point(iz[0],iz[1])}function ik(){ie.lineStart();im=[]}function ir(){ig(im[0][0],im[0][1]);ie.lineEnd();var iB=ie.clean(),iD=iv.buffer(),iC,iE=iD.length;im.pop();ip.push(im);im=null;if(!iE){return}if(iB&1){iC=iD[0];var iE=iC.length-1,iA=-1,iz;if(iE>0){if(!ih){ij.polygonStart(),ih=true}ij.lineStart();while(++iA<iE){ij.point((iz=iC[iA])[0],iz[1])}ij.lineEnd()}return}if(iE>1&&iB&2){iD.push(iD.pop().concat(iD.shift()))}iu.push(iD.filter(eN))}return iy}}function eN(d3){return d3.length>1}function P(){var ib=[],d3;return{lineStart:function(){ib.push(d3=[])},point:function(id,ic){d3.push([id,ic])},lineEnd:aG,buffer:function(){var ic=ib;ib=[];d3=null;return ic},rejoin:function(){if(ib.length>1){ib.push(ib.pop().concat(ib.shift()))}}}}function dV(ib,d3){return((ib=ib.x)[0]<0?ib[1]-ep-gm:ep-ib[1])-((d3=d3.x)[0]<0?d3[1]-ep-gm:ep-d3[1])}var k=eh(ag,eE,dc,[-gd,-gd/2]);function eE(ie){var ib=NaN,d3=NaN,id=NaN,ic;return{lineStart:function(){ie.lineStart();ic=1},point:function(ih,ig){var ij=ih>0?gd:-gd,ii=cG(ih-ib);if(cG(ii-gd)<gm){ie.point(ib,d3=(d3+ig)/2>0?ep:-ep);ie.point(id,d3);ie.lineEnd();ie.lineStart();ie.point(ij,d3);ie.point(ih,d3);ic=0}else{if(id!==ij&&ii>=gd){if(cG(ib-id)<gm){ib-=id*gm}if(cG(ih-ij)<gm){ih-=ij*gm}d3=u(ib,d3,ih,ig);ie.point(id,d3);ie.lineEnd();ie.lineStart();ie.point(ij,d3);ic=0}}ie.point(ib=ih,d3=ig);id=ij},lineEnd:function(){ie.lineEnd();ib=d3=NaN},clean:function(){return 2-ic}}}function u(ig,ie,id,ic){var ib,d3,ih=Math.sin(ig-id);return cG(ih)>gm?Math.atan((Math.sin(ie)*(d3=Math.cos(ic))*Math.sin(id)-Math.sin(ic)*(ib=Math.cos(ie))*Math.sin(ig))/(ib*d3*ih)):(ie+ic)/2}function dc(ig,ie,id,ic){var d3;if(ig==null){d3=id*ep;ic.point(-gd,d3);ic.point(0,d3);ic.point(gd,d3);ic.point(gd,0);ic.point(gd,-d3);ic.point(0,-d3);ic.point(-gd,-d3);ic.point(-gd,0);ic.point(-gd,d3)}else{if(cG(ig[0]-ie[0])>gm){var ib=ig[0]<ie[0]?gd:-gd;d3=id*ib/2;ic.point(-ib,d3);ic.point(0,d3);ic.point(ib,d3)}else{ic.point(ie[0],ie[1])}}}function fL(iw,ir){var iE=iw[0],iF=iw[1],d3=[Math.sin(iE),-Math.cos(iE),0],iq=0,iC=0;fO.reset();for(var iB=0,it=ir.length;iB<it;++iB){var ij=ir[iB],iv=ij.length;if(!iv){continue}var ig=ij[0],ic=ig[0],iD=ig[1]/2+gd/4,ii=Math.sin(iD),ib=Math.cos(iD),iA=1;while(true){if(iA===iv){iA=0}iw=ij[iA];var iu=iw[0],ip=iw[1]/2+gd/4,id=Math.sin(ip),iz=Math.cos(ip),iy=iu-ic,ik=iy>=0?1:-1,im=ik*iy,ie=im>gd,ix=ii*id;fO.add(Math.atan2(ix*ik*Math.sin(im),ib*iz+ix*Math.cos(im)));iq+=ie?iy+ik*f7:iy;if(ie^ic>=iE^iu>=iE){var il=cY(au(ig),au(iw));fj(il);var io=cY(d3,il);fj(io);var ih=(ie^iy>=0?-1:1)*cf(io[2]);if(iF>ih||iF===ih&&(il[0]||il[1])){iC+=ie^iy>=0?1:-1}}if(!iA++){break}ic=iu,ii=id,ib=iz,ig=iw}}return(iq<-gm||iq<gm&&fO<-gm)^iC&1}function aK(ie){var ig=Math.cos(ie),id=ig>0,ih=cG(ig)>gm,ii=b5(ie,6*I);return eh(ic,ij,ii,id?[0,-ie]:[-gd,ie-gd]);function ic(il,ik){return Math.cos(il)*Math.cos(ik)>ig}function ij(iq){var ip,io,ik,im,il;return{lineStart:function(){im=ik=false;il=1},point:function(it,ir){var ix=[it,ir],iw,iu=ic(it,ir),iy=id?iu?0:d3(it,ir):iu?d3(it+(it<0?gd:-gd),ir):0;if(!ip&&(im=ik=iu)){iq.lineStart()}if(iu!==ik){iw=ib(ip,ix);if(eS(ip,iw)||eS(ix,iw)){ix[0]+=gm;ix[1]+=gm;iu=ic(ix[0],ix[1])}}if(iu!==ik){il=0;if(iu){iq.lineStart();iw=ib(ix,ip);iq.point(iw[0],iw[1])}else{iw=ib(ip,ix);iq.point(iw[0],iw[1]);iq.lineEnd()}ip=iw}else{if(ih&&ip&&id^iu){var iv;if(!(iy&io)&&(iv=ib(ix,ip,true))){il=0;if(id){iq.lineStart();iq.point(iv[0][0],iv[0][1]);iq.point(iv[1][0],iv[1][1]);iq.lineEnd()}else{iq.point(iv[1][0],iv[1][1]);iq.lineEnd();iq.lineStart();iq.point(iv[0][0],iv[0][1])}}}}if(iu&&(!ip||!eS(ip,ix))){iq.point(ix[0],ix[1])}ip=ix,ik=iu,io=iy},lineEnd:function(){if(ik){iq.lineEnd()}ip=null},clean:function(){return il|(im&&ik)<<1}}}function ib(iN,iM,ip){var im=au(iN),ik=au(iM);var iv=[1,0,0],ir=cY(im,ik),iy=ax(ir,ir),iL=ir[0],iE=iy-iL*iL;if(!iE){return !ip&&iN}var iH=ig*iy/iE,iG=-ig*iL/iE,iO=cY(iv,ir),iF=ge(iv,iH),iD=ge(ir,iG);cB(iF,iD);var iA=iO,iz=ax(iF,iA),iq=ax(iA,iA),ix=iz*iz-iq*(ax(iF,iF)-1);if(ix<0){return}var iB=Math.sqrt(ix),iC=ge(iA,(-iz-iB)/iq);cB(iC,iF);iC=h7(iC);if(!ip){return iC}var io=iN[0],il=iM[0],iJ=iN[1],iI=iM[1],iu;if(il<io){iu=io,io=il,il=iu}var it=il-io,iP=cG(it-gd)<gm,iK=iP||it<gm;if(!iP&&iI<iJ){iu=iJ,iJ=iI,iI=iu}if(iK?iP?iJ+iI>0^iC[1]<(cG(iC[0]-io)<gm?iJ:iI):iJ<=iC[1]&&iC[1]<=iI:it>gd^(io<=iC[0]&&iC[0]<=il)){var iw=ge(iA,(-iz+iB)/iq);cB(iw,iF);return[iC,h7(iw)]}}function d3(il,ik){var io=id?ie:gd-ie,im=0;if(il<-io){im|=1}else{if(il>io){im|=2}}if(ik<-io){im|=4}else{if(ik>io){im|=8}}return im}}function aj(ib,id,d3,ic){return function(ir){var im=ir.a,il=ir.b,ig=im.x,iq=im.y,ik=il.x,ij=il.y,ii=0,ih=1,ip=ik-ig,io=ij-iq,ie;ie=ib-ig;if(!ip&&ie>0){return}ie/=ip;if(ip<0){if(ie<ii){return}if(ie<ih){ih=ie}}else{if(ip>0){if(ie>ih){return}if(ie>ii){ii=ie}}}ie=d3-ig;if(!ip&&ie<0){return}ie/=ip;if(ip<0){if(ie>ih){return}if(ie>ii){ii=ie}}else{if(ip>0){if(ie<ii){return}if(ie<ih){ih=ie}}}ie=id-iq;if(!io&&ie>0){return}ie/=io;if(io<0){if(ie<ii){return}if(ie<ih){ih=ie}}else{if(io>0){if(ie>ih){return}if(ie>ii){ii=ie}}}ie=ic-iq;if(!io&&ie<0){return}ie/=io;if(io<0){if(ie>ih){return}if(ie>ii){ii=ie}}else{if(io>0){if(ie<ii){return}if(ie<ih){ih=ie}}}if(ii>0){ir.a={x:ig+ii*ip,y:iq+ii*io}}if(ih<1){ir.b={x:ig+ih*ip,y:iq+ih*io}}return ir}}var cJ=1000000000;hn.geo.clipExtent=function(){var ic,ig,ib,id,ih,ie,d3={stream:function(ii){if(ih){ih.valid=false}ih=ie(ii);ih.valid=true;return ih},extent:function(ii){if(!arguments.length){return[[ic,ig],[ib,id]]}ie=ee(ic=+ii[0][0],ig=+ii[0][1],ib=+ii[1][0],id=+ii[1][1]);if(ih){ih.valid=false,ih=null}return d3}};return d3.extent([[0,0],[960,500]])};function ee(ib,ie,d3,ic){return function(io){var ij=io,iu=P(),ik=aj(ib,ie,d3,ic),iC,iv,ir;var iG={point:iB,lineStart:iy,lineEnd:iE,polygonStart:function(){io=iu;iC=[];iv=[];iD=true},polygonEnd:function(){io=ij;iC=hn.merge(iC);var iI=ix([ib,ic]),iH=iD&&iI,iJ=iC.length;if(iH||iJ){io.polygonStart();if(iH){io.lineStart();it(null,null,1,io);io.lineEnd()}if(iJ){cr(iC,ig,iI,it,io)}io.polygonEnd()}iC=iv=ir=null}};function ix(iH){var iP=0,iI=iv.length,iN=iH[1];for(var iL=0;iL<iI;++iL){for(var iK=1,iQ=iv[iL],iJ=iQ.length,iO=iQ[0],iM;iK<iJ;++iK){iM=iQ[iK];if(iO[1]<=iN){if(iM[1]>iN&&eZ(iO,iM,iH)>0){++iP}}else{if(iM[1]<=iN&&eZ(iO,iM,iH)<0){--iP}}iO=iM}}return iP!==0}function it(iM,iL,iK,iJ){var iI=0,iH=0;if(iM==null||(iI=id(iM,iK))!==(iH=id(iL,iK))||ih(iM,iL)<0^iK>0){do{iJ.point(iI===0||iI===3?ib:d3,iI>1?ic:ie)}while((iI=(iI+iK+4)%4)!==iH)}else{iJ.point(iL[0],iL[1])}}function iw(iH,iI){return ib<=iH&&iH<=d3&&ie<=iI&&iI<=ic}function iB(iH,iI){if(iw(iH,iI)){io.point(iH,iI)}}var iA,ip,iz,iF,im,il,iq,iD;function iy(){iG.point=ii;if(iv){iv.push(ir=[])}iq=true;il=false;iF=im=NaN}function iE(){if(iC){ii(iA,ip);if(iz&&il){iu.rejoin()}iC.push(iu.buffer())}iG.point=iB;if(il){io.lineEnd()}}function ii(iH,iK){iH=Math.max(-cJ,Math.min(cJ,iH));iK=Math.max(-cJ,Math.min(cJ,iK));var iJ=iw(iH,iK);if(iv){ir.push([iH,iK])}if(iq){iA=iH,ip=iK,iz=iJ;iq=false;if(iJ){io.lineStart();io.point(iH,iK)}}else{if(iJ&&il){io.point(iH,iK)}else{var iI={a:{x:iF,y:im},b:{x:iH,y:iK}};if(ik(iI)){if(!il){io.lineStart();io.point(iI.a.x,iI.a.y)}io.point(iI.b.x,iI.b.y);if(!iJ){io.lineEnd()}iD=false}else{if(iJ){io.lineStart();io.point(iH,iK);iD=false}}}}iF=iH,im=iK,il=iJ}return iG};function id(ij,ii){return cG(ij[0]-ib)<gm?ii>0?0:3:cG(ij[0]-d3)<gm?ii>0?2:1:cG(ij[1]-ie)<gm?ii>0?1:0:ii>0?3:2}function ig(ij,ii){return ih(ij.x,ii.x)}function ih(il,ij){var ik=id(il,1),ii=id(ij,1);return ik!==ii?ik-ii:ik===0?ij[1]-il[1]:ik===1?il[0]-ij[0]:ik===2?il[1]-ij[1]:ij[0]-il[0]}}function b7(id){var ic=0,ib=gd/3,d3=fg(id),ie=d3(ic,ib);ie.parallels=function(ig){if(!arguments.length){return[ic/gd*180,ib/gd*180]}return d3(ic=ig[0]*gd/180,ib=ig[1]*gd/180)};return ie}function M(ib,d3){var ie=Math.sin(ib),ih=(ie+Math.sin(d3))/2,ig=1+ie*(2*ih-ie),id=Math.sqrt(ig)/ih;function ic(ij,ii){var ik=Math.sqrt(ig-2*ih*Math.sin(ii))/ih;return[ik*Math.sin(ij*=ih),id-ik*Math.cos(ij)]}ic.invert=function(ii,ik){var ij=id-ik;return[Math.atan2(ii,ij)/ih,cf((ig-(ii*ii+ij*ij)*ih*ih)/(2*ih))]};return ic}(hn.geo.conicEqualArea=function(){return b7(M)}).raw=M;hn.geo.albers=function(){return hn.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};hn.geo.albersUsa=function(){var ib=hn.geo.albers();var ig=hn.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var ic=hn.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var ii,d3={point:function(ik,il){ii=[ik,il]}},ie,ih,id;function ij(il){var ik=il[0],im=il[1];ii=null;(ie(ik,im),ii)||(ih(ik,im),ii)||id(ik,im);return ii}ij.invert=function(io){var il=ib.scale(),im=ib.translate(),ik=(io[0]-im[0])/il,ip=(io[1]-im[1])/il;return(ip>=0.12&&ip<0.234&&ik>=-0.425&&ik<-0.214?ig:ip>=0.166&&ip<0.234&&ik>=-0.214&&ik<-0.115?ic:ib).invert(io)};ij.stream=function(im){var il=ib.stream(im),io=ig.stream(im),ik=ic.stream(im);return{point:function(ip,iq){il.point(ip,iq);io.point(ip,iq);ik.point(ip,iq)},sphere:function(){il.sphere();io.sphere();ik.sphere()},lineStart:function(){il.lineStart();io.lineStart();ik.lineStart()},lineEnd:function(){il.lineEnd();io.lineEnd();ik.lineEnd()},polygonStart:function(){il.polygonStart();io.polygonStart();ik.polygonStart()},polygonEnd:function(){il.polygonEnd();io.polygonEnd();ik.polygonEnd()}}};ij.precision=function(ik){if(!arguments.length){return ib.precision()}ib.precision(ik);ig.precision(ik);ic.precision(ik);return ij};ij.scale=function(ik){if(!arguments.length){return ib.scale()}ib.scale(ik);ig.scale(ik*0.35);ic.scale(ik);return ij.translate(ib.translate())};ij.translate=function(im){if(!arguments.length){return ib.translate()}var il=ib.scale(),ik=+im[0],io=+im[1];ie=ib.translate(im).clipExtent([[ik-0.455*il,io-0.238*il],[ik+0.455*il,io+0.238*il]]).stream(d3).point;ih=ig.translate([ik-0.307*il,io+0.201*il]).clipExtent([[ik-0.425*il+gm,io+0.12*il+gm],[ik-0.214*il-gm,io+0.234*il-gm]]).stream(d3).point;id=ic.translate([ik-0.205*il,io+0.212*il]).clipExtent([[ik-0.214*il+gm,io+0.166*il+gm],[ik-0.115*il-gm,io+0.234*il-gm]]).stream(d3).point;return ij};return ij.scale(1070)};var fM,A,dB={point:aG,lineStart:aG,lineEnd:aG,polygonStart:function(){A=0;dB.lineStart=cL},polygonEnd:function(){dB.lineStart=dB.lineEnd=dB.point=aG;fM+=cG(A/2)}};function cL(){var id,d3,ib,ic;dB.point=function(ig,ih){dB.point=ie;id=ib=ig,d3=ic=ih};function ie(ig,ih){A+=ic*ig-ib*ih;ib=ig,ic=ih}dB.lineEnd=function(){ie(id,d3)}}var eL,eo,eJ,en;var aw={point:cT,lineStart:aG,lineEnd:aG,polygonStart:aG,polygonEnd:aG};function cT(d3,ib){if(d3<eL){eL=d3}if(d3>eJ){eJ=d3}if(ib<eo){eo=ib}if(ib>en){en=ib}}function cj(){var ic=g7(4.5),ib=[];var ii={point:d3,lineStart:function(){ii.point=ih},lineEnd:ig,polygonStart:function(){ii.lineEnd=id},polygonEnd:function(){ii.lineEnd=ig;ii.point=d3},pointRadius:function(ij){ic=g7(ij);return ii},result:function(){if(ib.length){var ij=ib.join("");ib=[];return ij}}};function d3(ij,ik){ib.push("M",ij,",",ik,ic)}function ih(ij,ik){ib.push("M",ij,",",ik);ii.point=ie}function ie(ij,ik){ib.push("L",ij,",",ik)}function ig(){ii.point=d3}function id(){ib.push("Z")}return ii}function g7(d3){return"m0,"+d3+"a"+d3+","+d3+" 0 1,1 0,"+-2*d3+"a"+d3+","+d3+" 0 1,1 0,"+2*d3+"z"}var g6={point:cP,lineStart:fR,lineEnd:cO,polygonStart:function(){g6.lineStart=b0},polygonEnd:function(){g6.point=cP;g6.lineStart=fR;g6.lineEnd=cO}};function cP(d3,ib){dK+=d3;dl+=ib;++c6}function fR(){var d3,ib;g6.point=function(id,ie){g6.point=ic;cP(d3=id,ib=ie)};function ic(id,ii){var ig=id-d3,ie=ii-ib,ih=Math.sqrt(ig*ig+ie*ie);dJ+=ih*(d3+id)/2;dk+=ih*(ib+ii)/2;c4+=ih;cP(d3=id,ib=ii)}}function cO(){g6.point=cP}function b0(){var id,d3,ib,ic;g6.point=function(ig,ih){g6.point=ie;cP(id=ib=ig,d3=ic=ih)};function ie(ig,ik){var ii=ig-ib,ih=ik-ic,ij=Math.sqrt(ii*ii+ih*ih);dJ+=ij*(ib+ig)/2;dk+=ij*(ic+ik)/2;c4+=ij;ij=ic*ig-ib*ik;dI+=ij*(ib+ig);dj+=ij*(ic+ik);c3+=ij*3;cP(ib=ig,ic=ik)}g6.lineEnd=function(){ie(id,d3)}}function cE(ib){var ie=4.5;var ii={point:d3,lineStart:function(){ii.point=ih},lineEnd:ig,polygonStart:function(){ii.lineEnd=ic},polygonEnd:function(){ii.lineEnd=ig;ii.point=d3},pointRadius:function(ij){ie=ij;return ii},result:aG};function d3(ij,ik){ib.moveTo(ij+ie,ik);ib.arc(ij,ik,ie,0,f7)}function ih(ij,ik){ib.moveTo(ij,ik);ii.point=id}function id(ij,ik){ib.lineTo(ij,ik)}function ig(){ii.point=d3}function ic(){ib.closePath()}return ii}function fN(ih){var ie=0.5,ig=Math.cos(30*I),ii=16;function ic(ij){return(ii?id:d3)(ij)}function d3(ij){return eG(ij,function(ik,il){ik=ih(ik,il);ij.point(ik[0],ik[1])})}function id(iq){var iw,iC,iB,ir,iF,iu,ik,il,iE,im,iG,it,ix;var io={point:iA,lineStart:iv,lineEnd:iD,polygonStart:function(){iq.polygonStart();io.lineStart=ip},polygonEnd:function(){iq.polygonEnd();io.lineStart=iv}};function iA(iH,iI){iH=ih(iH,iI);iq.point(iH[0],iH[1])}function iv(){iE=NaN;io.point=ij;iq.lineStart()}function ij(iI,iH){var iK=au([iI,iH]),iJ=ih(iI,iH);ib(iE,im,il,iG,it,ix,iE=iJ[0],im=iJ[1],il=iI,iG=iK[0],it=iK[1],ix=iK[2],ii,iq);iq.point(iE,im)}function iD(){io.point=iA;iq.lineEnd()}function ip(){iv();io.point=iz;io.lineEnd=iy}function iz(iI,iH){ij(iw=iI,iC=iH),iB=iE,ir=im,iF=iG,iu=it,ik=ix;io.point=ij}function iy(){ib(iE,im,il,iG,it,ix,iB,ir,iw,iF,iu,ik,ii,iq);io.lineEnd=iD;iD()}return io}function ib(iG,iq,il,iN,iu,iC,iF,ip,ik,iL,it,iA,iK,ir){var iy=iF-iG,ix=ip-iq,iM=iy*iy+ix*ix;if(iM>4*ie&&iK--){var iJ=iN+iL,iI=iu+it,iH=iC+iA,iB=Math.sqrt(iJ*iJ+iI*iI+iH*iH),iE=Math.asin(iH/=iB),ij=cG(cG(iH)-1)<gm||cG(il-ik)<gm?(il+ik)/2:Math.atan2(iI,iJ),iz=ih(ij,iE),iD=iz[0],io=iz[1],im=iD-iG,iw=io-iq,iv=ix*im-iy*iw;if(iv*iv/iM>ie||cG((iy*im+ix*iw)/iM-0.5)>0.3||iN*iL+iu*it+iC*iA<ig){ib(iG,iq,il,iN,iu,iC,iD,io,ij,iJ/=iB,iI/=iB,iH,iK,ir);ir.point(iD,io);ib(iD,io,ij,iJ,iI,iH,iF,ip,ik,iL,it,iA,iK,ir)}}}ic.precision=function(ij){if(!arguments.length){return Math.sqrt(ie)}ii=(ie=ij*ij)>0&&16;return ic};return ic}hn.geo.path=function(){var ih=4.5,ib,id,ie,d3,ic;function ii(ij){if(ij){if(typeof ih==="function"){d3.pointRadius(+ih.apply(this,arguments))}if(!ic||!ic.valid){ic=ie(d3)}hn.geo.stream(ij,ic)}return d3.result()}ii.area=function(ij){fM=0;hn.geo.stream(ij,ie(dB));return fM};ii.centroid=function(ij){dK=dl=c6=dJ=dk=c4=dI=dj=c3=0;hn.geo.stream(ij,ie(g6));return c3?[dI/c3,dj/c3]:c4?[dJ/c4,dk/c4]:c6?[dK/c6,dl/c6]:[NaN,NaN]};ii.bounds=function(ij){eJ=en=-(eL=eo=Infinity);hn.geo.stream(ij,ie(aw));return[[eL,eo],[eJ,en]]};ii.projection=function(ij){if(!arguments.length){return ib}ie=(ib=ij)?ij.stream||hg(ij):gk;return ig()};ii.context=function(ij){if(!arguments.length){return id}d3=(id=ij)==null?new cj():new cE(ij);if(typeof ih!=="function"){d3.pointRadius(ih)}return ig()};ii.pointRadius=function(ij){if(!arguments.length){return ih}ih=typeof ij==="function"?ij:(d3.pointRadius(+ij),+ij);return ii};function ig(){ic=null;return ii}return ii.projection(hn.geo.albersUsa()).context(null)};function hg(ib){var d3=fN(function(ic,id){return ib([ic*hE,id*hE])});return function(ic){return ch(d3(ic))}}hn.geo.transform=function(d3){return{stream:function(id){var ic=new ea(id);for(var ib in d3){ic[ib]=d3[ib]}return ic}}};function ea(d3){this.stream=d3}ea.prototype={point:function(d3,ib){this.stream.point(d3,ib)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function eG(ib,d3){return{point:d3,sphere:function(){ib.sphere()},lineStart:function(){ib.lineStart()},lineEnd:function(){ib.lineEnd()},polygonStart:function(){ib.polygonStart()},polygonEnd:function(){ib.polygonEnd()}}}hn.geo.projection=fz;hn.geo.projectionMutator=fg;function fz(d3){return fg(function(){return d3})()}function fg(iq){var id,iw,ii,it=fN(function(iB,iC){iB=id(iB,iC);return[iB[0]*iv+ig,ic-iB[1]*iv]}),iv=150,io=480,il=250,iu=0,im=0,ij=0,ie=0,ir=0,ig,ic,iA=k,ix=gk,d3=null,ib=null,ih;function iz(iB){iB=ii(iB[0]*I,iB[1]*I);return[iB[0]*iv+ig,ic-iB[1]*iv]}function ip(iB){iB=ii.invert((iB[0]-ig)/iv,(ic-iB[1])/iv);return iB&&[iB[0]*hE,iB[1]*hE]}iz.stream=function(iB){if(ih){ih.valid=false}ih=ch(iA(iw,it(ix(iB))));ih.valid=true;return ih};iz.clipAngle=function(iB){if(!arguments.length){return d3}iA=iB==null?(d3=iB,k):aK((d3=+iB)*I);return ik()};iz.clipExtent=function(iB){if(!arguments.length){return ib}ib=iB;ix=iB?ee(iB[0][0],iB[0][1],iB[1][0],iB[1][1]):gk;return ik()};iz.scale=function(iB){if(!arguments.length){return iv}iv=+iB;return iy()};iz.translate=function(iB){if(!arguments.length){return[io,il]}io=+iB[0];il=+iB[1];return iy()};iz.center=function(iB){if(!arguments.length){return[iu*hE,im*hE]}iu=iB[0]%360*I;im=iB[1]%360*I;return iy()};iz.rotate=function(iB){if(!arguments.length){return[ij*hE,ie*hE,ir*hE]}ij=iB[0]%360*I;ie=iB[1]%360*I;ir=iB.length>2?iB[2]%360*I:0;return iy()};hn.rebind(iz,it,"precision");function iy(){ii=e5(iw=dG(ij,ie,ir),id);var iB=id(iu,im);ig=io-iB[0]*iv;ic=il+iB[1]*iv;return ik()}function ik(){if(ih){ih.valid=false,ih=null}return iz}return function(){id=iq.apply(this,arguments);iz.invert=id.invert&&ip;return iy()}}function ch(d3){return eG(d3,function(ib,ic){d3.point(ib*I,ic*I)})}function bz(ib,d3){return[ib,d3]}(hn.geo.equirectangular=function(){return fz(bz)}).raw=bz.invert=bz;hn.geo.rotation=function(ib){ib=dG(ib[0]%360*I,ib[1]*I,ib.length>2?ib[2]*I:0);function d3(ic){ic=ib(ic[0]*I,ic[1]*I);return ic[0]*=hE,ic[1]*=hE,ic}d3.invert=function(ic){ic=ib.invert(ic[0]*I,ic[1]*I);return ic[0]*=hE,ic[1]*=hE,ic};return d3};function bI(ib,d3){return[ib>gd?ib-f7:ib<-gd?ib+f7:ib,d3]}bI.invert=bz;function dG(ic,ib,d3){return ic?ib||d3?e5(e0(ic),bU(ib,d3)):e0(ic):ib||d3?bU(ib,d3):bI}function gY(d3){return function(ic,ib){return ic+=d3,[ic>gd?ic-f7:ic<-gd?ic+f7:ic,ib]}}function e0(ib){var d3=gY(ib);d3.invert=gY(-ib);return d3}function bU(ig,ib){var ie=Math.cos(ig),ih=Math.sin(ig),d3=Math.cos(ib),ic=Math.sin(ib);function id(ik,ij){var im=Math.cos(ij),ii=Math.cos(ik)*im,ip=Math.sin(ik)*im,io=Math.sin(ij),il=io*ie+ii*ih;return[Math.atan2(ip*d3-il*ic,ii*ie-io*ih),cf(il*d3+ip*ic)]}id.invert=function(ik,ij){var im=Math.cos(ij),ii=Math.cos(ik)*im,ip=Math.sin(ik)*im,io=Math.sin(ij),il=io*d3-ip*ic;return[Math.atan2(ip*d3+io*ic,ii*ie+il*ih),cf(il*ie-ii*ih)]};return id}hn.geo.circle=function(){var ib=[0,0],ie,d3=6,ic;function id(){var ig=typeof ib==="function"?ib.apply(this,arguments):ib,ii=dG(-ig[0]*I,-ig[1]*I,0).invert,ih=[];ic(null,null,1,{point:function(ij,ik){ih.push(ij=ii(ij,ik));ij[0]*=hE,ij[1]*=hE}});return{type:"Polygon",coordinates:[ih]}}id.origin=function(ig){if(!arguments.length){return ib}ib=ig;return id};id.angle=function(ig){if(!arguments.length){return ie}ic=b5((ie=+ig)*I,d3*I);return id};id.precision=function(ig){if(!arguments.length){return d3}ic=b5(ie*I,(d3=+ig)*I);return id};return id.angle(90)};function b5(d3,ib){var id=Math.cos(d3),ic=Math.sin(d3);return function(il,ik,ij,ii){var ih=ij*ib;if(il!=null){il=hR(id,il);ik=hR(id,ik);if(ij>0?il<ik:il>ik){il+=ij*f7}}else{il=d3+ij*f7;ik=d3-0.5*ih}for(var ie,ig=il;ij>0?ig>ik:ig<ik;ig-=ih){ii.point((ie=h7([id,-ic*Math.cos(ig),-ic*Math.sin(ig)]))[0],ie[1])}}}function hR(ic,d3){var ib=au(d3);ib[0]-=ic;fj(ib);var id=ac(-ib[1]);return((-ib[2]<0?-id:id)+2*Math.PI-gm)%(2*Math.PI)}hn.geo.distance=function(ii,ih){var ij=(ih[0]-ii[0])*I,il=ii[1]*I,ik=ih[1]*I,ie=Math.sin(ij),ib=Math.cos(ij),ig=Math.sin(il),ic=Math.cos(il),id=Math.sin(ik),d3=Math.cos(ik),im;return Math.atan2(Math.sqrt((im=d3*ie)*im+(im=ic*id-ig*d3*ib)*im),ig*id+ic*d3*ib)};hn.geo.graticule=function(){var iq,it,iu,iv,id,ie,ig,ii,io=10,im=io,ij=90,ih=360,il,ik,ic,ib,ip=2.5;function ir(){return{type:"MultiLineString",coordinates:d3()}}function d3(){return hn.range(Math.ceil(iv/ij)*ij,iu,ij).map(ic).concat(hn.range(Math.ceil(ii/ih)*ih,ig,ih).map(ib)).concat(hn.range(Math.ceil(it/io)*io,iq,io).filter(function(iw){return cG(iw%ij)>gm}).map(il)).concat(hn.range(Math.ceil(ie/im)*im,id,im).filter(function(iw){return cG(iw%ih)>gm}).map(ik))}ir.lines=function(){return d3().map(function(iw){return{type:"LineString",coordinates:iw}})};ir.outline=function(){return{type:"Polygon",coordinates:[ic(iv).concat(ib(ig).slice(1),ic(iu).reverse().slice(1),ib(ii).reverse().slice(1))]}};ir.extent=function(iw){if(!arguments.length){return ir.minorExtent()}return ir.majorExtent(iw).minorExtent(iw)};ir.majorExtent=function(iw){if(!arguments.length){return[[iv,ii],[iu,ig]]}iv=+iw[0][0],iu=+iw[1][0];ii=+iw[0][1],ig=+iw[1][1];if(iv>iu){iw=iv,iv=iu,iu=iw}if(ii>ig){iw=ii,ii=ig,ig=iw}return ir.precision(ip)};ir.minorExtent=function(iw){if(!arguments.length){return[[it,ie],[iq,id]]}it=+iw[0][0],iq=+iw[1][0];ie=+iw[0][1],id=+iw[1][1];if(it>iq){iw=it,it=iq,iq=iw}if(ie>id){iw=ie,ie=id,id=iw}return ir.precision(ip)};ir.step=function(iw){if(!arguments.length){return ir.minorStep()}return ir.majorStep(iw).minorStep(iw)};ir.majorStep=function(iw){if(!arguments.length){return[ij,ih]}ij=+iw[0],ih=+iw[1];return ir};ir.minorStep=function(iw){if(!arguments.length){return[io,im]}io=+iw[0],im=+iw[1];return ir};ir.precision=function(iw){if(!arguments.length){return ip}ip=+iw;il=aJ(ie,id,90);ik=aI(it,iq,ip);ic=aJ(ii,ig,90);ib=aI(iv,iu,ip);return ir};return ir.majorExtent([[-180,-90+gm],[180,90-gm]]).minorExtent([[-180,-80-gm],[180,80+gm]])};function aJ(ic,ib,d3){var id=hn.range(ic,ib-gm,d3).concat(ib);return function(ie){return id.map(function(ig){return[ie,ig]})}}function aI(id,ic,ib){var d3=hn.range(id,ic-gm,ib).concat(ic);return function(ie){return d3.map(function(ig){return[ig,ie]})}}function hI(d3){return d3.source}function hP(d3){return d3.target}hn.geo.greatArc=function(){var ic=hI,ib,id=hP,ie;function d3(){return{type:"LineString",coordinates:[ib||ic.apply(this,arguments),ie||id.apply(this,arguments)]}}d3.distance=function(){return hn.geo.distance(ib||ic.apply(this,arguments),ie||id.apply(this,arguments))};d3.source=function(ig){if(!arguments.length){return ic}ic=ig,ib=typeof ig==="function"?null:ig;return d3};d3.target=function(ig){if(!arguments.length){return id}id=ig,ie=typeof ig==="function"?null:ig;return d3};d3.precision=function(){return arguments.length?d3:0};return d3};hn.geo.interpolate=function(d3,ib){return h(d3[0]*I,d3[1]*I,ib[0]*I,ib[1]*I)};function h(id,iq,ic,io){var ih=Math.cos(iq),ip=Math.sin(iq),ie=Math.cos(io),im=Math.sin(io),ij=ih*Math.cos(id),ib=ih*Math.sin(id),ii=ie*Math.cos(ic),d3=ie*Math.sin(ic),il=2*Math.asin(Math.sqrt(aD(io-iq)+ih*ie*aD(ic-id))),ig=1/Math.sin(il);var ik=il?function(iu){var ix=Math.sin(iu*=il)*ig,it=Math.sin(il-iu)*ig,ir=it*ij+ix*ii,iw=it*ib+ix*d3,iv=it*ip+ix*im;return[Math.atan2(iw,ir)*hE,Math.atan2(iv,Math.sqrt(ir*ir+iw*iw))*hE]}:function(){return[id*hE,iq*hE]};ik.distance=il;return ik}hn.geo.length=function(d3){dT=0;hn.geo.stream(d3,fW);return dT};var dT;var fW={sphere:aG,point:aG,lineStart:hL,lineEnd:aG,polygonStart:aG,polygonEnd:aG};function hL(){var ib,ic,d3;fW.point=function(ig,ie){ib=ig*I,ic=Math.sin(ie*=I),d3=Math.cos(ie);fW.point=id};fW.lineEnd=function(){fW.point=fW.lineEnd=aG};function id(ig,ie){var ij=Math.sin(ie*=I),ik=Math.cos(ie),ih=cG((ig*=I)-ib),ii=Math.cos(ih);dT+=Math.atan2(Math.sqrt((ih=ik*Math.sin(ih))*ih+(ih=d3*ij-ic*ik*ii)*ih),ic*ij+d3*ik*ii);ib=ig,ic=ij,d3=ik}}function ey(ic,ib){function d3(ie,id){var ii=Math.cos(ie),ih=Math.cos(id),ig=ic(ii*ih);return[ig*ih*Math.sin(ie),ig*Math.sin(id)]}d3.invert=function(id,ij){var ih=Math.sqrt(id*id+ij*ij),ii=ib(ih),ie=Math.sin(ii),ig=Math.cos(ii);return[Math.atan2(id*ie,ih*ig),Math.asin(ih&&ij*ie/ih)]};return d3}var bv=ey(function(d3){return Math.sqrt(2/(1+d3))},function(d3){return 2*Math.asin(d3/2)});(hn.geo.azimuthalEqualArea=function(){return fz(bv)}).raw=bv;var bH=ey(function(d3){var ib=Math.acos(d3);return ib&&ib/Math.sin(ib)},gk);(hn.geo.azimuthalEquidistant=function(){return fz(bH)}).raw=bH;function fI(ic,ib){var d3=Math.cos(ic),ie=function(ii){return Math.tan(gd/4+ii/2)},ih=ic===ib?Math.sin(ic):Math.log(d3/Math.cos(ib))/Math.log(ie(ib)/ie(ic)),ig=d3*Math.pow(ie(ic),ih)/ih;if(!ih){return aS}function id(ij,ii){if(ig>0){if(ii<-ep+gm){ii=-ep+gm}}else{if(ii>ep-gm){ii=ep-gm}}var ik=ig/Math.pow(ie(ii),ih);return[ik*Math.sin(ih*ij),ig-ik*Math.cos(ih*ij)]}id.invert=function(ii,il){var ik=ig-il,ij=b9(ih)*Math.sqrt(ii*ii+ik*ik);return[Math.atan2(ii,ik)/ih,2*Math.atan(Math.pow(ig/ij,1/ih))-ep]};return id}(hn.geo.conicConformal=function(){return b7(fI)}).raw=fI;function hA(ic,ib){var d3=Math.cos(ic),ig=ic===ib?Math.sin(ic):(d3-Math.cos(ib))/(ib-ic),ie=d3/ig+ic;if(cG(ig)<gm){return bz}function id(ii,ih){var ij=ie-ih;return[ij*Math.sin(ig*ii),ie-ij*Math.cos(ig*ii)]}id.invert=function(ih,ij){var ii=ie-ij;return[Math.atan2(ih,ii)/ig,ie-b9(ig)*Math.sqrt(ih*ih+ii*ii)]};return id}(hn.geo.conicEquidistant=function(){return b7(hA)}).raw=hA;var eF=ey(function(d3){return 1/d3},Math.atan);(hn.geo.gnomonic=function(){return fz(eF)}).raw=eF;function aS(ib,d3){return[ib,Math.log(Math.tan(gd/4+d3/2))]}aS.invert=function(d3,ib){return[d3,2*Math.atan(Math.exp(ib))-ep]};function c5(ig){var d3=fz(ig),ie=d3.scale,id=d3.translate,ib=d3.clipExtent,ic;d3.scale=function(){var ih=ie.apply(d3,arguments);return ih===d3?ic?d3.clipExtent(null):d3:ih};d3.translate=function(){var ih=id.apply(d3,arguments);return ih===d3?ic?d3.clipExtent(null):d3:ih};d3.clipExtent=function(ij){var ii=ib.apply(d3,arguments);if(ii===d3){if(ic=ij==null){var ih=gd*ie(),ik=id();ib([[ik[0]-ih,ik[1]-ih],[ik[0]+ih,ik[1]+ih]])}}else{if(ic){ii=null}}return ii};return d3.clipExtent(null)}(hn.geo.mercator=function(){return c5(aS)}).raw=aS;var fY=ey(function(){return 1},Math.asin);(hn.geo.orthographic=function(){return fz(fY)}).raw=fY;var cd=ey(function(d3){return 1/(1+d3)},function(d3){return 2*Math.atan(d3)});(hn.geo.stereographic=function(){return fz(cd)}).raw=cd;function ai(ib,d3){return[Math.log(Math.tan(gd/4+d3/2)),-ib]}ai.invert=function(d3,ib){return[-ib,2*Math.atan(Math.exp(d3))-ep]};(hn.geo.transverseMercator=function(){var ib=c5(ai),d3=ib.center,ic=ib.rotate;ib.center=function(id){return id?d3([-id[1],id[0]]):(id=d3(),[id[1],-id[0]])};ib.rotate=function(id){return id?ic([id[0],id[1],id.length>2?id[2]+90:90]):(id=ic(),[id[0],id[1],id[2]-90])};return ic([0,0,90])}).raw=ai;hn.geom={};function hU(d3){return d3[0]}function hT(d3){return d3[1]}hn.geom.hull=function(ib){var d3=hU,id=hT;if(arguments.length){return ic(ib)}function ic(il){if(il.length<3){return[]}var ih=Q(d3),ig=Q(id),im,ie=il.length,ip=[],iq=[];for(im=0;im<ie;im++){ip.push([+ih.call(this,il[im],im),+ig.call(this,il[im],im),im])}ip.sort(h2);for(im=0;im<ie;im++){iq.push([ip[im][0],-ip[im][1]])}var ir=bp(ip),ik=bp(iq);var ii=ik[0]===ir[0],ij=ik[ik.length-1]===ir[ir.length-1],io=[];for(im=ir.length-1;im>=0;--im){io.push(il[ip[ir[im]][2]])}for(im=+ii;im<ik.length-ij;++im){io.push(il[ip[ik[im]][2]])}return io}ic.x=function(ie){return arguments.length?(d3=ie,ic):d3};ic.y=function(ie){return arguments.length?(id=ie,ic):id};return ic};function bp(ic){var ie=ic.length,id=[0,1],ib=2;for(var d3=2;d3<ie;d3++){while(ib>1&&eZ(ic[id[ib-2]],ic[id[ib-1]],ic[d3])<=0){--ib}id[ib++]=d3}return id.slice(0,ib)}function h2(ib,d3){return ib[0]-d3[0]||ib[1]-d3[1]}hn.geom.polygon=function(d3){h5(d3,eq);return d3};var eq=hn.geom.polygon.prototype=[];eq.area=function(){var ic=-1,ie=this.length,ib,d3=this[ie-1],id=0;while(++ic<ie){ib=d3;d3=this[ic];id+=ib[1]*d3[0]-ib[0]*d3[1]}return id*0.5};eq.centroid=function(id){var ie=-1,ii=this.length,ib=0,ih=0,ic,d3=this[ii-1],ig;if(!arguments.length){id=-1/(6*this.area())}while(++ie<ii){ic=d3;d3=this[ie];ig=ic[0]*d3[1]-d3[0]*ic[1];ib+=(ic[0]+d3[0])*ig;ih+=(ic[1]+d3[1])*ig}return[ib*id,ih*id]};eq.clip=function(ii){var ik,ie=gS(ii),id=-1,d3=this.length-gS(this),ic,ib,il=this[d3-1],ij,ih,ig;while(++id<d3){ik=ii.slice();ii.length=0;ij=this[id];ih=ik[(ib=ik.length-ie)-1];ic=-1;while(++ic<ib){ig=ik[ic];if(D(ig,il,ij)){if(!D(ih,il,ij)){ii.push(gi(ih,ig,il,ij))}ii.push(ig)}else{if(D(ih,il,ij)){ii.push(gi(ih,ig,il,ij))}}ih=ig}if(ie){ii.push(ii[0])}il=ij}return ii};function D(ic,ib,d3){return(d3[0]-ib[0])*(ic[1]-ib[1])<(d3[1]-ib[1])*(ic[0]-ib[0])}function gi(ih,ie,il,ii){var ic=ih[0],d3=il[0],id=ie[0]-ic,im=ii[0]-d3,ik=ih[1],ig=il[1],ij=ie[1]-ik,io=ii[1]-ig,ib=(im*(ik-ig)-io*(ic-d3))/(io*id-im*ij);return[ic+ib*id,ik+ib*ij]}function gS(ic){var ib=ic[0],d3=ic[ic.length-1];return !(ib[0]-d3[0]||ib[1]-d3[1])}var gO,ew,cR,dd=[],hd,d2,et=[];function gC(){s(this);this.edge=this.site=this.circle=null}function eX(ib){var d3=dd.pop()||new gC();d3.site=ib;return d3}function gB(d3){eM(d3);cR.remove(d3);dd.push(d3);s(d3)}function hp(ib){var d3=ib.circle,ik=d3.x,ih=d3.cy,ie={x:ik,y:ih},ig=ib.P,id=ib.N,ij=[ib];gB(ib);var im=ig;while(im.circle&&cG(ik-im.circle.x)<gm&&cG(ih-im.circle.cy)<gm){ig=im.P;ij.unshift(im);gB(im);im=ig}ij.unshift(im);eM(im);var ic=id;while(ic.circle&&cG(ik-ic.circle.x)<gm&&cG(ih-ic.circle.cy)<gm){id=ic.N;ij.push(ic);gB(ic);ic=id}ij.push(ic);eM(ic);var il=ij.length,ii;for(ii=1;ii<il;++ii){ic=ij[ii];im=ij[ii-1];cp(ic.edge,im.site,ic.site,ie)}im=ij[0];ic=ij[il-1];ic.edge=hj(im.site,ic.site,null,ie);V(im);V(ic)}function du(il){var ij=il.x,io=il.y,iq,im,ix,ir,ip=cR._;while(ip){ix=c7(ip,io)-ij;if(ix>gm){ip=ip.L}else{ir=ij-gc(ip,io);if(ir>gm){if(!ip.R){iq=ip;break}ip=ip.R}else{if(ix>-gm){iq=ip.P;im=ip}else{if(ir>-gm){iq=ip;im=ip.N}else{iq=im=ip}}break}}}var id=eX(il);cR.insert(iq,id);if(!iq&&!im){return}if(iq===im){eM(iq);im=eX(iq.site);cR.insert(id,im);id.edge=im.edge=hj(iq.site,id.site);V(iq);V(im);return}if(!im){id.edge=hj(iq.site,id.site);return}eM(iq);eM(im);var ih=iq.site,ik=ih.x,ii=ih.y,iv=il.x-ik,it=il.y-ii,d3=im.site,ic=d3.x-ik,ib=d3.y-ii,iw=2*(iv*ib-it*ic),ig=iv*iv+it*it,ie=ic*ic+ib*ib,iu={x:(ib*ig-it*ie)/iw+ik,y:(iv*ie-ic*ig)/iw+ii};cp(im.edge,ih,d3,iu);id.edge=hj(ih,il,null,iu);im.edge=hj(il,d3,null,iu);V(iq);V(im)}function c7(id,ie){var d3=id.site,im=d3.x,il=d3.y,ik=il-ie;if(!ik){return im}var io=id.P;if(!io){return -Infinity}d3=io.site;var ih=d3.x,ig=d3.y,ic=ig-ie;if(!ic){return ih}var ib=ih-im,ij=1/ik-1/ic,ii=ib/ic;if(ij){return(-ii+Math.sqrt(ii*ii-2*ij*(ib*ib/(-2*ic)-ig+ic/2+il-ik/2)))/ij+im}return(im+ih)/2}function gc(ib,ic){var id=ib.N;if(id){return c7(id,ic)}var d3=ib.site;return d3.y===ic?d3.x:Infinity}function bY(d3){this.site=d3;this.edges=[]}bY.prototype.prepare=function(){var ic=this.edges,d3=ic.length,ib;while(d3--){ib=ic[d3].edge;if(!ib.b||!ib.a){ic.splice(d3,1)}}ic.sort(t);return ic.length};function by(it){var ih=it[0][0],ig=it[1][0],io=it[0][1],im=it[1][1],id,il,d3,ik,ir=ew,ic=ir.length,iq,ip,ij,ib,ie,ii;while(ic--){iq=ir[ic];if(!iq||!iq.prepare()){continue}ij=iq.edges;ib=ij.length;ip=0;while(ip<ib){ii=ij[ip].end(),d3=ii.x,ik=ii.y;ie=ij[++ip%ib].start(),id=ie.x,il=ie.y;if(cG(d3-id)>gm||cG(ik-il)>gm){ij.splice(ip,0,new h0(g8(iq.site,ii,cG(d3-ih)<gm&&im-ik>gm?{x:ih,y:cG(id-ih)<gm?il:im}:cG(ik-im)<gm&&ig-d3>gm?{x:cG(il-im)<gm?id:ig,y:im}:cG(d3-ig)<gm&&ik-io>gm?{x:ig,y:cG(id-ig)<gm?il:io}:cG(ik-io)<gm&&d3-ih>gm?{x:cG(il-io)<gm?id:ih,y:io}:null),iq.site,null));++ib}}}}function t(ib,d3){return d3.angle-ib.angle}function aV(){s(this);this.x=this.y=this.arc=this.site=this.cy=null}function V(ih){var ir=ih.P,ip=ih.N;if(!ir||!ip){return}var ij=ir.site,iv=ih.site,d3=ip.site;if(ij===d3){return}var iu=iv.x,it=iv.y,im=ij.x-iu,ik=ij.y-it,ic=d3.x-iu,ib=d3.y-it;var iw=2*(im*ib-ik*ic);if(iw>=-eD){return}var ig=im*im+ik*ik,ie=ic*ic+ib*ib,il=(ib*ig-ik*ie)/iw,ii=(im*ie-ic*ig)/iw,ib=ii+it;var id=et.pop()||new aV();id.arc=ih;id.site=iv;id.x=il+iu;id.y=ib+Math.sqrt(il*il+ii*ii);id.cy=ib;ih.circle=id;var io=null,iq=d2._;while(iq){if(id.y<iq.y||id.y===iq.y&&id.x<=iq.x){if(iq.L){iq=iq.L}else{io=iq.P;break}}else{if(iq.R){iq=iq.R}else{io=iq;break}}}d2.insert(io,id);if(!io){hd=id}}function eM(d3){var ib=d3.circle;if(ib){if(!ib.P){hd=ib.N}d2.remove(ib);et.push(ib);s(ib);d3.circle=null}}function hC(ic){var d3=gO,id=aj(ic[0][0],ic[0][1],ic[1][0],ic[1][1]),ib=d3.length,ie;while(ib--){ie=d3[ib];if(!bm(ie,ic)||!id(ie)||cG(ie.a.x-ie.b.x)<gm&&cG(ie.a.y-ie.b.y)<gm){ie.a=ie.b=null;d3.splice(ib,1)}}}function bm(im,iq){var d3=im.b;if(d3){return true}var ib=im.a,iu=iq[0][0],it=iq[1][0],ig=iq[0][1],id=iq[1][1],ip=im.l,ic=im.r,ij=ip.x,ii=ip.y,il=ic.x,ik=ic.y,ih=(ij+il)/2,ie=(ii+ik)/2,io,ir;if(ik===ii){if(ih<iu||ih>=it){return}if(ij>il){if(!ib){ib={x:ih,y:ig}}else{if(ib.y>=id){return}}d3={x:ih,y:id}}else{if(!ib){ib={x:ih,y:id}}else{if(ib.y<ig){return}}d3={x:ih,y:ig}}}else{io=(ij-il)/(ik-ii);ir=ie-io*ih;if(io<-1||io>1){if(ij>il){if(!ib){ib={x:(ig-ir)/io,y:ig}}else{if(ib.y>=id){return}}d3={x:(id-ir)/io,y:id}}else{if(!ib){ib={x:(id-ir)/io,y:id}}else{if(ib.y<ig){return}}d3={x:(ig-ir)/io,y:ig}}}else{if(ii<ik){if(!ib){ib={x:iu,y:io*iu+ir}}else{if(ib.x>=it){return}}d3={x:it,y:io*it+ir}}else{if(!ib){ib={x:it,y:io*it+ir}}else{if(ib.x<iu){return}}d3={x:iu,y:io*iu+ir}}}}im.a=ib;im.b=d3;return true}function F(ib,d3){this.l=ib;this.r=d3;this.a=this.b=null}function hj(ie,d3,id,ib){var ic=new F(ie,d3);gO.push(ic);if(id){cp(ic,ie,d3,id)}if(ib){cp(ic,d3,ie,ib)}ew[ie.i].edges.push(new h0(ic,ie,d3));ew[d3.i].edges.push(new h0(ic,d3,ie));return ic}function g8(id,ic,d3){var ib=new F(id,null);ib.a=ic;ib.b=d3;gO.push(ib);return ib}function cp(ib,id,d3,ic){if(!ib.a&&!ib.b){ib.a=ic;ib.l=id;ib.r=d3}else{if(ib.l===d3){ib.b=ic}else{ib.a=ic}}}function h0(id,ie,d3){var ic=id.a,ib=id.b;this.edge=id;this.site=ie;this.angle=d3?Math.atan2(d3.y-ie.y,d3.x-ie.x):id.l===ie?Math.atan2(ib.x-ic.x,ic.y-ib.y):Math.atan2(ic.x-ib.x,ib.y-ic.y)}h0.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ba(){this._=null}function s(d3){d3.U=d3.C=d3.L=d3.R=d3.P=d3.N=null}ba.prototype={insert:function(ie,id){var ic,ib,d3;if(ie){id.P=ie;id.N=ie.N;if(ie.N){ie.N.P=id}ie.N=id;if(ie.R){ie=ie.R;while(ie.L){ie=ie.L}ie.L=id}else{ie.R=id}ic=ie}else{if(this._){ie=da(this._);id.P=null;id.N=ie;ie.P=ie.L=id;ic=ie}else{id.P=id.N=null;this._=id;ic=null}}id.L=id.R=null;id.U=ic;id.C=true;ie=id;while(ic&&ic.C){ib=ic.U;if(ic===ib.L){d3=ib.R;if(d3&&d3.C){ic.C=d3.C=false;ib.C=true;ie=ib}else{if(ie===ic.R){ah(this,ic);ie=ic;ic=ie.U}ic.C=false;ib.C=true;eQ(this,ib)}}else{d3=ib.L;if(d3&&d3.C){ic.C=d3.C=false;ib.C=true;ie=ib}else{if(ie===ic.L){eQ(this,ic);ie=ic;ic=ie.U}ic.C=false;ib.C=true;ah(this,ib)}}ic=ie.U}this._.C=false},remove:function(ie){if(ie.N){ie.N.P=ie.P}if(ie.P){ie.P.N=ie.N}ie.N=ie.P=null;var id=ie.U,ic,ih=ie.L,d3=ie.R,ib,ig;if(!ih){ib=d3}else{if(!d3){ib=ih}else{ib=da(d3)}}if(id){if(id.L===ie){id.L=ib}else{id.R=ib}}else{this._=ib}if(ih&&d3){ig=ib.C;ib.C=ie.C;ib.L=ih;ih.U=ib;if(ib!==d3){id=ib.U;ib.U=ie.U;ie=ib.R;id.L=ie;ib.R=d3;d3.U=ib}else{ib.U=id;id=ib;ie=ib.R}}else{ig=ie.C;ie=ib}if(ie){ie.U=id}if(ig){return}if(ie&&ie.C){ie.C=false;return}do{if(ie===this._){break}if(ie===id.L){ic=id.R;if(ic.C){ic.C=false;id.C=true;ah(this,id);ic=id.R}if(ic.L&&ic.L.C||ic.R&&ic.R.C){if(!ic.R||!ic.R.C){ic.L.C=false;ic.C=true;eQ(this,ic);ic=id.R}ic.C=id.C;id.C=ic.R.C=false;ah(this,id);ie=this._;break}}else{ic=id.L;if(ic.C){ic.C=false;id.C=true;eQ(this,id);ic=id.L}if(ic.L&&ic.L.C||ic.R&&ic.R.C){if(!ic.L||!ic.L.C){ic.R.C=false;ic.C=true;ah(this,ic);ic=id.L}ic.C=id.C;id.C=ic.L.C=false;eQ(this,id);ie=this._;break}}ic.C=true;ie=id;id=id.U}while(!ie.C);if(ie){ie.C=false}}};function ah(d3,ic){var ie=ic,id=ic.R,ib=ie.U;if(ib){if(ib.L===ie){ib.L=id}else{ib.R=id}}else{d3._=id}id.U=ib;ie.U=id;ie.R=id.L;if(ie.R){ie.R.U=ie}id.L=ie}function eQ(d3,ic){var ie=ic,id=ic.L,ib=ie.U;if(ib){if(ib.L===ie){ib.L=id}else{ib.R=id}}else{d3._=id}id.U=ib;ie.U=id;ie.L=id.R;if(ie.L){ie.L.U=ie}id.R=ie}function da(d3){while(d3.L){d3=d3.L}return d3}function g1(ig,ih){var ib=ig.sort(bk).pop(),ic,id,ie;gO=[];ew=new Array(ig.length);cR=new ba();d2=new ba();while(true){ie=hd;if(ib&&(!ie||ib.y<ie.y||ib.y===ie.y&&ib.x<ie.x)){if(ib.x!==ic||ib.y!==id){ew[ib.i]=new bY(ib);du(ib);ic=ib.x,id=ib.y}ib=ig.pop()}else{if(ie){hp(ie.arc)}else{break}}}if(ih){hC(ih),by(ih)}var d3={cells:ew,edges:gO};cR=d2=gO=ew=null;return d3}function bk(ib,d3){return d3.y-ib.y||d3.x-ib.x}hn.geom.voronoi=function(id){var d3=hU,ii=hT,ie=d3,ic=ii,ib=hG;if(id){return ih(id)}function ih(ip){var ij=new Array(ip.length),il=ib[0][0],io=ib[0][1],ik=ib[1][0],im=ib[1][1];g1(ig(ip),ib).cells.forEach(function(iq,iv){var ir=iq.edges,it=iq.site,iu=ij[iv]=ir.length?ir.map(function(ix){var iw=ix.start();return[iw.x,iw.y]}):it.x>=il&&it.x<=ik&&it.y>=io&&it.y<=im?[[il,im],[ik,im],[ik,io],[il,io]]:[];iu.point=ip[iv]});return ij}function ig(ij){return ij.map(function(il,ik){return{x:Math.round(ie(il,ik)/gm)*gm,y:Math.round(ic(il,ik)/gm)*gm,i:ik}})}ih.links=function(ij){return g1(ig(ij)).edges.filter(function(ik){return ik.l&&ik.r}).map(function(ik){return{source:ij[ik.l.i],target:ij[ik.r.i]}})};ih.triangles=function(ik){var ij=[];g1(ig(ik)).cells.forEach(function(iv,iq){var il=iv.site,ip=iv.edges.sort(t),io=-1,im=ip.length,it,iw,ir=ip[im-1].edge,iu=ir.l===il?ir.r:ir.l;while(++io<im){it=ir;iw=iu;ir=ip[io].edge;iu=ir.l===il?ir.r:ir.l;if(iq<iw.i&&iq<iu.i&&gA(il,iw,iu)<0){ij.push([ik[iq],ik[iw.i],ik[iu.i]])}}});return ij};ih.x=function(ij){return arguments.length?(ie=Q(d3=ij),ih):d3};ih.y=function(ij){return arguments.length?(ic=Q(ii=ij),ih):ii};ih.clipExtent=function(ij){if(!arguments.length){return ib===hG?null:ib}ib=ij==null?hG:ij;return ih};ih.size=function(ij){if(!arguments.length){return ib===hG?null:ib&&ib[1]}return ih.clipExtent(ij&&[[0,0],ij])};return ih};var hG=[[-1000000,-1000000],[1000000,1000000]];function gA(ib,d3,ic){return(ib.x-ic.x)*(d3.y-ib.y)-(ib.x-d3.x)*(ic.y-ib.y)}hn.geom.delaunay=function(d3){return hn.geom.voronoi().triangles(d3)};hn.geom.quadtree=function(ii,ib,ig,d3,ie){var ih=hU,id=hT,ij;if(ij=arguments.length){ih=f3;id=f1;if(ij===3){ie=ig;d3=ib;ig=ib=0}return ic(ii)}function ic(iE){var iB,ip=Q(ih),im=Q(id),ir,iy,iz,iw,ik,iv,iq,iD;if(ib!=null){ik=ib,iv=ig,iq=d3,iD=ie}else{iq=iD=-(ik=iv=Infinity);ir=[],iy=[];iw=iE.length;if(ij){for(iz=0;iz<iw;++iz){iB=iE[iz];if(iB.x<ik){ik=iB.x}if(iB.y<iv){iv=iB.y}if(iB.x>iq){iq=iB.x}if(iB.y>iD){iD=iB.y}ir.push(iB.x);iy.push(iB.y)}}else{for(iz=0;iz<iw;++iz){var iA=+ip(iB=iE[iz],iz),io=+im(iB,iz);if(iA<ik){ik=iA}if(io<iv){iv=io}if(iA>iq){iq=iA}if(io>iD){iD=io}ir.push(iA);iy.push(io)}}}var iu=iq-ik,it=iD-iv;if(iu>it){iD=iv+iu}else{iq=ik+it}function il(iH,iL,iP,iM,iG,iO,iF,iN){if(isNaN(iP)||isNaN(iM)){return}if(iH.leaf){var iK=iH.x,iJ=iH.y;if(iK!=null){if(cG(iK-iP)+cG(iJ-iM)<0.01){iC(iH,iL,iP,iM,iG,iO,iF,iN)}else{var iI=iH.point;iH.x=iH.y=iH.point=null;iC(iH,iI,iK,iJ,iG,iO,iF,iN);iC(iH,iL,iP,iM,iG,iO,iF,iN)}}else{iH.x=iP,iH.y=iM,iH.point=iL}}else{iC(iH,iL,iP,iM,iG,iO,iF,iN)}}function iC(iI,iL,iP,iM,iG,iO,iF,iN){var iK=(iG+iF)*0.5,iH=(iO+iN)*0.5,iR=iP>=iK,iQ=iM>=iH,iJ=iQ<<1|iR;iI.leaf=false;iI=iI.nodes[iJ]||(iI.nodes[iJ]=fG());if(iR){iG=iK}else{iF=iK}if(iQ){iO=iH}else{iN=iH}il(iI,iL,iP,iM,iG,iO,iF,iN)}var ix=fG();ix.add=function(iF){il(ix,iF,+ip(iF,++iz),+im(iF,iz),ik,iv,iq,iD)};ix.visit=function(iF){cM(iF,ix,ik,iv,iq,iD)};ix.find=function(iF){return ek(ix,iF[0],iF[1],ik,iv,iq,iD)};iz=-1;if(ib==null){while(++iz<iw){il(ix,iE[iz],ir[iz],iy[iz],ik,iv,iq,iD)}--iz}else{iE.forEach(ix.add)}ir=iy=iE=iB=null;return ix}ic.x=function(ik){return arguments.length?(ih=ik,ic):ih};ic.y=function(ik){return arguments.length?(id=ik,ic):id};ic.extent=function(ik){if(!arguments.length){return ib==null?null:[[ib,ig],[d3,ie]]}if(ik==null){ib=ig=d3=ie=null}else{ib=+ik[0][0],ig=+ik[0][1],d3=+ik[1][0],ie=+ik[1][1]}return ic};ic.size=function(ik){if(!arguments.length){return ib==null?null:[d3-ib,ie-ig]}if(ik==null){ib=ig=d3=ie=null}else{ib=ig=0,d3=+ik[0],ie=+ik[1]}return ic};return ic};function f3(d3){return d3.x}function f1(d3){return d3.y}function fG(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cM(ie,id,ib,ij,d3,ih){if(!ie(id,ib,ij,d3,ih)){var ii=(ib+d3)*0.5,ig=(ij+ih)*0.5,ic=id.nodes;if(ic[0]){cM(ie,ic[0],ib,ij,ii,ig)}if(ic[1]){cM(ie,ic[1],ii,ij,d3,ig)}if(ic[2]){cM(ie,ic[2],ib,ig,ii,ih)}if(ic[3]){cM(ie,ic[3],ii,ig,d3,ih)}}}function ek(ih,ij,ig,ic,ik,d3,ie){var ii=Infinity,ib;(function id(ir,io,iy,im,ix){if(io>d3||iy>ie||im<ic||ix<ik){return}if(iA=ir.point){var iA,iD=ij-ir.x,iC=ig-ir.y,iw=iD*iD+iC*iC;if(iw<ii){var il=Math.sqrt(ii=iw);ic=ij-il,ik=ig-il;d3=ij+il,ie=ig+il;ib=iA}}var iq=ir.nodes,iv=(io+im)*0.5,ip=(iy+ix)*0.5,iB=ij>=iv,iz=ig>=ip;for(var iu=iz<<1|iB,it=iu+4;iu<it;++iu){if(ir=iq[iu&3]){switch(iu&3){case 0:id(ir,io,iy,iv,ip);break;case 1:id(ir,iv,iy,im,ip);break;case 2:id(ir,io,ip,iv,ix);break;case 3:id(ir,iv,ip,im,ix);break}}}})(ih,ic,ik,d3,ie);return ib}hn.interpolateRgb=aM;function aM(ib,d3){ib=hn.rgb(ib);d3=hn.rgb(d3);var id=ib.r,ic=ib.g,ih=ib.b,ig=d3.r-id,ie=d3.g-ic,ii=d3.b-ih;return function(ij){return"#"+cv(Math.round(id+ig*ij))+cv(Math.round(ic+ie*ij))+cv(Math.round(ih+ii*ij))}}hn.interpolateObject=bM;function bM(ib,d3){var id={},ie={},ic;for(ic in ib){if(ic in d3){id[ic]=fB(ib[ic],d3[ic])}else{ie[ic]=ib[ic]}}for(ic in d3){if(!(ic in ib)){ie[ic]=d3[ic]}}return function(ig){for(ic in id){ie[ic]=id[ic](ig)}return ie}}hn.interpolateNumber=bG;function bG(ib,d3){ib=+ib,d3=+d3;return function(ic){return ib*(1-ic)+d3*ic}}hn.interpolateString=b1;function b1(ih,ig){var ic=hB.lastIndex=hz.lastIndex=0,ie,ib,ii,id=-1,ij=[],d3=[];ih=ih+"",ig=ig+"";while((ie=hB.exec(ih))&&(ib=hz.exec(ig))){if((ii=ib.index)>ic){ii=ig.slice(ic,ii);if(ij[id]){ij[id]+=ii}else{ij[++id]=ii}}if((ie=ie[0])===(ib=ib[0])){if(ij[id]){ij[id]+=ib}else{ij[++id]=ib}}else{ij[++id]=null;d3.push({i:id,x:bG(ie,ib)})}ic=hz.lastIndex}if(ic<ig.length){ii=ig.slice(ic);if(ij[id]){ij[id]+=ii}else{ij[++id]=ii}}return ij.length<2?d3[0]?(ig=d3[0].x,function(ik){return ig(ik)+""}):function(){return ig}:(ig=d3.length,function(il){for(var ik=0,im;ik<ig;++ik){ij[(im=d3[ik]).i]=im.x(il)}return ij.join("")})}var hB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hz=new RegExp(hB.source,"g");hn.interpolate=fB;function fB(ib,d3){var ic=hn.interpolators.length,id;while(--ic>=0&&!(id=hn.interpolators[ic](ib,d3))){}return id}hn.interpolators=[function(ib,d3){var ic=typeof d3;return(ic==="string"?al.has(d3.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(d3)?aM:b1:d3 instanceof gU?aM:Array.isArray(d3)?eO:ic==="object"&&isNaN(d3)?bM:bG)(ib,d3)}];hn.interpolateArray=eO;function eO(ie,ic){var ib=[],ii=[],id=ie.length,d3=ic.length,ih=Math.min(ie.length,ic.length),ig;for(ig=0;ig<ih;++ig){ib.push(fB(ie[ig],ic[ig]))}for(;ig<id;++ig){ii[ig]=ie[ig]}for(;ig<d3;++ig){ii[ig]=ic[ig]}return function(ij){for(ig=0;ig<ih;++ig){ii[ig]=ib[ig](ij)}return ii}}var hi=function(){return gk};var aa=hn.map({linear:hi,poly:aR,quad:function(){return bZ},cubic:function(){return H},sin:function(){return gb},exp:function(){return ft},circle:function(){return d5},elastic:U,back:gZ,bounce:function(){return ck}});var j=hn.map({"in":gk,out:C,"in-out":a2,"out-in":function(d3){return a2(C(d3))}});hn.ease=function(ib){var id=ib.indexOf("-"),ic=id>=0?ib.slice(0,id):ib,d3=id>=0?ib.slice(id+1):"in";ic=aa.get(ic)||hi;d3=j.get(d3)||gk;return fy(d3(ic.apply(null,bO.call(arguments,1))))};function fy(d3){return function(ib){return ib<=0?0:ib>=1?1:d3(ib)}}function C(d3){return function(ib){return 1-d3(1-ib)}}function a2(d3){return function(ib){return 0.5*(ib<0.5?d3(2*ib):2-d3(2-2*ib))}}function bZ(d3){return d3*d3}function H(d3){return d3*d3*d3}function av(ib){if(ib<=0){return 0}if(ib>=1){return 1}var ic=ib*ib,d3=ic*ib;return 4*(ib<0.5?d3:3*(ib-ic)+d3-0.75)}function aR(d3){return function(ib){return Math.pow(ib,d3)}}function gb(d3){return 1-Math.cos(d3*ep)}function ft(d3){return Math.pow(2,10*(d3-1))}function d5(d3){return 1-Math.sqrt(1-d3*d3)}function U(d3,ic){var ib;if(arguments.length<2){ic=0.45}if(arguments.length){ib=ic/f7*Math.asin(1/d3)}else{d3=1,ib=ic/4}return function(id){return 1+d3*Math.pow(2,-10*id)*Math.sin((id-ib)*f7/ic)}}function gZ(d3){if(!d3){d3=1.70158}return function(ib){return ib*ib*((d3+1)*ib-d3)}}function ck(d3){return d3<1/2.75?7.5625*d3*d3:d3<2/2.75?7.5625*(d3-=1.5/2.75)*d3+0.75:d3<2.5/2.75?7.5625*(d3-=2.25/2.75)*d3+0.9375:7.5625*(d3-=2.625/2.75)*d3+0.984375}hn.interpolateHcl=gR;function gR(ic,d3){ic=hn.hcl(ic);d3=hn.hcl(d3);var ib=ic.h,ie=ic.c,ih=ic.l,id=d3.h-ib,ig=d3.c-ie,ii=d3.l-ih;if(isNaN(ig)){ig=0,ie=isNaN(ie)?d3.c:ie}if(isNaN(id)){id=0,ib=isNaN(ib)?d3.h:ib}else{if(id>180){id-=360}else{if(id<-180){id+=360}}}return function(ij){return bD(ib+id*ij,ie+ig*ij,ih+ii*ij)+""}}hn.interpolateHsl=a3;function a3(id,d3){id=hn.hsl(id);d3=hn.hsl(d3);var ic=id.h,ib=id.s,ih=id.l,ig=d3.h-ic,ie=d3.s-ib,ii=d3.l-ih;if(isNaN(ie)){ie=0,ib=isNaN(ib)?d3.s:ib}if(isNaN(ig)){ig=0,ic=isNaN(ic)?d3.h:ic}else{if(ig>180){ig-=360}else{if(ig<-180){ig+=360}}}return function(ij){return bg(ic+ig*ij,ib+ie*ij,ih+ii*ij)+""}}hn.interpolateLab=hy;function hy(ib,d3){ib=hn.lab(ib);d3=hn.lab(d3);var ie=ib.l,id=ib.a,ic=ib.b,ii=d3.l-ie,ih=d3.a-id,ig=d3.b-ic;return function(ij){return aB(ie+ii*ij,id+ih*ij,ic+ig*ij)+""}}hn.interpolateRound=fw;function fw(ib,d3){d3-=ib;return function(ic){return Math.round(ib+d3*ic)}}hn.transform=function(d3){var ib=bN.createElementNS(hn.ns.prefix.svg,"g");return(hn.transform=function(ic){if(ic!=null){ib.setAttribute("transform",ic);var id=ib.transform.baseVal.consolidate()}return new o(id?id.matrix:f8)})(d3)};function o(d3){var id=[d3.a,d3.b],ib=[d3.c,d3.d],ig=fo(id),ic=eY(id,ib),ie=fo(bS(ib,id,-ic))||0;if(id[0]*ib[1]<ib[0]*id[1]){id[0]*=-1;id[1]*=-1;ig*=-1;ic*=-1}this.rotate=(ig?Math.atan2(id[1],id[0]):Math.atan2(-ib[0],ib[1]))*hE;this.translate=[d3.e,d3.f];this.scale=[ig,ie];this.skew=ie?Math.atan2(ic,ie)*hE:0}o.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eY(ib,d3){return ib[0]*d3[0]+ib[1]*d3[1]}function fo(d3){var ib=Math.sqrt(eY(d3,d3));if(ib){d3[0]/=ib;d3[1]/=ib}return ib}function bS(ib,d3,ic){ib[0]+=ic*d3[0];ib[1]+=ic*d3[1];return ib}var f8={a:1,b:0,c:0,d:1,e:0,f:0};hn.interpolateTransform=eg;function aT(d3){return d3.length?d3.pop()+",":""}function hS(ib,d3,id,ie){if(ib[0]!==d3[0]||ib[1]!==d3[1]){var ic=id.push("translate(",null,",",null,")");ie.push({i:ic-4,x:bG(ib[0],d3[0])},{i:ic-2,x:bG(ib[1],d3[1])})}else{if(d3[0]||d3[1]){id.push("translate("+d3+")")}}}function g3(id,ic,d3,ib){if(id!==ic){if(id-ic>180){ic+=360}else{if(ic-id>180){id+=360}}ib.push({i:d3.push(aT(d3)+"rotate(",null,")")-2,x:bG(id,ic)})}else{if(ic){d3.push(aT(d3)+"rotate("+ic+")")}}}function dm(id,ic,d3,ib){if(id!==ic){ib.push({i:d3.push(aT(d3)+"skewX(",null,")")-2,x:bG(id,ic)})}else{if(ic){d3.push(aT(d3)+"skewX("+ic+")")}}}function gX(id,ic,ib,ie){if(id[0]!==ic[0]||id[1]!==ic[1]){var d3=ib.push(aT(ib)+"scale(",null,",",null,")");ie.push({i:d3-4,x:bG(id[0],ic[0])},{i:d3-2,x:bG(id[1],ic[1])})}else{if(ic[0]!==1||ic[1]!==1){ib.push(aT(ib)+"scale("+ic+")")}}}function eg(ib,d3){var ic=[],id=[];ib=hn.transform(ib),d3=hn.transform(d3);hS(ib.translate,d3.translate,ic,id);g3(ib.rotate,d3.rotate,ic,id);dm(ib.skew,d3.skew,ic,id);gX(ib.scale,d3.scale,ic,id);ib=d3=null;return function(ig){var ie=-1,ii=id.length,ih;while(++ie<ii){ic[(ih=id[ie]).i]=ih.x(ig)}return ic.join("")}}function hv(ib,d3){d3=(d3-=ib=+ib)||1/d3;return function(ic){return(ic-ib)/d3}}function ay(ib,d3){d3=(d3-=ib=+ib)||1/d3;return function(ic){return Math.max(0,Math.min(1,(ic-ib)/d3))}}hn.layout={};hn.layout.bundle=function(){return function(d3){var ic=[],ib=-1,id=d3.length;while(++ib<id){ic.push(eK(d3[ib]))}return ic}};function eK(id){var ig=id.source,d3=id.target,ie=fJ(ig,d3),ic=[ig];while(ig!==ie){ig=ig.parent;ic.push(ig)}var ib=ic.length;while(d3!==ie){ic.splice(ib,0,d3);d3=d3.parent}return ic}function fn(ic){var ib=[],d3=ic.parent;while(d3!=null){ib.push(ic);ic=d3;d3=d3.parent}ib.push(ic);return ib}function fJ(id,ib){if(id===ib){return id}var ic=fn(id),d3=fn(ib),ie=ic.pop(),ig=d3.pop(),ih=null;while(ie===ig){ih=ie;ie=ic.pop();ig=d3.pop()}return ih}hn.layout.chord=function(){var ig={},ih,id,il,ic,ik=0,d3,ib,ie;function ij(){var ir={},iv=[],iD=hn.range(ic),iz=[],it,iB,iq,iw,iu;ih=[];id=[];it=0,iw=-1;while(++iw<ic){iB=0,iu=-1;while(++iu<ic){iB+=il[iw][iu]}iv.push(iB);iz.push(hn.range(ic));it+=iB}if(d3){iD.sort(function(iF,iE){return d3(iv[iF],iv[iE])})}if(ib){iz.forEach(function(iF,iE){iF.sort(function(iH,iG){return ib(il[iE][iH],il[iE][iG])})})}it=(f7-ik*ic)/it;iB=0,iw=-1;while(++iw<ic){iq=iB,iu=-1;while(++iu<ic){var iA=iD[iw],iy=iz[iA][iu],iC=il[iA][iy],ip=iB,io=iB+=iC*it;ir[iA+"-"+iy]={index:iA,subindex:iy,startAngle:ip,endAngle:io,value:iC}}id[iA]={index:iA,startAngle:iq,endAngle:iB,value:iv[iA]};iB+=ik}iw=-1;while(++iw<ic){iu=iw-1;while(++iu<ic){var im=ir[iw+"-"+iu],ix=ir[iu+"-"+iw];if(im.value||ix.value){ih.push(im.value<ix.value?{source:ix,target:im}:{source:im,target:ix})}}}if(ie){ii()}}function ii(){ih.sort(function(io,im){return ie((io.source.value+io.target.value)/2,(im.source.value+im.target.value)/2)})}ig.matrix=function(im){if(!arguments.length){return il}ic=(il=im)&&il.length;ih=id=null;return ig};ig.padding=function(im){if(!arguments.length){return ik}ik=im;ih=id=null;return ig};ig.sortGroups=function(im){if(!arguments.length){return d3}d3=im;ih=id=null;return ig};ig.sortSubgroups=function(im){if(!arguments.length){return ib}ib=im;ih=null;return ig};ig.sortChords=function(im){if(!arguments.length){return ie}ie=im;if(ih){ii()}return ig};ig.chords=function(){if(!ih){ij()}return ih};ig.groups=function(){if(!id){ij()}return id};return ig};hn.layout.force=function(){var ib={},it=hn.dispatch("start","tick","end"),ij,il=[1,1],iv,ie,ii=0.9,iw=fP,id=ct,ir=-30,ip=cb,ig=0.1,im=0.64,iq=[],ic=[],ih,d3,ik;function iu(ix){return function(iE,iA,iD,iz){if(iE.point!==ix){var iG=iE.cx-ix.x,iF=iE.cy-ix.y,iy=iz-iA,iC=iG*iG+iF*iF;if(iy*iy/im<iC){if(iC<ip){var iB=iE.charge/iC;ix.px-=iG*iB;ix.py-=iF*iB}return true}if(iE.point&&iC&&iC<ip){var iB=iE.pointCharge/iC;ix.px-=iG*iB;ix.py-=iF*iB}}return !iE.charge}}ib.tick=function(){if((ie*=0.99)<0.005){ij=null;it.end({type:"end",alpha:ie=0});return true}var iz=iq.length,iA=ic.length,ix,iD,iy,iH,iG,iB,iC,iF,iE;for(iD=0;iD<iA;++iD){iy=ic[iD];iH=iy.source;iG=iy.target;iF=iG.x-iH.x;iE=iG.y-iH.y;if(iB=iF*iF+iE*iE){iB=ie*d3[iD]*((iB=Math.sqrt(iB))-ih[iD])/iB;iF*=iB;iE*=iB;iG.x-=iF*(iC=iH.weight+iG.weight?iH.weight/(iH.weight+iG.weight):0.5);iG.y-=iE*iC;iH.x+=iF*(iC=1-iC);iH.y+=iE*iC}}if(iC=ie*ig){iF=il[0]/2;iE=il[1]/2;iD=-1;if(iC){while(++iD<iz){iy=iq[iD];iy.x+=(iF-iy.x)*iC;iy.y+=(iE-iy.y)*iC}}}if(ir){gz(ix=hn.geom.quadtree(iq),ie,ik);iD=-1;while(++iD<iz){if(!(iy=iq[iD]).fixed){ix.visit(iu(iy))}}}iD=-1;while(++iD<iz){iy=iq[iD];if(iy.fixed){iy.x=iy.px;iy.y=iy.py}else{iy.x-=(iy.px-(iy.px=iy.x))*ii;iy.y-=(iy.py-(iy.py=iy.y))*ii}}it.tick({type:"tick",alpha:ie})};ib.nodes=function(ix){if(!arguments.length){return iq}iq=ix;return ib};ib.links=function(ix){if(!arguments.length){return ic}ic=ix;return ib};ib.size=function(ix){if(!arguments.length){return il}il=ix;return ib};ib.linkDistance=function(ix){if(!arguments.length){return iw}iw=typeof ix==="function"?ix:+ix;return ib};ib.distance=ib.linkDistance;ib.linkStrength=function(ix){if(!arguments.length){return id}id=typeof ix==="function"?ix:+ix;return ib};ib.friction=function(ix){if(!arguments.length){return ii}ii=+ix;return ib};ib.charge=function(ix){if(!arguments.length){return ir}ir=typeof ix==="function"?ix:+ix;return ib};ib.chargeDistance=function(ix){if(!arguments.length){return Math.sqrt(ip)}ip=ix*ix;return ib};ib.gravity=function(ix){if(!arguments.length){return ig}ig=+ix;return ib};ib.theta=function(ix){if(!arguments.length){return Math.sqrt(im)}im=ix*ix;return ib};ib.alpha=function(ix){if(!arguments.length){return ie}ix=+ix;if(ie){if(ix>0){ie=ix}else{ij.c=null,ij.t=NaN,ij=null;it.end({type:"end",alpha:ie=0})}}else{if(ix>0){it.start({type:"start",alpha:ie=ix});ij=g2(ib.tick)}}return ib};ib.start=function(){var iB,iE=iq.length,iy=ic.length,iz=il[0],iC=il[1],iA,iD;for(iB=0;iB<iE;++iB){(iD=iq[iB]).index=iB;iD.weight=0}for(iB=0;iB<iy;++iB){iD=ic[iB];if(typeof iD.source=="number"){iD.source=iq[iD.source]}if(typeof iD.target=="number"){iD.target=iq[iD.target]}++iD.source.weight;++iD.target.weight}for(iB=0;iB<iE;++iB){iD=iq[iB];if(isNaN(iD.x)){iD.x=ix("x",iz)}if(isNaN(iD.y)){iD.y=ix("y",iC)}if(isNaN(iD.px)){iD.px=iD.x}if(isNaN(iD.py)){iD.py=iD.y}}ih=[];if(typeof iw==="function"){for(iB=0;iB<iy;++iB){ih[iB]=+iw.call(this,ic[iB],iB)}}else{for(iB=0;iB<iy;++iB){ih[iB]=iw}}d3=[];if(typeof id==="function"){for(iB=0;iB<iy;++iB){d3[iB]=+id.call(this,ic[iB],iB)}}else{for(iB=0;iB<iy;++iB){d3[iB]=id}}ik=[];if(typeof ir==="function"){for(iB=0;iB<iE;++iB){ik[iB]=+ir.call(this,iq[iB],iB)}}else{for(iB=0;iB<iE;++iB){ik[iB]=ir}}function ix(iK,iI){if(!iA){iA=new Array(iE);for(iH=0;iH<iE;++iH){iA[iH]=[]}for(iH=0;iH<iy;++iH){var iL=ic[iH];iA[iL.source.index].push(iL.target);iA[iL.target.index].push(iL.source)}}var iJ=iA[iB],iH=-1,iG=iJ.length,iF;while(++iH<iG){if(!isNaN(iF=iJ[iH][iK])){return iF}}return Math.random()*iI}return ib.resume()};ib.resume=function(){return ib.alpha(0.1)};ib.stop=function(){return ib.alpha(0)};ib.drag=function(){if(!iv){iv=hn.behavior.drag().origin(gk).on("dragstart.force",q).on("drag.force",io).on("dragend.force",ec)}if(!arguments.length){return iv}this.on("mouseover.force",cw).on("mouseout.force",el).call(iv)};function io(ix){ix.px=hn.event.x,ix.py=hn.event.y;ib.resume()}return hn.rebind(ib,it,"on")};function q(d3){d3.fixed|=2}function ec(d3){d3.fixed&=~6}function cw(d3){d3.fixed|=4;d3.px=d3.x,d3.py=d3.y}function el(d3){d3.fixed&=~4}function gz(ik,ie,ij){var ig=0,ic=0;ik.charge=0;if(!ik.leaf){var d3=ik.nodes,ib=d3.length,ih=-1,ii;while(++ih<ib){ii=d3[ih];if(ii==null){continue}gz(ii,ie,ij);ik.charge+=ii.charge;ig+=ii.charge*ii.cx;ic+=ii.charge*ii.cy}}if(ik.point){if(!ik.leaf){ik.point.x+=Math.random()-0.5;ik.point.y+=Math.random()-0.5}var id=ie*ij[ik.point.index];ik.charge+=ik.pointCharge=id;ig+=id*ik.point.x;ic+=id*ik.point.y}ik.cx=ig/ik.charge;ik.cy=ic/ik.charge}var fP=20,ct=1,cb=Infinity;hn.layout.hierarchy=function(){var ic=dQ,ib=a7,id=hK;function d3(ig){var ie=[ig],ih=[],ii;ig.depth=0;while((ii=ie.pop())!=null){ih.push(ii);if((ij=ib.call(d3,ii,ii.depth))&&(il=ij.length)){var il,ij,ik;while(--il>=0){ie.push(ik=ij[il]);ik.parent=ii;ik.depth=ii.depth+1}if(id){ii.value=0}ii.children=ij}else{if(id){ii.value=+id.call(d3,ii,ii.depth)||0}delete ii.children}}gL(ig,function(io){var ip,im;if(ic&&(ip=io.children)){ip.sort(ic)}if(id&&(im=io.parent)){im.value+=io.value}});return ih}d3.sort=function(ie){if(!arguments.length){return ic}ic=ie;return d3};d3.children=function(ie){if(!arguments.length){return ib}ib=ie;return d3};d3.value=function(ie){if(!arguments.length){return id}id=ie;return d3};d3.revalue=function(ie){if(id){eu(ie,function(ig){if(ig.children){ig.value=0}});gL(ie,function(ih){var ig;if(!ih.children){ih.value=+id.call(d3,ih,ih.depth)||0}if(ig=ih.parent){ig.value+=ih.value}})}return ie};return d3};function gr(ib,d3){hn.rebind(ib,d3,"sort","children","value");ib.nodes=ib;ib.links=gv;return ib}function eu(ic,ie){var d3=[ic];while((ic=d3.pop())!=null){ie(ic);if((ib=ic.children)&&(id=ib.length)){var id,ib;while(--id>=0){d3.push(ib[id])}}}}function gL(ie,ih){var ib=[ie],d3=[];while((ie=ib.pop())!=null){d3.push(ie);if((ic=ie.children)&&(ig=ic.length)){var id=-1,ig,ic;while(++id<ig){ib.push(ic[id])}}}while((ie=d3.pop())!=null){ih(ie)}}function a7(d3){return d3.children}function hK(d3){return d3.value}function dQ(ib,d3){return d3.value-ib.value}function gv(d3){return hn.merge(d3.map(function(ib){return(ib.children||[]).map(function(ic){return{source:ib,target:ic}})}))}hn.layout.partition=function(){var ic=hn.layout.hierarchy(),id=[1,1];function d3(ii,im,ip,io){var ig=ii.children;ii.x=im;ii.y=ii.depth*io;ii.dx=ip;ii.dy=io;if(ig&&(ih=ig.length)){var ij=-1,ih,il,ik;ip=ii.value?ip/ii.value:0;while(++ij<ih){d3(il=ig[ij],im,ik=il.value*ip,io);im+=ik}}}function ie(ii){var ih=ii.children,ij=0;if(ih&&(ik=ih.length)){var ig=-1,ik;while(++ig<ik){ij=Math.max(ij,ie(ih[ig]))}}return 1+ij}function ib(ii,ih){var ig=ic.call(this,ii,ih);d3(ig[0],0,id[0],id[1]/ie(ig[0]));return ig}ib.size=function(ig){if(!arguments.length){return id}id=ig;return ib};return gr(ib,ic)};hn.layout.pie=function(){var ig=Number,id=T,ic=0,ib=f7,ie=0;function d3(il){var ij=il.length,it=il.map(function(iw,iv){return +ig.call(d3,iw,iv)}),ip=+(typeof ic==="function"?ic.apply(this,arguments):ic),iu=(typeof ib==="function"?ib.apply(this,arguments):ib)-ip,ii=Math.min(Math.abs(iu)/ij,+(typeof ie==="function"?ie.apply(this,arguments):ie)),iq=ii*(iu<0?-1:1),io=hn.sum(it),ik=io?(iu-ij*iq)/io:0,im=hn.range(ij),ih=[],ir;if(id!=null){im.sort(id===T?function(iw,iv){return it[iv]-it[iw]}:function(iw,iv){return id(il[iw],il[iv])})}im.forEach(function(iv){ih[iv]={data:il[iv],value:ir=it[iv],startAngle:ip,endAngle:ip+=ir*ik+iq,padAngle:ii}});return ih}d3.value=function(ih){if(!arguments.length){return ig}ig=ih;return d3};d3.sort=function(ih){if(!arguments.length){return id}id=ih;return d3};d3.startAngle=function(ih){if(!arguments.length){return ic}ic=ih;return d3};d3.endAngle=function(ih){if(!arguments.length){return ib}ib=ih;return d3};d3.padAngle=function(ih){if(!arguments.length){return ie}ie=ih;return d3};return d3};var T={};hn.layout.stack=function(){var id=gk,ic=bR,ig=fD,ie=fE,ib=am,ih=ak;function d3(iq,it){if(!(ij=iq.length)){return iq}var ir=iq.map(function(iw,iv){return id.call(d3,iw,iv)});var iu=ir.map(function(iv){return iv.map(function(iw,ix){return[ib.call(d3,iw,ix),ih.call(d3,iw,ix)]})});var im=ic.call(d3,iu,it);ir=hn.permute(ir,im);iu=hn.permute(iu,im);var il=ig.call(d3,iu,it);var ik=ir[0].length,ij,ip,io,ii;for(io=0;io<ik;++io){ie.call(d3,ir[0][io],ii=il[io],iu[0][io][1]);for(ip=1;ip<ij;++ip){ie.call(d3,ir[ip][io],ii+=iu[ip-1][io][1],iu[ip][io][1])}}return iq}d3.values=function(ii){if(!arguments.length){return id}id=ii;return d3};d3.order=function(ii){if(!arguments.length){return ic}ic=typeof ii==="function"?ii:a5.get(ii)||bR;return d3};d3.offset=function(ii){if(!arguments.length){return ig}ig=typeof ii==="function"?ii:af.get(ii)||fD;return d3};d3.x=function(ii){if(!arguments.length){return ib}ib=ii;return d3};d3.y=function(ii){if(!arguments.length){return ih}ih=ii;return d3};d3.out=function(ii){if(!arguments.length){return ie}ie=ii;return d3};return d3};function am(d3){return d3.x}function ak(d3){return d3.y}function fE(ib,d3,ic){ib.y0=d3;ib.y=ic}var a5=hn.map({"inside-out":function(ie){var ic=ie.length,ig,id,ik=ie.map(bX),ih=ie.map(dt),ii=hn.range(ic).sort(function(io,im){return ik[io]-ik[im]}),ij=0,d3=0,il=[],ib=[];for(ig=0;ig<ic;++ig){id=ii[ig];if(ij<d3){ij+=ih[id];il.push(id)}else{d3+=ih[id];ib.push(id)}}return ib.reverse().concat(il)},reverse:function(d3){return hn.range(d3.length).reverse()},"default":bR});var af=hn.map({silhouette:function(ie){var ib=ie.length,ic=ie[0].length,ih=[],ii=0,ig,id,d3,ij=[];for(id=0;id<ic;++id){for(ig=0,d3=0;ig<ib;ig++){d3+=ie[ig][id][1]}if(d3>ii){ii=d3}ih.push(d3)}for(id=0;id<ic;++id){ij[id]=(ii-ih[id])/2}return ij},wiggle:function(ih){var ib=ih.length,ik=ih[0],ic=ik.length,ii,ig,ie,io,im,ij,ip,d3,id,il=[];il[0]=d3=id=0;for(ig=1;ig<ic;++ig){for(ii=0,io=0;ii<ib;++ii){io+=ih[ii][ig][1]}for(ii=0,im=0,ip=ik[ig][0]-ik[ig-1][0];ii<ib;++ii){for(ie=0,ij=(ih[ii][ig][1]-ih[ii][ig-1][1])/(2*ip);ie<ii;++ie){ij+=(ih[ie][ig][1]-ih[ie][ig-1][1])/ip}im+=ij*ih[ii][ig][1]}il[ig]=d3-=io?im/io*ip:0;if(d3<id){id=d3}}for(ig=0;ig<ic;++ig){il[ig]-=id}return il},expand:function(ig){var ii=ig.length,d3=ig[0].length,ib=1/ii,id,ic,ih,ie=[];for(ic=0;ic<d3;++ic){for(id=0,ih=0;id<ii;id++){ih+=ig[id][ic][1]}if(ih){for(id=0;id<ii;id++){ig[id][ic][1]/=ih}}else{for(id=0;id<ii;id++){ig[id][ic][1]=ib}}}for(ic=0;ic<d3;++ic){ie[ic]=0}return ie},zero:fD});function bR(d3){return hn.range(d3.length)}function fD(id){var ib=-1,d3=id[0].length,ic=[];while(++ib<d3){ic[ib]=0}return ic}function bX(ig){var id=1,ic=0,ib=ig[0][1],d3,ie=ig.length;for(;id<ie;++id){if((d3=ig[id][1])>ib){ic=id;ib=d3}}return ic}function dt(d3){return d3.reduce(fC,0)}function fC(d3,ib){return d3+ib[1]}hn.layout.histogram=function(){var ie=true,ib=Number,d3=bj,ic=hw;function id(ij,ik){var iq=[],io=ij.map(ib,this),il=d3.call(this,io,ik),ip=ic.call(this,il,io,ik),ir,ik=-1,ig=io.length,ih=ip.length-1,ii=ie?1:1/ig,im;while(++ik<ih){ir=iq[ik]=[];ir.dx=ip[ik+1]-(ir.x=ip[ik]);ir.y=0}if(ih>0){ik=-1;while(++ik<ig){im=io[ik];if(im>=il[0]&&im<=il[1]){ir=iq[hn.bisect(ip,im,1,ih)-1];ir.y+=ii;ir.push(ij[ik])}}}return iq}id.value=function(ig){if(!arguments.length){return ib}ib=ig;return id};id.range=function(ig){if(!arguments.length){return d3}d3=Q(ig);return id};id.bins=function(ig){if(!arguments.length){return ic}ic=typeof ig==="number"?function(ih){return i(ih,ig)}:Q(ig);return id};id.frequency=function(ig){if(!arguments.length){return ie}ie=!!ig;return id};return id};function hw(ib,d3){return i(ib,Math.ceil(Math.log(d3.length)/Math.LN2+1))}function i(id,ig){var ic=-1,ib=+id[0],d3=(id[1]-ib)/ig,ie=[];while(++ic<=ig){ie[ic]=d3*ic+ib}return ie}function bj(d3){return[hn.min(d3),hn.max(d3)]}hn.layout.pack=function(){var ib=hn.layout.hierarchy().sort(eA),ie=0,id=[1,1],d3;function ic(io,ij){var ii=ib.call(this,io,ij),ih=ii[0],ig=id[0],ik=id[1],il=d3==null?Math.sqrt:typeof d3==="function"?d3:function(){return d3};ih.x=ih.y=0;gL(ih,function(ip){ip.r=+il(ip.value)});gL(ih,S);if(ie){var im=ie*(d3?1:Math.max(2*ih.r/ig,2*ih.r/ik))/2;gL(ih,function(ip){ip.r+=im});gL(ih,S);gL(ih,function(ip){ip.r-=im})}fm(ih,ig/2,ik/2,d3?1:1/Math.max(2*ih.r/ig,2*ih.r/ik));return ii}ic.size=function(ig){if(!arguments.length){return id}id=ig;return ic};ic.radius=function(ig){if(!arguments.length){return d3}d3=ig==null||typeof ig==="function"?ig:+ig;return ic};ic.padding=function(ig){if(!arguments.length){return ie}ie=+ig;return ic};return gr(ic,ib)};function eA(ib,d3){return ib.value-d3.value}function bQ(ib,d3){var ic=ib._pack_next;ib._pack_next=d3;d3._pack_prev=ib;d3._pack_next=ic;ic._pack_prev=d3}function be(ib,d3){ib._pack_next=d3;d3._pack_prev=ib}function em(ic,d3){var id=d3.x-ic.x,ib=d3.y-ic.y,ie=ic.r+d3.r;return 0.999*ie*ie>id*id+ib*ib}function S(im){if(!(il=im.children)||!(ik=il.length)){return}var il,ir=Infinity,iw=-Infinity,d3=Infinity,ie=-Infinity,iv,iu,it,iq,ip,io,ik;function ic(ix){ir=Math.min(ix.x-ix.r,ir);iw=Math.max(ix.x+ix.r,iw);d3=Math.min(ix.y-ix.r,d3);ie=Math.max(ix.y+ix.r,ie)}il.forEach(aQ);iv=il[0];iv.x=-iv.r;iv.y=0;ic(iv);if(ik>1){iu=il[1];iu.x=iu.r;iu.y=0;ic(iu);if(ik>2){it=il[2];bd(iv,iu,it);ic(it);bQ(iv,it);iv._pack_prev=it;bQ(it,iu);iu=iv._pack_next;for(iq=3;iq<ik;iq++){bd(iv,iu,it=il[iq]);var ib=0,ig=1,id=1;for(ip=iu._pack_next;ip!==iu;ip=ip._pack_next,ig++){if(em(ip,it)){ib=1;break}}if(ib==1){for(io=iv._pack_prev;io!==ip._pack_prev;io=io._pack_prev,id++){if(em(io,it)){break}}}if(ib){if(ig<id||ig==id&&iu.r<iv.r){be(iv,iu=ip)}else{be(iv=io,iu)}iq--}else{bQ(iv,it);iu=it;ic(it)}}}}var ii=(ir+iw)/2,ih=(d3+ie)/2,ij=0;for(iq=0;iq<ik;iq++){it=il[iq];it.x-=ii;it.y-=ih;ij=Math.max(ij,it.r+Math.sqrt(it.x*it.x+it.y*it.y))}im.r=ij;il.forEach(eP)}function aQ(d3){d3._pack_next=d3._pack_prev=d3}function eP(d3){delete d3._pack_next;delete d3._pack_prev}function fm(ie,d3,ih,ib){var id=ie.children;ie.x=d3+=ib*ie.x;ie.y=ih+=ib*ie.y;ie.r*=ib;if(id){var ic=-1,ig=id.length;while(++ic<ig){fm(id[ic],d3,ih,ib)}}}function bd(ie,ic,d3){var ih=ie.r+d3.r,ik=ic.x-ie.x,ii=ic.y-ie.y;if(ih&&(ik||ii)){var ij=ic.r+d3.r,ig=ik*ik+ii*ii;ij*=ij;ih*=ih;var id=0.5+(ih-ij)/(2*ig),ib=Math.sqrt(Math.max(0,2*ij*(ih+ig)-(ih-=ig)*ih-ij*ij))/(2*ig);d3.x=ie.x+id*ik+ib*ii;d3.y=ie.y+id*ii-ib*ik}else{d3.x=ie.x+ih;d3.y=ie.y}}hn.layout.tree=function(){var ie=hn.layout.hierarchy().sort(null).value(null),ib=dz,ij=[1,1],ig=null;function ik(iu,iq){var im=ie.call(this,iu,iq),iw=im[0],iv=ii(iw);gL(iv,id),iv.parent.m=-iv.z;eu(iv,ih);if(ig){eu(iw,ic)}else{var io=iw,ix=iw,il=iw;eu(iw,function(iy){if(iy.x<io.x){io=iy}if(iy.x>ix.x){ix=iy}if(iy.depth>il.depth){il=iy}});var ip=ib(io,ix)/2-io.x,it=ij[0]/(ix.x+ib(ix,io)/2+ip),ir=ij[1]/(il.depth||1);eu(iw,function(iy){iy.x=(iy.x+ip)*it;iy.y=iy.depth*ir})}return im}function ii(ip){var im={A:null,children:[ip]},il=[im],io;while((io=il.pop())!=null){for(var ir=io.children,iu,iq=0,it=ir.length;iq<it;++iq){il.push((ir[iq]=iu={_:ir[iq],parent:io,children:(iu=ir[iq].children)&&iu.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:iq}).a=iu)}}return im.children[0]}function id(im){var ip=im.children,iq=im.parent.children,il=im.i?iq[im.i-1]:null;if(ip.length){dC(im);var io=(ip[0].z+ip[ip.length-1].z)/2;if(il){im.z=il.z+ib(im._,il._);im.m=im.z-io}else{im.z=io}}else{if(il){im.z=il.z+ib(im._,il._)}}im.parent.A=d3(im,il,im.parent.A||iq[0])}function ih(il){il._.x=il.z+il.parent.m;il.m+=il.parent.m}function d3(iy,ix,ir){if(ix){var io=iy,im=iy,iq=ix,ip=io.parent.children[0],iu=io.m,it=im.m,iw=iq.m,iv=ip.m,il;while(iq=aA(iq),io=hX(io),iq&&io){ip=hX(ip);im=aA(im);im.a=iy;il=iq.z+iw-io.z-iu+ib(iq._,io._);if(il>0){hZ(fX(iq,iy,ir),iy,il);iu+=il;it+=il}iw+=iq.m;iu+=io.m;iv+=ip.m;it+=im.m}if(iq&&!aA(im)){im.t=iq;im.m+=iw-it}if(io&&!hX(ip)){ip.t=io;ip.m+=iu-iv;ir=iy}}return ir}function ic(il){il.x*=ij[0];il.y=il.depth*ij[1]}ik.separation=function(il){if(!arguments.length){return ib}ib=il;return ik};ik.size=function(il){if(!arguments.length){return ig?null:ij}ig=(ij=il)==null?ic:null;return ik};ik.nodeSize=function(il){if(!arguments.length){return ig?ij:null}ig=(ij=il)==null?null:ic;return ik};return gr(ik,ie)};function dz(ib,d3){return ib.parent==d3.parent?1:2}function hX(d3){var ib=d3.children;return ib.length?ib[0]:d3.t}function aA(d3){var ib=d3.children,ic;return(ic=ib.length)?ib[ic-1]:d3.t}function hZ(ic,ib,d3){var id=d3/(ib.i-ic.i);ib.c-=id;ib.s+=d3;ic.c+=id;ib.z+=d3;ib.m+=d3}function dC(ic){var ib=0,ig=0,ie=ic.children,id=ie.length,d3;while(--id>=0){d3=ie[id];d3.z+=ib;d3.m+=ib;ib+=d3.s+(ig+=d3.c)}}function fX(ib,d3,ic){return ib.a.parent===d3.parent?ib.a:ic}hn.layout.cluster=function(){var ic=hn.layout.hierarchy().sort(null).value(null),ie=dz,id=[1,1],ib=false;function d3(il,ik){var ig=ic.call(this,il,ik),im=ig[0],io,ip=0;gL(im,function(it){var ir=it.children;if(ir&&ir.length){it.x=bx(ir);it.y=bw(ir)}else{it.x=io?ip+=ie(it,io):0;it.y=0;io=it}});var ij=eC(im),iq=dF(im),ii=ij.x-ie(ij,iq)/2,ih=iq.x+ie(iq,ij)/2;gL(im,ib?function(ir){ir.x=(ir.x-im.x)*id[0];ir.y=(im.y-ir.y)*id[1]}:function(ir){ir.x=(ir.x-ii)/(ih-ii)*id[0];ir.y=(1-(im.y?ir.y/im.y:1))*id[1]});return ig}d3.separation=function(ig){if(!arguments.length){return ie}ie=ig;return d3};d3.size=function(ig){if(!arguments.length){return ib?null:id}ib=(id=ig)==null;return d3};d3.nodeSize=function(ig){if(!arguments.length){return ib?id:null}ib=(id=ig)!=null;return d3};return gr(d3,ic)};function bw(d3){return 1+hn.max(d3,function(ib){return ib.y})}function bx(d3){return d3.reduce(function(ib,ic){return ib+ic.x},0)/d3.length}function eC(ib){var d3=ib.children;return d3&&d3.length?eC(d3[0]):ib}function dF(ib){var d3=ib.children,ic;return d3&&(ic=d3.length)?dF(d3[ic-1]):ib}hn.layout.treemap=function(){var ij=hn.layout.hierarchy(),io=Math.round,iq=[1,1],ik=null,d3=e6,il=false,ih,ig="squarify",ii=0.5*(1+Math.sqrt(5));function ib(iu,ir){var it=-1,ix=iu.length,iw,iv;while(++it<ix){iv=(iw=iu[it]).value*(ir<0?0:ir);iw.area=isNaN(iv)||iv<=0?0:iv}}function id(iw){var it=iw.children;if(it&&it.length){var iz=d3(iw),iB=[],iy=it.slice(),ir,ix=Infinity,iv,iA=ig==="slice"?iz.dx:ig==="dice"?iz.dy:ig==="slice-dice"?iw.depth&1?iz.dy:iz.dx:Math.min(iz.dx,iz.dy),iu;ib(iy,iz.dx*iz.dy/iw.value);iB.area=0;while((iu=iy.length)>0){iB.push(ir=iy[iu-1]);iB.area+=ir.area;if(ig!=="squarify"||(iv=ic(iB,iA))<=ix){iy.pop();ix=iv}else{iB.area-=iB.pop().area;ie(iB,iA,iz,false);iA=Math.min(iz.dx,iz.dy);iB.length=iB.area=0;ix=Infinity}}if(iB.length){ie(iB,iA,iz,true);iB.length=iB.area=0}it.forEach(id)}}function ip(iv){var ir=iv.children;if(ir&&ir.length){var iu=d3(iv),it=ir.slice(),ix,iw=[];ib(it,iu.dx*iu.dy/iv.value);iw.area=0;while(ix=it.pop()){iw.push(ix);iw.area+=ix.area;if(ix.z!=null){ie(iw,ix.z?iu.dx:iu.dy,iu,!it.length);iw.length=iw.area=0}}ir.forEach(ip)}}function ic(ix,it){var iv=ix.area,iw,iz=0,ir=Infinity,iu=-1,iy=ix.length;while(++iu<iy){if(!(iw=ix[iu].area)){continue}if(iw<ir){ir=iw}if(iw>iz){iz=iw}}iv*=iv;it*=it;return iv?Math.max(it*iz*ii/iv,iv/(it*ir*ii)):Infinity}function ie(iB,iA,iw,iz){var iu=-1,it=iB.length,ix=iw.x,iv=iw.y,iy=iA?io(iB.area/iA):0,ir;if(iA==iw.dx){if(iz||iy>iw.dy){iy=iw.dy}while(++iu<it){ir=iB[iu];ir.x=ix;ir.y=iv;ir.dy=iy;ix+=ir.dx=Math.min(iw.x+iw.dx-ix,iy?io(ir.area/iy):0)}ir.z=true;ir.dx+=iw.x+iw.dx-ix;iw.y+=iy;iw.dy-=iy}else{if(iz||iy>iw.dx){iy=iw.dx}while(++iu<it){ir=iB[iu];ir.x=ix;ir.y=iv;ir.dx=iy;iv+=ir.dy=Math.min(iw.y+iw.dy-iv,iy?io(ir.area/iy):0)}ir.z=false;ir.dy+=iw.y+iw.dy-iv;iw.x+=iy;iw.dx-=iy}}function im(iu){var it=ih||ij(iu),ir=it[0];ir.x=ir.y=0;if(ir.value){ir.dx=iq[0],ir.dy=iq[1]}else{ir.dx=ir.dy=0}if(ih){ij.revalue(ir)}ib([ir],ir.dx*ir.dy/ir.value);(ih?ip:id)(ir);if(il){ih=it}return it}im.size=function(ir){if(!arguments.length){return iq}iq=ir;return im};im.padding=function(ir){if(!arguments.length){return ik}function iv(iw){var ix=ir.call(im,iw,iw.depth);return ix==null?e6(iw):aZ(iw,typeof ix==="number"?[ix,ix,ix,ix]:ix)}function iu(iw){return aZ(iw,ir)}var it;d3=(ik=ir)==null?e6:(it=typeof ir)==="function"?iv:it==="number"?(ir=[ir,ir,ir,ir],iu):iu;return im};im.round=function(ir){if(!arguments.length){return io!=Number}io=ir?Math.round:Number;return im};im.sticky=function(ir){if(!arguments.length){return il}il=ir;ih=null;return im};im.ratio=function(ir){if(!arguments.length){return ii}ii=ir;return im};im.mode=function(ir){if(!arguments.length){return ig}ig=ir+"";return im};return gr(im,ij)};function e6(d3){return{x:d3.x,y:d3.y,dx:d3.dx,dy:d3.dy}}function aZ(id,ie){var d3=id.x+ie[3],ig=id.y+ie[0],ic=id.dx-ie[1]-ie[3],ib=id.dy-ie[0]-ie[2];if(ic<0){d3+=ic/2;ic=0}if(ib<0){ig+=ib/2;ib=0}return{x:d3,y:ig,dx:ic,dy:ib}}hn.random={normal:function(ib,d3){var ic=arguments.length;if(ic<2){d3=1}if(ic<1){ib=0}return function(){var id,ig,ie;do{id=Math.random()*2-1;ig=Math.random()*2-1;ie=id*id+ig*ig}while(!ie||ie>1);return ib+d3*id*Math.sqrt(-2*Math.log(ie)/ie)}},logNormal:function(){var d3=hn.random.normal.apply(hn,arguments);return function(){return Math.exp(d3())}},bates:function(d3){var ib=hn.random.irwinHall(d3);return function(){return ib()/d3}},irwinHall:function(d3){return function(){for(var ic=0,ib=0;ib<d3;ib++){ic+=Math.random()}return ic}}};hn.scale={};function es(ib){var ic=ib[0],d3=ib[ib.length-1];return ic<d3?[ic,d3]:[d3,ic]}function aY(d3){return d3.rangeExtent?d3.rangeExtent():es(d3.range())}function aF(ie,d3,ig,ic){var ib=ig(ie[0],ie[1]),id=ic(d3[0],d3[1]);return function(ih){return id(ib(ih))}}function gh(ih,ie){var ig=0,id=ih.length-1,ic=ih[ig],ib=ih[id],d3;if(ib<ic){d3=ig,ig=id,id=d3;d3=ic,ic=ib,ib=d3}ih[ig]=ie.floor(ic);ih[id]=ie.ceil(ib);return ih}function a6(d3){return d3?{floor:function(ib){return Math.floor(ib/d3)*d3},ceil:function(ib){return Math.ceil(ib/d3)*d3}}:eB}var eB={floor:gk,ceil:gk};function L(ih,ib,ii,ie){var id=[],ig=[],ic=0,d3=Math.min(ih.length,ib.length)-1;if(ih[d3]<ih[0]){ih=ih.slice().reverse();ib=ib.slice().reverse()}while(++ic<=d3){id.push(ii(ih[ic-1],ih[ic]));ig.push(ie(ib[ic-1],ib[ic]))}return function(ij){var ik=hn.bisect(ih,ij,1,d3)-1;return ig[ik](id[ik](ij))}}hn.scale.linear=function(){return ei([0,1],[0,1],fB,false)};function ei(ig,id,ie,ii){var ic,ib;function d3(){var ij=Math.min(ig.length,id.length)>2?L:aF,ik=ii?ay:hv;ic=ij(ig,id,ik,ie);ib=ij(id,ig,ik,fB);return ih}function ih(ij){return ic(ij)}ih.invert=function(ij){return ib(ij)};ih.domain=function(ij){if(!arguments.length){return ig}ig=ij.map(Number);return d3()};ih.range=function(ij){if(!arguments.length){return id}id=ij;return d3()};ih.rangeRound=function(ij){return ih.range(ij).interpolate(fw)};ih.clamp=function(ij){if(!arguments.length){return ii}ii=ij;return d3()};ih.interpolate=function(ij){if(!arguments.length){return ie}ie=ij;return d3()};ih.ticks=function(ij){return e1(ig,ij)};ih.tickFormat=function(ij,ik){return e9(ig,ij,ik)};ih.nice=function(ij){aL(ig,ij);return d3()};ih.copy=function(){return ei(ig,id,ie,ii)};return d3()}function f9(ib,d3){return hn.rebind(ib,d3,"range","rangeRound","interpolate","clamp")}function aL(ib,d3){gh(ib,a6(p(ib,d3)[2]));gh(ib,a6(p(ib,d3)[2]));return ib}function p(ig,d3){if(d3==null){d3=10}var ic=es(ig),ib=ic[1]-ic[0],ie=Math.pow(10,Math.floor(Math.log(ib/d3)/Math.LN10)),id=d3/ib*ie;if(id<=0.15){ie*=10}else{if(id<=0.35){ie*=5}else{if(id<=0.75){ie*=2}}}ic[0]=Math.ceil(ic[0]/ie)*ie;ic[1]=Math.floor(ic[1]/ie)*ie+ie*0.5;ic[2]=ie;return ic}function e1(ib,d3){return hn.range.apply(hn,p(ib,d3))}function e9(ie,d3,ig){var ib=p(ie,d3);if(ig){var ic=cz.exec(ig);ic.shift();if(ic[8]==="s"){var id=hn.formatPrefix(Math.max(cG(ib[0]),cG(ib[1])));if(!ic[7]){ic[7]="."+gV(id.scale(ib[2]))}ic[8]="f";ig=hn.format(ic.join(""));return function(ih){return ig(id.scale(ih))+id.symbol}}if(!ic[7]){ic[7]="."+x(ic[8],ib)}ig=ic.join("")}else{ig=",."+gV(ib[2])+"f"}return hn.format(ig)}var hW={s:1,g:1,p:1,r:1,e:1};function gV(d3){return -Math.floor(Math.log(d3)/Math.LN10+0.01)}function x(ib,d3){var ic=gV(d3[2]);return ib in hW?Math.abs(ic-gV(Math.max(cG(d3[0]),cG(d3[1]))))+ +(ib!=="e"):ic-(ib==="%")*2}hn.scale.log=function(){return gF(hn.scale.linear().domain([0,1]),10,true,[1,10])};function gF(ib,ig,d3,ie){function ic(ii){return(d3?Math.log(ii<0?0:ii):-Math.log(ii>0?0:-ii))/Math.log(ig)}function id(ii){return d3?Math.pow(ig,ii):-Math.pow(ig,-ii)}function ih(ii){return ib(ic(ii))}ih.invert=function(ii){return id(ib.invert(ii))};ih.domain=function(ii){if(!arguments.length){return ie}d3=ii[0]>=0;ib.domain((ie=ii.map(Number)).map(ic));return ih};ih.base=function(ii){if(!arguments.length){return ig}ig=+ii;ib.domain(ie.map(ic));return ih};ih.nice=function(){var ii=gh(ie.map(ic),d3?Math:gK);ib.domain(ii);ie=ii.map(id);return ih};ih.ticks=function(){var io=es(ie),ip=[],il=io[0],ij=io[1],im=Math.floor(ic(il)),ik=Math.ceil(ic(ij)),iq=ig%1?2:ig;if(isFinite(ik-im)){if(d3){for(;im<ik;im++){for(var ii=1;ii<iq;ii++){ip.push(id(im)*ii)}}ip.push(id(im))}else{ip.push(id(im));for(;im++<ik;){for(var ii=iq-1;ii>0;ii--){ip.push(id(im)*ii)}}}for(im=0;ip[im]<il;im++){}for(ik=ip.length;ip[ik-1]>ij;ik--){}ip=ip.slice(im,ik)}return ip};ih.tickFormat=function(ik,ij){if(!arguments.length){return ds}if(arguments.length<2){ij=ds}else{if(typeof ij!=="function"){ij=hn.format(ij)}}var ii=Math.max(1,ig*ik/ih.ticks().length);return function(im){var il=im/id(Math.round(ic(im)));if(il*ig<ig-0.5){il*=ig}return il<=ii?ij(im):""}};ih.copy=function(){return gF(ib.copy(),ig,d3,ie)};return f9(ih,ib)}var ds=hn.format(".0e"),gK={floor:function(d3){return -Math.ceil(-d3)},ceil:function(d3){return -Math.floor(-d3)}};hn.scale.pow=function(){return gq(hn.scale.linear(),1,[0,1])};function gq(d3,id,ic){var ib=fS(id),ie=fS(1/id);function ig(ih){return d3(ib(ih))}ig.invert=function(ih){return ie(d3.invert(ih))};ig.domain=function(ih){if(!arguments.length){return ic}d3.domain((ic=ih.map(Number)).map(ib));return ig};ig.ticks=function(ih){return e1(ic,ih)};ig.tickFormat=function(ih,ii){return e9(ic,ih,ii)};ig.nice=function(ih){return ig.domain(aL(ic,ih))};ig.exponent=function(ih){if(!arguments.length){return id}ib=fS(id=ih);ie=fS(1/id);d3.domain(ic.map(ib));return ig};ig.copy=function(){return gq(d3.copy(),id,ic)};return f9(ig,d3)}function fS(d3){return function(ib){return ib<0?-Math.pow(-ib,d3):Math.pow(ib,d3)}}hn.scale.sqrt=function(){return hn.scale.pow().exponent(0.5)};hn.scale.ordinal=function(){return cs([],{t:"range",a:[[]]})};function cs(ig,ic){var ie,ib,id;function ih(ii){return ib[((ie.get(ii)||(ic.t==="range"?ie.set(ii,ig.push(ii)):NaN))-1)%ib.length]}function d3(ij,ii){return hn.range(ig.length).map(function(ik){return ij+ii*ik})}ih.domain=function(ii){if(!arguments.length){return ig}ig=[];ie=new aH();var ik=-1,il=ii.length,ij;while(++ik<il){if(!ie.has(ij=ii[ik])){ie.set(ij,ig.push(ij))}}return ih[ic.t].apply(ih,ic.a)};ih.range=function(ii){if(!arguments.length){return ib}ib=ii;id=0;ic={t:"range",a:arguments};return ih};ih.rangePoints=function(ii,il){if(arguments.length<2){il=0}var im=ii[0],ij=ii[1],ik=ig.length<2?(im=(im+ij)/2,0):(ij-im)/(ig.length-1+il);ib=d3(im+ik*il/2,ik);id=0;ic={t:"rangePoints",a:arguments};return ih};ih.rangeRoundPoints=function(ii,il){if(arguments.length<2){il=0}var im=ii[0],ij=ii[1],ik=ig.length<2?(im=ij=Math.round((im+ij)/2),0):(ij-im)/(ig.length-1+il)|0;ib=d3(im+Math.round(ik*il/2+(ij-im-(ig.length-1+il)*ik)/2),ik);id=0;ic={t:"rangeRoundPoints",a:arguments};return ih};ih.rangeBands=function(ij,io,ii){if(arguments.length<2){io=0}if(arguments.length<3){ii=io}var ik=ij[1]<ij[0],ip=ij[ik-0],il=ij[1-ik],im=(il-ip)/(ig.length-io+2*ii);ib=d3(ip+im*ii,im);if(ik){ib.reverse()}id=im*(1-io);ic={t:"rangeBands",a:arguments};return ih};ih.rangeRoundBands=function(ij,io,ii){if(arguments.length<2){io=0}if(arguments.length<3){ii=io}var ik=ij[1]<ij[0],ip=ij[ik-0],il=ij[1-ik],im=Math.floor((il-ip)/(ig.length-io+2*ii));ib=d3(ip+Math.round((il-ip-(ig.length-io)*im)/2),im);if(ik){ib.reverse()}id=Math.round(im*(1-io));ic={t:"rangeRoundBands",a:arguments};return ih};ih.rangeBand=function(){return id};ih.rangeExtent=function(){return es(ic.a[0])};ih.copy=function(){return cs(ig,ic)};return ih.domain(ig)}hn.scale.category10=function(){return hn.scale.ordinal().range(cA)};hn.scale.category20=function(){return hn.scale.ordinal().range(ci)};hn.scale.category20b=function(){return hn.scale.ordinal().range(hb)};hn.scale.category20c=function(){return hn.scale.ordinal().range(g9)};var cA=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dw);var ci=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dw);var hb=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dw);var g9=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dw);hn.scale.quantile=function(){return B([],[])};function B(ic,ib){var id;function d3(){var ig=0,ih=ib.length;id=[];while(++ig<ih){id[ig-1]=hn.quantile(ic,ig/ih)}return ie}function ie(ig){if(!isNaN(ig=+ig)){return ib[hn.bisect(id,ig)]}}ie.domain=function(ig){if(!arguments.length){return ic}ic=ig.map(hs).filter(bb).sort(fh);return d3()};ie.range=function(ig){if(!arguments.length){return ib}ib=ig;return d3()};ie.quantiles=function(){return id};ie.invertExtent=function(ig){ig=ib.indexOf(ig);return ig<0?[NaN,NaN]:[ig>0?id[ig-1]:ic[0],ig<id.length?id[ig]:ic[ic.length-1]]};ie.copy=function(){return B(ic,ib)};return d3()}hn.scale.quantize=function(){return dE(0,1,[0,1])};function dE(ie,ic,ib){var ig,id;function ih(ii){return ib[Math.max(0,Math.min(id,Math.floor(ig*(ii-ie))))]}function d3(){ig=ib.length/(ic-ie);id=ib.length-1;return ih}ih.domain=function(ii){if(!arguments.length){return[ie,ic]}ie=+ii[0];ic=+ii[ii.length-1];return d3()};ih.range=function(ii){if(!arguments.length){return ib}ib=ii;return d3()};ih.invertExtent=function(ii){ii=ib.indexOf(ii);ii=ii<0?NaN:ii/ig+ie;return[ii,ii+1/ig]};ih.copy=function(){return dE(ie,ic,ib)};return d3()}hn.scale.threshold=function(){return f4([0.5],[0,1])};function f4(ib,d3){function ic(id){if(id<=id){return d3[hn.bisect(ib,id)]}}ic.domain=function(id){if(!arguments.length){return ib}ib=id;return ic};ic.range=function(id){if(!arguments.length){return d3}d3=id;return ic};ic.invertExtent=function(id){id=d3.indexOf(id);return[ib[id-1],ib[id]]};ic.copy=function(){return f4(ib,d3)};return ic}hn.scale.identity=function(){return eT([0,1])};function eT(ib){function d3(ic){return +ic}d3.invert=d3;d3.domain=d3.range=function(ic){if(!arguments.length){return ib}ib=ic.map(d3);return d3};d3.ticks=function(ic){return e1(ib,ic)};d3.tickFormat=function(ic,id){return e9(ib,ic,id)};d3.copy=function(){return eT(ib)};return d3}hn.svg={};function dn(){return 0}hn.svg.arc=function(){var ii=bB,id=cS,ie=dn,ij=fT,ih=gf,ib=an,ic=bL;function d3(){var iv=Math.max(0,+ii.apply(this,arguments)),iu=Math.max(0,+id.apply(this,arguments)),iQ=ih.apply(this,arguments)-ep,iP=ib.apply(this,arguments)-ep,iA=Math.abs(iP-iQ),iD=iQ>iP?0:1;if(iu<iv){iN=iu,iu=iv,iv=iN}if(iA>=gE){return ig(iu,iD)+(iv?ig(iv,1-iD):"")+"Z"}var iN,iE,iH,iq,iS=0,iR=0,iz,ik,iy,iX,ix,iW,iw,iU,iO=[];if(iq=(+ic.apply(this,arguments)||0)/2){iH=ij===fT?Math.sqrt(iv*iv+iu*iu):+ij.apply(this,arguments);if(!iD){iR*=-1}if(iu){iR=cf(iH/iu*Math.sin(iq))}if(iv){iS=cf(iH/iv*Math.sin(iq))}}if(iu){iz=iu*Math.cos(iQ+iR);ik=iu*Math.sin(iQ+iR);iy=iu*Math.cos(iP-iR);iX=iu*Math.sin(iP-iR);var ir=Math.abs(iP-iQ-2*iR)<=gd?0:1;if(iR&&hD(iz,ik,iy,iX)===iD^ir){var iF=(iQ+iP)/2;iz=iu*Math.cos(iF);ik=iu*Math.sin(iF);iy=iX=null}}else{iz=ik=0}if(iv){ix=iv*Math.cos(iP-iS);iW=iv*Math.sin(iP-iS);iw=iv*Math.cos(iQ+iS);iU=iv*Math.sin(iQ+iS);var it=Math.abs(iQ-iP+2*iS)<=gd?0:1;if(iS&&hD(ix,iW,iw,iU)===1-iD^it){var iG=(iQ+iP)/2;ix=iv*Math.cos(iG);iW=iv*Math.sin(iG);iw=iU=null}}else{ix=iW=0}if(iA>gm&&(iN=Math.min(Math.abs(iu-iv)/2,+ie.apply(this,arguments)))>0.001){iE=iv<iu^iD?0:1;var iT=iN,iV=iN;if(iA<gd){var iK=iw==null?[ix,iW]:iy==null?[iz,ik]:gi([iz,ik],[iw,iU],[iy,iX],[ix,iW]),ip=iz-iK[0],io=ik-iK[1],iM=iy-iK[0],iL=iX-iK[1],il=1/Math.sin(Math.acos((ip*iM+io*iL)/(Math.sqrt(ip*ip+io*io)*Math.sqrt(iM*iM+iL*iL)))/2),iI=Math.sqrt(iK[0]*iK[0]+iK[1]*iK[1]);iV=Math.min(iN,(iv-iI)/(il-1));iT=Math.min(iN,(iu-iI)/(il+1))}if(iy!=null){var iC=fd(iw==null?[ix,iW]:[iw,iU],[iz,ik],iu,iT,iD),im=fd([iy,iX],[ix,iW],iu,iT,iD);if(iN===iT){iO.push("M",iC[0],"A",iT,",",iT," 0 0,",iE," ",iC[1],"A",iu,",",iu," 0 ",1-iD^hD(iC[1][0],iC[1][1],im[1][0],im[1][1]),",",iD," ",im[1],"A",iT,",",iT," 0 0,",iE," ",im[0])}else{iO.push("M",iC[0],"A",iT,",",iT," 0 1,",iE," ",im[0])}}else{iO.push("M",iz,",",ik)}if(iw!=null){var iB=fd([iz,ik],[iw,iU],iv,-iV,iD),iJ=fd([ix,iW],iy==null?[iz,ik]:[iy,iX],iv,-iV,iD);if(iN===iV){iO.push("L",iJ[0],"A",iV,",",iV," 0 0,",iE," ",iJ[1],"A",iv,",",iv," 0 ",iD^hD(iJ[1][0],iJ[1][1],iB[1][0],iB[1][1]),",",1-iD," ",iB[1],"A",iV,",",iV," 0 0,",iE," ",iB[0])}else{iO.push("L",iJ[0],"A",iV,",",iV," 0 0,",iE," ",iB[0])}}else{iO.push("L",ix,",",iW)}}else{iO.push("M",iz,",",ik);if(iy!=null){iO.push("A",iu,",",iu," 0 ",ir,",",iD," ",iy,",",iX)}iO.push("L",ix,",",iW);if(iw!=null){iO.push("A",iv,",",iv," 0 ",it,",",1-iD," ",iw,",",iU)}}iO.push("Z");return iO.join("")}function ig(il,ik){return"M0,"+il+"A"+il+","+il+" 0 1,"+ik+" 0,"+-il+"A"+il+","+il+" 0 1,"+ik+" 0,"+il}d3.innerRadius=function(ik){if(!arguments.length){return ii}ii=Q(ik);return d3};d3.outerRadius=function(ik){if(!arguments.length){return id}id=Q(ik);return d3};d3.cornerRadius=function(ik){if(!arguments.length){return ie}ie=Q(ik);return d3};d3.padRadius=function(ik){if(!arguments.length){return ij}ij=ik==fT?fT:Q(ik);return d3};d3.startAngle=function(ik){if(!arguments.length){return ih}ih=Q(ik);return d3};d3.endAngle=function(ik){if(!arguments.length){return ib}ib=Q(ik);return d3};d3.padAngle=function(ik){if(!arguments.length){return ic}ic=Q(ik);return d3};d3.centroid=function(){var il=(+ii.apply(this,arguments)+ +id.apply(this,arguments))/2,ik=(+ih.apply(this,arguments)+ +ib.apply(this,arguments))/2-ep;return[Math.cos(ik)*il,Math.sin(ik)*il]};return d3};var fT="auto";function bB(d3){return d3.innerRadius}function cS(d3){return d3.outerRadius}function gf(d3){return d3.startAngle}function an(d3){return d3.endAngle}function bL(d3){return d3&&d3.padAngle}function hD(ib,id,d3,ic){return(ib-d3)*id-(id-ic)*ib>0?0:1}function fd(ib,d3,iz,iy,ii){var ix=ib[0]-d3[0],ik=ib[1]-d3[1],im=(ii?iy:-iy)/Math.sqrt(ix*ix+ik*ik),il=im*ik,ij=-im*ix,iC=ib[0]+il,ih=ib[1]+ij,iB=d3[0]+il,ie=d3[1]+ij,iA=(iC+iB)/2,ic=(ih+ie)/2,ir=iB-iC,ip=ie-ih,iG=ir*ir+ip*ip,iv=iz-iy,it=iC*ie-iB*ih,iD=(ip<0?-1:1)*Math.sqrt(Math.max(0,iv*iv*iG-it*it)),iw=(it*ip-ir*iD)/iG,iF=(-it*ir-ip*iD)/iG,iu=(it*ip+ir*iD)/iG,iE=(-it*ir+ip*iD)/iG,ig=iw-iA,iq=iF-ic,id=iu-iA,io=iE-ic;if(ig*ig+iq*iq>id*id+io*io){iw=iu,iF=iE}return[[iw-il,iF-ij],[iw*iz/iv,iF*iz/iv]]}function e8(ib){var d3=hU,ii=hT,ih=ag,id=hQ,ig=id.key,ie=0.7;function ic(im){var ip=[],it=[],io=-1,ij=im.length,ir,il=Q(d3),ik=Q(ii);function iq(){ip.push("M",id(ib(it),ie))}while(++io<ij){if(ih.call(this,ir=im[io],io)){it.push([+il.call(this,ir,io),+ik.call(this,ir,io)])}else{if(it.length){iq();it=[]}}}if(it.length){iq()}return ip.length?ip.join(""):null}ic.x=function(ij){if(!arguments.length){return d3}d3=ij;return ic};ic.y=function(ij){if(!arguments.length){return ii}ii=ij;return ic};ic.defined=function(ij){if(!arguments.length){return ih}ih=ij;return ic};ic.interpolate=function(ij){if(!arguments.length){return ig}if(typeof ij==="function"){ig=id=ij}else{ig=(id=ce.get(ij)||hQ).key}return ic};ic.tension=function(ij){if(!arguments.length){return ie}ie=ij;return ic};return ic}hn.svg.line=function(){return e8(gk)};var ce=hn.map({linear:hQ,"linear-closed":Y,step:c9,"step-before":bl,"step-after":hx,basis:fc,"basis-open":bi,"basis-closed":cN,bundle:cQ,cardinal:dR,"cardinal-open":b4,"cardinal-closed":r,monotone:di});ce.forEach(function(d3,ib){ib.key=d3;ib.closed=/-closed$/.test(d3)});function hQ(d3){return d3.length>1?d3.join("L"):d3+"Z"}function Y(d3){return d3.join("L")+"Z"}function c9(ib){var d3=0,ie=ib.length,id=ib[0],ic=[id[0],",",id[1]];while(++d3<ie){ic.push("H",(id[0]+(id=ib[d3])[0])/2,"V",id[1])}if(ie>1){ic.push("H",id[0])}return ic.join("")}function bl(ib){var d3=0,ie=ib.length,id=ib[0],ic=[id[0],",",id[1]];while(++d3<ie){ic.push("V",(id=ib[d3])[1],"H",id[0])}return ic.join("")}function hx(ib){var d3=0,ie=ib.length,id=ib[0],ic=[id[0],",",id[1]];while(++d3<ie){ic.push("H",(id=ib[d3])[0],"V",id[1])}return ic.join("")}function b4(ib,d3){return ib.length<4?hQ(ib):ib[1]+cX(ib.slice(1,-1),bW(ib,d3))}function r(ib,d3){return ib.length<3?Y(ib):ib[0]+cX((ib.push(ib[0]),ib),bW([ib[ib.length-2]].concat(ib,[ib[1]]),d3))}function dR(ib,d3){return ib.length<3?hQ(ib):ib[0]+cX(ib,bW(ib,d3))}function cX(ih,ig){if(ig.length<1||ih.length!=ig.length&&ih.length!=ig.length+2){return hQ(ih)}var ii=ih.length!=ig.length,il="",ij=ih[0],d3=ih[1],ie=ig[0],ik=ie,ic=1;if(ii){il+="Q"+(d3[0]-ie[0]*2/3)+","+(d3[1]-ie[1]*2/3)+","+d3[0]+","+d3[1];ij=ih[1];ic=2}if(ig.length>1){ik=ig[1];d3=ih[ic];ic++;il+="C"+(ij[0]+ie[0])+","+(ij[1]+ie[1])+","+(d3[0]-ik[0])+","+(d3[1]-ik[1])+","+d3[0]+","+d3[1];for(var ib=2;ib<ig.length;ib++,ic++){d3=ih[ic];ik=ig[ib];il+="S"+(d3[0]-ik[0])+","+(d3[1]-ik[1])+","+d3[0]+","+d3[1]}}if(ii){var id=ih[ic];il+="Q"+(d3[0]+ik[0]*2/3)+","+(d3[1]+ik[1]*2/3)+","+id[0]+","+id[1]}return il}function bW(ih,ie){var ic=[],id=(1-ie)/2,ij,ii=ih[0],ig=ih[1],ib=1,d3=ih.length;while(++ib<d3){ij=ii;ii=ig;ig=ih[ib];ic.push([id*(ig[0]-ij[0]),id*(ig[1]-ij[1])])}return ic}function fc(ii){if(ii.length<3){return hQ(ii)}var ic=1,ib=ii.length,id=ii[0],d3=id[0],ig=id[1],ih=[d3,d3,d3,(id=ii[1])[0]],ie=[ig,ig,ig,id[1]],ij=[d3,",",ig,"L",gl(hm,ih),",",gl(hm,ie)];ii.push(ii[ib-1]);while(++ic<=ib){id=ii[ic];ih.shift();ih.push(id[0]);ie.shift();ie.push(id[1]);bP(ij,ih,ie)}ii.pop();ij.push("L",id);return ij.join("")}function bi(id){if(id.length<4){return hQ(id)}var ig=[],ic=-1,ih=id.length,ie,ib=[0],d3=[0];while(++ic<3){ie=id[ic];ib.push(ie[0]);d3.push(ie[1])}ig.push(gl(hm,ib)+","+gl(hm,d3));--ic;while(++ic<ih){ie=id[ic];ib.shift();ib.push(ie[0]);d3.shift();d3.push(ie[1]);bP(ig,ib,d3)}return ig.join("")}function cN(ie){var ih,id=-1,ii=ie.length,d3=ii+4,ig,ic=[],ib=[];while(++id<4){ig=ie[id%ii];ic.push(ig[0]);ib.push(ig[1])}ih=[gl(hm,ic),",",gl(hm,ib)];--id;while(++id<d3){ig=ie[id%ii];ic.shift();ic.push(ig[0]);ib.shift();ib.push(ig[1]);bP(ih,ic,ib)}return ih.join("")}function cQ(ih,ig){var ic=ih.length-1;if(ic){var ib=ih[0][0],ie=ih[0][1],ik=ih[ic][0]-ib,ij=ih[ic][1]-ie,id=-1,d3,ii;while(++id<=ic){d3=ih[id];ii=id/ic;d3[0]=ig*d3[0]+(1-ig)*(ib+ii*ik);d3[1]=ig*d3[1]+(1-ig)*(ie+ii*ij)}}return fc(ih)}function gl(ib,d3){return ib[0]*d3[0]+ib[1]*d3[1]+ib[2]*d3[2]+ib[3]*d3[3]}var hq=[0,2/3,1/3,0],ho=[0,1/3,2/3,0],hm=[0,1/6,2/3,1/6];function bP(ib,d3,ic){ib.push("C",gl(hq,d3),",",gl(hq,ic),",",gl(ho,d3),",",gl(ho,ic),",",gl(hm,d3),",",gl(hm,ic))}function h4(ib,d3){return(d3[1]-ib[1])/(d3[0]-ib[0])}function d8(id){var ic=0,ib=id.length-1,d3=[],ih=id[0],ig=id[1],ie=d3[0]=h4(ih,ig);while(++ic<ib){d3[ic]=(ie+(ie=h4(ih=ig,ig=id[ic+1])))/2}d3[ic]=ie;return d3}function at(ii){var ie=[],id,ih,ig,ij,d3=d8(ii),ic=-1,ib=ii.length-1;while(++ic<ib){id=h4(ii[ic],ii[ic+1]);if(cG(id)<gm){d3[ic]=d3[ic+1]=0}else{ih=d3[ic]/id;ig=d3[ic+1]/id;ij=ih*ih+ig*ig;if(ij>9){ij=id*3/Math.sqrt(ij);d3[ic]=ij*ih;d3[ic+1]=ij*ig}}}ic=-1;while(++ic<=ib){ij=(ii[Math.min(ib,ic+1)][0]-ii[Math.max(0,ic-1)][0])/(6*(1+d3[ic]*d3[ic]));ie.push([ij||0,d3[ic]*ij||0])}return ie}function di(d3){return d3.length<3?hQ(d3):d3[0]+cX(d3,at(d3))}hn.svg.line.radial=function(){var d3=e8(O);d3.radius=d3.x,delete d3.x;d3.angle=d3.y,delete d3.y;return d3};function O(id){var d3,ic=-1,ig=id.length,ie,ib;while(++ic<ig){d3=id[ic];ie=d3[0];ib=d3[1]-ep;d3[0]=ie*Math.cos(ib);d3[1]=ie*Math.sin(ib)}return id}function h6(ie){var ic=hU,ib=hU,il=0,ij=hT,id=ag,ig=hQ,im=ig.key,ii=ig,ih="L",ik=0.7;function d3(it){var iv=[],io=[],iC=[],iu=-1,ip=it.length,ix,ir=Q(ic),iB=Q(il),iq=ic===ib?function(){return iz}:Q(ib),iA=il===ij?function(){return iy}:Q(ij),iz,iy;function iw(){iv.push("M",ig(ie(iC),ik),ih,ii(ie(io.reverse()),ik),"Z")}while(++iu<ip){if(id.call(this,ix=it[iu],iu)){io.push([iz=+ir.call(this,ix,iu),iy=+iB.call(this,ix,iu)]);iC.push([+iq.call(this,ix,iu),+iA.call(this,ix,iu)])}else{if(io.length){iw();io=[];iC=[]}}}if(io.length){iw()}return iv.length?iv.join(""):null}d3.x=function(io){if(!arguments.length){return ib}ic=ib=io;return d3};d3.x0=function(io){if(!arguments.length){return ic}ic=io;return d3};d3.x1=function(io){if(!arguments.length){return ib}ib=io;return d3};d3.y=function(io){if(!arguments.length){return ij}il=ij=io;return d3};d3.y0=function(io){if(!arguments.length){return il}il=io;return d3};d3.y1=function(io){if(!arguments.length){return ij}ij=io;return d3};d3.defined=function(io){if(!arguments.length){return id}id=io;return d3};d3.interpolate=function(io){if(!arguments.length){return im}if(typeof io==="function"){im=ig=io}else{im=(ig=ce.get(io)||hQ).key}ii=ig.reverse||ig;ih=ig.closed?"M":"L";return d3};d3.tension=function(io){if(!arguments.length){return ik}ik=io;return d3};return d3}bl.reverse=hx;hx.reverse=bl;hn.svg.area=function(){return h6(gk)};hn.svg.area.radial=function(){var d3=h6(O);d3.radius=d3.x,delete d3.x;d3.innerRadius=d3.x0,delete d3.x0;d3.outerRadius=d3.x1,delete d3.x1;d3.angle=d3.y,delete d3.y;d3.startAngle=d3.y0,delete d3.y0;d3.endAngle=d3.y1,delete d3.y1;return d3};hn.svg.chord=function(){var d3=hI,ii=hP,ih=G,ij=gf,ie=an;function ig(ip,im){var io=ik(this,d3,ip,im),il=ik(this,ii,ip,im);return"M"+io.p0+ib(io.r,io.p1,io.a1-io.a0)+(ic(io,il)?id(io.r,io.p1,io.r,io.p0):id(io.r,io.p1,il.r,il.p0)+ib(il.r,il.p1,il.a1-il.a0)+id(il.r,il.p1,io.r,io.p0))+"Z"}function ik(ip,it,iu,iq){var io=it.call(ip,iu,iq),ir=ih.call(ip,io,iq),im=ij.call(ip,io,iq)-ep,il=ie.call(ip,io,iq)-ep;return{r:ir,a0:im,a1:il,p0:[ir*Math.cos(im),ir*Math.sin(im)],p1:[ir*Math.cos(il),ir*Math.sin(il)]}}function ic(im,il){return im.a0==il.a0&&im.a1==il.a1}function ib(im,io,il){return"A"+im+","+im+" 0 "+ +(il>gd)+",1 "+io}function id(im,ip,il,io){return"Q 0,0 "+io}ig.radius=function(il){if(!arguments.length){return ih}ih=Q(il);return ig};ig.source=function(il){if(!arguments.length){return d3}d3=Q(il);return ig};ig.target=function(il){if(!arguments.length){return ii}ii=Q(il);return ig};ig.startAngle=function(il){if(!arguments.length){return ij}ij=Q(il);return ig};ig.endAngle=function(il){if(!arguments.length){return ie}ie=Q(il);return ig};return ig};function G(d3){return d3.radius}hn.svg.diagonal=function(){var ic=hI,id=hP,d3=m;function ib(ij,ig){var ik=ic.call(this,ij,ig),ih=id.call(this,ij,ig),ie=(ik.y+ih.y)/2,ii=[ik,{x:ik.x,y:ie},{x:ih.x,y:ie},ih];ii=ii.map(d3);return"M"+ii[0]+"C"+ii[1]+" "+ii[2]+" "+ii[3]}ib.source=function(ie){if(!arguments.length){return ic}ic=Q(ie);return ib};ib.target=function(ie){if(!arguments.length){return id}id=Q(ie);return ib};ib.projection=function(ie){if(!arguments.length){return d3}d3=ie;return ib};return ib};function m(d3){return[d3.x,d3.y]}hn.svg.diagonal.radial=function(){var ic=hn.svg.diagonal(),d3=m,ib=ic.projection;ic.projection=function(id){return arguments.length?ib(n(d3=id)):d3};return ic};function n(d3){return function(){var id=d3.apply(this,arguments),ic=id[0],ib=id[1]-ep;return[ic*Math.cos(ib),ic*Math.sin(ib)]}}hn.svg.symbol=function(){var ib=aU,d3=e4;function ic(ie,id){return(hN.get(ib.call(this,ie,id))||cg)(d3.call(this,ie,id))}ic.type=function(id){if(!arguments.length){return ib}ib=Q(id);return ic};ic.size=function(id){if(!arguments.length){return d3}d3=Q(id);return ic};return ic};function e4(){return 64}function aU(){return"circle"}function cg(d3){var ib=Math.sqrt(d3/gd);return"M0,"+ib+"A"+ib+","+ib+" 0 1,1 0,"+-ib+"A"+ib+","+ib+" 0 1,1 0,"+ib+"Z"}var hN=hn.map({circle:cg,cross:function(d3){var ib=Math.sqrt(d3/5)/2;return"M"+-3*ib+","+-ib+"H"+-ib+"V"+-3*ib+"H"+ib+"V"+-ib+"H"+3*ib+"V"+ib+"H"+ib+"V"+3*ib+"H"+-ib+"V"+ib+"H"+-3*ib+"Z"},diamond:function(d3){var ib=Math.sqrt(d3/(2*cm)),ic=ib*cm;return"M0,"+-ib+"L"+ic+",0 0,"+ib+" "+-ic+",0Z"},square:function(d3){var ib=Math.sqrt(d3)/2;return"M"+-ib+","+-ib+"L"+ib+","+-ib+" "+ib+","+ib+" "+-ib+","+ib+"Z"},"triangle-down":function(d3){var ic=Math.sqrt(d3/b8),ib=ic*b8/2;return"M0,"+ib+"L"+ic+","+-ib+" "+-ic+","+-ib+"Z"},"triangle-up":function(d3){var ic=Math.sqrt(d3/b8),ib=ic*b8/2;return"M0,"+-ib+"L"+ic+","+ib+" "+-ic+","+ib+"Z"}});hn.svg.symbolTypes=hN.keys();var b8=Math.sqrt(3),cm=Math.tan(30*I);dY.transition=function(d3){var ib=aq||++ha,il=gy(d3),ie=[],io,ih,ik=d4||{time:Date.now(),ease:av,delay:0,duration:250};for(var ii=-1,ig=this.length;++ii<ig;){ie.push(io=[]);for(var im=this[ii],ij=-1,ic=im.length;++ij<ic;){if(ih=im[ij]){fA(ih,ij,il,ib,ik)}io.push(ih)}}return gQ(ie,il,ib)};dY.interrupt=function(d3){return this.each(d3==null?cU:dv(gy(d3)))};var cU=dv(gy());function dv(d3){return function(){var ic,ib,id;if((ic=this[d3])&&(id=ic[ib=ic.active])){id.timer.c=null;id.timer.t=NaN;if(--ic.count){delete ic[ib]}else{delete this[d3]}ic.active+=0.5;id.event&&id.event.interrupt.call(this,this.__data__,id.index)}}}function gQ(d3,ib,ic){h5(d3,ev);d3.namespace=ib;d3.id=ic;return d3}var ev=[],ha=0,aq,d4;ev.call=dY.call;ev.empty=dY.empty;ev.node=dY.node;ev.size=dY.size;hn.transition=function(ib,d3){return ib&&ib.transition?aq?ib.transition(d3):ib:hn.selection().transition(ib)};hn.transition.prototype=ev;ev.select=function(ii){var d3=this.id,il=this.namespace,ie=[],io,ib,ih;ii=y(ii);for(var ij=-1,ig=this.length;++ij<ig;){ie.push(io=[]);for(var im=this[ij],ik=-1,ic=im.length;++ik<ic;){if((ih=im[ik])&&(ib=ii.call(ih,ih.__data__,ik,ij))){if("__data__" in ih){ib.__data__=ih.__data__}fA(ib,ik,il,d3,ih[il][d3]);io.push(ib)}else{io.push(null)}}}return gQ(ie,il,d3)};ev.selectAll=function(ik){var ib=this.id,iq=this.namespace,ih=[],it,d3,ij,ic,ip;ik=c1(ik);for(var im=-1,ii=this.length;++im<ii;){for(var ir=this[im],io=-1,ig=ir.length;++io<ig;){if(ij=ir[io]){ip=ij[iq][ib];d3=ik.call(ij,ij.__data__,io,im);ih.push(it=[]);for(var il=-1,ie=d3.length;++il<ie;){if(ic=d3[il]){fA(ic,il,iq,ib,ip)}it.push(ic)}}}}return gQ(ih,iq,ib)};ev.filter=function(d3){var ic=[],ij,ii,id;if(typeof d3!=="function"){d3=a8(d3)}for(var ig=0,ie=this.length;ig<ie;ig++){ic.push(ij=[]);for(var ii=this[ig],ih=0,ib=ii.length;ih<ib;ih++){if((id=ii[ih])&&d3.call(id,id.__data__,ih,ig)){ij.push(id)}}}return gQ(ic,this.namespace,this.id)};ev.tween=function(d3,ib){var ie=this.id,ic=this.namespace;if(arguments.length<2){return this.node()[ic][ie].tween.get(d3)}return cI(this,ib==null?function(id){id[ic][ie].tween.remove(d3)}:function(id){id[ic][ie].tween.set(d3,ib)})};function hM(d3,ib,ig,ic){var ih=d3.id,ie=d3.namespace;return cI(d3,typeof ig==="function"?function(ij,ii,id){ij[ie][ih].tween.set(ib,ic(ig.call(ij,ij.__data__,ii,id)))}:(ig=ic(ig),function(id){id[ie][ih].tween.set(ib,ig)}))}ev.attr=function(d3,ig){if(arguments.length<2){for(ig in d3){this.attr(ig,d3[ig])}return this}var id=d3=="transform"?eg:fB,ic=hn.ns.qualify(d3);function ib(){this.removeAttribute(ic)}function ii(){this.removeAttributeNS(ic.space,ic.local)}function ie(ij){return ij==null?ib:(ij+="",function(){var ik=this.getAttribute(ic),il;return ik!==ij&&(il=id(ik,ij),function(im){this.setAttribute(ic,il(im))})})}function ih(ij){return ij==null?ii:(ij+="",function(){var ik=this.getAttributeNS(ic.space,ic.local),il;return ik!==ij&&(il=id(ik,ij),function(im){this.setAttributeNS(ic.space,ic.local,il(im))})})}return hM(this,"attr."+d3,ig,ic.local?ih:ie)};ev.attrTween=function(d3,ic){var ib=hn.ns.qualify(d3);function id(ii,ig){var ih=ic.call(this,ii,ig,this.getAttribute(ib));return ih&&function(ij){this.setAttribute(ib,ih(ij))}}function ie(ii,ig){var ih=ic.call(this,ii,ig,this.getAttributeNS(ib.space,ib.local));return ih&&function(ij){this.setAttributeNS(ib.space,ib.local,ih(ij))}}return this.tween("attr."+d3,ib.local?ie:id)};ev.style=function(ic,ie,id){var ig=arguments.length;if(ig<3){if(typeof ic!=="string"){if(ig<2){ie=""}for(id in ic){this.style(id,ic[id],ie)}return this}id=""}function ib(){this.style.removeProperty(ic)}function d3(ih){return ih==null?ib:(ih+="",function(){var ii=fx(this).getComputedStyle(this,null).getPropertyValue(ic),ij;return ii!==ih&&(ij=fB(ii,ih),function(ik){this.style.setProperty(ic,ij(ik),id)})})}return hM(this,"style."+ic,ie,d3)};ev.styleTween=function(d3,ic,ib){if(arguments.length<3){ib=""}function id(ih,ie){var ig=ic.call(this,ih,ie,fx(this).getComputedStyle(this,null).getPropertyValue(d3));return ig&&function(ii){this.style.setProperty(d3,ig(ii),ib)}}return this.tween("style."+d3,id)};ev.text=function(d3){return hM(this,"text",d3,ia)};function ia(d3){if(d3==null){d3=""}return function(){this.textContent=d3}}ev.remove=function(){var d3=this.namespace;return this.each("end.transition",function(){var ib;if(this[d3].count<2&&(ib=this.parentNode)){ib.removeChild(this)}})};ev.ease=function(ib){var ic=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ic].ease}if(typeof ib!=="function"){ib=hn.ease.apply(hn,arguments)}return cI(this,function(id){id[d3][ic].ease=ib})};ev.delay=function(ib){var ic=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ic].delay}return cI(this,typeof ib==="function"?function(ig,ie,id){ig[d3][ic].delay=+ib.call(ig,ig.__data__,ie,id)}:(ib=+ib,function(id){id[d3][ic].delay=ib}))};ev.duration=function(ib){var ic=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ic].duration}return cI(this,typeof ib==="function"?function(ig,ie,id){ig[d3][ic].duration=Math.max(1,ib.call(ig,ig.__data__,ie,id))}:(ib=Math.max(1,ib),function(id){id[d3][ic].duration=ib}))};ev.each=function(ic,ie){var ih=this.id,ib=this.namespace;if(arguments.length<2){var d3=d4,ig=aq;try{aq=ih;cI(this,function(ij,ii,id){d4=ij[ib][ih];ic.call(ij,ij.__data__,ii,id)})}finally{d4=d3;aq=ig}}else{cI(this,function(id){var ii=id[ib][ih];(ii.event||(ii.event=hn.dispatch("start","end","interrupt"))).on(ic,ie)})}return this};ev.transition=function(){var im=this.id,il=++ha,ii=this.namespace,ib=[],ik,ij,id,ih;for(var ie=0,ic=this.length;ie<ic;ie++){ib.push(ik=[]);for(var ij=this[ie],ig=0,d3=ij.length;ig<d3;ig++){if(id=ij[ig]){ih=id[ii][im];fA(id,ig,ii,il,{time:ih.time,ease:ih.ease,delay:ih.delay+ih.duration,duration:ih.duration})}ik.push(id)}}return gQ(ib,ii,il)};function gy(d3){return d3==null?"__transition__":"__transition_"+d3+"__"}function fA(ig,ij,iq,ic,ik){var ir=ig[iq]||(ig[iq]={active:0,count:0}),ip=ir[ic],ie,ib,ii,ih,io;function im(id){var it=ip.delay;ib.t=it+ie;if(it<=id){return d3(id-it)}ib.c=d3}function d3(id){var it=ir.active,iv=ir[it];if(iv){iv.timer.c=null;iv.timer.t=NaN;--ir.count;delete ir[it];iv.event&&iv.event.interrupt.call(ig,ig.__data__,iv.index)}for(var iw in ir){if(+iw<ic){var iu=ir[iw];iu.timer.c=null;iu.timer.t=NaN;--ir.count;delete ir[iw]}}ib.c=il;g2(function(){if(ib.c&&il(id||1)){ib.c=null;ib.t=NaN}return 1},0,ie);ir.active=ic;ip.event&&ip.event.start.call(ig,ig.__data__,ij);io=[];ip.tween.forEach(function(ix,iy){if(iy=iy.call(ig,ig.__data__,ij)){io.push(iy)}});ih=ip.ease;ii=ip.duration}function il(id){var it=id/ii,iu=ih(it),iv=io.length;while(iv>0){io[--iv].call(ig,iu)}if(it>=1){ip.event&&ip.event.end.call(ig,ig.__data__,ij);if(--ir.count){delete ir[ic]}else{delete ig[iq]}return 1}}if(!ip){ie=ik.time;ib=g2(im,0,ie);ip=ir[ic]={tween:new aH(),time:ie,timer:ib,delay:ik.delay,duration:ik.duration,ease:ik.ease,index:ij};ik=null;++ir.count}}hn.svg.axis=function(){var ic=hn.scale.linear(),ie=hV,d3=6,ig=6,ij=3,ii=[10],id=null,ih;function ib(ik){ik.each(function(){var iI=hn.select(this);var iD=this.__chart__||ic,iC=this.__chart__=ic.copy();var iL=id==null?iC.ticks?iC.ticks.apply(iC,ii):iC.domain():id,iB=ih==null?iC.tickFormat?iC.tickFormat.apply(iC,ii):gk:ih,iF=iI.selectAll(".tick").data(iL,iC),iy=iF.enter().insert("g",".domain").attr("class","tick").style("opacity",gm),iA=hn.transition(iF.exit()).style("opacity",gm).remove(),it=hn.transition(iF.order()).style("opacity",1),il=Math.max(d3,0)+ij,im;var ix=aY(iC),iz=iI.selectAll(".domain").data([0]),iM=(iz.enter().append("path").attr("class","domain"),hn.transition(iz));iy.append("line");iy.append("text");var iq=iy.select("line"),iK=it.select("line"),iw=iF.select("text").text(iB),ir=iy.select("text"),iH=it.select("text"),iJ=ie==="top"||ie==="left"?-1:1,iG,iE,ip,io;if(ie==="bottom"||ie==="top"){im=fl,iG="x",ip="y",iE="x2",io="y2";iw.attr("dy",iJ<0?"0em":".71em").style("text-anchor","middle");iM.attr("d","M"+ix[0]+","+iJ*ig+"V0H"+ix[1]+"V"+iJ*ig)}else{im=fk,iG="y",ip="x",iE="y2",io="x2";iw.attr("dy",".32em").style("text-anchor",iJ<0?"end":"start");iM.attr("d","M"+iJ*ig+","+ix[0]+"H0V"+ix[1]+"H"+iJ*ig)}iq.attr(io,iJ*d3);ir.attr(ip,iJ*il);iK.attr(iE,0).attr(io,iJ*d3);iH.attr(iG,0).attr(ip,iJ*il);if(iC.rangeBand){var iu=iC,iv=iu.rangeBand()/2;iD=iC=function(iN){return iu(iN)+iv}}else{if(iD.rangeBand){iD=iC}else{iA.call(im,iC,iD)}}iy.call(im,iD,iC);it.call(im,iC,iC)})}ib.scale=function(ik){if(!arguments.length){return ic}ic=ik;return ib};ib.orient=function(ik){if(!arguments.length){return ie}ie=ik in e2?ik+"":hV;return ib};ib.ticks=function(){if(!arguments.length){return ii}ii=dO(arguments);return ib};ib.tickValues=function(ik){if(!arguments.length){return id}id=ik;return ib};ib.tickFormat=function(ik){if(!arguments.length){return ih}ih=ik;return ib};ib.tickSize=function(ik){var il=arguments.length;if(!il){return d3}d3=+ik;ig=+arguments[il-1];return ib};ib.innerTickSize=function(ik){if(!arguments.length){return d3}d3=+ik;return ib};ib.outerTickSize=function(ik){if(!arguments.length){return ig}ig=+ik;return ib};ib.tickPadding=function(ik){if(!arguments.length){return ij}ij=+ik;return ib};ib.tickSubdivide=function(){return arguments.length&&ib};return ib};var hV="bottom",e2={top:1,right:1,bottom:1,left:1};function fl(ic,ib,d3){ic.attr("transform",function(ie){var id=ib(ie);return"translate("+(isFinite(id)?id:d3(ie))+",0)"})}function fk(ib,ic,d3){ib.attr("transform",function(ie){var id=ic(ie);return"translate(0,"+(isFinite(id)?id:d3(ie))+")"})}hn.svg.brush=function(){var ib=hh(ij,"brushstart","brush","brushend"),im=null,ik=null,ic=[0,0],ii=[0,0],il,ie,d3=true,ih=true,io=ar[0];function ij(ir){ir.each(function(){var iy=hn.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ip).on("touchstart.brush",ip);var ix=iy.selectAll(".background").data([0]);ix.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");iy.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var iw=iy.selectAll(".resize").data(io,gk);iw.exit().remove();iw.enter().append("g").attr("class",function(iz){return"resize "+iz}).style("cursor",function(iz){return eV[iz]}).append("rect").attr("x",function(iz){return/[ew]$/.test(iz)?-3:null}).attr("y",function(iz){return/^[ns]/.test(iz)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");iw.style("display",ij.empty()?"none":null);var iv=hn.transition(iy),it=hn.transition(ix),iu;if(im){iu=aY(im);it.attr("x",iu[0]).attr("width",iu[1]-iu[0]);ig(iv)}if(ik){iu=aY(ik);it.attr("y",iu[0]).attr("height",iu[1]-iu[0]);id(iv)}iq(iv)})}ij.event=function(ir){ir.each(function(){var it=ib.of(this,arguments),iu={x:ic,y:ii,i:il,j:ie},iv=this.__chart__||iu;this.__chart__=iu;if(aq){hn.select(this).transition().each("start.brush",function(){il=iv.i;ie=iv.j;ic=iv.x;ii=iv.y;it({type:"brushstart"})}).tween("brush:brush",function(){var iw=eO(ic,iu.x),ix=eO(ii,iu.y);il=ie=null;return function(iy){ic=iu.x=iw(iy);ii=iu.y=ix(iy);it({type:"brush",mode:"resize"})}}).each("end.brush",function(){il=iu.i;ie=iu.j;it({type:"brush",mode:"resize"});it({type:"brushend"})})}else{it({type:"brushstart"});it({type:"brush",mode:"resize"});it({type:"brushend"})}})};function iq(ir){ir.selectAll(".resize").attr("transform",function(it){return"translate("+ic[+/e$/.test(it)]+","+ii[+/^s/.test(it)]+")"})}function ig(ir){ir.select(".extent").attr("x",ic[0]);ir.selectAll(".extent,.n>rect,.s>rect").attr("width",ic[1]-ic[0])}function id(ir){ir.select(".extent").attr("y",ii[0]);ir.selectAll(".extent,.e>rect,.w>rect").attr("height",ii[1]-ii[0])}function ip(){var iL=this,it=hn.select(hn.event.target),iA=ib.of(iL,arguments),iG=hn.select(iL),iI=it.datum(),iE=!/^(n|s)$/.test(iI)&&im,iC=!/^(e|w)$/.test(iI)&&ik,iD=it.classed("extent"),iv=bK(iL),iJ,iK=hn.mouse(iL),iu;var iy=hn.select(fx(iL)).on("keydown.brush",iB).on("keyup.brush",ix);if(hn.event.changedTouches){iy.on("touchmove.brush",iz).on("touchend.brush",ir)}else{iy.on("mousemove.brush",iz).on("mouseup.brush",ir)}iG.interrupt().selectAll("*").interrupt();if(iD){iK[0]=ic[0]-iK[0];iK[1]=ii[0]-iK[1]}else{if(iI){var iH=+/w$/.test(iI),iF=+/^n/.test(iI);iu=[ic[1-iH]-iK[0],ii[1-iF]-iK[1]];iK[0]=ic[iH];iK[1]=ii[iF]}else{if(hn.event.altKey){iJ=iK.slice()}}}iG.style("pointer-events","none").selectAll(".resize").style("display",null);hn.select("body").style("cursor",it.style("cursor"));iA({type:"brushstart"});iz();function iB(){if(hn.event.keyCode==32){if(!iD){iJ=null;iK[0]-=ic[1];iK[1]-=ii[1];iD=2}v()}}function ix(){if(hn.event.keyCode==32&&iD==2){iK[0]+=ic[1];iK[1]+=ii[1];iD=0;v()}}function iz(){var iM=hn.mouse(iL),iN=false;if(iu){iM[0]+=iu[0];iM[1]+=iu[1]}if(!iD){if(hn.event.altKey){if(!iJ){iJ=[(ic[0]+ic[1])/2,(ii[0]+ii[1])/2]}iK[0]=ic[+(iM[0]<iJ[0])];iK[1]=ii[+(iM[1]<iJ[1])]}else{iJ=null}}if(iE&&iw(iM,im,0)){ig(iG);iN=true}if(iC&&iw(iM,ik,1)){id(iG);iN=true}if(iN){iq(iG);iA({type:"brush",mode:iD?"move":"resize"})}}function iw(iU,iO,iQ){var iR=aY(iO),iN=iR[0],iM=iR[1],iS=iK[iQ],iV=iQ?ii:ic,iW=iV[1]-iV[0],iP,iT;if(iD){iN-=iS;iM-=iW+iS}iP=(iQ?ih:d3)?Math.max(iN,Math.min(iM,iU[iQ])):iU[iQ];if(iD){iT=(iP+=iS)+iW}else{if(iJ){iS=Math.max(iN,Math.min(iM,2*iJ[iQ]-iP))}if(iS<iP){iT=iP;iP=iS}else{iT=iS}}if(iV[0]!=iP||iV[1]!=iT){if(iQ){ie=null}else{il=null}iV[0]=iP;iV[1]=iT;return true}}function ir(){iz();iG.style("pointer-events","all").selectAll(".resize").style("display",ij.empty()?"none":null);hn.select("body").style("cursor",null);iy.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);iv();iA({type:"brushend"})}}ij.x=function(ir){if(!arguments.length){return im}im=ir;io=ar[!im<<1|!ik];return ij};ij.y=function(ir){if(!arguments.length){return ik}ik=ir;io=ar[!im<<1|!ik];return ij};ij.clamp=function(ir){if(!arguments.length){return im&&ik?[d3,ih]:im?d3:ik?ih:null}if(im&&ik){d3=!!ir[0],ih=!!ir[1]}else{if(im){d3=!!ir}else{if(ik){ih=!!ir}}}return ij};ij.extent=function(ix){var iu,ir,iw,iv,it;if(!arguments.length){if(im){if(il){iu=il[0],ir=il[1]}else{iu=ic[0],ir=ic[1];if(im.invert){iu=im.invert(iu),ir=im.invert(ir)}if(ir<iu){it=iu,iu=ir,ir=it}}}if(ik){if(ie){iw=ie[0],iv=ie[1]}else{iw=ii[0],iv=ii[1];if(ik.invert){iw=ik.invert(iw),iv=ik.invert(iv)}if(iv<iw){it=iw,iw=iv,iv=it}}}return im&&ik?[[iu,iw],[ir,iv]]:im?[iu,ir]:ik&&[iw,iv]}if(im){iu=ix[0],ir=ix[1];if(ik){iu=iu[0],ir=ir[0]}il=[iu,ir];if(im.invert){iu=im(iu),ir=im(ir)}if(ir<iu){it=iu,iu=ir,ir=it}if(iu!=ic[0]||ir!=ic[1]){ic=[iu,ir]}}if(ik){iw=ix[0],iv=ix[1];if(im){iw=iw[1],iv=iv[1]}ie=[iw,iv];if(ik.invert){iw=ik(iw),iv=ik(iv)}if(iv<iw){it=iw,iw=iv,iv=it}if(iw!=ii[0]||iv!=ii[1]){ii=[iw,iv]}}return ij};ij.clear=function(){if(!ij.empty()){ic=[0,0],ii=[0,0];il=ie=null}return ij};ij.empty=function(){return !!im&&ic[0]==ic[1]||!!ik&&ii[0]==ii[1]};return hn.rebind(ij,ib,"on")};var eV={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var ar=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var h9=fF.format=dh.timeFormat;var df=h9.utc;var dP=df("%Y-%m-%dT%H:%M:%S.%LZ");h9.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dx:dP;function dx(d3){return d3.toISOString()}dx.parse=function(ib){var d3=new Date(ib);return isNaN(d3)?null:d3};dx.toString=dP.toString;fF.second=c0(function(d3){return new hr(Math.floor(d3/1000)*1000)},function(d3,ib){d3.setTime(d3.getTime()+Math.floor(ib)*1000)},function(d3){return d3.getSeconds()});fF.seconds=fF.second.range;fF.seconds.utc=fF.second.utc.range;fF.minute=c0(function(d3){return new hr(Math.floor(d3/60000)*60000)},function(d3,ib){d3.setTime(d3.getTime()+Math.floor(ib)*60000)},function(d3){return d3.getMinutes()});fF.minutes=fF.minute.range;fF.minutes.utc=fF.minute.utc.range;fF.hour=c0(function(d3){var ib=d3.getTimezoneOffset()/60;return new hr((Math.floor(d3/3600000-ib)+ib)*3600000)},function(d3,ib){d3.setTime(d3.getTime()+Math.floor(ib)*3600000)},function(d3){return d3.getHours()});fF.hours=fF.hour.range;fF.hours.utc=fF.hour.utc.range;fF.month=c0(function(d3){d3=fF.day(d3);d3.setDate(1);return d3},function(d3,ib){d3.setMonth(d3.getMonth()+ib)},function(d3){return d3.getMonth()});fF.months=fF.month.range;fF.months.utc=fF.month.utc.range;function bq(d3,ib,ic){function id(ig){return d3(ig)}id.invert=function(ig){return fZ(d3.invert(ig))};id.domain=function(ig){if(!arguments.length){return d3.domain().map(fZ)}d3.domain(ig);return id};function ie(ii,ij){var ih=ii[1]-ii[0],ik=ih/ij,ig=hn.bisect(fa,ik);return ig==fa.length?[ib.year,p(ii.map(function(il){return il/31536000000}),ij)[2]]:!ig?[cy,p(ii,ij)[2]]:ib[ik/fa[ig-1]<fa[ig]/ik?ig-1:ig]}id.nice=function(ih,ij){var ik=id.domain(),ii=es(ik),il=ih==null?ie(ii,10):typeof ih==="number"&&ie(ii,ih);if(il){ih=il[0],ij=il[1]}function ig(im){return !isNaN(im)&&!ih.range(im,fZ(+im+1),ij).length}return id.domain(gh(ik,ij>1?{floor:function(im){while(ig(im=ih.floor(im))){im=fZ(im-1)}return im},ceil:function(im){while(ig(im=ih.ceil(im))){im=fZ(+im+1)}return im}}:ih))};id.ticks=function(ig,ii){var ih=es(id.domain()),ij=ig==null?ie(ih,10):typeof ig==="number"?ie(ih,ig):!ig.range&&[{range:ig},ii];if(ij){ig=ij[0],ii=ij[1]}return ig.range(ih[0],fZ(+ih[1]+1),ii<1?1:ii)};id.tickFormat=function(){return ic};id.copy=function(){return bq(d3.copy(),ib,ic)};return f9(id,d3)}function fZ(d3){return new Date(d3)}var fa=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cC=[[fF.second,1],[fF.second,5],[fF.second,15],[fF.second,30],[fF.minute,1],[fF.minute,5],[fF.minute,15],[fF.minute,30],[fF.hour,1],[fF.hour,3],[fF.hour,6],[fF.hour,12],[fF.day,1],[fF.day,2],[fF.week,1],[fF.month,1],[fF.month,3],[fF.year,1]];var R=h9.multi([[".%L",function(d3){return d3.getMilliseconds()}],[":%S",function(d3){return d3.getSeconds()}],["%I:%M",function(d3){return d3.getMinutes()}],["%I %p",function(d3){return d3.getHours()}],["%a %d",function(d3){return d3.getDay()&&d3.getDate()!=1}],["%b %d",function(d3){return d3.getDate()!=1}],["%B",function(d3){return d3.getMonth()}],["%Y",ag]]);var cy={range:function(ic,d3,ib){return hn.range(Math.ceil(ic/ib)*ib,+d3,ib).map(fZ)},floor:gk,ceil:gk};cC.year=fF.year;fF.scale=function(){return bq(hn.scale.linear(),cC,R)};var f2=cC.map(function(d3){return[d3[0].utc,d3[1]]});var fq=df.multi([[".%L",function(d3){return d3.getUTCMilliseconds()}],[":%S",function(d3){return d3.getUTCSeconds()}],["%I:%M",function(d3){return d3.getUTCMinutes()}],["%I %p",function(d3){return d3.getUTCHours()}],["%a %d",function(d3){return d3.getUTCDay()&&d3.getUTCDate()!=1}],["%b %d",function(d3){return d3.getUTCDate()!=1}],["%B",function(d3){return d3.getUTCMonth()}],["%Y",ag]]);f2.year=fF.year.utc;fF.scale.utc=function(){return bq(hn.scale.linear(),f2,fq)};hn.text=W(function(d3){return d3.responseText});hn.json=function(d3,ib){return hY(d3,"application/json",dL,ib)};function dL(d3){return JSON.parse(d3.responseText)}hn.html=function(d3,ib){return hY(d3,"text/html",h8,ib)};function h8(ib){var d3=bN.createRange();d3.selectNode(bN.body);return d3.createContextualFragment(ib.responseText)}hn.xml=W(function(d3){return d3.responseXML});if(typeof define==="function"&&define.amd){this.d3=hn,define(hn)}else{if(typeof c==="object"&&c.exports){c.exports=hn}else{this.d3=hn}}}()},{}]},{},[14]);